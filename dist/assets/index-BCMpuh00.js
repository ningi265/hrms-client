const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Bfc146yu.js","assets/react-vendor-Tv87fy85.js","assets/utils-vendor-DZE01CfE.js","assets/firebase-vendor-B086U2Cj.js"])))=>i.map(i=>d[i]);
import{j as e,A as t,S as r,C as n,X as s,M as a,a as i,b as o,c as l,F as c,T as d,d as u,D as m,Z as h,e as p,G as f,f as x,g,L as b,h as y,i as v,U as j,k as w,l as N,m as k,n as S,B as C,o as A,p as T,E,q as _,r as P,s as D,t as O,u as L,v as M,I,w as R,Y as z,x as F,P as B,y as q,z as U,H as W,J as V,K as H,R as G,N as K,O as Y,Q as X,V as J,W as Q,_ as Z,$ as ee,a0 as te,a1 as re,a2 as ne,a3 as se,a4 as ae,a5 as ie,a6 as oe,a7 as le,a8 as ce,a9 as de,aa as ue,ab as me,ac as he,ad as pe,ae as fe,af as xe,ag as ge,ah as be,ai as ye,aj as ve,ak as je,al as we,am as Ne,an as ke,ao as Se,ap as Ce,aq as Ae,ar as Te,as as Ee,at as _e,au as Pe,av as De,aw as Oe,ax as Le,ay as Me,az as Ie,aA as Re,aB as ze,aC as Fe,aD as Be,aE as qe,aF as $e,aG as Ue,aH as We,aI as Ve,aJ as He,aK as Ge,aL as Ke,aM as Ye,aN as Xe,aO as Je,aP as Qe,aQ as Ze,aR as et,aS as tt,aT as rt,aU as nt,aV as st,aW as at,aX as it,aY as ot,aZ as lt,a_ as ct,a$ as dt,b0 as ut,b1 as mt,b2 as ht,b3 as pt,b4 as ft,b5 as xt,b6 as gt,b7 as bt,b8 as yt,b9 as vt,ba as jt,bb as wt,bc as Nt,bd as kt,be as St,bf as Ct,bg as At,bh as Tt,bi as Et,bj as _t,bk as Pt,bl as Dt,bm as Ot,bn as Lt,bo as Mt,bp as It,bq as Rt,br as zt,bs as Ft,bt as Bt,bu as qt,bv as $t,bw as Ut,bx as Wt,by as Vt,bz as Ht,bA as Gt,bB as Kt,bC as Yt,bD as Xt,bE as Jt,bF as Qt,bG as Zt,bH as er,bI as tr,bJ as rr,bK as nr,bL as sr,bM as ar,bN as ir,bO as or,bP as lr,bQ as cr,bR as dr,bS as ur,bT as mr,bU as hr,bV as pr,bW as fr,bX as xr,bY as gr,bZ as br,b_ as yr,b$ as vr,c0 as jr,c1 as wr,c2 as Nr,c3 as kr,c4 as Sr,c5 as Cr,c6 as Ar,c7 as Tr,c8 as Er,c9 as _r,ca as Pr,cb as Dr,cc as Or,cd as Lr,ce as Mr,cf as Ir}from"./ui-vendor-C1oRDfTL.js";import{d as Rr,e as zr,p as Fr,g as Br,r as qr,u as $r,a as Ur,f as Wr,h as Vr,L as Hr,i as Gr,O as Kr,B as Yr,j as Xr,k as Jr}from"./react-vendor-Tv87fy85.js";import{i as Qr,g as Zr,G as en,s as tn,B as rn}from"./firebase-vendor-B086U2Cj.js";import{i as nn,a as sn,b as an,f as on,_ as ln,c as cn,p as dn,d as un,r as mn,e as hn}from"./utils-vendor-DZE01CfE.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var pn,fn,xn,gn,bn={exports:{}},yn={},vn={exports:{}},jn={};function wn(){return fn||(fn=1,vn.exports=(pn||(pn=1,function(e){function t(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function r(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,i=a>>>1;n<i;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>s(l,r))c<a&&0>s(d,l)?(e[n]=d,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<a&&0>s(d,r)))break e;e[n]=d,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,u=null,m=3,h=!1,p=!1,f=!1,x=!1,g="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var s=r(c);null!==s;){if(null===s.callback)n(c);else{if(!(s.startTime<=e))break;n(c),s.sortIndex=s.expirationTime,t(l,s)}s=r(c)}}function j(e){if(f=!1,v(e),!p)if(null!==r(l))p=!0,N||(N=!0,w());else{var t=r(c);null!==t&&P(j,t.startTime-e)}}var w,N=!1,k=-1,S=5,C=-1;function A(){return!(!x&&e.unstable_now()-C<S)}function T(){if(x=!1,N){var t=e.unstable_now();C=t;var s=!0;try{e:{p=!1,f&&(f=!1,b(k),k=-1),h=!0;var a=m;try{t:{for(v(t),u=r(l);null!==u&&!(u.expirationTime>t&&A());){var i=u.callback;if("function"==typeof i){u.callback=null,m=u.priorityLevel;var o=i(u.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){u.callback=o,v(t),s=!0;break t}u===r(l)&&n(l),v(t)}else n(l);u=r(l)}if(null!==u)s=!0;else{var d=r(c);null!==d&&P(j,d.startTime-t),s=!1}}break e}finally{u=null,m=a,h=!1}s=void 0}}finally{s?w():N=!1}}}if("function"==typeof y)w=function(){y(T)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,_=E.port2;E.port1.onmessage=T,w=function(){_.postMessage(null)}}else w=function(){g(T,0)};function P(t,r){k=g(function(){t(e.unstable_now())},r)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(S=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},e.unstable_requestPaint=function(){x=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},e.unstable_scheduleCallback=function(n,s,a){var i=e.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?i+a:i,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:d++,callback:s,priorityLevel:n,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(n.sortIndex=a,t(c,n),null===r(l)&&n===r(c)&&(f?(b(k),k=-1):f=!0,P(j,a-i))):(n.sortIndex=o,t(l,n),p||h||(p=!0,N||(N=!0,w()))),n},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}}(jn)),jn)),vn.exports}function Nn(){if(xn)return yn;xn=1;var e=wn(),t=Rr(),r=zr();function n(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function a(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function i(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(a(e)!==e)throw Error(n(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var d=Object.assign,u=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),g=Symbol.for("react.consumer"),b=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function A(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}var T=Symbol.for("react.client.reference");function E(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===T?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case p:return"Fragment";case x:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case j:return"SuspenseList";case k:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case h:return"Portal";case b:return e.displayName||"Context";case g:return(e._context.displayName||"Context")+".Consumer";case y:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case w:return null!==(t=e.displayName||null)?t:E(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return E(e(t))}catch(r){}}return null}var _=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},L=[],M=-1;function I(e){return{current:e}}function R(e){0>M||(e.current=L[M],L[M]=null,M--)}function z(e,t){M++,L[M]=e.current,e.current=t}var F,B,q=I(null),$=I(null),U=I(null),W=I(null);function V(e,t){switch(z(U,t),z($,e),z(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ju(t=vu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(q),z(q,e)}function H(){R(q),R($),R(U)}function G(e){null!==e.memoizedState&&z(W,e);var t=q.current,r=ju(t,e.type);t!==r&&(z($,e),z(q,r))}function K(e){$.current===e&&(R(q),R($)),W.current===e&&(R(W),hm._currentValue=O)}function Y(e){if(void 0===F)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||"",B=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+F+e+B}var X=!1;function J(e,t){if(!e||X)return"";X=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(s){var n=s}Reflect.construct(e,[],r)}else{try{r.call()}catch(q3){n=q3}e.call(r.prototype)}}else{try{throw Error()}catch(a){n=a}(r=e())&&"function"==typeof r.catch&&r.catch(function(){})}}catch(i){if(i&&n&&"string"==typeof i.stack)return[i.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),i=a[0],o=a[1];if(i&&o){var l=i.split("\n"),c=o.split("\n");for(s=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;if(n===l.length||s===c.length)for(n=l.length-1,s=c.length-1;1<=n&&0<=s&&l[n]!==c[s];)s--;for(;1<=n&&0<=s;n--,s--)if(l[n]!==c[s]){if(1!==n||1!==s)do{if(n--,0>--s||l[n]!==c[s]){var d="\n"+l[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=n&&0<=s);break}}}finally{X=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Y(r):""}function Q(e,t){switch(e.tag){case 26:case 27:case 5:return Y(e.type);case 16:return Y("Lazy");case 13:return e.child!==t&&null!==t?Y("Suspense Fallback"):Y("Suspense");case 19:return Y("SuspenseList");case 0:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 1:return J(e.type,!0);case 31:return Y("Activity");default:return""}}function Z(e){try{var t="",r=null;do{t+=Q(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ee=Object.prototype.hasOwnProperty,te=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,ne=e.unstable_shouldYield,se=e.unstable_requestPaint,ae=e.unstable_now,ie=e.unstable_getCurrentPriorityLevel,oe=e.unstable_ImmediatePriority,le=e.unstable_UserBlockingPriority,ce=e.unstable_NormalPriority,de=e.unstable_LowPriority,ue=e.unstable_IdlePriority,me=e.log,he=e.unstable_setDisableYieldValue,pe=null,fe=null;function xe(e){if("function"==typeof me&&he(e),fe&&"function"==typeof fe.setStrictMode)try{fe.setStrictMode(pe,e)}catch(t){}}var ge=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(be(e)/ye|0)|0},be=Math.log,ye=Math.LN2;var ve=256,je=262144,we=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ke(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~a)?s=Ne(n):0!==(i&=o)?s=Ne(i):r||0!==(r=o&~e)&&(s=Ne(r)):0!==(o=n&~a)?s=Ne(o):0!==i?s=Ne(i):r||0!==(r=n&~e)&&(s=Ne(r)),0===s?0:0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(r=t&-t)||32===a&&4194048&r)?t:s}function Se(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=we;return!(62914560&(we<<=1))&&(we=4194304),e}function Te(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _e(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ge(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function Pe(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ge(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}function De(e,t){var r=t&-t;return 0!==((r=42&r?1:Oe(r))&(e.suspendedLanes|t))?0:r}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Me(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:Em(e.type)}function Ie(e,t){var r=D.p;try{return D.p=e,t()}finally{D.p=r}}var Re=Math.random().toString(36).slice(2),ze="__reactFiber$"+Re,Fe="__reactProps$"+Re,Be="__reactContainer$"+Re,qe="__reactEvents$"+Re,$e="__reactListeners$"+Re,Ue="__reactHandles$"+Re,We="__reactResources$"+Re,Ve="__reactMarker$"+Re;function He(e){delete e[ze],delete e[Fe],delete e[qe],delete e[$e],delete e[Ue]}function Ge(e){var t=e[ze];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Be]||r[ze]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Fu(e);null!==e;){if(r=e[ze])return r;e=Fu(e)}return t}r=(e=r).parentNode}return null}function Ke(e){if(e=e[ze]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Ye(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(n(33))}function Xe(e){var t=e[We];return t||(t=e[We]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Je(e){e[Ve]=!0}var Qe=new Set,Ze={};function et(e,t){tt(e,t),tt(e+"Capture",t)}function tt(e,t){for(Ze[e]=t,e=0;e<t.length;e++)Qe.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nt={},st={};function at(e,t,r){if(s=t,ee.call(st,s)||!ee.call(nt,s)&&(rt.test(s)?st[s]=!0:(nt[s]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var s}function it(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ot(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){if(!e._valueTracker){var t=ct(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ut(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ct(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function pt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ft(e,t,r,n,s,a,i,o){e.name="",null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?gt(e,i,lt(t)):null!=r?gt(e,i,lt(r)):null!=n&&e.removeAttribute("value"),null==s&&null!=a&&(e.defaultChecked=!!a),null!=s&&(e.checked=s&&"function"!=typeof s&&"symbol"!=typeof s),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+lt(o):e.removeAttribute("name")}function xt(e,t,r,n,s,a,i,o){if(null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.type=a),null!=t||null!=r){if(("submit"===a||"reset"===a)&&null==t)return void dt(e);r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!=typeof(n=null!=n?n:s)&&"symbol"!=typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&"boolean"!=typeof i&&(e.name=i),dt(e)}function gt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r)return e[s].selected=!0,void(n&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function yt(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function vt(e,t,r,s){if(null==t){if(null!=s){if(null!=r)throw Error(n(92));if(_(s)){if(1<s.length)throw Error(n(93));s=s[0]}r=s}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(s=e.textContent)===r&&""!==s&&null!==s&&(e.value=s),dt(e)}function jt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var wt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"==typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!=typeof r||0===r||wt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function kt(e,t,r){if(null!=t&&"object"!=typeof t)throw Error(n(62));if(e=e.style,null!=r){for(var s in r)!r.hasOwnProperty(s)||null!=t&&t.hasOwnProperty(s)||(0===s.indexOf("--")?e.setProperty(s,""):"float"===s?e.cssFloat="":e[s]="");for(var a in t)s=t[a],t.hasOwnProperty(a)&&r[a]!==s&&Nt(e,a,s)}else for(var i in t)t.hasOwnProperty(i)&&Nt(e,i,t[i])}function St(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ct=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Et(){}var _t=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Dt=null,Ot=null;function Lt(e){var t=Ke(e);if(t&&(e=t.stateNode)){var r=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(ft(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+pt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=s[Fe]||null;if(!a)throw Error(n(90));ft(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)(s=r[t]).form===e.form&&ut(s)}break e;case"textarea":yt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Mt=!1;function It(e,t,r){if(Mt)return e(t,r);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Dt||null!==Ot)&&(rd(),Dt&&(t=Dt,e=Ot,Ot=Dt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Rt(e,t){var r=e.stateNode;if(null===r)return null;var s=r[Fe]||null;if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(n(231,t,typeof r));return r}var zt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ft=!1;if(zt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(eh){Ft=!1}var qt=null,$t=null,Ut=null;function Wt(){if(Ut)return Ut;var e,t,r=$t,n=r.length,s="value"in qt?qt.value:qt.textContent,a=s.length;for(e=0;e<n&&r[e]===s[e];e++);var i=n-e;for(t=1;t<=i&&r[n-t]===s[a-t];t++);return Ut=s.slice(e,1<t?1-t:void 0)}function Vt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Gt(){return!1}function Kt(e){function t(t,r,n,s,a){for(var i in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?Ht:Gt,this.isPropagationStopped=Gt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Yt,Xt,Jt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Qt),er=d({},Qt,{view:0,detail:0}),tr=Kt(er),rr=d({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Yt=e.screenX-Jt.screenX,Xt=e.screenY-Jt.screenY):Xt=Yt=0,Jt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Xt}}),nr=Kt(rr),sr=Kt(d({},rr,{dataTransfer:0})),ar=Kt(d({},er,{relatedTarget:0})),ir=Kt(d({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),or=Kt(d({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),lr=Kt(d({},Qt,{data:0})),cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ur={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ur[e])&&!!t[e]}function hr(){return mr}var pr=Kt(d({},er,{key:function(e){if(e.key){var t=cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Vt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Vt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Vt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),fr=Kt(d({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xr=Kt(d({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),gr=Kt(d({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),br=Kt(d({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),yr=Kt(d({},Qt,{newState:0,oldState:0})),vr=[9,13,27,32],jr=zt&&"CompositionEvent"in window,wr=null;zt&&"documentMode"in document&&(wr=document.documentMode);var Nr=zt&&"TextEvent"in window&&!wr,kr=zt&&(!jr||wr&&8<wr&&11>=wr),Sr=String.fromCharCode(32),Cr=!1;function Ar(e,t){switch(e){case"keyup":return-1!==vr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Er=!1;var _r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_r[e.type]:"textarea"===t}function Dr(e,t,r,n){Dt?Ot?Ot.push(n):Ot=[n]:Dt=n,0<(t=iu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Or=null,Lr=null;function Mr(e){Qd(e,0)}function Ir(e){if(ut(Ye(e)))return e}function Br(e,t){if("change"===e)return t}var qr=!1;if(zt){var $r;if(zt){var Ur="oninput"in document;if(!Ur){var Wr=document.createElement("div");Wr.setAttribute("oninput","return;"),Ur="function"==typeof Wr.oninput}$r=Ur}else $r=!1;qr=$r&&(!document.documentMode||9<document.documentMode)}function Vr(){Or&&(Or.detachEvent("onpropertychange",Hr),Lr=Or=null)}function Hr(e){if("value"===e.propertyName&&Ir(Lr)){var t=[];Dr(t,Lr,e,Pt(e)),It(Mr,t)}}function Gr(e,t,r){"focusin"===e?(Vr(),Lr=r,(Or=t).attachEvent("onpropertychange",Hr)):"focusout"===e&&Vr()}function Kr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ir(Lr)}function Yr(e,t){if("click"===e)return Ir(t)}function Xr(e,t){if("input"===e||"change"===e)return Ir(t)}var Jr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Qr(e,t){if(Jr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ee.call(t,s)||!Jr(e[s],t[s]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Zr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sn=zt&&"documentMode"in document&&11>=document.documentMode,an=null,on=null,ln=null,cn=!1;function dn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==an||an!==mt(n)||("selectionStart"in(n=an)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Qr(ln,n)||(ln=n,0<(n=iu(on,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=an)))}function un(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var mn={animationend:un("Animation","AnimationEnd"),animationiteration:un("Animation","AnimationIteration"),animationstart:un("Animation","AnimationStart"),transitionrun:un("Transition","TransitionRun"),transitionstart:un("Transition","TransitionStart"),transitioncancel:un("Transition","TransitionCancel"),transitionend:un("Transition","TransitionEnd")},hn={},pn={};function fn(e){if(hn[e])return hn[e];if(!mn[e])return e;var t,r=mn[e];for(t in r)if(r.hasOwnProperty(t)&&t in pn)return hn[e]=r[t];return e}zt&&(pn=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);var gn=fn("animationend"),bn=fn("animationiteration"),vn=fn("animationstart"),jn=fn("transitionrun"),Nn=fn("transitionstart"),kn=fn("transitioncancel"),Sn=fn("transitionend"),Cn=new Map,An="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tn(e,t){Cn.set(e,t),et(t,[e])}An.push("scrollEnd");var En="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof Fr&&"function"==typeof Fr.emit)return void Fr.emit("uncaughtException",e)},_n=[],Pn=0,Dn=0;function On(){for(var e=Pn,t=Dn=Pn=0;t<e;){var r=_n[t];_n[t++]=null;var n=_n[t];_n[t++]=null;var s=_n[t];_n[t++]=null;var a=_n[t];if(_n[t++]=null,null!==n&&null!==s){var i=n.pending;null===i?s.next=s:(s.next=i.next,i.next=s),n.pending=s}0!==a&&Rn(r,s,a)}}function Ln(e,t,r,n){_n[Pn++]=e,_n[Pn++]=t,_n[Pn++]=r,_n[Pn++]=n,Dn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Mn(e,t,r,n){return Ln(e,t,r,n),zn(e)}function In(e,t){return Ln(e,null,null,t),zn(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var s=!1,a=e.return;null!==a;)a.childLanes|=r,null!==(n=a.alternate)&&(n.childLanes|=r),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(s=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,s&&null!==t&&(s=31-ge(r),null===(n=(e=a.hiddenUpdates)[s])?e[s]=[t]:n.push(t),t.lane=536870912|r),a):null}function zn(e){if(50<Gc)throw Gc=0,Kc=null,Error(n(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fn={};function Bn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,r,n){return new Bn(e,t,r,n)}function $n(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Un(e,t){var r=e.alternate;return null===r?((r=qn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Wn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vn(e,t,r,s,a,i){var o=0;if(s=e,"function"==typeof e)$n(e)&&(o=1);else if("string"==typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=qn(31,r,t,a)).elementType=k,e.lanes=i,e;case p:return Hn(r.children,a,i,t);case f:o=8,a|=24;break;case x:return(e=qn(12,r,t,2|a)).elementType=x,e.lanes=i,e;case v:return(e=qn(13,r,t,a)).elementType=v,e.lanes=i,e;case j:return(e=qn(19,r,t,a)).elementType=j,e.lanes=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:o=10;break e;case g:o=9;break e;case y:o=11;break e;case w:o=14;break e;case N:o=16,s=null;break e}o=29,r=Error(n(130,null===e?"null":typeof e,"")),s=null}return(t=qn(o,r,t,a)).elementType=e,t.type=s,t.lanes=i,t}function Hn(e,t,r,n){return(e=qn(7,e,n,t)).lanes=r,e}function Gn(e,t,r){return(e=qn(6,e,null,t)).lanes=r,e}function Kn(e){var t=qn(18,null,null,0);return t.stateNode=e,t}function Yn(e,t,r){return(t=qn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Xn=new WeakMap;function Jn(e,t){if("object"==typeof e&&null!==e){var r=Xn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:Z(t)},Xn.set(e,t),t)}return{value:e,source:t,stack:Z(t)}}var Qn=[],Zn=0,es=null,ts=0,rs=[],ns=0,ss=null,as=1,is="";function os(e,t){Qn[Zn++]=ts,Qn[Zn++]=es,es=e,ts=t}function ls(e,t,r){rs[ns++]=as,rs[ns++]=is,rs[ns++]=ss,ss=e;var n=as;e=is;var s=32-ge(n)-1;n&=~(1<<s),r+=1;var a=32-ge(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,as=1<<32-ge(t)+s|r<<s|n,is=a+e}else as=1<<a|r<<s|n,is=e}function cs(e){null!==e.return&&(os(e,1),ls(e,1,0))}function ds(e){for(;e===es;)es=Qn[--Zn],Qn[Zn]=null,ts=Qn[--Zn],Qn[Zn]=null;for(;e===ss;)ss=rs[--ns],rs[ns]=null,is=rs[--ns],rs[ns]=null,as=rs[--ns],rs[ns]=null}function us(e,t){rs[ns++]=as,rs[ns++]=is,rs[ns++]=ss,as=t.id,is=t.overflow,ss=e}var ms=null,hs=null,ps=!1,fs=null,xs=!1,gs=Error(n(519));function bs(e){throw ks(Jn(Error(n(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gs}function ys(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[ze]=e,t[Fe]=n,r){case"dialog":Zd("cancel",t),Zd("close",t);break;case"iframe":case"object":case"embed":Zd("load",t);break;case"video":case"audio":for(r=0;r<Xd.length;r++)Zd(Xd[r],t);break;case"source":Zd("error",t);break;case"img":case"image":case"link":Zd("error",t),Zd("load",t);break;case"details":Zd("toggle",t);break;case"input":Zd("invalid",t),xt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":Zd("invalid",t);break;case"textarea":Zd("invalid",t),vt(t,n.value,n.defaultValue,n.children)}"string"!=typeof(r=n.children)&&"number"!=typeof r&&"bigint"!=typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||mu(t.textContent,r)?(null!=n.popover&&(Zd("beforetoggle",t),Zd("toggle",t)),null!=n.onScroll&&Zd("scroll",t),null!=n.onScrollEnd&&Zd("scrollend",t),null!=n.onClick&&(t.onclick=Et),t=!0):t=!1,t||bs(e,!0)}function vs(e){for(ms=e.return;ms;)switch(ms.tag){case 5:case 31:case 13:return void(xs=!1);case 27:case 3:return void(xs=!0);default:ms=ms.return}}function js(e){if(e!==ms)return!1;if(!ps)return vs(e),ps=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wu(e.type,e.memoizedProps)),t=!t),t&&hs&&bs(e),vs(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));hs=zu(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));hs=zu(e)}else 27===r?(r=hs,Eu(e.type)?(e=Ru,Ru=null,hs=e):hs=r):hs=ms?Iu(e.stateNode.nextSibling):null;return!0}function ws(){hs=ms=null,ps=!1}function Ns(){var e=fs;return null!==e&&(null===Oc?Oc=e:Oc.push.apply(Oc,e),fs=null),e}function ks(e){null===fs?fs=[e]:fs.push(e)}var Ss=I(null),Cs=null,As=null;function Ts(e,t,r){z(Ss,t._currentValue),t._currentValue=r}function Es(e){e._currentValue=Ss.current,R(Ss)}function _s(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ps(e,t,r,s){var a=e.child;for(null!==a&&(a.return=e);null!==a;){var i=a.dependencies;if(null!==i){var o=a.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=a;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),_s(i.return,r,e),s||(o=null);break e}i=l.next}}else if(18===a.tag){if(null===(o=a.return))throw Error(n(341));o.lanes|=r,null!==(i=o.alternate)&&(i.lanes|=r),_s(o,r,e),o=null}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===e){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}}function Ds(e,t,r,s){e=null;for(var a=t,i=!1;null!==a;){if(!i)if(524288&a.flags)i=!0;else if(262144&a.flags)break;if(10===a.tag){var o=a.alternate;if(null===o)throw Error(n(387));if(null!==(o=o.memoizedProps)){var l=a.type;Jr(a.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(a===W.current){if(null===(o=a.alternate))throw Error(n(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(null!==e?e.push(hm):e=[hm])}a=a.return}null!==e&&Ps(t,e,r,s),t.flags|=262144}function Os(e){for(e=e.firstContext;null!==e;){if(!Jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ls(e){Cs=e,As=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ms(e){return Rs(Cs,e)}function Is(e,t){return null===Cs&&Ls(e),Rs(e,t)}function Rs(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===As){if(null===e)throw Error(n(308));As=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else As=As.next=t;return r}var zs="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fs=e.unstable_scheduleCallback,Bs=e.unstable_NormalPriority,qs={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $s(){return{controller:new zs,data:new Map,refCount:0}}function Us(e){e.refCount--,0===e.refCount&&Fs(Bs,function(){e.controller.abort()})}var Ws=null,Vs=0,Hs=0,Gs=null;function Ks(){if(0===--Vs&&null!==Ws){null!==Gs&&(Gs.status="fulfilled");var e=Ws;Ws=null,Hs=0,Gs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ys=P.S;P.S=function(e,t){Ic=ae(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Ws){var r=Ws=[];Vs=0,Hs=Vd(),Gs={status:"pending",value:void 0,then:function(e){r.push(e)}}}Vs++,t.then(Ks,Ks)}(0,t),null!==Ys&&Ys(e,t)};var Xs=I(null);function Js(){var e=Xs.current;return null!==e?e:gc.pooledCache}function Qs(e,t){z(Xs,null===t?Xs.current:t.pool)}function Zs(){var e=Js();return null===e?null:{parent:qs._currentValue,pool:e}}var ea=Error(n(460)),ta=Error(n(474)),ra=Error(n(542)),na={then:function(){}};function sa(e){return"fulfilled"===(e=e.status)||"rejected"===e}function aa(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Et,Et),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ca(e=t.reason),e;default:if("string"==typeof t.status)t.then(Et,Et);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(n(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ca(e=t.reason),e}throw oa=t,ea}}function ia(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw oa=t,ea;throw t}}var oa=null;function la(){if(null===oa)throw Error(n(459));var e=oa;return oa=null,e}function ca(e){if(e===ea||e===ra)throw Error(n(483))}var da=null,ua=0;function ma(e){var t=ua;return ua+=1,null===da&&(da=[]),aa(da,e,t)}function ha(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pa(e,t){if(t.$$typeof===u)throw Error(n(525));throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function s(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function a(e,t){return(e=Un(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Gn(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===p?u(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===N&&ia(s)===t.type)?(ha(t=a(t,r.props),r),t.return=e,t):(ha(t=Vn(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function d(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Yn(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,n,s){return null===t||7!==t.tag?((t=Hn(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Gn(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return ha(r=Vn(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case h:return(t=Yn(t,e.mode,r)).return=e,t;case N:return f(e,t=ia(t),r)}if(_(t)||A(t))return(t=Hn(t,e.mode,r,null)).return=e,t;if("function"==typeof t.then)return f(e,ma(t),r);if(t.$$typeof===b)return f(e,Is(e,t),r);pa(e,t)}return null}function x(e,t,r,n){var s=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return null!==s?null:l(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===s?c(e,t,r,n):null;case h:return r.key===s?d(e,t,r,n):null;case N:return x(e,t,r=ia(r),n)}if(_(r)||A(r))return null!==s?null:u(e,t,r,n,null);if("function"==typeof r.then)return x(e,t,ma(r),n);if(r.$$typeof===b)return x(e,t,Is(e,r),n);pa(e,r)}return null}function g(e,t,r,n,s){if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return l(t,e=e.get(r)||null,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return c(t,e=e.get(null===n.key?r:n.key)||null,n,s);case h:return d(t,e=e.get(null===n.key?r:n.key)||null,n,s);case N:return g(e,t,r,n=ia(n),s)}if(_(n)||A(n))return u(t,e=e.get(r)||null,n,s,null);if("function"==typeof n.then)return g(e,t,r,ma(n),s);if(n.$$typeof===b)return g(e,t,r,Is(t,n),s);pa(t,n)}return null}function y(l,c,d,u){if("object"==typeof d&&null!==d&&d.type===p&&null===d.key&&(d=d.props.children),"object"==typeof d&&null!==d){switch(d.$$typeof){case m:e:{for(var v=d.key;null!==c;){if(c.key===v){if((v=d.type)===p){if(7===c.tag){r(l,c.sibling),(u=a(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===v||"object"==typeof v&&null!==v&&v.$$typeof===N&&ia(v)===c.type){r(l,c.sibling),ha(u=a(c,d.props),d),u.return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}d.type===p?((u=Hn(d.props.children,l.mode,u,d.key)).return=l,l=u):(ha(u=Vn(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return o(l);case h:e:{for(v=d.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){r(l,c.sibling),(u=a(c,d.children||[])).return=l,l=u;break e}r(l,c);break}t(l,c),c=c.sibling}(u=Yn(d,l.mode,u)).return=l,l=u}return o(l);case N:return y(l,c,d=ia(d),u)}if(_(d))return function(n,a,o,l){for(var c=null,d=null,u=a,m=a=0,h=null;null!==u&&m<o.length;m++){u.index>m?(h=u,u=null):h=u.sibling;var p=x(n,u,o[m],l);if(null===p){null===u&&(u=h);break}e&&u&&null===p.alternate&&t(n,u),a=i(p,a,m),null===d?c=p:d.sibling=p,d=p,u=h}if(m===o.length)return r(n,u),ps&&os(n,m),c;if(null===u){for(;m<o.length;m++)null!==(u=f(n,o[m],l))&&(a=i(u,a,m),null===d?c=u:d.sibling=u,d=u);return ps&&os(n,m),c}for(u=s(u);m<o.length;m++)null!==(h=g(u,n,m,o[m],l))&&(e&&null!==h.alternate&&u.delete(null===h.key?m:h.key),a=i(h,a,m),null===d?c=h:d.sibling=h,d=h);return e&&u.forEach(function(e){return t(n,e)}),ps&&os(n,m),c}(l,c,d,u);if(A(d)){if("function"!=typeof(v=A(d)))throw Error(n(150));return function(a,o,l,c){if(null==l)throw Error(n(151));for(var d=null,u=null,m=o,h=o=0,p=null,b=l.next();null!==m&&!b.done;h++,b=l.next()){m.index>h?(p=m,m=null):p=m.sibling;var y=x(a,m,b.value,c);if(null===y){null===m&&(m=p);break}e&&m&&null===y.alternate&&t(a,m),o=i(y,o,h),null===u?d=y:u.sibling=y,u=y,m=p}if(b.done)return r(a,m),ps&&os(a,h),d;if(null===m){for(;!b.done;h++,b=l.next())null!==(b=f(a,b.value,c))&&(o=i(b,o,h),null===u?d=b:u.sibling=b,u=b);return ps&&os(a,h),d}for(m=s(m);!b.done;h++,b=l.next())null!==(b=g(m,a,h,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?h:b.key),o=i(b,o,h),null===u?d=b:u.sibling=b,u=b);return e&&m.forEach(function(e){return t(a,e)}),ps&&os(a,h),d}(l,c,d=v.call(d),u)}if("function"==typeof d.then)return y(l,c,ma(d),u);if(d.$$typeof===b)return y(l,c,Is(l,d),u);pa(l,d)}return"string"==typeof d&&""!==d||"number"==typeof d||"bigint"==typeof d?(d=""+d,null!==c&&6===c.tag?(r(l,c.sibling),(u=a(c,d)).return=l,l=u):(r(l,c),(u=Gn(d,l.mode,u)).return=l,l=u),o(l)):r(l,c)}return function(e,t,r,n){try{ua=0;var s=y(e,t,r,n);return da=null,s}catch(i){if(i===ea||i===ra)throw i;var a=qn(29,i,null,e.mode);return a.lanes=n,a.return=e,a}}}var xa=fa(!0),ga=fa(!1),ba=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ja(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,2&xc){var s=n.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=zn(e),Rn(e,null,r),t}return Ln(e,n,t,r),zn(e)}function Na(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pe(e,r)}}function ka(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var s=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var i={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===a?s=a=i:a=a.next=i,r=r.next}while(null!==r);null===a?s=a=t:a=a.next=t}else s=a=t;return r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var Sa=!1;function Ca(){if(Sa){if(null!==Gs)throw Gs}}function Aa(e,t,r,n){Sa=!1;var s=e.updateQueue;ba=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var m=s.baseState;for(i=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(yc&h)===h:(n&h)===h){0!==h&&h===Hs&&(Sa=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var f=e,x=o;h=t;var g=r;switch(x.tag){case 1:if("function"==typeof(f=x.payload)){m=f.call(g,m,h);break e}m=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null==(h="function"==typeof(f=x.payload)?f.call(g,m,h):f))break e;m=d({},m,h);break e;case 2:ba=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=s.callbacks)?s.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=m):u=u.next=p,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(p=o).next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}null===u&&(l=m),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,null===a&&(s.shared.lanes=0),Ac|=i,e.lanes=i,e.memoizedState=m}}function Ta(e,t){if("function"!=typeof e)throw Error(n(191,e));e.call(t)}function Ea(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)Ta(r[e],t)}var _a=I(null),Pa=I(0);function Da(e,t){z(Pa,e=Sc),z(_a,t),Sc=e|t.baseLanes}function Oa(){z(Pa,Sc),z(_a,_a.current)}function La(){Sc=Pa.current,R(_a),R(Pa)}var Ma=I(null),Ia=null;function Ra(e){var t=e.alternate;z($a,1&$a.current),z(Ma,e),null===Ia&&(null===t||null!==_a.current||null!==t.memoizedState)&&(Ia=e)}function za(e){z($a,$a.current),z(Ma,e),null===Ia&&(Ia=e)}function Fa(e){22===e.tag?(z($a,$a.current),z(Ma,e),null===Ia&&(Ia=e)):Ba()}function Ba(){z($a,$a.current),z(Ma,Ma.current)}function qa(e){R(Ma),Ia===e&&(Ia=null),R($a)}var $a=I(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Lu(r)||Mu(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wa=0,Va=null,Ha=null,Ga=null,Ka=!1,Ya=!1,Xa=!1,Ja=0,Qa=0,Za=null,ei=0;function ti(){throw Error(n(321))}function ri(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function ni(e,t,r,n,s,a){return Wa=a,Va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P.H=null===e||null===e.memoizedState?yo:vo,Xa=!1,a=r(n,s),Xa=!1,Ya&&(a=ai(t,r,n,s)),si(e),a}function si(e){P.H=bo;var t=null!==Ha&&null!==Ha.next;if(Wa=0,Ga=Ha=Va=null,Ka=!1,Qa=0,Za=null,t)throw Error(n(300));null===e||Io||null!==(e=e.dependencies)&&Os(e)&&(Io=!0)}function ai(e,t,r,s){Va=e;var a=0;do{if(Ya&&(Za=null),Qa=0,Ya=!1,25<=a)throw Error(n(301));if(a+=1,Ga=Ha=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}P.H=jo,i=t(r,s)}while(Ya);return i}function ii(){var e=P.H,t=e.useState()[0];return t="function"==typeof t.then?mi(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Va.flags|=1024),t}function oi(){var e=0!==Ja;return Ja=0,e}function li(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ci(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}Wa=0,Ga=Ha=Va=null,Ya=!1,Qa=Ja=0,Za=null}function di(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ga?Va.memoizedState=Ga=e:Ga=Ga.next=e,Ga}function ui(){if(null===Ha){var e=Va.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Ga?Va.memoizedState:Ga.next;if(null!==t)Ga=t,Ha=e;else{if(null===e){if(null===Va.alternate)throw Error(n(467));throw Error(n(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Ga?Va.memoizedState=Ga=e:Ga=Ga.next=e}return Ga}function mi(e){var t=Qa;return Qa+=1,null===Za&&(Za=[]),e=aa(Za,e,t),t=Va,null===(null===Ga?t.memoizedState:Ga.next)&&(t=t.alternate,P.H=null===t||null===t.memoizedState?yo:vo),e}function hi(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return mi(e);if(e.$$typeof===b)return Ms(e)}throw Error(n(438,String(e)))}function pi(e){var t=null,r=Va.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Va.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=S;return t.index++,r}function fi(e,t){return"function"==typeof t?t(e):t}function xi(e){return gi(ui(),Ha,e)}function gi(e,t,r){var s=e.queue;if(null===s)throw Error(n(311));s.lastRenderedReducer=r;var a=e.baseQueue,i=s.pending;if(null!==i){if(null!==a){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,s.pending=null}if(i=e.baseState,null===a)e.memoizedState=i;else{var l=o=null,c=null,d=t=a.next,u=!1;do{var m=-536870913&d.lane;if(m!==d.lane?(yc&m)===m:(Wa&m)===m){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===Hs&&(u=!0);else{if((Wa&h)===h){d=d.next,h===Hs&&(u=!0);continue}m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=m,o=i):c=c.next=m,Va.lanes|=h,Ac|=h}m=d.action,Xa&&r(i,m),i=d.hasEagerState?d.eagerState:r(i,m)}else h={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,o=i):c=c.next=h,Va.lanes|=m,Ac|=m;d=d.next}while(null!==d&&d!==t);if(null===c?o=i:c.next=l,!Jr(i,e.memoizedState)&&(Io=!0,u&&null!==(r=Gs)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,s.lastRenderedState=i}return null===a&&(s.lanes=0),[e.memoizedState,s.dispatch]}function bi(e){var t=ui(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var o=a=a.next;do{i=e(i,o.action),o=o.next}while(o!==a);Jr(i,t.memoizedState)||(Io=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function yi(e,t,r){var s=Va,a=ui(),i=ps;if(i){if(void 0===r)throw Error(n(407));r=r()}else r=t();var o=!Jr((Ha||a).memoizedState,r);if(o&&(a.memoizedState=r,Io=!0),a=a.queue,Wi(wi.bind(null,s,a,e),[e]),a.getSnapshot!==t||o||null!==Ga&&1&Ga.memoizedState.tag){if(s.flags|=2048,Fi(9,{destroy:void 0},ji.bind(null,s,a,r,t),null),null===gc)throw Error(n(349));i||127&Wa||vi(s,t,r)}return r}function vi(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Va.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ji(e,t,r,n){t.value=r,t.getSnapshot=n,Ni(t)&&ki(e)}function wi(e,t,r){return r(function(){Ni(t)&&ki(e)})}function Ni(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch(n){return!0}}function ki(e){var t=In(e,2);null!==t&&Jc(t,e,2)}function Si(e){var t=di();if("function"==typeof e){var r=e;if(e=r(),Xa){xe(!0);try{r()}finally{xe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:e},t}function Ci(e,t,r,n){return e.baseState=r,gi(e,Ha,"function"==typeof n?n:fi)}function Ai(e,t,r,s,a){if(fo(e))throw Error(n(485));if(null!==(e=t.action)){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==P.T?r(!0):i.isTransition=!1,s(i),null===(r=t.pending)?(i.next=t.pending=i,Ti(t,i)):(i.next=r.next,t.pending=r.next=i)}}function Ti(e,t){var r=t.action,n=t.payload,s=e.state;if(t.isTransition){var a=P.T,i={};P.T=i;try{var o=r(s,n),l=P.S;null!==l&&l(i,o),Ei(e,t,o)}catch(c){Pi(e,t,c)}finally{null!==a&&null!==i.types&&(a.types=i.types),P.T=a}}else try{Ei(e,t,a=r(s,n))}catch(d){Pi(e,t,d)}}function Ei(e,t,r){null!==r&&"object"==typeof r&&"function"==typeof r.then?r.then(function(r){_i(e,t,r)},function(r){return Pi(e,t,r)}):_i(e,t,r)}function _i(e,t,r){t.status="fulfilled",t.value=r,Di(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,Ti(e,r)))}function Pi(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Di(t),t=t.next}while(t!==n)}e.action=null}function Di(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Oi(e,t){return t}function Li(e,t){if(ps){var r=gc.formState;if(null!==r){e:{var n=Va;if(ps){if(hs){t:{for(var s=hs,a=xs;8!==s.nodeType;){if(!a){s=null;break t}if(null===(s=Iu(s.nextSibling))){s=null;break t}}s="F!"===(a=s.data)||"F"===a?s:null}if(s){hs=Iu(s.nextSibling),n="F!"===s.data;break e}}bs(n)}n=!1}n&&(t=r[0])}}return(r=di()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oi,lastRenderedState:t},r.queue=n,r=mo.bind(null,Va,n),n.dispatch=r,n=Si(!1),a=po.bind(null,Va,!1,n.queue),s={state:t,dispatch:null,action:e,pending:null},(n=di()).queue=s,r=Ai.bind(null,Va,s,a,r),s.dispatch=r,n.memoizedState=e,[t,r,!1]}function Mi(e){return Ii(ui(),Ha,e)}function Ii(e,t,r){if(t=gi(e,t,Oi)[0],e=xi(fi)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var n=mi(t)}catch(i){if(i===ea)throw ra;throw i}else n=t;var s=(t=ui()).queue,a=s.dispatch;return r!==t.memoizedState&&(Va.flags|=2048,Fi(9,{destroy:void 0},Ri.bind(null,s,r),null)),[n,a,e]}function Ri(e,t){e.action=t}function zi(e){var t=ui(),r=Ha;if(null!==r)return Ii(t,r,e);ui(),t=t.memoizedState;var n=(r=ui()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Fi(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=Va.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Bi(){return ui().memoizedState}function qi(e,t,r,n){var s=di();Va.flags|=e,s.memoizedState=Fi(1|t,{destroy:void 0},r,void 0===n?null:n)}function $i(e,t,r,n){var s=ui();n=void 0===n?null:n;var a=s.memoizedState.inst;null!==Ha&&null!==n&&ri(n,Ha.memoizedState.deps)?s.memoizedState=Fi(t,a,r,n):(Va.flags|=e,s.memoizedState=Fi(1|t,a,r,n))}function Ui(e,t){qi(8390656,8,e,t)}function Wi(e,t){$i(2048,8,e,t)}function Vi(e){var t=ui().memoizedState;return function(e){Va.flags|=4;var t=Va.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Va.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(2&xc)throw Error(n(440));return t.impl.apply(void 0,arguments)}}function Hi(e,t){return $i(4,2,e,t)}function Gi(e,t){return $i(4,4,e,t)}function Ki(e,t){if("function"==typeof t){e=e();var r=t(e);return function(){"function"==typeof r?r():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Yi(e,t,r){r=null!=r?r.concat([e]):null,$i(4,4,Ki.bind(null,t,e),r)}function Xi(){}function Ji(e,t){var r=ui();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&ri(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Qi(e,t){var r=ui();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&ri(t,n[1]))return n[0];if(n=e(),Xa){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[n,t],n}function Zi(e,t,r){return void 0===r||1073741824&Wa&&!(261930&yc)?e.memoizedState=t:(e.memoizedState=r,e=Xc(),Va.lanes|=e,Ac|=e,r)}function eo(e,t,r,n){return Jr(r,t)?r:null!==_a.current?(e=Zi(e,r,n),Jr(e,t)||(Io=!0),e):42&Wa&&(!(1073741824&Wa)||261930&yc)?(e=Xc(),Va.lanes|=e,Ac|=e,t):(Io=!0,e.memoizedState=r)}function to(e,t,r,n,s){var a=D.p;D.p=0!==a&&8>a?a:8;var i,o,l,c=P.T,d={};P.T=d,po(e,!1,t,r);try{var u=s(),m=P.S;if(null!==m&&m(d,u),null!==u&&"object"==typeof u&&"function"==typeof u.then)ho(e,t,(i=n,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},u.then(function(){l.status="fulfilled",l.value=i;for(var e=0;e<o.length;e++)(0,o[e])(i)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Yc());else ho(e,t,n,Yc())}catch(h){ho(e,t,{then:function(){},status:"rejected",reason:h},Yc())}finally{D.p=a,null!==c&&null!==d.types&&(c.types=d.types),P.T=c}}function ro(){}function no(e,t,r,s){if(5!==e.tag)throw Error(n(476));var a=so(e).queue;to(e,a,t,O,null===r?ro:function(){return ao(e),r(s)})}function so(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:O},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ao(e){var t=so(e);null===t.next&&(t=e.alternate.memoizedState),ho(e,t.next.queue,{},Yc())}function io(){return Ms(hm)}function oo(){return ui().memoizedState}function lo(){return ui().memoizedState}function co(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Yc(),n=wa(t,e=ja(r),r);return null!==n&&(Jc(n,t,r),Na(n,t,r)),t={cache:$s()},void(e.payload=t)}t=t.return}}function uo(e,t,r){var n=Yc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)?xo(t,r):null!==(r=Mn(e,t,r,n))&&(Jc(r,e,n),go(r,t,n))}function mo(e,t,r){ho(e,t,r,Yc())}function ho(e,t,r,n){var s={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(fo(e))xo(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,r);if(s.hasEagerState=!0,s.eagerState=o,Jr(o,i))return Ln(e,t,s,0),null===gc&&On(),!1}catch(l){}if(null!==(r=Mn(e,t,s,n)))return Jc(r,e,n),go(r,t,n),!0}return!1}function po(e,t,r,s){if(s={lane:2,revertLane:Vd(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(n(479))}else null!==(t=Mn(e,r,s,2))&&Jc(t,e,2)}function fo(e){var t=e.alternate;return e===Va||null!==t&&t===Va}function xo(e,t){Ya=Ka=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function go(e,t,r){if(4194048&r){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Pe(e,r)}}var bo={readContext:Ms,use:hi,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useLayoutEffect:ti,useInsertionEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useSyncExternalStore:ti,useId:ti,useHostTransitionStatus:ti,useFormState:ti,useActionState:ti,useOptimistic:ti,useMemoCache:ti,useCacheRefresh:ti};bo.useEffectEvent=ti;var yo={readContext:Ms,use:hi,useCallback:function(e,t){return di().memoizedState=[e,void 0===t?null:t],e},useContext:Ms,useEffect:Ui,useImperativeHandle:function(e,t,r){r=null!=r?r.concat([e]):null,qi(4194308,4,Ki.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qi(4194308,4,e,t)},useInsertionEffect:function(e,t){qi(4,2,e,t)},useMemo:function(e,t){var r=di();t=void 0===t?null:t;var n=e();if(Xa){xe(!0);try{e()}finally{xe(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=di();if(void 0!==r){var s=r(t);if(Xa){xe(!0);try{r(t)}finally{xe(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=uo.bind(null,Va,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},di().memoizedState=e},useState:function(e){var t=(e=Si(e)).queue,r=mo.bind(null,Va,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Xi,useDeferredValue:function(e,t){return Zi(di(),e,t)},useTransition:function(){var e=Si(!1);return e=to.bind(null,Va,e.queue,!0,!1),di().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var s=Va,a=di();if(ps){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===gc)throw Error(n(349));127&yc||vi(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ui(wi.bind(null,s,i,e),[e]),s.flags|=2048,Fi(9,{destroy:void 0},ji.bind(null,s,i,r,t),null),r},useId:function(){var e=di(),t=gc.identifierPrefix;if(ps){var r=is;t="_"+t+"R_"+(r=(as&~(1<<32-ge(as)-1)).toString(32)+r),0<(r=Ja++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=ei++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Li,useActionState:Li,useOptimistic:function(e){var t=di();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=po.bind(null,Va,!0,r),r.dispatch=t,[e,t]},useMemoCache:pi,useCacheRefresh:function(){return di().memoizedState=co.bind(null,Va)},useEffectEvent:function(e){var t=di(),r={impl:e};return t.memoizedState=r,function(){if(2&xc)throw Error(n(440));return r.impl.apply(void 0,arguments)}}},vo={readContext:Ms,use:hi,useCallback:Ji,useContext:Ms,useEffect:Wi,useImperativeHandle:Yi,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Qi,useReducer:xi,useRef:Bi,useState:function(){return xi(fi)},useDebugValue:Xi,useDeferredValue:function(e,t){return eo(ui(),Ha.memoizedState,e,t)},useTransition:function(){var e=xi(fi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:mi(e),t]},useSyncExternalStore:yi,useId:oo,useHostTransitionStatus:io,useFormState:Mi,useActionState:Mi,useOptimistic:function(e,t){return Ci(ui(),0,e,t)},useMemoCache:pi,useCacheRefresh:lo};vo.useEffectEvent=Vi;var jo={readContext:Ms,use:hi,useCallback:Ji,useContext:Ms,useEffect:Wi,useImperativeHandle:Yi,useInsertionEffect:Hi,useLayoutEffect:Gi,useMemo:Qi,useReducer:bi,useRef:Bi,useState:function(){return bi(fi)},useDebugValue:Xi,useDeferredValue:function(e,t){var r=ui();return null===Ha?Zi(r,e,t):eo(r,Ha.memoizedState,e,t)},useTransition:function(){var e=bi(fi)[0],t=ui().memoizedState;return["boolean"==typeof e?e:mi(e),t]},useSyncExternalStore:yi,useId:oo,useHostTransitionStatus:io,useFormState:zi,useActionState:zi,useOptimistic:function(e,t){var r=ui();return null!==Ha?Ci(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pi,useCacheRefresh:lo};function wo(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:d({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}jo.useEffectEvent=Vi;var No={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yc(),s=ja(n);s.payload=t,null!=r&&(s.callback=r),null!==(t=wa(e,s,n))&&(Jc(t,e,n),Na(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yc(),s=ja(n);s.tag=1,s.payload=t,null!=r&&(s.callback=r),null!==(t=wa(e,s,n))&&(Jc(t,e,n),Na(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yc(),n=ja(r);n.tag=2,null!=t&&(n.callback=t),null!==(t=wa(e,n,r))&&(Jc(t,e,r),Na(t,e,r))}};function ko(e,t,r,n,s,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(r,n)||!Qr(s,a))}function So(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&No.enqueueReplaceState(t,t.state,null)}function Co(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var s in r===t&&(r=d({},r)),e)void 0===r[s]&&(r[s]=e[s]);return r}function Ao(e){En(e)}function To(e){}function Eo(e){En(e)}function _o(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Do(e,t,r){return(r=ja(r)).tag=3,r.payload={element:null},r.callback=function(){_o(e,t)},r}function Oo(e){return(e=ja(e)).tag=3,e}function Lo(e,t,r,n){var s=r.type.getDerivedStateFromError;if("function"==typeof s){var a=n.value;e.payload=function(){return s(a)},e.callback=function(){Po(t,r,n)}}var i=r.stateNode;null!==i&&"function"==typeof i.componentDidCatch&&(e.callback=function(){Po(t,r,n),"function"!=typeof s&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Mo=Error(n(461)),Io=!1;function Ro(e,t,r,n){t.child=null===e?ga(t,null,r,n):xa(t,e.child,r,n)}function zo(e,t,r,n,s){r=r.render;var a=t.ref;if("ref"in n){var i={};for(var o in n)"ref"!==o&&(i[o]=n[o])}else i=n;return Ls(t),n=ni(e,t,r,i,a,s),o=oi(),null===e||Io?(ps&&o&&cs(t),t.flags|=1,Ro(e,t,n,s),t.child):(li(e,t,s),ol(e,t,s))}function Fo(e,t,r,n,s){if(null===e){var a=r.type;return"function"!=typeof a||$n(a)||void 0!==a.defaultProps||null!==r.compare?((e=Vn(r.type,null,n,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Bo(e,t,a,n,s))}if(a=e.child,!ll(e,s)){var i=a.memoizedProps;if((r=null!==(r=r.compare)?r:Qr)(i,n)&&e.ref===t.ref)return ol(e,t,s)}return t.flags|=1,(e=Un(a,n)).ref=t.ref,e.return=t,t.child=e}function Bo(e,t,r,n,s){if(null!==e){var a=e.memoizedProps;if(Qr(a,n)&&e.ref===t.ref){if(Io=!1,t.pendingProps=n=a,!ll(e,s))return t.lanes=e.lanes,ol(e,t,s);131072&e.flags&&(Io=!0)}}return Go(e,t,r,n,s)}function qo(e,t,r,n){var s=n.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(128&t.flags){if(a=null!==a?a.baseLanes|r:r,null!==e){for(n=t.child=e.child,s=0;null!==n;)s=s|n.lanes|n.childLanes,n=n.sibling;n=s&~a}else n=0,t.child=null;return Uo(e,t,a,r,n)}if(!(536870912&r))return n=t.lanes=536870912,Uo(e,t,null!==a?a.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Qs(0,null!==a?a.cachePool:null),null!==a?Da(t,a):Oa(),Fa(t)}else null!==a?(Qs(0,a.cachePool),Da(t,a),Ba(),t.memoizedState=null):(null!==e&&Qs(0,null),Oa(),Ba());return Ro(e,t,s,r),t.child}function $o(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uo(e,t,r,n,s){var a=Js();return a=null===a?null:{parent:qs._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Qs(0,null),Oa(),Fa(t),null!==e&&Ds(e,t,n,!0),t.childLanes=s,null}function Wo(e,t){return(t=rl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Vo(e,t,r){return xa(t,e.child,null,r),(e=Wo(t,t.pendingProps)).flags|=2,qa(t),t.memoizedState=null,e}function Ho(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof r&&"object"!=typeof r)throw Error(n(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Go(e,t,r,n,s){return Ls(t),r=ni(e,t,r,n,void 0,s),n=oi(),null===e||Io?(ps&&n&&cs(t),t.flags|=1,Ro(e,t,r,s),t.child):(li(e,t,s),ol(e,t,s))}function Ko(e,t,r,n,s,a){return Ls(t),t.updateQueue=null,r=ai(t,n,r,s),si(e),n=oi(),null===e||Io?(ps&&n&&cs(t),t.flags|=1,Ro(e,t,r,a),t.child):(li(e,t,a),ol(e,t,a))}function Yo(e,t,r,n,s){if(Ls(t),null===t.stateNode){var a=Fn,i=r.contextType;"object"==typeof i&&null!==i&&(a=Ms(i)),a=new r(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=No,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},ya(t),i=r.contextType,a.context="object"==typeof i&&null!==i?Ms(i):Fn,a.state=t.memoizedState,"function"==typeof(i=r.getDerivedStateFromProps)&&(wo(t,r,i,n),a.state=t.memoizedState),"function"==typeof r.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(i=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&No.enqueueReplaceState(a,a.state,null),Aa(t,n,a,s),Ca(),a.state=t.memoizedState),"function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Co(r,o);a.props=l;var c=a.context,d=r.contextType;i=Fn,"object"==typeof d&&null!==d&&(i=Ms(d));var u=r.getDerivedStateFromProps;d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o||c!==i)&&So(t,a,n,i),ba=!1;var m=t.memoizedState;a.state=m,Aa(t,n,a,s),Ca(),c=t.memoizedState,o||m!==c||ba?("function"==typeof u&&(wo(t,r,u,n),c=t.memoizedState),(l=ba||ko(t,r,l,n,m,c,i))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=i,n=l):("function"==typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,va(e,t),d=Co(r,i=t.memoizedProps),a.props=d,u=t.pendingProps,m=a.context,c=r.contextType,l=Fn,"object"==typeof c&&null!==c&&(l=Ms(c)),(c="function"==typeof(o=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(i!==u||m!==l)&&So(t,a,n,l),ba=!1,m=t.memoizedState,a.state=m,Aa(t,n,a,s),Ca();var h=t.memoizedState;i!==u||m!==h||ba||null!==e&&null!==e.dependencies&&Os(e.dependencies)?("function"==typeof o&&(wo(t,r,o,n),h=t.memoizedState),(d=ba||ko(t,r,d,n,m,h,l)||null!==e&&null!==e.dependencies&&Os(e.dependencies))?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=h),a.props=n,a.state=h,a.context=l,n=d):("function"!=typeof a.componentDidUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Ho(e,t),n=!!(128&t.flags),a||n?(a=t.stateNode,r=n&&"function"!=typeof r.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=xa(t,e.child,null,s),t.child=xa(t,null,r,s)):Ro(e,t,r,s),t.memoizedState=a.state,e=t.child):e=ol(e,t,s),e}function Xo(e,t,r,n){return ws(),t.flags|=256,Ro(e,t,r,n),t.child}var Jo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qo(e){return{baseLanes:e,cachePool:Zs()}}function Zo(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=_c),e}function el(e,t,r){var s,a=t.pendingProps,i=!1,o=!!(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&!!(2&$a.current)),s&&(i=!0,t.flags&=-129),s=!!(32&t.flags),t.flags&=-33,null===e){if(ps){if(i?Ra(t):Ba(),(e=hs)?null!==(e=null!==(e=Ou(e,xs))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ss?{id:as,overflow:is}:null,retryLane:536870912,hydrationErrors:null},(r=Kn(e)).return=t,t.child=r,ms=t,hs=null):e=null,null===e)throw bs(t);return Mu(e)?t.lanes=32:t.lanes=536870912,null}var l=a.children;return a=a.fallback,i?(Ba(),l=rl({mode:"hidden",children:l},i=t.mode),a=Hn(a,i,r,null),l.return=t,a.return=t,l.sibling=a,t.child=l,(a=t.child).memoizedState=Qo(r),a.childLanes=Zo(e,s,r),t.memoizedState=Jo,$o(null,a)):(Ra(t),tl(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ra(t),t.flags&=-257,t=nl(e,t,r)):null!==t.memoizedState?(Ba(),t.child=e.child,t.flags|=128,t=null):(Ba(),l=a.fallback,i=t.mode,a=rl({mode:"visible",children:a.children},i),(l=Hn(l,i,r,null)).flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,xa(t,e.child,null,r),(a=t.child).memoizedState=Qo(r),a.childLanes=Zo(e,s,r),t.memoizedState=Jo,t=$o(null,a));else if(Ra(t),Mu(l)){if(s=l.nextSibling&&l.nextSibling.dataset)var d=s.dgst;s=d,(a=Error(n(419))).stack="",a.digest=s,ks({value:a,source:null,stack:null}),t=nl(e,t,r)}else if(Io||Ds(e,t,r,!1),s=0!==(r&e.childLanes),Io||s){if(null!==(s=gc)&&(0!==(a=De(s,r))&&a!==c.retryLane))throw c.retryLane=a,In(e,a),Jc(s,e,a),Mo;Lu(l)||cd(),t=nl(e,t,r)}else Lu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,hs=Iu(l.nextSibling),ms=t,ps=!0,fs=null,xs=!1,null!==e&&us(t,e),(t=tl(t,a.children)).flags|=4096);return t}return i?(Ba(),l=a.fallback,i=t.mode,d=(c=e.child).sibling,(a=Un(c,{mode:"hidden",children:a.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Un(d,l):(l=Hn(l,i,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,$o(null,a),a=t.child,null===(l=e.child.memoizedState)?l=Qo(r):(null!==(i=l.cachePool)?(c=qs._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Zs(),l={baseLanes:l.baseLanes|r,cachePool:i}),a.memoizedState=l,a.childLanes=Zo(e,s,r),t.memoizedState=Jo,$o(e.child,a)):(Ra(t),e=(r=e.child).sibling,(r=Un(r,{mode:"visible",children:a.children})).return=t,r.sibling=null,null!==e&&(null===(s=t.deletions)?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=r,t.memoizedState=null,r)}function tl(e,t){return(t=rl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function rl(e,t){return(e=qn(22,e,null,t)).lanes=0,e}function nl(e,t,r){return xa(t,e.child,null,r),(e=tl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function sl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_s(e.return,t,r)}function al(e,t,r,n,s,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s,i.treeForkCount=a)}function il(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;n=n.children;var i=$a.current,o=!!(2&i);if(o?(i=1&i|2,t.flags|=128):i&=1,z($a,i),Ro(e,t,n,r),n=ps?ts:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&sl(e,r,t);else if(19===e.tag)sl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(r=t.child,s=null;null!==r;)null!==(e=r.alternate)&&null===Ua(e)&&(s=r),r=r.sibling;null===(r=s)?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),al(t,!1,s,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===Ua(e)){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}al(t,!0,r,null,a,n);break;case"together":al(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ol(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Ac|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Ds(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Un(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Un(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function ll(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Os(e))}function cl(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Io=!0;else{if(!(ll(e,r)||128&t.flags))return Io=!1,function(e,t,r){switch(t.tag){case 3:V(t,t.stateNode.containerInfo),Ts(0,qs,e.memoizedState.cache),ws();break;case 27:case 5:G(t);break;case 4:V(t,t.stateNode.containerInfo);break;case 10:Ts(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,za(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Ra(t),t.flags|=128,null):0!==(r&t.child.childLanes)?el(e,t,r):(Ra(t),null!==(e=ol(e,t,r))?e.sibling:null);Ra(t);break;case 19:var s=!!(128&e.flags);if((n=0!==(r&t.childLanes))||(Ds(e,t,r,!1),n=0!==(r&t.childLanes)),s){if(n)return il(e,t,r);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),z($a,$a.current),n)break;return null;case 22:return t.lanes=0,qo(e,t,r,t.pendingProps);case 24:Ts(0,qs,e.memoizedState.cache)}return ol(e,t,r)}(e,t,r);Io=!!(131072&e.flags)}else Io=!1,ps&&1048576&t.flags&&ls(t,ts,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var a=e.$$typeof;if(a===y){t.tag=11,t=zo(null,t,e,s,r);break e}if(a===w){t.tag=14,t=Fo(null,t,e,s,r);break e}}throw t=E(e)||e,Error(n(306,t,""))}$n(e)?(s=Co(e,s),t.tag=1,t=Yo(null,t,e,s,r)):(t.tag=0,t=Go(null,t,e,s,r))}return t;case 0:return Go(e,t,t.type,t.pendingProps,r);case 1:return Yo(e,t,s=t.type,a=Co(s,t.pendingProps),r);case 3:e:{if(V(t,t.stateNode.containerInfo),null===e)throw Error(n(387));s=t.pendingProps;var i=t.memoizedState;a=i.element,va(e,t),Aa(t,s,null,r);var o=t.memoizedState;if(s=o.cache,Ts(0,qs,s),s!==i.cache&&Ps(t,[qs],r,!0),Ca(),s=o.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Xo(e,t,s,r);break e}if(s!==a){ks(a=Jn(Error(n(424)),t)),t=Xo(e,t,s,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hs=Iu(e.firstChild),ms=t,ps=!0,fs=null,xs=!0,r=ga(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(ws(),s===a){t=ol(e,t,r);break e}Ro(e,t,s,r)}t=t.child}return t;case 26:return Ho(e,t),null===e?(r=Ku(t.type,null,t.pendingProps,null))?t.memoizedState=r:ps||(r=t.type,e=t.pendingProps,(s=yu(U.current).createElement(r))[ze]=t,s[Fe]=e,fu(s,r,e),Je(s),t.stateNode=s):t.memoizedState=Ku(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&ps&&(s=t.stateNode=Bu(t.type,t.pendingProps,U.current),ms=t,xs=!0,a=hs,Eu(t.type)?(Ru=a,hs=Iu(s.firstChild)):hs=a),Ro(e,t,t.pendingProps.children,r),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ps&&((a=s=hs)&&(null!==(s=function(e,t,r,n){for(;1===e.nodeType;){var s=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ve])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==s.rel||e.getAttribute("href")!==(null==s.href||""===s.href?null:s.href)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin)||e.getAttribute("title")!==(null==s.title?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==s.src?null:s.src)||e.getAttribute("type")!==(null==s.type?null:s.type)||e.getAttribute("crossorigin")!==(null==s.crossOrigin?null:s.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==s.name?null:""+s.name;if("hidden"===s.type&&e.getAttribute("name")===a)return e}if(null===(e=Iu(e.nextSibling)))break}return null}(s,t.type,t.pendingProps,xs))?(t.stateNode=s,ms=t,hs=Iu(s.firstChild),xs=!1,a=!0):a=!1),a||bs(t)),G(t),a=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,wu(a,i)?s=null:null!==o&&wu(a,o)&&(t.flags|=32),null!==t.memoizedState&&(a=ni(e,t,ii,null,null,r),hm._currentValue=a),Ho(e,t),Ro(e,t,s,r),t.child;case 6:return null===e&&ps&&((e=r=hs)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Iu(e.nextSibling)))return null}return e}(r,t.pendingProps,xs))?(t.stateNode=r,ms=t,hs=null,e=!0):e=!1),e||bs(t)),null;case 13:return el(e,t,r);case 4:return V(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=xa(t,null,s,r):Ro(e,t,s,r),t.child;case 11:return zo(e,t,t.type,t.pendingProps,r);case 7:return Ro(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ro(e,t,t.pendingProps.children,r),t.child;case 10:return s=t.pendingProps,Ts(0,t.type,s.value),Ro(e,t,s.children,r),t.child;case 9:return a=t.type._context,s=t.pendingProps.children,Ls(t),s=s(a=Ms(a)),t.flags|=1,Ro(e,t,s,r),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,r);case 15:return Bo(e,t,t.type,t.pendingProps,r);case 19:return il(e,t,r);case 31:return function(e,t,r){var s=t.pendingProps,a=!!(128&t.flags);if(t.flags&=-129,null===e){if(ps){if("hidden"===s.mode)return e=Wo(t,s),t.lanes=536870912,$o(null,e);if(za(t),(e=hs)?null!==(e=null!==(e=Ou(e,xs))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ss?{id:as,overflow:is}:null,retryLane:536870912,hydrationErrors:null},(r=Kn(e)).return=t,t.child=r,ms=t,hs=null):e=null,null===e)throw bs(t);return t.lanes=536870912,null}return Wo(t,s)}var i=e.memoizedState;if(null!==i){var o=i.dehydrated;if(za(t),a)if(256&t.flags)t.flags&=-257,t=Vo(e,t,r);else{if(null===t.memoizedState)throw Error(n(558));t.child=e.child,t.flags|=128,t=null}else if(Io||Ds(e,t,r,!1),a=0!==(r&e.childLanes),Io||a){if(null!==(s=gc)&&0!==(o=De(s,r))&&o!==i.retryLane)throw i.retryLane=o,In(e,o),Jc(s,e,o),Mo;cd(),t=Vo(e,t,r)}else e=i.treeContext,hs=Iu(o.nextSibling),ms=t,ps=!0,fs=null,xs=!1,null!==e&&us(t,e),(t=Wo(t,s)).flags|=4096;return t}return(e=Un(e.child,{mode:s.mode,children:s.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return qo(e,t,r,t.pendingProps);case 24:return Ls(t),s=Ms(qs),null===e?(null===(a=Js())&&(a=gc,i=$s(),a.pooledCache=i,i.refCount++,null!==i&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:s,cache:a},ya(t),Ts(0,qs,a)):(0!==(e.lanes&r)&&(va(e,t),Aa(t,null,null,r),Ca()),a=e.memoizedState,i=t.memoizedState,a.parent!==s?(a={parent:s,cache:s},t.memoizedState=a,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=a),Ts(0,qs,s)):(s=i.cache,Ts(0,qs,s),s!==a.cache&&Ps(t,[qs],r,!0))),Ro(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(n(156,t.tag))}function dl(e){e.flags|=4}function ul(e,t,r,n,s){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&s)===s)if(e.stateNode.complete)e.flags|=8192;else{if(!id())throw oa=na,ta;e.flags|=8192}}else e.flags&=-16777217}function ml(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!om(t)){if(!id())throw oa=na,ta;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Pc|=t)}function pl(e,t){if(!ps)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=65011712&s.subtreeFlags,n|=65011712&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function xl(e,t,r){var s=t.pendingProps;switch(ds(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return r=t.stateNode,s=null,null!==e&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Es(qs),H(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(js(t)?dl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Ns())),fl(t),null;case 26:var a=t.type,i=t.memoizedState;return null===e?(dl(t),null!==i?(fl(t),ml(t,i)):(fl(t),ul(t,a,0,0,r))):i?i!==e.memoizedState?(dl(t),fl(t),ml(t,i)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==s&&dl(t),fl(t),ul(t,a,0,0,r)),null;case 27:if(K(t),r=U.current,a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&dl(t);else{if(!s){if(null===t.stateNode)throw Error(n(166));return fl(t),null}e=q.current,js(t)?ys(t):(e=Bu(a,s,r),t.stateNode=e,dl(t))}return fl(t),null;case 5:if(K(t),a=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==s&&dl(t);else{if(!s){if(null===t.stateNode)throw Error(n(166));return fl(t),null}if(i=q.current,js(t))ys(t);else{var o=yu(U.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":(i=o.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"==typeof s.is?o.createElement("select",{is:s.is}):o.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i="string"==typeof s.is?o.createElement(a,{is:s.is}):o.createElement(a)}}i[ze]=t,i[Fe]=s;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)i.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(fu(i,a,s),a){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&dl(t)}}return fl(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==s&&dl(t);else{if("string"!=typeof s&&null===t.stateNode)throw Error(n(166));if(e=U.current,js(t)){if(e=t.stateNode,r=t.memoizedProps,s=null,null!==(a=ms))switch(a.tag){case 27:case 5:s=a.memoizedProps}e[ze]=t,(e=!!(e.nodeValue===r||null!==s&&!0===s.suppressHydrationWarning||mu(e.nodeValue,r)))||bs(t,!0)}else(e=yu(e).createTextNode(s))[ze]=t,t.stateNode=e}return fl(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(s=js(t),null!==r){if(null===e){if(!s)throw Error(n(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(n(557));e[ze]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else r=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(qa(t),t):(qa(t),null);if(128&t.flags)throw Error(n(558))}return fl(t),null;case 13:if(s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(a=js(t),null!==s&&null!==s.dehydrated){if(null===e){if(!a)throw Error(n(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(n(317));a[ze]=t}else ws(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),a=!1}else a=Ns(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return 256&t.flags?(qa(t),t):(qa(t),null)}return qa(t),128&t.flags?(t.lanes=r,t):(r=null!==s,e=null!==e&&null!==e.memoizedState,r&&(a=null,null!==(s=t.child).alternate&&null!==s.alternate.memoizedState&&null!==s.alternate.memoizedState.cachePool&&(a=s.alternate.memoizedState.cachePool.pool),i=null,null!==s.memoizedState&&null!==s.memoizedState.cachePool&&(i=s.memoizedState.cachePool.pool),i!==a&&(s.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),hl(t,t.updateQueue),fl(t),null);case 4:return H(),null===e&&ru(t.stateNode.containerInfo),fl(t),null;case 10:return Es(t.type),fl(t),null;case 19:if(R($a),null===(s=t.memoizedState))return fl(t),null;if(a=!!(128&t.flags),null===(i=s.rendering))if(a)pl(s,!1);else{if(0!==Cc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(i=Ua(e))){for(t.flags|=128,pl(s,!1),e=i.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Wn(r,e),r=r.sibling;return z($a,1&$a.current|2),ps&&os(t,s.treeForkCount),t.child}e=e.sibling}null!==s.tail&&ae()>Rc&&(t.flags|=128,a=!0,pl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=Ua(i))){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),pl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!i.alternate&&!ps)return fl(t),null}else 2*ae()-s.renderingStartTime>Rc&&536870912!==r&&(t.flags|=128,a=!0,pl(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=s.last)?e.sibling=i:t.child=i,s.last=i)}return null!==s.tail?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ae(),e.sibling=null,r=$a.current,z($a,a?1&r|2:1&r),ps&&os(t,s.treeForkCount),e):(fl(t),null);case 22:case 23:return qa(t),La(),s=null!==t.memoizedState,null!==e?null!==e.memoizedState!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?!!(536870912&r)&&!(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(r=t.updateQueue)&&hl(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),s=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(s=t.memoizedState.cachePool.pool),s!==r&&(t.flags|=2048),null!==e&&R(Xs),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Es(qs),fl(t),null;case 25:case 30:return null}throw Error(n(156,t.tag))}function gl(e,t){switch(ds(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Es(qs),H(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 31:if(null!==t.memoizedState){if(qa(t),null===t.alternate)throw Error(n(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(qa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));ws()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return R($a),null;case 4:return H(),null;case 10:return Es(t.type),null;case 22:case 23:return qa(t),La(),null!==e&&R(Xs),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Es(qs),null;default:return null}}function bl(e,t){switch(ds(t),t.tag){case 3:Es(qs),H();break;case 26:case 27:case 5:K(t);break;case 4:H();break;case 31:null!==t.memoizedState&&qa(t);break;case 13:qa(t);break;case 19:R($a);break;case 10:Es(t.type);break;case 22:case 23:qa(t),La(),null!==e&&R(Xs);break;case 24:Es(qs)}}function yl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var s=n.next;r=s;do{if((r.tag&e)===e){n=void 0;var a=r.create,i=r.inst;n=a(),i.destroy=n}r=r.next}while(r!==s)}}catch(o){Cd(t,t.return,o)}}function vl(e,t,r){try{var n=t.updateQueue,s=null!==n?n.lastEffect:null;if(null!==s){var a=s.next;n=a;do{if((n.tag&e)===e){var i=n.inst,o=i.destroy;if(void 0!==o){i.destroy=void 0,s=t;var l=r,c=o;try{c()}catch(d){Cd(s,l,d)}}}n=n.next}while(n!==a)}}catch(d){Cd(t,t.return,d)}}function jl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Ea(t,r)}catch(n){Cd(e,e.return,n)}}}function wl(e,t,r){r.props=Co(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Cd(e,t,n)}}function Nl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"==typeof r?e.refCleanup=r(n):r.current=n}}catch(s){Cd(e,t,s)}}function kl(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"==typeof n)try{n()}catch(s){Cd(e,t,s)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof r)try{r(null)}catch(a){Cd(e,t,a)}else r.current=null}function Sl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(s){Cd(e,e.return,s)}}function Cl(e,t,r){try{var s=e.stateNode;!function(e,t,r,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,c=null,d=null,u=null;for(p in r){var m=r[p];if(r.hasOwnProperty(p)&&null!=m)switch(p){case"checked":case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(p)||hu(e,t,p,null,s,m)}}for(var h in s){var p=s[h];if(m=r[h],s.hasOwnProperty(h)&&(null!=p||null!=m))switch(h){case"type":i=p;break;case"name":a=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(n(137,t));break;default:p!==m&&hu(e,t,h,p,s,m)}}return void ft(e,o,l,c,d,u,i,a);case"select":for(i in p=o=l=h=null,r)if(c=r[i],r.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(i)||hu(e,t,i,null,s,c)}for(a in s)if(i=s[a],c=r[a],s.hasOwnProperty(a)&&(null!=i||null!=c))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==c&&hu(e,t,a,i,s,c)}return t=l,r=o,s=p,void(null!=h?bt(e,!!r,h,!1):!!s!=!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=h=null,r)if(a=r[l],r.hasOwnProperty(l)&&null!=a&&!s.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hu(e,t,l,null,s,a)}for(o in s)if(a=s[o],i=r[o],s.hasOwnProperty(o)&&(null!=a||null!=i))switch(o){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(n(91));break;default:a!==i&&hu(e,t,o,a,s,i)}return void yt(e,h,p);case"option":for(var f in r)if(h=r[f],r.hasOwnProperty(f)&&null!=h&&!s.hasOwnProperty(f))if("selected"===f)e.selected=!1;else hu(e,t,f,null,s,h);for(c in s)if(h=s[c],p=r[c],s.hasOwnProperty(c)&&h!==p&&(null!=h||null!=p))if("selected"===c)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else hu(e,t,c,h,s,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&null!=h&&!s.hasOwnProperty(x)&&hu(e,t,x,null,s,h);for(d in s)if(h=s[d],p=r[d],s.hasOwnProperty(d)&&h!==p&&(null!=h||null!=p))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(n(137,t));break;default:hu(e,t,d,h,s,p)}return;default:if(St(t)){for(var g in r)h=r[g],r.hasOwnProperty(g)&&void 0!==h&&!s.hasOwnProperty(g)&&pu(e,t,g,void 0,s,h);for(u in s)h=s[u],p=r[u],!s.hasOwnProperty(u)||h===p||void 0===h&&void 0===p||pu(e,t,u,h,s,p);return}}for(var b in r)h=r[b],r.hasOwnProperty(b)&&null!=h&&!s.hasOwnProperty(b)&&hu(e,t,b,null,s,h);for(m in s)h=s[m],p=r[m],!s.hasOwnProperty(m)||h===p||null==h&&null==p||hu(e,t,m,h,s,p)}(s,e.type,r,t),s[Fe]=t}catch(a){Cd(e,e.return,a)}}function Al(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Eu(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Eu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function El(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Et));else if(4!==n&&(27===n&&Eu(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(El(e,t,r),e=e.sibling;null!==e;)El(e,t,r),e=e.sibling}function _l(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&Eu(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(_l(e,t,r),e=e.sibling;null!==e;)_l(e,t,r),e=e.sibling}function Pl(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);fu(t,n,r),t[ze]=e,t[Fe]=r}catch(a){Cd(e,e.return,a)}}var Dl=!1,Ol=!1,Ll=!1,Ml="function"==typeof WeakSet?WeakSet:Set,Il=null;function Rl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Jl(e,r),4&n&&yl(5,r);break;case 1:if(Jl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(i){Cd(r,r.return,i)}else{var s=Co(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Cd(r,r.return,o)}}64&n&&jl(r),512&n&&Nl(r,r.return);break;case 3:if(Jl(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Ea(e,t)}catch(i){Cd(r,r.return,i)}}break;case 27:null===t&&4&n&&Pl(r);case 26:case 5:Jl(e,r),null===t&&4&n&&Sl(r),512&n&&Nl(r,r.return);break;case 12:Jl(e,r);break;case 31:Jl(e,r),4&n&&Ul(e,r);break;case 13:Jl(e,r),4&n&&Wl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=_d.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Dl)){t=null!==t&&null!==t.memoizedState||Ol,s=Dl;var a=Ol;Dl=n,(Ol=t)&&!a?Zl(e,r,!!(8772&r.subtreeFlags)):Jl(e,r),Dl=s,Ol=a}break;case 30:break;default:Jl(e,r)}}function zl(e){var t=e.alternate;null!==t&&(e.alternate=null,zl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&He(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,Bl=!1;function ql(e,t,r){for(r=r.child;null!==r;)$l(e,t,r),r=r.sibling}function $l(e,t,r){if(fe&&"function"==typeof fe.onCommitFiberUnmount)try{fe.onCommitFiberUnmount(pe,r)}catch(a){}switch(r.tag){case 26:Ol||kl(r,t),ql(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Ol||kl(r,t);var n=Fl,s=Bl;Eu(r.type)&&(Fl=r.stateNode,Bl=!1),ql(e,t,r),qu(r.stateNode),Fl=n,Bl=s;break;case 5:Ol||kl(r,t);case 6:if(n=Fl,s=Bl,Fl=null,ql(e,t,r),Bl=s,null!==(Fl=n))if(Bl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(r.stateNode)}catch(i){Cd(r,t,i)}else try{Fl.removeChild(r.stateNode)}catch(i){Cd(r,t,i)}break;case 18:null!==Fl&&(Bl?(_u(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Gm(e)):_u(Fl,r.stateNode));break;case 4:n=Fl,s=Bl,Fl=r.stateNode.containerInfo,Bl=!0,ql(e,t,r),Fl=n,Bl=s;break;case 0:case 11:case 14:case 15:vl(2,r,t),Ol||vl(4,r,t),ql(e,t,r);break;case 1:Ol||(kl(r,t),"function"==typeof(n=r.stateNode).componentWillUnmount&&wl(r,t,n)),ql(e,t,r);break;case 21:ql(e,t,r);break;case 22:Ol=(n=Ol)||null!==r.memoizedState,ql(e,t,r),Ol=n;break;default:ql(e,t,r)}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gm(e)}catch(r){Cd(t,t.return,r)}}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gm(e)}catch(r){Cd(t,t.return,r)}}function Vl(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Ml),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Ml),t;default:throw Error(n(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Pd.bind(null,e,t);t.then(n,n)}})}function Hl(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var a=r[s],i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Eu(l.type)){Fl=l.stateNode,Bl=!1;break e}break;case 5:Fl=l.stateNode,Bl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,Bl=!0;break e}l=l.return}if(null===Fl)throw Error(n(160));$l(i,o,a),Fl=null,Bl=!1,null!==(i=a.alternate)&&(i.return=null),a.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Gl=null;function Kl(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Yl(e),4&s&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Yl(e),512&s&&(Ol||null===r||kl(r,r.return)),64&s&&Dl&&(null!==(e=e.updateQueue)&&(null!==(s=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?s:r.concat(s))));break;case 26:var a=Gl;if(Hl(t,e),Yl(e),512&s&&(Ol||null===r||kl(r,r.return)),4&s){var i=null!==r?r.memoizedState:null;if(s=e.memoizedState,null===r)if(null===s)if(null===e.stateNode){e:{s=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":(!(i=a.getElementsByTagName("title")[0])||i[Ve]||i[ze]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=a.createElement(s),a.head.insertBefore(i,a.querySelector("head > title"))),fu(i,s,r),i[ze]=e,Je(i),s=i;break e;case"link":var o=am("link","href",a).get(s+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((i=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&i.getAttribute("rel")===(null==r.rel?null:r.rel)&&i.getAttribute("title")===(null==r.title?null:r.title)&&i.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}fu(i=a.createElement(s),s,r),a.head.appendChild(i);break;case"meta":if(o=am("meta","content",a).get(s+(r.content||"")))for(l=0;l<o.length;l++)if((i=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&i.getAttribute("name")===(null==r.name?null:r.name)&&i.getAttribute("property")===(null==r.property?null:r.property)&&i.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&i.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}fu(i=a.createElement(s),s,r),a.head.appendChild(i);break;default:throw Error(n(468,s))}i[ze]=e,Je(i),s=i}e.stateNode=s}else im(a,e.type,e.stateNode);else e.stateNode=em(a,s,e.memoizedProps);else i!==s?(null===i?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):i.count--,null===s?im(a,e.type,e.stateNode):em(a,s,e.memoizedProps)):null===s&&null!==e.stateNode&&Cl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Hl(t,e),Yl(e),512&s&&(Ol||null===r||kl(r,r.return)),null!==r&&4&s&&Cl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Hl(t,e),Yl(e),512&s&&(Ol||null===r||kl(r,r.return)),32&e.flags){a=e.stateNode;try{jt(a,"")}catch(f){Cd(e,e.return,f)}}4&s&&null!=e.stateNode&&Cl(e,a=e.memoizedProps,null!==r?r.memoizedProps:a),1024&s&&(Ll=!0);break;case 6:if(Hl(t,e),Yl(e),4&s){if(null===e.stateNode)throw Error(n(162));s=e.memoizedProps,r=e.stateNode;try{r.nodeValue=s}catch(f){Cd(e,e.return,f)}}break;case 3:if(sm=null,a=Gl,Gl=Wu(t.containerInfo),Hl(t,e),Gl=a,Yl(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{Gm(t.containerInfo)}catch(f){Cd(e,e.return,f)}Ll&&(Ll=!1,Xl(e));break;case 4:s=Gl,Gl=Wu(e.stateNode.containerInfo),Hl(t,e),Yl(e),Gl=s;break;case 12:default:Hl(t,e),Yl(e);break;case 31:case 19:Hl(t,e),Yl(e),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Vl(e,s)));break;case 13:Hl(t,e),Yl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==r&&null!==r.memoizedState)&&(Mc=ae()),4&s&&(null!==(s=e.updateQueue)&&(e.updateQueue=null,Vl(e,s)));break;case 22:a=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,d=Dl,u=Ol;if(Dl=d||a,Ol=u||c,Hl(t,e),Ol=u,Dl=d,Yl(e),8192&s)e:for(t=e.stateNode,t._visibility=a?-2&t._visibility:1|t._visibility,a&&(null===r||c||Dl||Ol||Ql(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(i=c.stateNode,a)"function"==typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,h=null!=m&&m.hasOwnProperty("display")?m.display:null;l.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(f){Cd(c,c.return,f)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(f){Cd(c,c.return,f)}}}else if(18===t.tag){if(null===r){c=t;try{var p=c.stateNode;a?Pu(p,!0):Pu(c.stateNode,!1)}catch(f){Cd(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&s&&(null!==(s=e.updateQueue)&&(null!==(r=s.retryQueue)&&(s.retryQueue=null,Vl(e,r))));case 30:case 21:}}function Yl(e){var t=e.flags;if(2&t){try{for(var r,s=e.return;null!==s;){if(Al(s)){r=s;break}s=s.return}if(null==r)throw Error(n(160));switch(r.tag){case 27:var a=r.stateNode;_l(e,Tl(e),a);break;case 5:var i=r.stateNode;32&r.flags&&(jt(i,""),r.flags&=-33),_l(e,Tl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;El(e,Tl(e),o);break;default:throw Error(n(161))}}catch(l){Cd(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Xl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Xl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Jl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Rl(e,t.alternate,t),t=t.sibling}function Ql(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Ql(t);break;case 1:kl(t,t.return);var r=t.stateNode;"function"==typeof r.componentWillUnmount&&wl(t,t.return,r),Ql(t);break;case 27:qu(t.stateNode);case 26:case 5:kl(t,t.return),Ql(t);break;case 22:null===t.memoizedState&&Ql(t);break;default:Ql(t)}e=e.sibling}}function Zl(e,t,r){for(r=r&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,s=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Zl(s,a,r),yl(4,a);break;case 1:if(Zl(s,a,r),"function"==typeof(s=(n=a).stateNode).componentDidMount)try{s.componentDidMount()}catch(c){Cd(n,n.return,c)}if(null!==(s=(n=a).updateQueue)){var o=n.stateNode;try{var l=s.shared.hiddenCallbacks;if(null!==l)for(s.shared.hiddenCallbacks=null,s=0;s<l.length;s++)Ta(l[s],o)}catch(c){Cd(n,n.return,c)}}r&&64&i&&jl(a),Nl(a,a.return);break;case 27:Pl(a);case 26:case 5:Zl(s,a,r),r&&null===n&&4&i&&Sl(a),Nl(a,a.return);break;case 12:Zl(s,a,r);break;case 31:Zl(s,a,r),r&&4&i&&Ul(s,a);break;case 13:Zl(s,a,r),r&&4&i&&Wl(s,a);break;case 22:null===a.memoizedState&&Zl(s,a,r),Nl(a,a.return);break;case 30:break;default:Zl(s,a,r)}t=t.sibling}}function ec(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Us(r))}function tc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Us(e))}function rc(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,r,n),t=t.sibling}function nc(e,t,r,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:rc(e,t,r,n),2048&s&&yl(9,t);break;case 1:case 31:case 13:default:rc(e,t,r,n);break;case 3:rc(e,t,r,n),2048&s&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Us(e)));break;case 12:if(2048&s){rc(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,o=a.onPostCommit;"function"==typeof o&&o(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Cd(t,t.return,l)}}else rc(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?rc(e,t,r,n):ac(e,t):2&a._visibility?rc(e,t,r,n):(a._visibility|=2,sc(e,t,r,n,!!(10256&t.subtreeFlags)||!1)),2048&s&&ec(i,t);break;case 24:rc(e,t,r,n),2048&s&&tc(t.alternate,t)}}function sc(e,t,r,n,s){for(s=s&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,o=r,l=n,c=i.flags;switch(i.tag){case 0:case 11:case 15:sc(a,i,o,l,s),yl(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?sc(a,i,o,l,s):ac(a,i):(d._visibility|=2,sc(a,i,o,l,s)),s&&2048&c&&ec(i.alternate,i);break;case 24:sc(a,i,o,l,s),s&&2048&c&&tc(i.alternate,i);break;default:sc(a,i,o,l,s)}t=t.sibling}}function ac(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,s=n.flags;switch(n.tag){case 22:ac(r,n),2048&s&&ec(n.alternate,n);break;case 24:ac(r,n),2048&s&&tc(n.alternate,n);break;default:ac(r,n)}t=t.sibling}}var ic=8192;function oc(e,t,r){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)lc(e,t,r),e=e.sibling}function lc(e,t,r){switch(e.tag){case 26:oc(e,t,r),e.flags&ic&&null!==e.memoizedState&&function(e,t,r,n){if(!("stylesheet"!==r.type||"string"==typeof n.media&&!1===matchMedia(n.media).matches||4&r.state.loading)){if(null===r.instance){var s=Yu(n.href),a=t.querySelector(Xu(s));if(a)return null!==(t=a._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=cm.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=a,void Je(a);a=t.ownerDocument||t,n=Ju(n),(s=$u.get(s))&&rm(n,s),Je(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),fu(a,"link",n),r.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(3&r.state.loading)&&(e.count++,r=cm.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:oc(e,t,r);break;case 3:case 4:var n=Gl;Gl=Wu(e.stateNode.containerInfo),oc(e,t,r),Gl=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=ic,ic=16777216,oc(e,t,r),ic=n):oc(e,t,r))}}function cc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Il=n,hc(n,e)}cc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:dc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:dc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,mc(e)):dc(e)}}function mc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Il=n,hc(n,e)}cc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),mc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,mc(t));break;default:mc(t)}e=e.sibling}}function hc(e,t){for(;null!==Il;){var r=Il;switch(r.tag){case 0:case 11:case 15:vl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Us(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Il=n;else e:for(r=e;null!==Il;){var s=(n=Il).sibling,a=n.return;if(zl(n),n===r){Il=null;break e}if(null!==s){s.return=a,Il=s;break e}Il=a}}}var pc={getCacheForType:function(e){var t=Ms(qs),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ms(qs).controller.signal}},fc="function"==typeof WeakMap?WeakMap:Map,xc=0,gc=null,bc=null,yc=0,vc=0,jc=null,wc=!1,Nc=!1,kc=!1,Sc=0,Cc=0,Ac=0,Tc=0,Ec=0,_c=0,Pc=0,Dc=null,Oc=null,Lc=!1,Mc=0,Ic=0,Rc=1/0,zc=null,Fc=null,Bc=0,qc=null,$c=null,Uc=0,Wc=0,Vc=null,Hc=null,Gc=0,Kc=null;function Yc(){return 2&xc&&0!==yc?yc&-yc:null!==P.T?Vd():Me()}function Xc(){if(0===_c)if(536870912&yc&&!ps)_c=536870912;else{var e=je;!(3932160&(je<<=1))&&(je=262144),_c=e}return null!==(e=Ma.current)&&(e.flags|=32),_c}function Jc(e,t,r){(e!==gc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(sd(e,0),td(e,yc,_c,!1)),Ee(e,r),2&xc&&e===gc||(e===gc&&(!(2&xc)&&(Tc|=r),4===Cc&&td(e,yc,_c,!1)),zd(e))}function Qc(e,t,r){if(6&xc)throw Error(n(327));for(var s=!r&&!(127&t)&&0===(t&e.expiredLanes)||Se(e,t),a=s?function(e,t){var r=xc;xc|=2;var s=od(),a=ld();gc!==e||yc!==t?(zc=null,Rc=ae()+500,sd(e,t)):Nc=Se(e,t);e:for(;;)try{if(0!==vc&&null!==bc){t=bc;var i=jc;t:switch(vc){case 1:vc=0,jc=null,fd(e,t,i,1);break;case 2:case 9:if(sa(i)){vc=0,jc=null,pd(t);break}t=function(){2!==vc&&9!==vc||gc!==e||(vc=7),zd(e)},i.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:sa(i)?(vc=0,jc=null,pd(t)):(vc=0,jc=null,fd(e,t,i,7));break;case 5:var o=null;switch(bc.tag){case 26:o=bc.memoizedState;case 5:case 27:var l=bc;if(o?om(o):l.stateNode.complete){vc=0,jc=null;var c=l.sibling;if(null!==c)bc=c;else{var d=l.return;null!==d?(bc=d,xd(d)):bc=null}break t}}vc=0,jc=null,fd(e,t,i,5);break;case 6:vc=0,jc=null,fd(e,t,i,6);break;case 8:nd(),Cc=6;break e;default:throw Error(n(462))}}md();break}catch(u){ad(e,u)}return As=Cs=null,P.H=s,P.A=a,xc=r,null!==bc?0:(gc=null,yc=0,On(),Cc)}(e,t):dd(e,t,!0),i=s;;){if(0===a){Nc&&!s&&td(e,t,0,!1);break}if(r=e.current.alternate,!i||ed(r)){if(2===a){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;a=Dc;var c=l.current.memoizedState.isDehydrated;if(c&&(sd(l,o).flags|=256),2!==(o=dd(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=i,Tc|=i,a=4;break e}i=Oc,Oc=a,null!==i&&(null===Oc?Oc=i:Oc.push.apply(Oc,i))}a=o}if(i=!1,2!==a)continue}}if(1===a){sd(e,0),td(e,t,0,!0);break}e:{switch(s=e,i=a){case 0:case 1:throw Error(n(345));case 4:if((4194048&t)!==t)break;case 6:td(s,t,_c,!wc);break e;case 2:Oc=null;break;case 3:case 5:break;default:throw Error(n(329))}if((62914560&t)===t&&10<(a=Mc+300-ae())){if(td(s,t,_c,!wc),0!==ke(s,0,!0))break e;Uc=t,s.timeoutHandle=ku(Zc.bind(null,s,r,Oc,zc,Lc,t,_c,Tc,Pc,wc,i,"Throttled",-0,0),a)}else Zc(s,r,Oc,zc,Lc,t,_c,Tc,Pc,wc,i,null,-0,0)}break}a=dd(e,t,!1),i=!1}zd(e)}function Zc(e,t,r,n,s,a,i,o,l,c,d,u,m,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||!(16785408&~u)){lc(t,a,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Et});var p=(62914560&a)===a?Mc-ae():(4194048&a)===a?Ic-ae():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&um(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&um(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lm&&(lm=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var s=r[n],a=s.transferSize,i=s.initiatorType,o=s.duration;if(a&&o&&xu(i)){for(i=0,o=s.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>o)break;var d=l.transferSize,u=l.initiatorType;d&&xu(u)&&(i+=d*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--n,t+=8*(a+i)/(s.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var s=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&um(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(s)}}:null}(u,p)))return Uc=a,e.cancelPendingCommit=p(bd.bind(null,e,t,a,r,n,s,i,o,l,d,u,null,m,h)),void td(e,a,i,!c)}bd(e,t,a,r,n,s,i,o,l)}function ed(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Jr(a(),s))return!1}catch(i){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function td(e,t,r,n){t&=~Ec,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var a=31-ge(s),i=1<<a;n[a]=-1,s&=~i}0!==r&&_e(e,r,t)}function rd(){return!!(6&xc)||(Fd(0),!1)}function nd(){if(null!==bc){if(0===vc)var e=bc.return;else As=Cs=null,ci(e=bc),da=null,ua=0,e=bc;for(;null!==e;)bl(e.alternate,e),e=e.return;bc=null}}function sd(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,Su(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Uc=0,nd(),gc=e,bc=r=Un(e.current,null),yc=t,vc=0,jc=null,wc=!1,Nc=Se(e,t),kc=!1,Pc=_c=Ec=Tc=Ac=Cc=0,Oc=Dc=null,Lc=!1,8&t&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var s=31-ge(n),a=1<<s;t|=e[s],n&=~a}return Sc=t,On(),r}function ad(e,t){Va=null,P.H=bo,t===ea||t===ra?(t=la(),vc=3):t===ta?(t=la(),vc=4):vc=t===Mo?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,jc=t,null===bc&&(Cc=1,_o(e,Jn(t,e.current)))}function id(){var e=Ma.current;return null===e||((4194048&yc)===yc?null===Ia:!!((62914560&yc)===yc||536870912&yc)&&e===Ia)}function od(){var e=P.H;return P.H=bo,null===e?bo:e}function ld(){var e=P.A;return P.A=pc,e}function cd(){Cc=4,wc||(4194048&yc)!==yc&&null!==Ma.current||(Nc=!0),!(134217727&Ac)&&!(134217727&Tc)||null===gc||td(gc,yc,_c,!1)}function dd(e,t,r){var n=xc;xc|=2;var s=od(),a=ld();gc===e&&yc===t||(zc=null,sd(e,t)),t=!1;var i=Cc;e:for(;;)try{if(0!==vc&&null!==bc){var o=bc,l=jc;switch(vc){case 8:nd(),i=6;break e;case 3:case 2:case 9:case 6:null===Ma.current&&(t=!0);var c=vc;if(vc=0,jc=null,fd(e,o,l,c),r&&Nc){i=0;break e}break;default:c=vc,vc=0,jc=null,fd(e,o,l,c)}}ud(),i=Cc;break}catch(d){ad(e,d)}return t&&e.shellSuspendCounter++,As=Cs=null,xc=n,P.H=s,P.A=a,null===bc&&(gc=null,yc=0,On()),i}function ud(){for(;null!==bc;)hd(bc)}function md(){for(;null!==bc&&!ne();)hd(bc)}function hd(e){var t=cl(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?xd(e):bc=t}function pd(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ko(r,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Ko(r,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:ci(t);default:bl(r,t),t=cl(r,t=bc=Wn(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?xd(e):bc=t}function fd(e,t,r,s){As=Cs=null,ci(t),da=null,ua=0;var a=t.return;try{if(function(e,t,r,s,a){if(r.flags|=32768,null!==s&&"object"==typeof s&&"function"==typeof s.then){if(null!==(t=r.alternate)&&Ds(t,r,a,!0),null!==(r=Ma.current)){switch(r.tag){case 31:case 13:return null===Ia?cd():null===r.alternate&&0===Cc&&(Cc=3),r.flags&=-257,r.flags|=65536,r.lanes=a,s===na?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([s]):t.add(s),Ad(e,s,a)),!1;case 22:return r.flags|=65536,s===na?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([s]):r.add(s),Ad(e,s,a)),!1}throw Error(n(435,r.tag))}return Ad(e,s,a),cd(),!1}if(ps)return null!==(t=Ma.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=a,s!==gs&&ks(Jn(e=Error(n(422),{cause:s}),r))):(s!==gs&&ks(Jn(t=Error(n(423),{cause:s}),r)),(e=e.current.alternate).flags|=65536,a&=-a,e.lanes|=a,s=Jn(s,r),ka(e,a=Do(e.stateNode,s,a)),4!==Cc&&(Cc=2)),!1;var i=Error(n(520),{cause:s});if(i=Jn(i,r),null===Dc?Dc=[i]:Dc.push(i),4!==Cc&&(Cc=2),null===t)return!0;s=Jn(s,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,ka(r,e=Do(r.stateNode,s,e)),!1;case 1:if(t=r.type,i=r.stateNode,!(128&r.flags||"function"!=typeof t.getDerivedStateFromError&&(null===i||"function"!=typeof i.componentDidCatch||null!==Fc&&Fc.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,Lo(a=Oo(a),e,r,s),ka(r,a),!1}r=r.return}while(null!==r);return!1}(e,a,t,r,yc))return Cc=1,_o(e,Jn(r,e.current)),void(bc=null)}catch(i){if(null!==a)throw bc=a,i;return Cc=1,_o(e,Jn(r,e.current)),void(bc=null)}32768&t.flags?(ps||1===s?e=!0:Nc||536870912&yc?e=!1:(wc=e=!0,(2===s||9===s||3===s||6===s)&&(null!==(s=Ma.current)&&13===s.tag&&(s.flags|=16384))),gd(t,e)):xd(t)}function xd(e){var t=e;do{if(32768&t.flags)return void gd(t,wc);e=t.return;var r=xl(t.alternate,t,Sc);if(null!==r)return void(bc=r);if(null!==(t=t.sibling))return void(bc=t);bc=t=e}while(null!==t);0===Cc&&(Cc=5)}function gd(e,t){do{var r=gl(e.alternate,e);if(null!==r)return r.flags&=32767,void(bc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(bc=e);bc=e=r}while(null!==e);Cc=6,bc=null}function bd(e,t,r,s,a,i,o,l,c){e.cancelPendingCommit=null;do{Nd()}while(0!==Bc);if(6&xc)throw Error(n(327));if(null!==t){if(t===e.current)throw Error(n(177));if(i=t.lanes|t.childLanes,function(e,t,r,n,s,a){var i=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=i&~r;0<r;){var d=31-ge(r),u=1<<d;o[d]=0,l[d]=-1;var m=c[d];if(null!==m)for(c[d]=null,d=0;d<m.length;d++){var h=m[d];null!==h&&(h.lane&=-536870913)}r&=~u}0!==n&&_e(e,n,0),0!==a&&0===s&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,r,i|=Dn,o,l,c),e===gc&&(bc=gc=null,yc=0),$c=t,qc=e,Uc=r,Wc=i,Vc=a,Hc=s,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,te(ce,function(){return kd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=!!(13878&t.flags),13878&t.subtreeFlags||s){s=P.T,P.T=null,a=D.p,D.p=2,o=xc,xc|=4;try{!function(e,t){if(e=e.containerInfo,gu=wm,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch(x){r=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=e,h=null;t:for(;;){for(var p;m!==r||0!==a&&3!==m.nodeType||(l=o+a),m!==i||0!==s&&3!==m.nodeType||(c=o+s),3===m.nodeType&&(o+=m.nodeValue.length),null!==(p=m.firstChild);)h=m,m=p;for(;;){if(m===e)break t;if(h===r&&++d===a&&(l=o),h===i&&++u===s&&(c=o),null!==(p=m.nextSibling))break;h=(m=h).parentNode}m=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bu={focusedElem:e,selectionRange:r},wm=!1,Il=t;null!==Il;)if(e=(t=Il).child,1028&t.subtreeFlags&&null!==e)e.return=t,Il=e;else for(;null!==Il;){switch(i=(t=Il).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(a=e[r]).ref.impl=a.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==i){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,s=r.stateNode;try{var f=Co(r.type,a);e=s.getSnapshotBeforeUpdate(f,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(g){Cd(r,r.return,g)}}break;case 3:if(1024&e)if(9===(r=(e=t.stateNode.containerInfo).nodeType))Du(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(n(163))}if(null!==(e=t.sibling)){e.return=t.return,Il=e;break}Il=t.return}}(e,t)}finally{xc=o,D.p=a,P.T=s}}Bc=1,yd(),vd(),jd()}}function yd(){if(1===Bc){Bc=0;var e=qc,t=$c,r=!!(13878&t.flags);if(13878&t.subtreeFlags||r){r=P.T,P.T=null;var n=D.p;D.p=2;var s=xc;xc|=4;try{Kl(t,e);var a=bu,i=rn(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(i!==o&&o&&o.ownerDocument&&tn(o.ownerDocument.documentElement,o)){if(null!==l&&nn(o)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var u=o.ownerDocument||document,m=u&&u.defaultView||window;if(m.getSelection){var h=m.getSelection(),p=o.textContent.length,f=Math.min(l.start,p),x=void 0===l.end?f:Math.min(l.end,p);!h.extend&&f>x&&(i=x,x=f,f=i);var g=en(o,f),b=en(o,x);if(g&&b&&(1!==h.rangeCount||h.anchorNode!==g.node||h.anchorOffset!==g.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var y=u.createRange();y.setStart(g.node,g.offset),h.removeAllRanges(),f>x?(h.addRange(y),h.extend(b.node,b.offset)):(y.setEnd(b.node,b.offset),h.addRange(y))}}}}for(u=[],h=o;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<u.length;o++){var v=u[o];v.element.scrollLeft=v.left,v.element.scrollTop=v.top}}wm=!!gu,bu=gu=null}finally{xc=s,D.p=n,P.T=r}}e.current=t,Bc=2}}function vd(){if(2===Bc){Bc=0;var e=qc,t=$c,r=!!(8772&t.flags);if(8772&t.subtreeFlags||r){r=P.T,P.T=null;var n=D.p;D.p=2;var s=xc;xc|=4;try{Rl(e,t.alternate,t)}finally{xc=s,D.p=n,P.T=r}}Bc=3}}function jd(){if(4===Bc||3===Bc){Bc=0,se();var e=qc,t=$c,r=Uc,n=Hc;10256&t.subtreeFlags||10256&t.flags?Bc=5:(Bc=0,$c=qc=null,wd(e,e.pendingLanes));var s=e.pendingLanes;if(0===s&&(Fc=null),Le(r),t=t.stateNode,fe&&"function"==typeof fe.onCommitFiberRoot)try{fe.onCommitFiberRoot(pe,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==n){t=P.T,s=D.p,D.p=2,P.T=null;try{for(var a=e.onRecoverableError,i=0;i<n.length;i++){var o=n[i];a(o.value,{componentStack:o.stack})}}finally{P.T=t,D.p=s}}3&Uc&&Nd(),zd(e),s=e.pendingLanes,261930&r&&42&s?e===Kc?Gc++:(Gc=0,Kc=e):Gc=0,Fd(0)}}function wd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Us(t)))}function Nd(){return yd(),vd(),jd(),kd()}function kd(){if(5!==Bc)return!1;var e=qc,t=Wc;Wc=0;var r=Le(Uc),s=P.T,a=D.p;try{D.p=32>r?32:r,P.T=null,r=Vc,Vc=null;var i=qc,o=Uc;if(Bc=0,$c=qc=null,Uc=0,6&xc)throw Error(n(331));var l=xc;if(xc|=4,uc(i.current),nc(i,i.current,o,r),xc=l,Fd(0,!1),fe&&"function"==typeof fe.onPostCommitFiberRoot)try{fe.onPostCommitFiberRoot(pe,i)}catch(c){}return!0}finally{D.p=a,P.T=s,wd(e,t)}}function Sd(e,t,r){t=Jn(r,t),null!==(e=wa(e,t=Do(e.stateNode,t,2),2))&&(Ee(e,2),zd(e))}function Cd(e,t,r){if(3===e.tag)Sd(e,e,r);else for(;null!==t;){if(3===t.tag){Sd(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Fc||!Fc.has(n))){e=Jn(r,e),null!==(n=wa(t,r=Oo(2),2))&&(Lo(r,n,t,e),Ee(n,2),zd(n));break}}t=t.return}}function Ad(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fc;var s=new Set;n.set(t,s)}else void 0===(s=n.get(t))&&(s=new Set,n.set(t,s));s.has(r)||(kc=!0,s.add(r),e=Td.bind(null,e,t,r),t.then(e,e))}function Td(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,gc===e&&(yc&r)===r&&(4===Cc||3===Cc&&(62914560&yc)===yc&&300>ae()-Mc?!(2&xc)&&sd(e,0):Ec|=r,Pc===yc&&(Pc=0)),zd(e)}function Ed(e,t){0===t&&(t=Ae()),null!==(e=In(e,t))&&(Ee(e,t),zd(e))}function _d(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Ed(e,r)}function Pd(e,t){var r=0;switch(e.tag){case 31:case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(n(314))}null!==s&&s.delete(t),Ed(e,r)}var Dd=null,Od=null,Ld=!1,Md=!1,Id=!1,Rd=0;function zd(e){e!==Od&&null===e.next&&(null===Od?Dd=Od=e:Od=Od.next=e),Md=!0,Ld||(Ld=!0,Au(function(){6&xc?te(oe,Bd):qd()}))}function Fd(e,t){if(!Id&&Md){Id=!0;do{for(var r=!1,n=Dd;null!==n;){if(0!==e){var s=n.pendingLanes;if(0===s)var a=0;else{var i=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-ge(42|e)+1)-1,a=201326741&(a&=s&~(i&~o))?201326741&a|1:a?2|a:0}0!==a&&(r=!0,Wd(n,a))}else a=yc,!(3&(a=ke(n,n===gc?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Se(n,a)||(r=!0,Wd(n,a));n=n.next}}while(r);Id=!1}}function Bd(){qd()}function qd(){Md=Ld=!1;var e=0;0!==Rd&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Nu&&(Nu=e,!0);return Nu=null,!1}()&&(e=Rd);for(var t=ae(),r=null,n=Dd;null!==n;){var s=n.next,a=$d(n,t);0===a?(n.next=null,null===r?Dd=s:r.next=s,null===s&&(Od=r)):(r=n,(0!==e||3&a)&&(Md=!0)),n=s}0!==Bc&&5!==Bc||Fd(e),0!==Rd&&(Rd=0)}function $d(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-ge(a),o=1<<i,l=s[i];-1===l?0!==(o&r)&&0===(o&n)||(s[i]=Ce(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(r=yc,r=ke(e,e===(t=gc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&re(n),e.callbackNode=null,e.callbackPriority=0;if(!(3&r)||Se(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&re(n),Le(r)){case 2:case 8:r=le;break;case 32:default:r=ce;break;case 268435456:r=ue}return n=Ud.bind(null,e),r=te(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&re(n),e.callbackPriority=2,e.callbackNode=null,2}function Ud(e,t){if(0!==Bc&&5!==Bc)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Nd()&&e.callbackNode!==r)return null;var n=yc;return 0===(n=ke(e,e===gc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Qc(e,n,t),$d(e,ae()),null!=e.callbackNode&&e.callbackNode===r?Ud.bind(null,e):null)}function Wd(e,t){if(Nd())return null;Qc(e,t,!0)}function Vd(){if(0===Rd){var e=Hs;0===e&&(e=ve,!(261888&(ve<<=1))&&(ve=256)),Rd=e}return Rd}function Hd(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Tt(""+e)}function Gd(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Kd=0;Kd<An.length;Kd++){var Yd=An[Kd];Tn(Yd.toLowerCase(),"on"+(Yd[0].toUpperCase()+Yd.slice(1)))}Tn(gn,"onAnimationEnd"),Tn(bn,"onAnimationIteration"),Tn(vn,"onAnimationStart"),Tn("dblclick","onDoubleClick"),Tn("focusin","onFocus"),Tn("focusout","onBlur"),Tn(jn,"onTransitionRun"),Tn(Nn,"onTransitionStart"),Tn(kn,"onTransitionCancel"),Tn(Sn,"onTransitionEnd"),tt("onMouseEnter",["mouseout","mouseover"]),tt("onMouseLeave",["mouseout","mouseover"]),tt("onPointerEnter",["pointerout","pointerover"]),tt("onPointerLeave",["pointerout","pointerover"]),et("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),et("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),et("onBeforeInput",["compositionend","keypress","textInput","paste"]),et("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),et("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jd=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xd));function Qd(e,t){t=!!(4&t);for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){En(d)}s.currentTarget=null,a=l}else for(i=0;i<n.length;i++){if(l=(o=n[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;a=o,s.currentTarget=c;try{a(s)}catch(d){En(d)}s.currentTarget=null,a=l}}}}function Zd(e,t){var r=t[qe];void 0===r&&(r=t[qe]=new Set);var n=e+"__bubble";r.has(n)||(nu(t,e,2,!1),r.add(n))}function eu(e,t,r){var n=0;t&&(n|=4),nu(r,e,n,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function ru(e){if(!e[tu]){e[tu]=!0,Qe.forEach(function(t){"selectionchange"!==t&&(Jd.has(t)||eu(t,!1,e),eu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[tu]||(t[tu]=!0,eu("selectionchange",!1,t))}}function nu(e,t,r,n){switch(Em(t)){case 2:var s=Nm;break;case 8:s=km;break;default:s=Sm}r=s.bind(null,t,r,e),s=void 0,!Ft||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),n?void 0!==s?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):void 0!==s?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function su(e,t,r,n,s){var i=n;if(!(1&t||2&t||null===n))e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var l=n.stateNode.containerInfo;if(l===s)break;if(4===o)for(o=n.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===s)return;o=o.return}for(;null!==l;){if(null===(o=Ge(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){n=i=o;continue e}l=l.parentNode}}n=n.return}It(function(){var n=i,s=Pt(r),o=[];e:{var l=Cn.get(e);if(void 0!==l){var c=Zt,d=e;switch(e){case"keypress":if(0===Vt(r))break e;case"keydown":case"keyup":c=pr;break;case"focusin":d="focus",c=ar;break;case"focusout":d="blur",c=ar;break;case"beforeblur":case"afterblur":c=ar;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xr;break;case gn:case bn:case vn:c=ir;break;case Sn:c=gr;break;case"scroll":case"scrollend":c=tr;break;case"wheel":c=br;break;case"copy":case"cut":case"paste":c=or;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=fr;break;case"toggle":case"beforetoggle":c=yr}var u=!!(4&t),m=!u&&("scroll"===e||"scrollend"===e),h=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=n;null!==f;){var x=f;if(p=x.stateNode,5!==(x=x.tag)&&26!==x&&27!==x||null===p||null===h||null!=(x=Rt(f,h))&&u.push(au(f,x,p)),m)break;f=f.return}0<u.length&&(l=new c(l,d,null,r,s),o.push({event:l,listeners:u}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||r===_t||!(d=r.relatedTarget||r.fromElement)||!Ge(d)&&!d[Be])&&(c||l)&&(l=s.window===s?s:(l=s.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=n,null!==(d=(d=r.relatedTarget||r.toElement)?Ge(d):null)&&(m=a(d),u=d.tag,d!==m||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=n),c!==d)){if(u=nr,x="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=fr,x="onPointerLeave",h="onPointerEnter",f="pointer"),m=null==c?l:Ye(c),p=null==d?l:Ye(d),(l=new u(x,f+"leave",c,r,s)).target=m,l.relatedTarget=p,x=null,Ge(s)===n&&((u=new u(h,f+"enter",d,r,s)).target=p,u.relatedTarget=m,x=u),m=x,c&&d)e:{for(u=ou,f=d,p=0,x=h=c;x;x=u(x))p++;x=0;for(var g=f;g;g=u(g))x++;for(;0<p-x;)h=u(h),p--;for(;0<x-p;)f=u(f),x--;for(;p--;){if(h===f||null!==f&&h===f.alternate){u=h;break e}h=u(h),f=u(f)}u=null}else u=null;null!==c&&lu(o,l,c,u,!1),null!==d&&null!==m&&lu(o,m,d,u,!0)}if("select"===(c=(l=n?Ye(n):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var b=Br;else if(Pr(l))if(qr)b=Xr;else{b=Kr;var y=Gr}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?n&&St(n.elementType)&&(b=Br):b=Yr;switch(b&&(b=b(e,n))?Dr(o,b,r,s):(y&&y(e,l,n),"focusout"===e&&n&&"number"===l.type&&null!=n.memoizedProps.value&&gt(l,"number",l.value)),y=n?Ye(n):window,e){case"focusin":(Pr(y)||"true"===y.contentEditable)&&(an=y,on=n,ln=null);break;case"focusout":ln=on=an=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,dn(o,r,s);break;case"selectionchange":if(sn)break;case"keydown":case"keyup":dn(o,r,s)}var v;if(jr)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Er?Ar(e,r)&&(j="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(j="onCompositionStart");j&&(kr&&"ko"!==r.locale&&(Er||"onCompositionStart"!==j?"onCompositionEnd"===j&&Er&&(v=Wt()):($t="value"in(qt=s)?qt.value:qt.textContent,Er=!0)),0<(y=iu(n,j)).length&&(j=new lr(j,e,null,r,s),o.push({event:j,listeners:y}),v?j.data=v:null!==(v=Tr(r))&&(j.data=v))),(v=Nr?function(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return 32!==t.which?null:(Cr=!0,Sr);case"textInput":return(e=t.data)===Sr&&Cr?null:e;default:return null}}(e,r):function(e,t){if(Er)return"compositionend"===e||!jr&&Ar(e,t)?(e=Wt(),Ut=$t=qt=null,Er=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(j=iu(n,"onBeforeInput")).length&&(y=new lr("onBeforeInput","beforeinput",null,r,s),o.push({event:y,listeners:j}),y.data=v)),function(e,t,r,n,s){if("submit"===t&&r&&r.stateNode===s){var a=Hd((s[Fe]||null).action),i=n.submitter;i&&null!==(t=(t=i[Fe]||null)?Hd(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var o=new Zt("action","action",null,n,s);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Rd){var e=i?Gd(s,i):new FormData(s);no(r,{pending:!0,data:e,method:s.method,action:a},null,e)}}else"function"==typeof a&&(o.preventDefault(),e=i?Gd(s,i):new FormData(s),no(r,{pending:!0,data:e,method:s.method,action:a},a,e))},currentTarget:s}]})}}(o,e,n,r,s)}Qd(o,t)})}function au(e,t,r){return{instance:e,listener:t,currentTarget:r}}function iu(e,t){for(var r=t+"Capture",n=[];null!==e;){var s=e,a=s.stateNode;if(5!==(s=s.tag)&&26!==s&&27!==s||null===a||(null!=(s=Rt(e,r))&&n.unshift(au(e,s,a)),null!=(s=Rt(e,t))&&n.push(au(e,s,a))),3===e.tag)return n;e=e.return}return[]}function ou(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function lu(e,t,r,n,s){for(var a=t._reactName,i=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,s?null!=(c=Rt(r,a))&&i.unshift(au(r,c,l)):s||null!=(c=Rt(r,a))&&i.push(au(r,c,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var cu=/\r\n?/g,du=/\u0000|\uFFFD/g;function uu(e){return("string"==typeof e?e:""+e).replace(cu,"\n").replace(du,"")}function mu(e,t){return t=uu(t),uu(e)===t}function hu(e,t,r,s,a,i){switch(r){case"children":"string"==typeof s?"body"===t||"textarea"===t&&""===s||jt(e,s):("number"==typeof s||"bigint"==typeof s)&&"body"!==t&&jt(e,""+s);break;case"className":it(e,"class",s);break;case"tabIndex":it(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":it(e,r,s);break;case"style":kt(e,s,i);break;case"data":if("object"!==t){it(e,"data",s);break}case"src":case"href":if(""===s&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==s||"function"==typeof s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(r);break}s=Tt(""+s),e.setAttribute(r,s);break;case"action":case"formAction":if("function"==typeof s){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof i&&("formAction"===r?("input"!==t&&hu(e,t,"name",a.name,a,null),hu(e,t,"formEncType",a.formEncType,a,null),hu(e,t,"formMethod",a.formMethod,a,null),hu(e,t,"formTarget",a.formTarget,a,null)):(hu(e,t,"encType",a.encType,a,null),hu(e,t,"method",a.method,a,null),hu(e,t,"target",a.target,a,null))),null==s||"symbol"==typeof s||"boolean"==typeof s){e.removeAttribute(r);break}s=Tt(""+s),e.setAttribute(r,s);break;case"onClick":null!=s&&(e.onclick=Et);break;case"onScroll":null!=s&&Zd("scroll",e);break;case"onScrollEnd":null!=s&&Zd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(n(61));if(null!=(r=s.__html)){if(null!=a.children)throw Error(n(60));e.innerHTML=r}}break;case"multiple":e.multiple=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"muted":e.muted=s&&"function"!=typeof s&&"symbol"!=typeof s;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==s||"function"==typeof s||"boolean"==typeof s||"symbol"==typeof s){e.removeAttribute("xlink:href");break}r=Tt(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(r,""+s):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===s?e.setAttribute(r,""):!1!==s&&null!=s&&"function"!=typeof s&&"symbol"!=typeof s?e.setAttribute(r,s):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&!isNaN(s)&&1<=s?e.setAttribute(r,s):e.removeAttribute(r);break;case"rowSpan":case"start":null==s||"function"==typeof s||"symbol"==typeof s||isNaN(s)?e.removeAttribute(r):e.setAttribute(r,s);break;case"popover":Zd("beforetoggle",e),Zd("toggle",e),at(e,"popover",s);break;case"xlinkActuate":ot(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ot(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ot(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ot(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ot(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ot(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ot(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ot(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ot(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":at(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&at(e,r=Ct.get(r)||r,s)}}function pu(e,t,r,s,a,i){switch(r){case"style":kt(e,s,i);break;case"dangerouslySetInnerHTML":if(null!=s){if("object"!=typeof s||!("__html"in s))throw Error(n(61));if(null!=(r=s.__html)){if(null!=a.children)throw Error(n(60));e.innerHTML=r}}break;case"children":"string"==typeof s?jt(e,s):("number"==typeof s||"bigint"==typeof s)&&jt(e,""+s);break;case"onScroll":null!=s&&Zd("scroll",e);break;case"onScrollEnd":null!=s&&Zd("scrollend",e);break;case"onClick":null!=s&&(e.onclick=Et);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ze.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),"function"==typeof(i=null!=(i=e[Fe]||null)?i[r]:null)&&e.removeEventListener(t,i,a),"function"!=typeof s)?r in e?e[r]=s:!0===s?e.setAttribute(r,""):at(e,r,s):("function"!=typeof i&&null!==i&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,s,a)))}}function fu(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Zd("error",e),Zd("load",e);var s,a=!1,i=!1;for(s in r)if(r.hasOwnProperty(s)){var o=r[s];if(null!=o)switch(s){case"src":a=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,t));default:hu(e,t,s,o,r,null)}}return i&&hu(e,t,"srcSet",r.srcSet,r,null),void(a&&hu(e,t,"src",r.src,r,null));case"input":Zd("invalid",e);var l=s=o=i=null,c=null,d=null;for(a in r)if(r.hasOwnProperty(a)){var u=r[a];if(null!=u)switch(a){case"name":i=u;break;case"type":o=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":s=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(n(137,t));break;default:hu(e,t,a,u,r,null)}}return void xt(e,s,l,c,d,o,i,!1);case"select":for(i in Zd("invalid",e),a=o=s=null,r)if(r.hasOwnProperty(i)&&null!=(l=r[i]))switch(i){case"value":s=l;break;case"defaultValue":o=l;break;case"multiple":a=l;default:hu(e,t,i,l,r,null)}return t=s,r=o,e.multiple=!!a,void(null!=t?bt(e,!!a,t,!1):null!=r&&bt(e,!!a,r,!0));case"textarea":for(o in Zd("invalid",e),s=i=a=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":a=l;break;case"defaultValue":i=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(n(91));break;default:hu(e,t,o,l,r,null)}return void vt(e,a,i,s);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(a=r[c]))if("selected"===c)e.selected=a&&"function"!=typeof a&&"symbol"!=typeof a;else hu(e,t,c,a,r,null);return;case"dialog":Zd("beforetoggle",e),Zd("toggle",e),Zd("cancel",e),Zd("close",e);break;case"iframe":case"object":Zd("load",e);break;case"video":case"audio":for(a=0;a<Xd.length;a++)Zd(Xd[a],e);break;case"image":Zd("error",e),Zd("load",e);break;case"details":Zd("toggle",e);break;case"embed":case"source":case"link":Zd("error",e),Zd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in r)if(r.hasOwnProperty(d)&&null!=(a=r[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,t));default:hu(e,t,d,a,r,null)}return;default:if(St(t)){for(u in r)r.hasOwnProperty(u)&&(void 0!==(a=r[u])&&pu(e,t,u,a,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(a=r[l])&&hu(e,t,l,a,r,null))}function xu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gu=null,bu=null;function yu(e){return 9===e.nodeType?e:e.ownerDocument}function vu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ju(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wu(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Nu=null;var ku="function"==typeof setTimeout?setTimeout:void 0,Su="function"==typeof clearTimeout?clearTimeout:void 0,Cu="function"==typeof Promise?Promise:void 0,Au="function"==typeof queueMicrotask?queueMicrotask:void 0!==Cu?function(e){return Cu.resolve(null).then(e).catch(Tu)}:ku;function Tu(e){setTimeout(function(){throw e})}function Eu(e){return"head"===e}function _u(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&8===s.nodeType)if("/$"===(r=s.data)||"/&"===r){if(0===n)return e.removeChild(s),void Gm(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)qu(e.ownerDocument.documentElement);else if("head"===r){qu(r=e.ownerDocument.head);for(var a=r.firstChild;a;){var i=a.nextSibling,o=a.nodeName;a[Ve]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=i}}else"body"===r&&qu(e.ownerDocument.body);r=s}while(r);Gm(t)}function Pu(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Du(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Du(r),He(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Ou(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Iu(e.nextSibling)))return null}return e}function Lu(e){return"$?"===e.data||"$~"===e.data}function Mu(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Iu(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ru=null;function zu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Iu(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Fu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Bu(e,t,r){switch(t=yu(r),e){case"html":if(!(e=t.documentElement))throw Error(n(452));return e;case"head":if(!(e=t.head))throw Error(n(453));return e;case"body":if(!(e=t.body))throw Error(n(454));return e;default:throw Error(n(451))}}function qu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);He(e)}var $u=new Map,Uu=new Set;function Wu(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Vu=D.d;D.d={f:function(){var e=Vu.f(),t=rd();return e||t},r:function(e){var t=Ke(e);null!==t&&5===t.tag&&"form"===t.type?ao(t):Vu.r(e)},D:function(e){Vu.D(e),Gu("dns-prefetch",e,null)},C:function(e,t){Vu.C(e,t),Gu("preconnect",e,t)},L:function(e,t,r){Vu.L(e,t,r);var n=Hu;if(n&&e&&t){var s='link[rel="preload"][as="'+pt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(s+='[imagesrcset="'+pt(r.imageSrcSet)+'"]',"string"==typeof r.imageSizes&&(s+='[imagesizes="'+pt(r.imageSizes)+'"]')):s+='[href="'+pt(e)+'"]';var a=s;switch(t){case"style":a=Yu(e);break;case"script":a=Qu(e)}$u.has(a)||(e=d({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),$u.set(a,e),null!==n.querySelector(s)||"style"===t&&n.querySelector(Xu(a))||"script"===t&&n.querySelector(Zu(a))||(fu(t=n.createElement("link"),"link",e),Je(t),n.head.appendChild(t)))}},m:function(e,t){Vu.m(e,t);var r=Hu;if(r&&e){var n=t&&"string"==typeof t.as?t.as:"script",s='link[rel="modulepreload"][as="'+pt(n)+'"][href="'+pt(e)+'"]',a=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Qu(e)}if(!$u.has(a)&&(e=d({rel:"modulepreload",href:e},t),$u.set(a,e),null===r.querySelector(s))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Zu(a)))return}fu(n=r.createElement("link"),"link",e),Je(n),r.head.appendChild(n)}}},X:function(e,t){Vu.X(e,t);var r=Hu;if(r&&e){var n=Xe(r).hoistableScripts,s=Qu(e),a=n.get(s);a||((a=r.querySelector(Zu(s)))||(e=d({src:e,async:!0},t),(t=$u.get(s))&&nm(e,t),Je(a=r.createElement("script")),fu(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}},S:function(e,t,r){Vu.S(e,t,r);var n=Hu;if(n&&e){var s=Xe(n).hoistableStyles,a=Yu(e);t=t||"default";var i=s.get(a);if(!i){var o={loading:0,preload:null};if(i=n.querySelector(Xu(a)))o.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},r),(r=$u.get(a))&&rm(e,r);var l=i=n.createElement("link");Je(l),fu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,tm(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:o},s.set(a,i)}}},M:function(e,t){Vu.M(e,t);var r=Hu;if(r&&e){var n=Xe(r).hoistableScripts,s=Qu(e),a=n.get(s);a||((a=r.querySelector(Zu(s)))||(e=d({src:e,async:!0,type:"module"},t),(t=$u.get(s))&&nm(e,t),Je(a=r.createElement("script")),fu(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(s,a))}}};var Hu="undefined"==typeof document?null:document;function Gu(e,t,r){var n=Hu;if(n&&"string"==typeof t&&t){var s=pt(t);s='link[rel="'+e+'"][href="'+s+'"]',"string"==typeof r&&(s+='[crossorigin="'+r+'"]'),Uu.has(s)||(Uu.add(s),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(s)&&(fu(t=n.createElement("link"),"link",e),Je(t),n.head.appendChild(t)))}}function Ku(e,t,r,s){var a,i,o,l,c=(c=U.current)?Wu(c):null;if(!c)throw Error(n(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof r.precedence&&"string"==typeof r.href?(t=Yu(r.href),(s=(r=Xe(c).hoistableStyles).get(t))||(s={type:"style",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"==typeof r.href&&"string"==typeof r.precedence){e=Yu(r.href);var d=Xe(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Xu(e)))&&!d._p&&(u.instance=d,u.state.loading=5),$u.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},$u.set(e,r),d||(a=c,i=e,o=r,l=u.state,a.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=a.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),fu(i,"link",o),Je(i),a.head.appendChild(i))))),t&&null===s)throw Error(n(528,""));return u}if(t&&null!==s)throw Error(n(529,""));return null;case"script":return t=r.async,"string"==typeof(r=r.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Qu(r),(s=(r=Xe(c).hoistableScripts).get(t))||(s={type:"script",instance:null,count:0,state:null},r.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,e))}}function Yu(e){return'href="'+pt(e)+'"'}function Xu(e){return'link[rel="stylesheet"]['+e+"]"}function Ju(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Qu(e){return'[src="'+pt(e)+'"]'}function Zu(e){return"script[async]"+e}function em(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+pt(r.href)+'"]');if(s)return t.instance=s,Je(s),s;var a=d({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Je(s=(e.ownerDocument||e).createElement("style")),fu(s,"style",a),tm(s,r.precedence,e),t.instance=s;case"stylesheet":a=Yu(r.href);var i=e.querySelector(Xu(a));if(i)return t.state.loading|=4,t.instance=i,Je(i),i;s=Ju(r),(a=$u.get(a))&&rm(s,a),Je(i=(e.ownerDocument||e).createElement("link"));var o=i;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fu(i,"link",s),t.state.loading|=4,tm(i,r.precedence,e),t.instance=i;case"script":return i=Qu(r.src),(a=e.querySelector(Zu(i)))?(t.instance=a,Je(a),a):(s=r,(a=$u.get(i))&&nm(s=d({},r),a),Je(a=(e=e.ownerDocument||e).createElement("script")),fu(a,"link",s),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(n(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(s=t.instance,t.state.loading|=4,tm(s,r.precedence,e));return t.instance}function tm(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,a=s,i=0;i<n.length;i++){var o=n[i];if(o.dataset.precedence===t)a=o;else if(a!==s)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function rm(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nm(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var sm=null;function am(e,t,r){if(null===sm){var n=new Map,s=sm=new Map;s.set(r,n)}else(n=(s=sm).get(r))||(n=new Map,s.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),s=0;s<r.length;s++){var a=r[s];if(!(a[Ve]||a[ze]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var o=n.get(i);o?o.push(a):n.set(i,[a])}}return n}function im(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function om(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lm=0;function cm(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)um(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var dm=null;function um(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,dm=new Map,t.forEach(mm,e),dm=null,cm.call(e))}function mm(e,t){if(!(4&t.state.loading)){var r=dm.get(e);if(r)var n=r.get(null);else{r=new Map,dm.set(e,r);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<s.length;a++){var i=s[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(r.set(i.dataset.precedence,i),n=i)}n&&r.set(null,n)}i=(s=t.instance).getAttribute("data-precedence"),(a=r.get(i)||n)===n&&r.set(null,s),r.set(i,s),this.count++,n=cm.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),a?a.parentNode.insertBefore(s,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(s,e.firstChild),t.state.loading|=4}}var hm={$$typeof:b,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function pm(e,t,r,n,s,a,i,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fm(e,t,r,n,s,a,i,o,l,c,d,u){return e=new pm(e,t,r,i,l,c,d,u,o),t=1,!0===a&&(t|=24),a=qn(3,null,null,t),e.current=a,a.stateNode=e,(t=$s()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},ya(a),e}function xm(e){return e?e=Fn:Fn}function gm(e,t,r,n,s,a){s=xm(s),null===n.context?n.context=s:n.pendingContext=s,(n=ja(t)).payload={element:r},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(r=wa(e,n,t))&&(Jc(r,0,t),Na(r,e,t))}function bm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function ym(e,t){bm(e,t),(e=e.alternate)&&bm(e,t)}function vm(e){if(13===e.tag||31===e.tag){var t=In(e,67108864);null!==t&&Jc(t,0,67108864),ym(e,67108864)}}function jm(e){if(13===e.tag||31===e.tag){var t=Yc(),r=In(e,t=Oe(t));null!==r&&Jc(r,0,t),ym(e,t)}}var wm=!0;function Nm(e,t,r,n){var s=P.T;P.T=null;var a=D.p;try{D.p=2,Sm(e,t,r,n)}finally{D.p=a,P.T=s}}function km(e,t,r,n){var s=P.T;P.T=null;var a=D.p;try{D.p=8,Sm(e,t,r,n)}finally{D.p=a,P.T=s}}function Sm(e,t,r,n){if(wm){var s=Cm(n);if(null===s)su(e,t,n,Am,r),zm(e,n);else if(function(e,t,r,n,s){switch(t){case"focusin":return Pm=Fm(Pm,e,t,r,n,s),!0;case"dragenter":return Dm=Fm(Dm,e,t,r,n,s),!0;case"mouseover":return Om=Fm(Om,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Lm.set(a,Fm(Lm.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Mm.set(a,Fm(Mm.get(a)||null,e,t,r,n,s)),!0}return!1}(s,e,t,r,n))n.stopPropagation();else if(zm(e,n),4&t&&-1<Rm.indexOf(e)){for(;null!==s;){var a=Ke(s);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ne(a.pendingLanes);if(0!==i){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var l=1<<31-ge(i);o.entanglements[1]|=l,i&=~l}zd(a),!(6&xc)&&(Rc=ae()+500,Fd(0))}}break;case 31:case 13:null!==(o=In(a,2))&&Jc(o,0,2),rd(),ym(a,2)}if(null===(a=Cm(n))&&su(e,t,n,Am,r),a===s)break;s=a}null!==s&&n.stopPropagation()}else su(e,t,n,null,r)}}function Cm(e){return Tm(e=Pt(e))}var Am=null;function Tm(e){if(Am=null,null!==(e=Ge(e))){var t=a(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=i(t)))return e;e=null}else if(31===r){if(null!==(e=o(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Am=e,null}function Em(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ie()){case oe:return 2;case le:return 8;case ce:case de:return 32;case ue:return 268435456;default:return 32}default:return 32}}var _m=!1,Pm=null,Dm=null,Om=null,Lm=new Map,Mm=new Map,Im=[],Rm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zm(e,t){switch(e){case"focusin":case"focusout":Pm=null;break;case"dragenter":case"dragleave":Dm=null;break;case"mouseover":case"mouseout":Om=null;break;case"pointerover":case"pointerout":Lm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mm.delete(t.pointerId)}}function Fm(e,t,r,n,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=Ke(t))&&vm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Bm(e){var t=Ge(e.target);if(null!==t){var r=a(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=i(r)))return e.blockedOn=t,void Ie(e.priority,function(){jm(r)})}else if(31===t){if(null!==(t=o(r)))return e.blockedOn=t,void Ie(e.priority,function(){jm(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function qm(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cm(e.nativeEvent);if(null!==r)return null!==(t=Ke(r))&&vm(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);_t=n,r.target.dispatchEvent(n),_t=null,t.shift()}return!0}function $m(e,t,r){qm(e)&&r.delete(t)}function Um(){_m=!1,null!==Pm&&qm(Pm)&&(Pm=null),null!==Dm&&qm(Dm)&&(Dm=null),null!==Om&&qm(Om)&&(Om=null),Lm.forEach($m),Mm.forEach($m)}function Wm(t,r){t.blockedOn===r&&(t.blockedOn=null,_m||(_m=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Um)))}var Vm=null;function Hm(t){Vm!==t&&(Vm=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vm===t&&(Vm=null);for(var e=0;e<t.length;e+=3){var r=t[e],n=t[e+1],s=t[e+2];if("function"!=typeof n){if(null===Tm(n||r))continue;break}var a=Ke(r);null!==a&&(t.splice(e,3),e-=3,no(a,{pending:!0,data:s,method:r.method,action:n},n,s))}}))}function Gm(e){function t(t){return Wm(t,e)}null!==Pm&&Wm(Pm,e),null!==Dm&&Wm(Dm,e),null!==Om&&Wm(Om,e),Lm.forEach(t),Mm.forEach(t);for(var r=0;r<Im.length;r++){var n=Im[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Im.length&&null===(r=Im[0]).blockedOn;)Bm(r),null===r.blockedOn&&Im.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var s=r[n],a=r[n+1],i=s[Fe]||null;if("function"==typeof a)i||Hm(r);else if(i){var o=null;if(a&&a.hasAttribute("formAction")){if(s=a,i=a[Fe]||null)o=i.formAction;else if(null!==Tm(s))continue}else o=i.action;"function"==typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Hm(r)}}}function Km(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return s=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==s&&(s(),s=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var n=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==s&&(s(),s=null)}}}function Ym(e){this._internalRoot=e}function Xm(e){this._internalRoot=e}Xm.prototype.render=Ym.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));gm(t.current,Yc(),e,t,null,null)},Xm.prototype.unmount=Ym.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gm(e.current,2,null,e,null,null),rd(),t[Be]=null}},Xm.prototype.unstable_scheduleHydration=function(e){if(e){var t=Me();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Im.length&&0!==t&&t<Im[r].priority;r++);Im.splice(r,0,e),0===r&&Bm(e)}};var Jm=t.version;if("19.2.1"!==Jm)throw Error(n(527,Jm,"19.2.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=a(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(s=i.return)){r=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return l(i),e;if(o===s)return l(i),t;o=o.sibling}throw Error(n(188))}if(r.return!==s.return)r=i,s=o;else{for(var c=!1,d=i.child;d;){if(d===r){c=!0,r=i,s=o;break}if(d===s){c=!0,s=i,r=o;break}d=d.sibling}if(!c){for(d=o.child;d;){if(d===r){c=!0,r=o,s=i;break}if(d===s){c=!0,s=o,r=i;break}d=d.sibling}if(!c)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Qm={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.1"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zm.isDisabled&&Zm.supportsFiber)try{pe=Zm.inject(Qm),fe=Zm}catch(th){}}return yn.createRoot=function(e,t){if(!s(e))throw Error(n(299));var r=!1,a="",i=Ao,o=To,l=Eo;return null!=t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fm(e,1,!1,null,0,r,a,null,i,o,l,Km),e[Be]=t.current,ru(e),new Ym(t)},yn.hydrateRoot=function(e,t,r){if(!s(e))throw Error(n(299));var a=!1,i="",o=Ao,l=To,c=Eo,d=null;return null!=r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(o=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(d=r.formState)),(t=fm(e,1,!0,t,0,a,i,d,o,l,c,Km)).context=xm(null),r=t.current,(i=ja(a=Oe(a=Yc()))).callback=null,wa(r,i,a),r=a,t.current.lanes=r,Ee(t,r),zd(t),e[Be]=t.current,ru(e),new Xm(t)},yn.version="19.2.1",yn}const kn=Br((gn||(gn=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),bn.exports=Nn()),bn.exports)),Sn=qr.createContext(void 0),Cn=({children:t})=>{const[r,n]=qr.useState(null),[s,a]=qr.useState(null),[i,o]=qr.useState(!0),l=(()=>{let e;return e="https://backend.nexusmwi.com",e||(e="https://backend.nexusmwi.com"),e})(),c=e=>{if(!e)return!0;try{const t=e.split(".");if(3!==t.length)return!0;const r=1e3*JSON.parse(atob(t[1])).exp;return Date.now()>=r}catch(t){return!0}};qr.useEffect(()=>{(()=>{const e=localStorage.getItem("user"),t=localStorage.getItem("token");e&&t&&(c(t)?(localStorage.removeItem("user"),localStorage.removeItem("token"),n(null),a(null)):(n(JSON.parse(e)),a(t))),o(!1)})()},[]);const d={user:r,token:s,login:async(e,t)=>{try{if(!l||"undefined"===l)throw new Error("Backend URL is not configured properly");const r=await fetch(`${l}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({email:e,password:t})}),s=await r.json();if(!r.ok)throw new Error(s.message||"Login failed");return localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),n(s.user),a(s.token),s}catch(r){throw r}},googleLogin:async e=>{try{if(!l||"undefined"===l)throw new Error("Backend URL is not configured properly");const t=await fetch(`${l}/api/auth/google-login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Google login failed");return r.exists&&r.user&&r.token?(localStorage.setItem("user",JSON.stringify(r.user)),localStorage.setItem("token",r.token),n(r.user),a(r.token),{success:!0,user:r.user,requiresRegistration:!1}):{success:!0,requiresRegistration:!0,userData:e}}catch(t){return{success:!1,error:t.message}}},register:async(e,t,r,s,i,o,c,d)=>{try{if(!l||"undefined"===l)throw new Error("Backend URL is not configured properly");const u=await fetch(`${l}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({firstName:e,lastName:t,email:r,password:s,companyName:i,industry:o,role:c,phoneNumber:d})}),m=await u.json();if(!u.ok)throw new Error(m.message||"Registration failed");return m.token&&(localStorage.setItem("user",JSON.stringify(m.user)),localStorage.setItem("token",m.token),n(m.user),a(m.token)),m}catch(u){throw u}},logout:()=>{n(null),a(null),localStorage.removeItem("user"),localStorage.removeItem("token")},loading:i,isTokenExpired:c,backendUrl:l};return e.jsx(Sn.Provider,{value:d,children:t})},An=()=>{const e=qr.useContext(Sn);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e};function Tn(){const[A,T]=qr.useState(!1),[E,_]=qr.useState(!1),[P,D]=qr.useState(!1),[O,L]=qr.useState(0),[M,I]=qr.useState(!1),[R,z]=qr.useState(0),[F,B]=qr.useState({}),q=qr.useRef(null);qr.useEffect(()=>{const e=()=>{if(window.scrollY>50?_(!0):_(!1),q.current){const e=q.current.getBoundingClientRect();e.top<=window.innerHeight&&e.bottom>=0&&!P&&(D(!0),t())}document.querySelectorAll("[data-animate]").forEach((e,t)=>{const r=e.getBoundingClientRect();r.top<=.8*window.innerHeight&&r.bottom>=0&&B(e=>({...e,[t]:!0}))})},t=()=>{let e=0;const t=500,n=2e3;let s;const a=()=>{const i=Math.min(e/t*n,n),o=r(i/n),l=Math.floor(o*t);L(l),e<t?(e+=20,s=setTimeout(a,20)):L(t)};return a(),()=>clearTimeout(s)},r=e=>1-(1-e)*(1-e);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[P]);const $=[{icon:e.jsx(c,{className:"w-5 h-5 text-white"}),title:"Smart Requisition Management",description:"AI-powered requisition workflows with intelligent approval routing and real-time tracking.",benefits:["Auto-routing approvals","Real-time tracking","Mobile accessibility","Custom templates"],color:"blue",gradient:"from-blue-500 to-blue-600",bgGradient:"from-blue-50 to-blue-100"},{icon:e.jsx(j,{className:"w-5 h-5 text-white"}),title:"Advanced Vendor Management",description:"Comprehensive vendor lifecycle management with performance analytics and risk assessment.",benefits:["Performance tracking","Risk assessment","Contract management","Vendor portal"],color:"emerald",gradient:"from-emerald-500 to-emerald-600",bgGradient:"from-emerald-50 to-emerald-100"},{icon:e.jsx(w,{className:"w-5 h-5 text-white"}),title:"Automated Purchase Orders",description:"Generate professional purchase orders with customizable templates and automated approvals.",benefits:["Custom templates","Auto-approvals","Supplier integration","Order tracking"],color:"purple",gradient:"from-purple-500 to-purple-600",bgGradient:"from-purple-50 to-purple-100"},{icon:e.jsx(N,{className:"w-5 h-5 text-white"}),title:"Intelligent Invoice Processing",description:"AI-powered invoice matching and verification with automated payment processing.",benefits:["AI-powered matching","Auto-payments","Audit trails","Exception handling"],color:"orange",gradient:"from-orange-500 to-orange-600",bgGradient:"from-orange-50 to-orange-100"},{icon:e.jsx(k,{className:"w-5 h-5 text-white"}),title:"Advanced Analytics & Reporting",description:"Comprehensive dashboards with real-time insights and predictive analytics.",benefits:["Real-time dashboards","Custom reports","Predictive analytics","KPI tracking"],color:"indigo",gradient:"from-indigo-500 to-indigo-600",bgGradient:"from-indigo-50 to-indigo-100"},{icon:e.jsx(b,{className:"w-5 h-5 text-white"}),title:"Enterprise Integrations",description:"Seamless integration with ERP systems and business applications through robust APIs.",benefits:["ERP integration","API access","Pre-built connectors","Data synchronization"],color:"teal",gradient:"from-teal-500 to-teal-600",bgGradient:"from-teal-50 to-teal-100"}],U=[{icon:e.jsx(d,{className:"w-5 h-5 text-white"}),title:"Increase Efficiency",description:"Reduce procurement cycle times by up to 70% through intelligent automation.",metric:"70%",subtext:"faster processing",color:"blue",gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 via-cyan-50 to-blue-100"},{icon:e.jsx(n,{className:"w-5 h-5 text-white"}),title:"Improve Compliance",description:"Ensure all purchases adhere to organizational policies with automated compliance checks.",metric:"99.9%",subtext:"compliance rate",color:"emerald",gradient:"from-emerald-500 to-green-500",bgGradient:"from-emerald-50 via-green-50 to-emerald-100"},{icon:e.jsx(l,{className:"w-5 h-5 text-white"}),title:"Save Time",description:"Eliminate manual processes with end-to-end digital workflows and automated approvals.",metric:"8 hrs",subtext:"saved daily",color:"amber",gradient:"from-amber-500 to-yellow-500",bgGradient:"from-amber-50 via-yellow-50 to-amber-100"},{icon:e.jsx(u,{className:"w-5 h-5 text-white"}),title:"Reduce Risk",description:"Minimize procurement risks with built-in compliance controls and fraud detection.",metric:"95%",subtext:"risk reduction",color:"red",gradient:"from-red-500 to-pink-500",bgGradient:"from-red-50 via-pink-50 to-red-100"},{icon:e.jsx(m,{className:"w-5 h-5 text-white"}),title:"Cost Savings",description:"Achieve significant cost reductions through better vendor negotiations.",metric:"$2.4M",subtext:"average savings",color:"green",gradient:"from-green-500 to-emerald-500",bgGradient:"from-green-50 via-emerald-50 to-green-100"},{icon:e.jsx(f,{className:"w-5 h-5 text-white"}),title:"Performance Boost",description:"Monitor and improve procurement performance with advanced analytics.",metric:"45%",subtext:"improvement",color:"purple",gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 via-violet-50 to-purple-100"}],W=[{name:"Starter",price:99,period:"per month",description:"Perfect for small businesses getting started with procurement automation",features:["Up to 50 purchase orders/month","Basic vendor management","Standard reporting dashboard","Email support (24h response)","Mobile app access","Basic integrations","User training resources"],limits:"Up to 5 users",recommended:!1,buttonText:"Start Free Trial",color:"gray",popular:!1,gradient:"from-gray-500 to-gray-600",bgGradient:"from-gray-50 to-gray-100"},{name:"Professional",price:299,period:"per month",description:"Ideal for growing companies with advanced procurement needs",features:["Unlimited purchase orders","Advanced vendor analytics","Custom approval workflows","Priority support (4h response)","API access & integrations","Advanced reporting & dashboards","Multi-location support","Dedicated onboarding"],limits:"Up to 25 users",recommended:!0,buttonText:"Start Free Trial",color:"blue",popular:!0,gradient:"from-blue-500 to-purple-600",bgGradient:"from-blue-50 to-purple-50"},{name:"Enterprise",price:"Custom",period:"contact us",description:"Comprehensive solution for large organizations with complex requirements",features:["Everything in Professional","Custom integrations & workflows","Dedicated account manager","On-premise deployment option","99.9% SLA guarantee","Advanced training & onboarding","24/7 phone support","Custom reporting & analytics"],limits:"Unlimited users",recommended:!1,buttonText:"Contact Sales",color:"purple",popular:!1,gradient:"from-purple-500 to-indigo-600",bgGradient:"from-purple-50 to-indigo-50"}],V=[{step:"01",title:"Create Requisition",description:"Employees submit procurement requests through intuitive digital forms with automated routing.",icon:e.jsx(S,{className:"w-5 h-5 text-white"}),gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 to-cyan-50"},{step:"02",title:"Approval Workflow",description:"Smart routing ensures requests go to the right approvers based on amount, category, and policies.",icon:e.jsx(n,{className:"w-5 h-5 text-white"}),gradient:"from-emerald-500 to-green-500",bgGradient:"from-emerald-50 to-green-50"},{step:"03",title:"Vendor Selection",description:"Choose from pre-approved vendors or add new ones with comprehensive evaluation criteria.",icon:e.jsx(j,{className:"w-5 h-5 text-white"}),gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 to-violet-50"},{step:"04",title:"Purchase Order",description:"Generate professional POs with automated delivery to suppliers and internal stakeholders.",icon:e.jsx(w,{className:"w-5 h-5 text-white"}),gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50"}],H=[{label:"Companies Trust Us",value:"500+",icon:e.jsx(C,{className:"w-4 h-4"}),gradient:"from-blue-500 to-blue-600"},{label:"Transactions Processed",value:"$2.8B+",icon:e.jsx(m,{className:"w-4 h-4"}),gradient:"from-emerald-500 to-emerald-600"},{label:"Average Savings",value:"32%",icon:e.jsx(d,{className:"w-4 h-4"}),gradient:"from-purple-500 to-purple-600"},{label:"Customer Satisfaction",value:"98%",icon:e.jsx(p,{className:"w-4 h-4"}),gradient:"from-orange-500 to-orange-600"}],G=({title:t,value:r,icon:n,color:s,subtitle:a,trend:i,gradient:o,bgGradient:l})=>e.jsxs("div",{className:`bg-gradient-to-br ${l||"from-white to-gray-50"} rounded-2xl border border-gray-200 p-4 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group hover:border-transparent`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:`p-2 rounded-2xl group-hover:scale-110 transition-transform duration-300 bg-gradient-to-r ${o||"from-gray-500 to-gray-600"} shadow-lg`,children:e.jsx(n,{size:16,className:"text-white"})}),i&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{className:"w-3 h-3 text-emerald-500"}),e.jsxs("span",{className:"text-xs font-medium text-emerald-500",children:["+",i,"%"]})]})]}),e.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:r}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),a&&e.jsx("div",{className:"text-xs text-gray-400",children:a})]});return M?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsx("header",{className:"bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4",children:e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/nexusmwi-logo.png",alt:"NexusMWI Logo",className:"h-8 w-auto mr-2",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.marginLeft="0"}}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"NexusMWI"})]}),e.jsxs("button",{onClick:()=>I(!1),className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-2xl transition-colors text-sm",children:[e.jsx(t,{className:"w-4 h-4 rotate-180"}),"Back to Home"]})]})})}),e.jsx("section",{className:"py-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(r,{className:"w-4 h-4"}),e.jsx("span",{children:"Choose Your Perfect Plan"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Transparent Pricing for Every Business"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Transform your procurement process with our flexible pricing options. Start with a 14-day free trial on any plan."}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white px-4 py-2 rounded-2xl text-sm font-medium shadow-lg",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{children:"Save 20% with annual billing"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:W.map((t,r)=>e.jsxs("div",{className:`relative bg-gradient-to-br ${t.bgGradient} rounded-2xl border-2 p-6 hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 ${t.recommended?"border-transparent shadow-xl scale-105 ring-4 ring-blue-100":"border-gray-200 hover:border-transparent"}`,children:[t.popular&&e.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:`bg-gradient-to-r ${t.gradient} text-white px-4 py-1.5 rounded-2xl text-sm font-medium shadow-lg`,children:"Most Popular"})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${t.gradient} rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-xl",children:t.name.charAt(0)})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-gray-600 mb-4 text-sm leading-relaxed",children:t.description}),e.jsx("div",{className:"mb-4",children:"number"==typeof t.price?e.jsxs("div",{children:[e.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",t.price]}),e.jsx("span",{className:"text-gray-600 ml-2 text-sm",children:t.period}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:t.limits})]}):e.jsxs("div",{children:[e.jsx("span",{className:"text-3xl font-bold text-gray-900",children:t.price}),e.jsx("div",{className:"text-sm text-gray-500 mt-1",children:t.limits})]})})]}),e.jsx("ul",{className:"space-y-3 mb-6",children:t.features.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-gray-700 text-sm leading-relaxed",children:t})]},r))}),e.jsx("button",{className:"w-full py-3 px-4 rounded-2xl font-medium transition-all duration-300 text-sm shadow-lg hover:shadow-xl "+(t.recommended?`bg-gradient-to-r ${t.gradient} text-white hover:scale-105`:"bg-gray-900 text-white hover:bg-gray-800 hover:scale-105"),children:t.buttonText})]},r))}),e.jsxs("div",{className:"mt-16 max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Frequently Asked Questions"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{question:"Can I change plans anytime?",answer:"Yes, you can upgrade or downgrade your plan at any time. Changes take effect at your next billing cycle."},{question:"Is there a setup fee?",answer:"No setup fees for Starter and Professional plans. Enterprise plans may include implementation services."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards, bank transfers, and can arrange invoice billing for Enterprise customers."},{question:"Do you offer discounts for annual payments?",answer:"Yes, save 20% when you pay annually. We also offer multi-year discounts for Enterprise customers."},{question:"What's included in the free trial?",answer:"The 14-day free trial includes full access to all features of your chosen plan with dedicated onboarding support."},{question:"How does billing work?",answer:"Billing is monthly or annual based on your preference. You'll receive invoices via email with secure payment processing."}].map((t,r)=>e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl border border-gray-200 p-4 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2 text-sm",children:t.question}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:t.answer})]},r))})]})]})})]}):e.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[e.jsx("header",{className:"fixed w-full z-50 transition-all duration-300 "+(E?"bg-white/95 backdrop-blur-md shadow-lg border-b border-gray-200":"bg-white/80 backdrop-blur-sm"),children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center py-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:"/nexusmwi-logo.png",alt:"NexusMWI Logo",className:"h-8 w-auto mr-2 transition-transform duration-300 hover:scale-105",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.marginLeft="0"}}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"NexusMWI"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsx("a",{href:"#features",className:"font-medium text-gray-600 hover:text-blue-600 transition-colors text-sm",children:"Features"}),e.jsx("a",{href:"#benefits",className:"font-medium text-gray-600 hover:text-blue-600 transition-colors text-sm",children:"Benefits"}),e.jsx("a",{href:"#process",className:"font-medium text-gray-600 hover:text-blue-600 transition-colors text-sm",children:"How it Works"}),e.jsx("button",{onClick:()=>I(!0),className:"font-medium text-gray-600 hover:text-blue-600 transition-colors text-sm",children:"Pricing"}),e.jsx("a",{href:"#testimonials",className:"font-medium text-gray-600 hover:text-blue-600 transition-colors text-sm",children:"Testimonials"}),e.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors text-sm",children:"Login"}),e.jsx("a",{href:"/beta",className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-2 px-4 rounded-2xl transition-all duration-300 hover:shadow-lg hover:scale-105 text-sm",children:"Get Started"})]}),e.jsx("button",{className:"md:hidden focus:outline-none p-2 rounded-2xl hover:bg-gray-100 transition-colors",onClick:()=>T(!A),children:A?e.jsx(s,{className:"text-gray-900 w-5 h-5"}):e.jsx(a,{className:"text-gray-900 w-5 h-5"})})]}),A&&e.jsx("nav",{className:"md:hidden bg-white border-t border-gray-200 py-3 shadow-lg",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("a",{href:"#features",className:"text-gray-600 hover:text-blue-600 font-medium px-3 py-2 rounded-2xl hover:bg-gray-50 transition-colors text-sm",children:"Features"}),e.jsx("a",{href:"#benefits",className:"text-gray-600 hover:text-blue-600 font-medium px-3 py-2 rounded-2xl hover:bg-gray-50 transition-colors text-sm",children:"Benefits"}),e.jsx("a",{href:"#process",className:"text-gray-600 hover:text-blue-600 font-medium px-3 py-2 rounded-2xl hover:bg-gray-50 transition-colors text-sm",children:"How it Works"}),e.jsx("button",{onClick:()=>I(!0),className:"text-left text-gray-600 hover:text-blue-600 font-medium px-3 py-2 rounded-2xl hover:bg-gray-50 transition-colors text-sm",children:"Pricing"}),e.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-blue-600 font-medium px-3 py-2 rounded-2xl hover:bg-gray-50 transition-colors text-sm",children:"Testimonials"}),e.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700 font-medium px-3 py-2 rounded-2xl hover:bg-blue-50 transition-colors text-sm",children:"Login"}),e.jsx("a",{href:"/beta",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium py-2.5 px-3 rounded-2xl text-center mx-3 transition-all duration-300 hover:shadow-lg text-sm",children:"Get Started"})]})})]})}),e.jsxs("section",{className:"pt-20 pb-10 md:pt-24 md:pb-12 bg-gradient-to-br from-blue-50 via-white to-purple-50 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-48 h-48 bg-blue-200 rounded-full opacity-20 blur-3xl -translate-x-20 -translate-y-20"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-48 h-48 bg-purple-200 rounded-full opacity-20 blur-3xl translate-x-20 translate-y-20"}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"flex flex-col lg:flex-row items-center gap-8",children:[e.jsxs("div",{className:"lg:w-1/2 max-w-xl",children:[e.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-gray-900 leading-tight mb-4",children:["Transform Your",e.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 block",children:"Procurement"}),"Process"]}),e.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed",children:"A comprehensive cloud-based solution that streamlines requisitions, vendor management, purchase orders, and invoice processing for modern enterprises."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 mb-6",children:[e.jsxs("a",{href:"/beta",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:scale-105 group text-sm",children:["Get Started Free",e.jsx(t,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 border-2 border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50 font-medium py-3 px-6 rounded-2xl transition-all duration-300 text-sm",children:[e.jsx(i,{className:"w-4 h-4"}),"Watch Demo"]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"14-day free trial"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"Cancel anytime"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:H.map((t,r)=>e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-3 border border-gray-200 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("div",{className:`p-1.5 rounded-xl bg-gradient-to-r ${t.gradient} shadow-md`,children:e.jsx("div",{className:"text-white",children:t.icon})}),e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.value})]}),e.jsx("div",{className:"text-xs text-gray-600",children:t.label})]},r))})]}),e.jsx("div",{className:"lg:w-1/2 max-w-lg",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-4 hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl p-4 text-white mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/nexusmwi-logo.png",alt:"NexusMWI Logo",className:"h-5 w-auto opacity-80",onError:e=>{e.target.style.display="none"}}),e.jsx("h3",{className:"font-semibold text-sm",children:"Procurement Dashboard"})]}),e.jsx(o,{className:"w-4 h-4"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold",children:"$2.4M"}),e.jsx("div",{className:"text-blue-100 text-xs",children:"Total Savings"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold",children:"94%"}),e.jsx("div",{className:"text-blue-100 text-xs",children:"Efficiency"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-emerald-50 to-green-50 rounded-2xl border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-emerald-500 to-green-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(n,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Purchase Order #1234"})]}),e.jsx("span",{className:"text-emerald-600 font-medium text-xs bg-emerald-100 px-2 py-1 rounded-2xl",children:"Approved"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-2xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-blue-500 to-cyan-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(l,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Vendor Review"})]}),e.jsx("span",{className:"text-blue-600 font-medium text-xs bg-blue-100 px-2 py-1 rounded-2xl",children:"Pending"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-purple-50 to-violet-50 rounded-2xl border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center shadow-md",children:e.jsx(c,{className:"w-3 h-3 text-white"})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:"Invoice Processing"})]}),e.jsx("span",{className:"text-purple-600 font-medium text-xs bg-purple-100 px-2 py-1 rounded-2xl",children:"Active"})]})]})]}),e.jsx("div",{ref:q,className:"absolute -bottom-4 -left-4 bg-white rounded-2xl shadow-lg border border-gray-200 p-3 transition-all duration-700",style:{transform:P?"translateY(0) scale(1)":"translateY(20px) scale(0.9)",opacity:P?1:0},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center shadow-md",children:e.jsx(d,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:[O,"+"]}),e.jsx("div",{className:"text-xs text-gray-500 font-medium",children:"Companies Trust Us"})]})]})}),e.jsx("div",{className:"absolute -top-4 -right-4 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg p-3 text-white transition-all duration-700 delay-300",style:{transform:P?"translateY(0) scale(1)":"translateY(-20px) scale(0.9)",opacity:P?1:0},children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"99.9% Uptime"})]})})]})})]})})]}),e.jsx("section",{className:"py-8 bg-white border-y border-gray-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8 max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Proven Results Across Industries"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Join leading organizations that have transformed their procurement processes with measurable results."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 max-w-5xl mx-auto",children:[e.jsx(G,{title:"Uptime Reliability",value:"99.9%",icon:u,color:"emerald",trend:2,subtitle:"Always available",gradient:"from-emerald-500 to-green-500",bgGradient:"from-emerald-50 to-green-50"}),e.jsx(G,{title:"Cost Reduction",value:"30%",icon:m,color:"blue",trend:12,subtitle:"Average savings",gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 to-cyan-50"}),e.jsx(G,{title:"Faster Processing",value:"65%",icon:h,color:"purple",trend:18,subtitle:"Improved speed",gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 to-violet-50"}),e.jsx(G,{title:"Customer Rating",value:"4.9/5",icon:p,color:"orange",subtitle:"User satisfaction",gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50"})]})]})}),e.jsx("section",{id:"process",className:"py-10 bg-gradient-to-br from-gray-50 to-blue-50","data-animate":!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:"Simple Process"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"How NexusMWI Works"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Our streamlined process makes procurement management effortless, from requisition to payment."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-5xl mx-auto",children:V.map((r,n)=>e.jsxs("div",{className:"relative group",style:{transform:P?"translateY(0)":"translateY(30px)",opacity:P?1:0,transition:`all 0.6s ease-out ${150*n}ms`},children:[e.jsxs("div",{className:`bg-gradient-to-br ${r.bgGradient} rounded-2xl p-6 border border-gray-200 hover:shadow-xl transition-all duration-300 hover:-translate-y-2 text-center group-hover:border-transparent`,children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${r.gradient} rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-sm",children:r.step})}),e.jsx("div",{className:`mb-3 flex justify-center p-2 rounded-2xl bg-gradient-to-r ${r.gradient} w-fit mx-auto group-hover:scale-110 transition-transform shadow-md`,children:r.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:r.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:r.description})]}),n<V.length-1&&e.jsx("div",{className:"hidden lg:block absolute top-1/2 -right-3 transform -translate-y-1/2",children:e.jsx(t,{className:"w-5 h-5 text-gray-300"})})]},n))})]})}),e.jsx("section",{id:"features",className:"py-10 bg-white","data-animate":!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-emerald-500 to-green-500 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(x,{className:"w-4 h-4"}),e.jsx("span",{children:"Powerful Features"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Everything You Need in One Platform"}),e.jsx("p",{className:"text-lg text-gray-600",children:"Our comprehensive solution covers the entire procurement lifecycle with advanced automation and intelligent insights."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:$.map((t,r)=>e.jsxs("div",{className:`bg-gradient-to-br ${t.bgGradient} rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-all duration-500 hover:-translate-y-2 group hover:border-transparent`,style:{transform:P?"translateY(0)":"translateY(30px)",opacity:P?1:0,transition:`all 0.6s ease-out ${150*r}ms`},children:[e.jsx("div",{className:`p-3 rounded-2xl mb-4 w-fit group-hover:scale-110 transition-transform duration-300 bg-gradient-to-r ${t.gradient} shadow-lg`,children:t.icon}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed mb-4 text-sm",children:t.description}),e.jsx("div",{className:"space-y-2",children:t.benefits.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-600",children:t})]},r))})]},r))})]})}),e.jsx("section",{id:"benefits",className:"py-10 bg-gradient-to-br from-blue-50 to-purple-50","data-animate":!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-purple-500 to-violet-500 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsx("span",{children:"Proven Results"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Measurable Business Impact"}),e.jsx("p",{className:"text-lg text-gray-600 leading-relaxed",children:"Our procurement system delivers tangible business benefits that directly impact your bottom line and operational efficiency."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto",children:U.map((t,r)=>e.jsxs("div",{className:`bg-gradient-to-br ${t.bgGradient} rounded-2xl border border-gray-200 p-6 hover:shadow-xl transition-all duration-500 hover:-translate-y-2 group hover:border-transparent`,style:{transform:P?"translateY(0)":"translateY(30px)",opacity:P?1:0,transition:`all 0.6s ease-out ${150*r}ms`},children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:`p-3 rounded-2xl group-hover:scale-110 transition-transform duration-300 bg-gradient-to-r ${t.gradient} shadow-lg`,children:t.icon}),e.jsx("div",{className:"flex-1",children:e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:t.title})})]}),e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:t.metric}),e.jsx("div",{className:"text-sm text-gray-500 font-medium",children:t.subtext})]}),e.jsx("p",{className:"text-gray-600 leading-relaxed text-center text-sm",children:t.description})]},r))})]})}),e.jsx("section",{className:"py-10 bg-white","data-animate":!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:"Seamless Integrations"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-4",children:"Connect with Your Existing Tools"}),e.jsx("p",{className:"text-lg text-gray-600",children:"NexusMWI integrates seamlessly with your existing business systems, ensuring a smooth transition and unified workflow."})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 max-w-4xl mx-auto",children:[{name:"SAP",type:"ERP",logo:"SAP",color:"from-blue-600 to-blue-700"},{name:"Oracle",type:"ERP",logo:"ORC",color:"from-red-600 to-red-700"},{name:"Microsoft",type:"Office Suite",logo:"MS",color:"from-blue-500 to-blue-600"},{name:"Salesforce",type:"CRM",logo:"SF",color:"from-blue-400 to-blue-500"},{name:"QuickBooks",type:"Accounting",logo:"QB",color:"from-green-600 to-green-700"},{name:"NetSuite",type:"ERP",logo:"NS",color:"from-orange-600 to-orange-700"}].map((t,r)=>e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-4 flex flex-col items-center justify-center hover:shadow-xl transition-all duration-300 hover:-translate-y-2 group border border-gray-200 hover:border-transparent",style:{opacity:P?1:0,transform:P?"scale(1)":"scale(0.9)",transitionDelay:100*r+"ms"},children:[e.jsx("div",{className:`w-10 h-10 rounded-2xl bg-gradient-to-r ${t.color} flex items-center justify-center mb-2 group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx("span",{className:"text-sm font-bold text-white",children:t.logo})}),e.jsx("p",{className:"font-semibold text-gray-900 text-sm text-center",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:t.type})]},r))}),e.jsxs("div",{className:"text-center mt-8",children:[e.jsx("p",{className:"text-gray-600 mb-4 text-sm",children:"Need a custom integration? Our API makes it possible."}),e.jsxs("a",{href:"/integrations",className:"inline-flex items-center gap-2 bg-gradient-to-r from-gray-800 to-gray-900 text-white px-6 py-3 rounded-2xl hover:from-gray-900 hover:to-black transition-all duration-300 hover:shadow-lg hover:scale-105 text-sm",children:["View All Integrations",e.jsx(t,{className:"w-4 h-4"})]})]})]})}),e.jsx("section",{className:"py-10 bg-gradient-to-br from-gray-50 to-blue-50","data-animate":!0,children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8 max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-3",children:"Trusted By Leading Organizations"}),e.jsxs("p",{className:"text-lg text-gray-600",children:["Join over ",e.jsxs("span",{className:"text-blue-600 font-bold",children:[O,"+"]})," companies that trust our procurement solutions"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 max-w-5xl mx-auto",children:[{name:"Tech Global",industry:"Technology",logo:"TG",color:"from-blue-500 to-blue-600"},{name:"Acme Corp",industry:"Manufacturing",logo:"AC",color:"from-green-500 to-green-600"},{name:"Nexus Health",industry:"Healthcare",logo:"NH",color:"from-red-500 to-red-600"},{name:"Pinnacle Finance",industry:"Finance",logo:"PF",color:"from-yellow-500 to-yellow-600"},{name:"Vertex Solutions",industry:"Consulting",logo:"VS",color:"from-purple-500 to-purple-600"},{name:"EcoTech",industry:"Energy",logo:"ET",color:"from-emerald-500 to-emerald-600"},{name:"Global Industries",industry:"Manufacturing",logo:"GI",color:"from-orange-500 to-orange-600"},{name:"Smart Systems",industry:"Technology",logo:"SS",color:"from-indigo-500 to-indigo-600"}].map((t,r)=>e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl border border-gray-200 p-3 flex flex-col items-center justify-center hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group hover:border-transparent",style:{opacity:P?1:0,transform:P?"scale(1)":"scale(0.9)",transitionDelay:100*r+"ms"},children:[e.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-r ${t.color} flex items-center justify-center mb-2 group-hover:scale-110 transition-transform shadow-md`,children:e.jsx("span",{className:"text-sm font-bold text-white",children:t.logo})}),e.jsx("p",{className:"font-semibold text-gray-900 text-xs text-center",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:t.industry})]},r))})]})}),e.jsxs("section",{id:"testimonials",className:"py-10 bg-gradient-to-br from-blue-600 to-purple-700 relative overflow-hidden","data-animate":!0,children:[e.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-3xl -translate-x-16 -translate-y-16"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-white/10 rounded-full blur-3xl translate-x-16 translate-y-16"}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 relative z-10",children:[e.jsxs("div",{className:"text-center mb-10 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm text-white px-4 py-2 rounded-2xl text-sm font-medium mb-4 shadow-lg",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"Client Success Stories"})]}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-4",children:"What Our Clients Say"}),e.jsx("p",{className:"text-lg text-blue-100",children:"Join hundreds of satisfied organizations that have transformed their procurement process with measurable results"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-5xl mx-auto",children:[{quote:"NexusMWI has revolutionized our procurement processes. We've reduced cycle times by 65% and improved vendor relationships significantly.",author:"Sarah Banda",position:"Chief Procurement Officer",company:"Global Tech Inc.",rating:5,avatar:"SB",industry:"Technology",employees:"5,000+",savings:"$1.2M annually",gradient:"from-blue-500 to-purple-600",bgGradient:"from-blue-50 to-purple-50"},{quote:"The vendor management module has been a game-changer. We can now track performance metrics in real-time.",author:"Michael Kaunda",position:"Supply Chain Director",company:"Nexus Manufacturing",rating:5,avatar:"MK",industry:"Manufacturing",employees:"2,500+",savings:"$800K annually",gradient:"from-emerald-500 to-teal-600",bgGradient:"from-emerald-50 to-teal-50"},{quote:"Implementation was seamless, and the support team was exceptional. The system pays for itself through efficiency gains alone.",author:"Priya Patel",position:"CFO",company:"Horizon Healthcare",rating:5,avatar:"PP",industry:"Healthcare",employees:"3,200+",savings:"$950K annually",gradient:"from-orange-500 to-red-600",bgGradient:"from-orange-50 to-red-50"}].map((t,r)=>e.jsxs("div",{className:`bg-gradient-to-br ${t.bgGradient} rounded-2xl p-6 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 group border border-white/20`,style:{opacity:P?1:0,transform:P?"translateY(0)":"translateY(30px)",transitionDelay:200*r+"ms"},children:[e.jsx("div",{className:"flex items-center mb-3",children:[...Array(t.rating)].map((t,r)=>e.jsx(p,{className:"w-4 h-4 text-yellow-400 fill-current"},r))}),e.jsxs("p",{className:"text-gray-700 italic mb-4 leading-relaxed text-sm",children:['"',t.quote,'"']}),e.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-r ${t.gradient} flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg`,children:e.jsx("span",{className:"text-white font-bold text-sm",children:t.avatar})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:t.author}),e.jsx("p",{className:"text-sm text-gray-600",children:t.position}),e.jsx("p",{className:"text-sm text-gray-500",children:t.company})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Industry"}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.industry})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Employees"}),e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:t.employees})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-gray-500 text-xs",children:"Annual Savings"}),e.jsx("p",{className:"font-medium text-emerald-600 text-sm",children:t.savings})]})]})]})]},r))})]})]}),e.jsxs("section",{className:"py-10 bg-white relative overflow-hidden","data-animate":!0,children:[e.jsx("div",{className:"absolute top-0 left-0 w-24 h-24 bg-blue-100 rounded-full opacity-70 blur-3xl -translate-x-12 -translate-y-12"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-purple-100 rounded-full opacity-70 blur-3xl translate-x-16 translate-y-16"}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 relative z-10",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-2xl text-sm font-medium mb-6 hover:scale-105 transition-transform shadow-lg",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Limited Time: 20% Off Annual Plans"})]}),e.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-900 mb-4",children:"Ready to Transform Your Procurement Process?"}),e.jsx("p",{className:"text-lg text-gray-600 mb-6 leading-relaxed max-w-2xl mx-auto",children:"Start your 14-day free trial today or schedule a personalized demo with our product specialists to see how NexusMWI can revolutionize your procurement operations."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 mb-6",children:[e.jsxs("a",{href:"/beta",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-medium py-3 px-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:scale-105 group text-sm",children:["Start Free Trial",e.jsx(t,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),e.jsxs("button",{onClick:()=>I(!0),className:"flex items-center justify-center gap-2 border-2 border-gray-300 text-gray-700 hover:border-blue-300 hover:bg-blue-50 font-medium py-3 px-6 rounded-2xl transition-all duration-300 group text-sm",children:["View Pricing",e.jsx(m,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]}),e.jsxs("a",{href:"/demo",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-900 hover:to-black text-white font-medium py-3 px-6 rounded-2xl transition-all duration-300 hover:shadow-lg hover:scale-105 group text-sm",children:["Schedule Demo",e.jsx(v,{className:"w-4 h-4 group-hover:scale-110 transition-transform"})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 text-sm text-gray-500 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"No credit card required"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"Easy setup in minutes"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"Cancel anytime"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(n,{className:"w-3 h-3 text-emerald-500"}),e.jsx("span",{className:"text-xs",children:"Dedicated support"})]})]}),e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl p-6 max-w-2xl mx-auto border border-gray-200",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 mb-1",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Companies served"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 mb-1",children:"99.9%"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Uptime guarantee"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-gray-900 mb-1",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Expert support"})]})]})})]})})]}),e.jsx("footer",{className:"bg-gray-900 text-white py-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6 mb-8",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:"/nexusmwi-logo.png",alt:"NexusMWI Logo",className:"h-6 w-auto mr-2 opacity-80",onError:e=>{e.target.style.display="none",e.target.nextElementSibling.style.marginLeft="0"}}),e.jsx("span",{className:"text-xl font-bold",children:"NexusMWI"})]}),e.jsx("p",{className:"text-gray-400 mb-4 leading-relaxed max-w-md text-sm",children:"Streamlining procurement processes for modern enterprises with intelligent automation, comprehensive analytics, and seamless integrations. Transform your procurement operations today."}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-600 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Facebook"}),e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})})]}),e.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-400 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"Twitter"}),e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124-4.09-.193-7.715-2.157-10.141-5.126-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.418-.015-.628.961-.689 1.8-1.56 2.46-2.548z"})})]}),e.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-blue-700 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"LinkedIn"}),e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})]}),e.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-full flex items-center justify-center hover:bg-gray-600 transition-colors",children:[e.jsx("span",{className:"sr-only",children:"GitHub"}),e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"})})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Product"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#features",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Features"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>I(!0),className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Pricing"})}),e.jsx("li",{children:e.jsx("a",{href:"/integrations",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Integrations"})}),e.jsx("li",{children:e.jsx("a",{href:"/api",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"API"})}),e.jsx("li",{children:e.jsx("a",{href:"/security",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Security"})}),e.jsx("li",{children:e.jsx("a",{href:"/mobile",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Mobile App"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Resources"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/docs",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Documentation"})}),e.jsx("li",{children:e.jsx("a",{href:"/help",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Help Center"})}),e.jsx("li",{children:e.jsx("a",{href:"/blog",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Blog"})}),e.jsx("li",{children:e.jsx("a",{href:"/case-studies",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Case Studies"})}),e.jsx("li",{children:e.jsx("a",{href:"/webinars",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Webinars"})}),e.jsx("li",{children:e.jsx("a",{href:"/downloads",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Downloads"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold mb-4",children:"Company"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"/careers",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Careers"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"/partners",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Partners"})}),e.jsx("li",{children:e.jsx("a",{href:"/press",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Press"})}),e.jsx("li",{children:e.jsx("a",{href:"/investors",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Investors"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-800 pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("p",{className:"text-gray-400 mb-3 md:mb-0 text-sm",children:[" ",(new Date).getFullYear()," NexusMWI. All rights reserved."]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("a",{href:"/privacy-policy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),e.jsx("a",{href:"/terms-of-service",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"}),e.jsx("a",{href:"/cookie-policy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Cookie Policy"}),e.jsx("a",{href:"/gdpr",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"GDPR"}),e.jsx("a",{href:"/accessibility",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Accessibility"})]})]})})]})})]})}const En={apiKey:"AIzaSyDufLfYOIVFQp0kPdMBJLZSV5XEeubfdao",authDomain:"nexusmwi.firebaseapp.com",projectId:"nexusmwi",storageBucket:"nexusmwi.firebasestorage.app",messagingSenderId:"647405442964",appId:"1:647405442964:web:91c65d3f13fd82723c6181"};if(Object.entries(En).filter(([e,t])=>!t).length>0)throw new Error("Firebase configuration is incomplete. Check your environment variables.");const _n=Zr(Qr(En)),Pn=["Software Engineer","Senior Software Engineer","Lead Engineer","Product Manager","Senior Product Manager","Data Scientist","Data Analyst","UI/UX Designer","Senior Designer","DevOps Engineer","Quality Assurance Engineer","Business Analyst","Project Manager","Scrum Master","Sales Representative","Sales Manager","Marketing Specialist","Marketing Manager","HR Specialist","HR Manager","Finance Analyst","Accountant","Administrative Assistant","Office Manager","Customer Support Representative","Customer Success Manager"],Dn=["Enterprise(CEO, CFO, etc.)","CEO","CFO","CTO","COO","Executive"];function On(){const[t,r]=qr.useState(""),[n,s]=qr.useState(""),{login:a}=An(),i=$r(),[o,l]=qr.useState(!1),[u,m]=qr.useState(!1),[h,p]=qr.useState(!1),[f,x]=qr.useState(""),[g,b]=qr.useState(0),y=[{icon:c,title:"Time & Attendance",description:"Track attendance and time-off in real-time",gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-50 to-cyan-50"},{icon:j,title:"Recruitment",description:"Manage job postings and applications",gradient:"from-emerald-500 to-green-500",bgGradient:"from-emerald-50 to-green-50"},{icon:v,title:"Scheduling",description:"Optimize schedules and shift management",gradient:"from-purple-500 to-violet-500",bgGradient:"from-purple-50 to-violet-50"},{icon:A,title:"Procurement",description:"Streamline purchase requests and vendors",gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-50 to-red-50"},{icon:d,title:"Performance",description:"Track KPIs and employee metrics",gradient:"from-indigo-500 to-purple-500",bgGradient:"from-indigo-50 to-purple-50"}];qr.useEffect(()=>{const e=setInterval(()=>{b(e=>(e+1)%y.length)},4e3);return()=>clearInterval(e)},[y.length]);const w=e=>{if(!e.billing)return!1;const{subscription:t,trialEndDate:r}=e.billing,n=new Date,s=r?new Date(r):null;return"active"===t?.status&&"trial"!==t?.plan||"trial"===t?.plan&&(!(!s||isNaN(s.getTime()))&&s>n)};return e.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-gray-50 to-blue-50",children:[e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-600 to-purple-700 flex-col justify-center items-center text-white relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute w-64 h-64 bg-blue-400 rounded-full opacity-20 -top-16 -left-16 animate-pulse"}),e.jsx("div",{className:"absolute w-64 h-64 bg-purple-400 rounded-full opacity-20 bottom-8 -right-16 animate-pulse",style:{animationDelay:"1s",animationDuration:"8s"}}),e.jsx("div",{className:"absolute w-48 h-48 bg-cyan-300 rounded-full opacity-15 bottom-1/4 left-1/4 animate-pulse",style:{animationDelay:"0.5s",animationDuration:"6s"}})]}),e.jsxs("div",{className:"max-w-sm z-10 space-y-4 p-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Welcome Back"}),e.jsx("p",{className:"text-sm text-white/90 leading-relaxed",children:"Access your account to manage procurement requests, track orders, and streamline operations."})]}),e.jsxs("div",{className:"py-4",children:[e.jsx("div",{className:"relative h-36",children:y.map((t,r)=>{const n=t.icon;return e.jsx("div",{className:"absolute w-full transition-all duration-700 transform "+(r===g?"opacity-100 translate-x-0":r<g?"opacity-0 -translate-x-full":"opacity-0 translate-x-full"),children:e.jsxs("div",{className:"flex flex-col items-center p-4 bg-white/10 backdrop-blur-sm rounded-2xl space-y-2 border border-white/20",children:[e.jsx("div",{className:`p-2.5 bg-gradient-to-r ${t.gradient} rounded-2xl shadow-lg`,children:e.jsx(n,{size:20,className:"text-white"})}),e.jsx("h3",{className:"text-base font-bold",children:t.title}),e.jsx("p",{className:"text-center text-xs text-white/90 leading-relaxed",children:t.description})]})},r)})}),e.jsx("div",{className:"flex justify-center space-x-1.5 mt-3",children:y.map((t,r)=>e.jsx("div",{className:"h-1 rounded-full transition-all duration-500 "+(r===g?"w-4 bg-white shadow-sm":"w-1 bg-white/40")},r))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-white/10 to-white/5 p-4 rounded-2xl backdrop-blur-sm border border-white/20",children:[e.jsx("p",{className:"italic text-xs leading-relaxed",children:'"This platform has streamlined our entire procurement process, saving us countless hours every month."'}),e.jsx("p",{className:"mt-2 font-semibold text-xs",children:" Sarah Banda, Procurement Manager"})]})]})]}),e.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("div",{className:"inline-block",children:e.jsx("div",{className:"inline-flex items-center",children:e.jsx("img",{src:"/hrms-logo.png",className:"h-20 w-auto mx-auto",alt:"HRMS Logo"})})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Login to Your Account"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Enter your credentials to access the platform"})]})]}),f&&e.jsxs("div",{className:"p-2.5 bg-gradient-to-r from-red-50 to-pink-50 border border-red-200 rounded-2xl flex items-start text-red-700 space-x-2",children:[e.jsx(T,{className:"h-3.5 w-3.5 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-xs leading-relaxed",children:f})]}),e.jsxs("form",{className:"space-y-3",onSubmit:async e=>{e.preventDefault(),l(!0),x("");try{if(!t||!n)throw new Error("Please enter both email and password");await a(t,n);const e=JSON.parse(localStorage.getItem("user"));if(!e)throw new Error("User data not found. Please try logging in again.");const r=w(e);let s={admin:"/dashboard",procurement_officer:"/dashboard","IT/Technical":"/dashboard","Executive (CEO, CFO, etc.)":"/dashboard",Management:"/dashboard","Human Resources":"/dashboard","Accounting/Finance":"/dashboard","Enterprise(CEO, CFO, etc.)":"/dashboard",Vendor:"/vendor-dash",Driver:"/driver-dash","Sales/Marketing":"/employee-dash","Software Engineer":"/employee-dash","Senior Software Engineer":"/employee-dash","Lead Engineer":"/employee-dash","Product Manager":"/employee-dash","Senior Product Manager":"/employee-dash","Data Scientist":"/employee-dash","Data Analyst":"/employee-dash","UI/UX Designer":"/employee-dash","Senior Designer":"/employee-dash","DevOps Engineer":"/employee-dash","Quality Assurance Engineer":"/employee-dash","Business Analyst":"/employee-dash","Project Manager":"/employee-dash","Scrum Master":"/employee-dash","Sales Representative":"/employee-dash","Sales Manager":"/employee-dash","Marketing Specialist":"/employee-dash","Marketing Manager":"/employee-dash","HR Specialist":"/employee-dash","HR Manager":"/employee-dash","Finance Analyst":"/employee-dash",Accountant:"/employee-dash","Administrative Assistant":"/employee-dash","Office Manager":"/employee-dash","Customer Support Representative":"/employee-dash","Customer Success Manager":"/employee-dash"}[e.role]||"/employee-dash";r||["Vendor","Driver",...Dn,...Pn].includes(e.role)||(s="/billing"),i(s)}catch(r){const e=r.response?.data?.message||r.message||"Login failed. Please check your credentials and try again.";x(e)}finally{l(!1)}},children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-xs font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsx("input",{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-300 hover:border-blue-300 text-sm bg-white/80 backdrop-blur-sm",placeholder:"name@company.com",required:!0})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("label",{htmlFor:"password",className:"block text-xs font-medium text-gray-700",children:"Password"}),e.jsx("a",{href:"/forgot-password",className:"text-xs text-blue-600 hover:text-blue-800 hover:underline",children:"Forgot password?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:h?"text":"password",value:n,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-300 hover:border-blue-300 text-sm bg-white/80 backdrop-blur-sm",placeholder:"",required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 p-1 rounded-xl hover:bg-gray-100 transition-colors","aria-label":h?"Hide password":"Show password",children:h?e.jsx(E,{size:14}):e.jsx(_,{size:14})})]})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center items-center py-2.5 px-4 border border-transparent rounded-2xl shadow-lg text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 text-sm font-medium "+(o?"opacity-80 cursor-not-allowed":"hover:scale-[1.02] hover:shadow-xl"),children:o?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3.5 w-3.5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-xs",children:e.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"Or continue with"})})]}),e.jsx("button",{onClick:async()=>{m(!0),x("");try{const e=new en,t=await tn(_n,e),r=(en.credentialFromResult(t).accessToken,t.user),n=await fetch("https://backend.nexusmwi.com/api/auth/google-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,name:r.displayName,googleId:r.uid})}),s=await n.json();if(!n.ok)throw new Error(s.message||"Google login failed");s.exists?(localStorage.setItem("user",JSON.stringify(s.user)),localStorage.setItem("token",s.token),i("/dashboard")):i("/register",{state:{email:r.email,firstName:r.displayName.split(" ")[0],lastName:r.displayName.split(" ")[1]||"",googleSignup:!0}})}catch(e){x(e.message||"Google login failed. Try again.")}finally{m(!1)}},disabled:u,className:"w-full flex justify-center items-center py-2.5 px-4 border border-gray-300 rounded-2xl shadow-sm bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-all duration-300 text-sm font-medium text-gray-700 "+(u?"opacity-80 cursor-not-allowed":"hover:scale-[1.02] hover:shadow-md"),children:u?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-3.5 w-3.5 text-gray-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})}),e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("p",{className:"text-xs text-gray-600",children:["Don't have an account?"," ",e.jsx("a",{href:"/beta",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Register now"})]}),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["By signing in, you agree to our"," ",e.jsx("a",{href:"/terms-of-service",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:underline",children:"Privacy Policy"})]})})]})]})})]})}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Ln=e=>"number"==typeof e&&!isNaN(e),Mn=e=>"string"==typeof e,In=e=>"function"==typeof e,Rn=e=>Mn(e)||In(e)?e:null,zn=(e,t)=>!1===e||Ln(e)&&e>0?e:t,Fn=e=>qr.isValidElement(e)||Mn(e)||In(e)||Ln(e);function Bn(e,t){return{content:qn(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function qn(e,t,r=!1){return qr.isValidElement(e)&&!Mn(e.type)?qr.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):In(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:r}):e}function $n({delay:e,isRunning:t,closeToast:r,type:n="default",hide:s,className:a,controlledProgress:i,progress:o,rtl:l,isIn:c,theme:d}){let u=s||i&&0===o,m={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};i&&(m.transform=`scaleX(${o})`);let h=P("Toastify__progress-bar",i?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${n}`,{"Toastify__progress-bar--rtl":l}),p=In(a)?a({rtl:l,type:n,defaultClassName:h}):P(h,a),f={[i&&o>=1?"onTransitionEnd":"onAnimationEnd"]:i&&o<1?null:()=>{c&&r()}};return Ur.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},Ur.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${d} Toastify__progress-bar--${n}`}),Ur.createElement("div",{role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:p,style:m,...f}))}var Un=1,Wn=()=>""+Un++;function Vn(e,t,r){let n=1,s=0,a=[],i=[],o=t,l=new Map,c=new Set,d=()=>{i=Array.from(l.values()),c.forEach(e=>e())},u=e=>{var t,r;null==(r=null==(t=e.props)?void 0:t.onClose)||r.call(t,e.removalReason),e.isActive=!1},m=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},h=e=>{var t,n;let{toastId:s,updateId:a}=e.props,i=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(s,e),d(),r(Bn(e,i?"added":"updated")),i&&(null==(n=(t=e.props).onOpen)||n.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(r=>{var n;(null==t||t===r.props.toastId)&&(null==(n=r.toggle)||n.call(r,e))})},removeToast:m,toasts:l,clearQueue:()=>{s-=a.length,a=[]},buildToast:(t,i)=>{if((({containerId:t,toastId:r,updateId:n})=>{let s=t?t!==e:1!==e,a=l.has(r)&&null==n;return s||a})(i))return;let{toastId:c,updateId:u,data:p,staleId:f,delay:x}=i,g=null==u;g&&s++;let b={...o,style:o.toastStyle,key:n++,...Object.fromEntries(Object.entries(i).filter(([e,t])=>null!=t)),toastId:c,updateId:u,data:p,isIn:!1,className:Rn(i.className||o.toastClassName),progressClassName:Rn(i.progressClassName||o.progressClassName),autoClose:!i.isLoading&&zn(i.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,m(c)},deleteToast(){let e=l.get(c);if(null!=e){if(r(Bn(e,"removed")),l.delete(c),s--,s<0&&(s=0),a.length>0)return void h(a.shift());d()}}};b.closeButton=o.closeButton,!1===i.closeButton||Fn(i.closeButton)?b.closeButton=i.closeButton:!0===i.closeButton&&(b.closeButton=!Fn(o.closeButton)||o.closeButton);let y={content:t,props:b,staleId:f};o.limit&&o.limit>0&&s>o.limit&&g?a.push(y):Ln(x)?setTimeout(()=>{h(y)},x):h(y)},setProps(e){o=e},setToggle:(e,t)=>{let r=l.get(e);r&&(r.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>i}}var Hn=new Map,Gn=[],Kn=new Set,Yn=e=>Kn.forEach(t=>t(e)),Xn=()=>Hn.size>0;function Jn(e,t){var r;if(t)return!(null==(r=Hn.get(t))||!r.isToastActive(e));let n=!1;return Hn.forEach(t=>{t.isToastActive(e)&&(n=!0)}),n}function Qn(e){if(Xn()){if(null==e||(e=>Mn(e)||Ln(e))(e))Hn.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Hn.get(e.containerId);t?t.removeToast(e.id):Hn.forEach(t=>{t.removeToast(e.id)})}}else Gn=Gn.filter(t=>null!=e&&t.options.toastId!==e)}function Zn(e,t){Fn(e)&&(Xn()||Gn.push({content:e,options:t}),Hn.forEach(r=>{r.buildToast(e,t)}))}function es(e,t){Hn.forEach(r=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===r.id)&&r.toggle(e,null==t?void 0:t.id)})}function ts(e){let t=e.containerId||1;return{subscribe(r){let n=Vn(t,e,Yn);Hn.set(t,n);let s=n.observe(r);return Gn.forEach(e=>Zn(e.content,e.options)),Gn=[],()=>{s(),Hn.delete(t)}},setProps(e){var r;null==(r=Hn.get(t))||r.setProps(e)},getSnapshot(){var e;return null==(e=Hn.get(t))?void 0:e.getSnapshot()}}}function rs(e){return e&&(Mn(e.toastId)||Ln(e.toastId))?e.toastId:Wn()}function ns(e,t){return Zn(e,t),t.toastId}function ss(e,t){return{...t,type:t&&t.type||e,toastId:rs(t)}}function as(e){return(t,r)=>ns(t,ss(e,r))}function is(e,t){return ns(e,ss("default",t))}function os(e){let[t,r]=qr.useState(!1),[n,s]=qr.useState(!1),a=qr.useRef(null),i=qr.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:o,pauseOnHover:l,closeToast:c,onClick:d,closeOnClick:u}=e;function m(){r(!0)}function h(){r(!1)}function p(r){let n=a.current;if(i.canDrag&&n){i.didMove=!0,t&&h(),"x"===e.draggableDirection?i.delta=r.clientX-i.start:i.delta=r.clientY-i.start,i.start!==r.clientX&&(i.canCloseOnClick=!1);let s="x"===e.draggableDirection?`${i.delta}px, var(--y)`:`0, calc(${i.delta}px + var(--y))`;n.style.transform=`translate3d(${s},0)`,n.style.opacity=""+(1-Math.abs(i.delta/i.removalDistance))}}function f(){document.removeEventListener("pointermove",p),document.removeEventListener("pointerup",f);let t=a.current;if(i.canDrag&&i.didMove&&t){if(i.canDrag=!1,Math.abs(i.delta)>i.removalDistance)return s(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Hn.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),qr.useEffect(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||h(),window.addEventListener("focus",m),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",h)}},[e.pauseOnFocusLoss]);let x={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){i.didMove=!1,document.addEventListener("pointermove",p),document.addEventListener("pointerup",f);let r=a.current;i.canCloseOnClick=!0,i.canDrag=!0,r.style.transition="none","x"===e.draggableDirection?(i.start=t.clientX,i.removalDistance=r.offsetWidth*(e.draggablePercent/100)):(i.start=t.clientY,i.removalDistance=r.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:r,bottom:n,left:s,right:i}=a.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=i&&t.clientY>=r&&t.clientY<=n?h():m()}};return o&&l&&(x.onMouseEnter=h,e.stacked||(x.onMouseLeave=m)),u&&(x.onClick=e=>{d&&d(e),i.canCloseOnClick&&c(!0)}),{playToast:m,pauseToast:h,isRunning:t,preventExitTransition:n,toastRef:a,eventHandlers:x}}is.loading=(e,t)=>ns(e,ss("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),is.promise=function(e,{pending:t,error:r,success:n},s){let a;t&&(a=Mn(t)?is.loading(t,s):is.loading(t.render,{...s,...t}));let i={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},o=(e,t,r)=>{if(null==t)return void is.dismiss(a);let n={type:e,...i,...s,data:r},o=Mn(t)?{render:t}:t;return a?is.update(a,{...n,...o}):is(o.render,{...n,...o}),r},l=In(e)?e():e;return l.then(e=>o("success",n,e)).catch(e=>o("error",r,e)),l},is.success=as("success"),is.info=as("info"),is.error=as("error"),is.warning=as("warning"),is.warn=is.warning,is.dark=(e,t)=>ns(e,ss("default",{theme:"dark",...t})),is.dismiss=function(e){Qn(e)},is.clearWaitingQueue=(e={})=>{Hn.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},is.isActive=Jn,is.update=(e,t={})=>{let r=((e,{containerId:t})=>{var r;return null==(r=Hn.get(t||1))?void 0:r.toasts.get(e)})(e,t);if(r){let{props:n,content:s}=r,a={delay:100,...n,...t,toastId:t.toastId||e,updateId:Wn()};a.toastId!==e&&(a.staleId=e);let i=a.render||s;delete a.render,ns(i,a)}},is.done=e=>{is.update(e,{progress:1})},is.onChange=function(e){return Kn.add(e),()=>{Kn.delete(e)}},is.play=e=>es(!0,e),is.pause=e=>es(!1,e);var ls="undefined"!=typeof window?qr.useLayoutEffect:qr.useEffect,cs=({theme:e,type:t,isLoading:r,...n})=>Ur.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":`var(--toastify-icon-color-${t})`,...n});var ds={info:function(e){return Ur.createElement(cs,{...e},Ur.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ur.createElement(cs,{...e},Ur.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ur.createElement(cs,{...e},Ur.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ur.createElement(cs,{...e},Ur.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ur.createElement("div",{className:"Toastify__spinner"})}};function us({theme:e,type:t,isLoading:r,icon:n}){let s=null,a={theme:e,type:t};return!1===n||(In(n)?s=n({...a,isLoading:r}):qr.isValidElement(n)?s=qr.cloneElement(n,a):r?s=ds.spinner():(e=>e in ds)(t)&&(s=ds[t](a))),s}var ms=e=>{let{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:s,playToast:a}=os(e),{closeButton:i,children:o,autoClose:l,onClick:c,type:d,hideProgressBar:u,closeToast:m,transition:h,position:p,className:f,style:x,progressClassName:g,updateId:b,role:y,progress:v,rtl:j,toastId:w,deleteToast:N,isIn:k,isLoading:S,closeOnClick:C,theme:A,ariaLabel:T}=e,E=P("Toastify__toast",`Toastify__toast-theme--${A}`,`Toastify__toast--${d}`,{"Toastify__toast--rtl":j},{"Toastify__toast--close-on-click":C}),_=In(f)?f({rtl:j,position:p,type:d,defaultClassName:E}):P(E,f),D=us(e),O=!!v||!l,L={closeToast:m,type:d,theme:A},M=null;return!1===i||(M=In(i)?i(L):qr.isValidElement(i)?qr.cloneElement(i,L):function({closeToast:e,theme:t,ariaLabel:r="close"}){return Ur.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:t=>{t.stopPropagation(),e(!0)},"aria-label":r},Ur.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ur.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),Ur.createElement(h,{isIn:k,done:N,position:p,preventExitTransition:r,nodeRef:n,playToast:a},Ur.createElement("div",{id:w,tabIndex:0,onClick:c,"data-in":k,className:_,...s,style:x,ref:n,...k&&{role:y,"aria-label":T}},null!=D&&Ur.createElement("div",{className:P("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},D),qn(o,e,!t),M,!e.customProgressBar&&Ur.createElement($n,{...b&&!O?{key:`p-${b}`}:{},rtl:j,theme:A,delay:l,isRunning:t,isIn:k,closeToast:m,hide:u,type:d,className:g,controlledProgress:O,progress:v||0})))},hs=function({enter:e,exit:t,appendPosition:r=!1,collapse:n=!0,collapseDuration:s=300}){return function({children:a,position:i,preventExitTransition:o,done:l,nodeRef:c,isIn:d,playToast:u}){let m=r?`${e}--${i}`:e,h=r?`${t}--${i}`:t,p=qr.useRef(0);return qr.useLayoutEffect(()=>{let e=c.current,t=m.split(" "),r=n=>{n.target===c.current&&(u(),e.removeEventListener("animationend",r),e.removeEventListener("animationcancel",r),0===p.current&&"animationcancel"!==n.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",r),e.addEventListener("animationcancel",r)},[]),qr.useEffect(()=>{let e=c.current,t=()=>{e.removeEventListener("animationend",t),n?function(e,t,r=300){let{scrollHeight:n,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=n+"px",s.transition=`all ${r}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,r)})})}(e,l,s):l()};d||(o?t():(p.current=1,e.className+=` ${h}`,e.addEventListener("animationend",t)))},[d]),Ur.createElement(Ur.Fragment,null,a)}}(((e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}))("bounce",!0)),ps={position:"top-right",transition:hs,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code};function fs(e){let t={...ps,...e},r=e.stacked,[n,s]=qr.useState(!0),a=qr.useRef(null),{getToastToRender:i,isToastActive:o,count:l}=function(e){var t;let{subscribe:r,getSnapshot:n,setProps:s}=qr.useRef(ts(e)).current;s(e);let a=null==(t=qr.useSyncExternalStore(r,n,n))?void 0:t.slice();return{getToastToRender:function(t){if(!a)return[];let r=new Map;return e.newestOnTop&&a.reverse(),a.forEach(e=>{let{position:t}=e.props;r.has(t)||r.set(t,[]),r.get(t).push(e)}),Array.from(r,e=>t(e[0],e[1]))},isToastActive:Jn,count:null==a?void 0:a.length}}(t),{className:c,style:d,rtl:u,containerId:m,hotKeys:h}=t;function p(e){let t=P("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":u});return In(c)?c({position:e,rtl:u,defaultClassName:t}):P(t,Rn(c))}function f(){r&&(s(!0),is.play())}return ls(()=>{var e;if(r){let r=a.current.querySelectorAll('[data-in="true"]'),s=12,i=null==(e=t.position)?void 0:e.includes("top"),o=0,l=0;Array.from(r).reverse().forEach((e,t)=>{let r=e;r.classList.add("Toastify__toast--stacked"),t>0&&(r.dataset.collapsed=`${n}`),r.dataset.pos||(r.dataset.pos=i?"top":"bot");let a=o*(n?.2:1)+(n?0:s*t);r.style.setProperty("--y",`${i?a:-1*a}px`),r.style.setProperty("--g",`${s}`),r.style.setProperty("--s",""+(1-(n?l:0))),o+=r.offsetHeight,l+=.025})}},[n,l,r]),qr.useEffect(()=>{function e(e){var t;let r=a.current;h(e)&&(null==(t=r.querySelector('[tabIndex="0"]'))||t.focus(),s(!1),is.pause()),"Escape"===e.key&&(document.activeElement===r||null!=r&&r.contains(document.activeElement))&&(s(!0),is.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[h]),Ur.createElement("section",{ref:a,className:"Toastify",id:m,onMouseEnter:()=>{r&&(s(!1),is.pause())},onMouseLeave:f,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},i((e,t)=>{let n=t.length?{...d}:{...d,pointerEvents:"none"};return Ur.createElement("div",{tabIndex:-1,className:p(e),"data-stacked":r,style:n,key:`c-${e}`},t.map(({content:e,props:t})=>Ur.createElement(ms,{...t,stacked:r,collapseAll:f,isIn:o(t.toastId,t.containerId),key:`t-${t.key}`},e)))}))}function xs(){const t=Wr().state,[r,s]=qr.useState(0),a=$r(),[i,o]=qr.useState(t?.email||""),[l,c]=qr.useState(t?.firstName||""),[d,u]=qr.useState(t?.lastName||""),[m,h]=qr.useState(""),[p,f]=qr.useState(t?.googleSignup?(()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?";let t="";for(let r=0;r<32;r++){t+=e[Math.floor(88*Math.random())]}return t})():""),[x,g]=qr.useState(t?.googleSignup||!1),[b,y]=qr.useState(!1),[j,w]=qr.useState(""),[N,k]=qr.useState(""),[S,C]=qr.useState(""),[A,P]=qr.useState(!1),[$,W]=qr.useState(""),[V,H]=qr.useState(0),[G,K]=qr.useState(!1),[Y,X]=qr.useState(""),[J,Q]=qr.useState(!1),[Z,ee]=qr.useState(!1),[te,re]=qr.useState(null),[ne,se]=qr.useState(null),[ae,ie]=qr.useState(!1),[oe,le]=qr.useState(0),{register:ce,backendUrl:de}=An(),[ue,me]=qr.useState(null),[he,pe]=qr.useState(null),[fe,xe]=qr.useState(""),[ge,be]=qr.useState("");qr.useEffect(()=>{de&&"undefined"!==de||is.error("Configuration error: Unable to connect to server")},[de]);const ye=["Email","Personal","Company","Review"],ve=[{icon:D,title:"Quick Onboarding",description:"Secure registration process"},{icon:O,title:"Team Management",description:"Manage team with custom roles"},{icon:L,title:"Company Setup",description:"Customize for your organization"},{icon:M,title:"Workflow Design",description:"Create approval workflows"}];qr.useEffect(()=>{const e=setInterval(()=>{H(e=>(e+1)%ve.length)},4e3);return()=>clearInterval(e)},[]);const je=["Technology","Finance","Healthcare","Education","Manufacturing","Retail","Hospitality","Other"],we=["Enterprise(CEO, CFO, etc.)","Vendor","Other"],Ne=async()=>{ee(!0),W("");try{if(!de||"undefined"===de)throw new Error("Backend URL is not configured properly");if(!(await fetch(`${de}/api/auth/resend`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({phoneNumber:S})})).ok)throw new Error("Failed to resend verification code");is.success("Verification code resent successfully")}catch(e){is.error(e.message)}finally{ee(!1)}},ke=e=>{const t=e.target.files[0];t&&t.type.match("image.*")?(re(t),is.success("Logo uploaded successfully")):is.error("Please upload a valid image file")},Se=e=>{const t=e.target.files[0];t&&t.type.match("image.*")?(se(t),is.success("Signature uploaded successfully")):is.error("Please upload a valid image file")},Ce=async()=>{if(Y&&6===Y.length)if(de&&"undefined"!==de){P(!0),W("");try{const e=await fetch(`${de}/api/auth/email/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,code:Y})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Verification failed")}is.success("Email verified successfully!"),K(!0)}catch(e){is.error(e.message)}finally{P(!1)}}else is.error("Configuration error: Unable to connect to server");else is.error("Please enter a valid 6-digit code")};if(!de||"undefined"===de)return e.jsx("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-red-100 text-red-600 rounded-full",children:e.jsx(T,{size:24})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Unable to connect to server. Please check your internet connection and try again."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})});if(J)return G?e.jsxs("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:[e.jsx(fs,{}),e.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-green-100 text-green-600 rounded-full",children:e.jsx(n,{size:24})}),e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:[0===oe&&"Brand Your Account",1===oe&&"Add Your Signature",2===oe&&"Quick Platform Tour"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[0===oe&&"Upload your company logo to brand all your forms",1===oe&&"Add your signature for approvals",2===oe&&"Watch a quick overview of our platform"]})]}),ue&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:["Welcome, ",ue.firstName||l," ",ue.lastName||d,"!"]}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Role: ",ue.role||N," | Company: ",ue.companyName||m]})]}),e.jsxs("div",{className:"space-y-6",children:[0===oe&&e.jsx("div",{className:"flex flex-col items-center justify-center py-8 border-2 border-dashed border-gray-200 rounded-lg",children:te?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-3 p-2 bg-gray-100 rounded-lg",children:e.jsx("img",{src:URL.createObjectURL(te)||"/placeholder.svg",alt:"Company Logo Preview",className:"h-24 object-contain"})}),e.jsx("button",{onClick:()=>re(null),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Change Logo"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-3",children:e.jsx(I,{size:24,className:"text-blue-600"})}),e.jsx("label",{className:"cursor-pointer",children:e.jsxs("span",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Upload Logo",e.jsx("input",{type:"file",accept:"image/*",onChange:ke,className:"hidden"})]})}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG, JPG or SVG (Max. 5MB)"})]})}),1===oe&&e.jsx("div",{className:"flex flex-col items-center justify-center py-8 border-2 border-dashed border-gray-200 rounded-lg",children:ne?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-3 p-2 bg-gray-100 rounded-lg",children:e.jsx("img",{src:URL.createObjectURL(ne)||"/placeholder.svg",alt:"Signature Preview",className:"h-24 object-contain"})}),e.jsx("button",{onClick:()=>se(null),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Change Signature"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-3",children:e.jsx(R,{size:24,className:"text-purple-600"})}),e.jsx("label",{className:"cursor-pointer",children:e.jsxs("span",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Upload Signature",e.jsx("input",{type:"file",accept:"image/*",onChange:Se,className:"hidden"})]})}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG or JPG (Max. 2MB)"})]})}),2===oe&&e.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden aspect-video",children:e.jsx("div",{className:"h-full flex items-center justify-center bg-black",children:e.jsxs("div",{className:"text-center p-6",children:[e.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-red-100 text-red-600 rounded-full",children:e.jsx(z,{size:24})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:"Platform Walkthrough"}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Watch this 2-minute video to get started"}),e.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center mx-auto",children:[e.jsx(z,{size:16,className:"mr-2"}),"Play Video"]})]})})}),e.jsxs("div",{className:"flex justify-between items-center",children:[oe>0&&e.jsxs("button",{onClick:()=>le(oe-1),className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-all duration-200",children:[e.jsx(F,{size:16,className:"mr-2"}),"Back"]}),e.jsx("button",{onClick:()=>{oe<2?le(oe+1):(async()=>{if(de&&"undefined"!==de){P(!0),W("");try{if(te){const e=new FormData;e.append("logo",te),e.append("email",i.trim().toLowerCase());const t=await fetch(`${de}/api/auth/onboarding/logo`,{method:"PUT",body:e,headers:{Authorization:`Bearer ${he}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to upload logo")}}if(ne){const e=new FormData;e.append("signature",ne),e.append("email",i.trim().toLowerCase());const t=await fetch(`${de}/api/auth/onboarding/signature`,{method:"PUT",body:e,headers:{Authorization:`Bearer ${he}`}});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to upload signature")}}if(!ue)throw new Error("User data not available. Please try logging in again.");ie(!0),P(!1),is.success("Account setup complete! Redirecting to login page...",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{a("/login")},3e3)}catch(e){is.error(e.message||"An error occurred while completing onboarding",{position:"top-center",autoClose:5e3}),P(!1)}}else is.error("Configuration error: Unable to connect to server")})()},disabled:0===oe&&!te||1===oe&&!ne||A,className:"ml-auto flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 "+(0===oe&&!te||1===oe&&!ne||A?"opacity-50 cursor-not-allowed":""),children:A?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Saving..."]}):oe<2?"Continue":"Go to Dashboard"})]})]})]})]}):e.jsxs("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:[e.jsx(fs,{}),e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-blue-100 text-blue-600 rounded-full",children:e.jsx(B,{size:24})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Verify Your email"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a 6-digit code to ",e.jsx("span",{className:"font-medium",children:i})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),e.jsx("input",{id:"verificationCode",type:"text",value:Y,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,6);X(t)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 text-center text-lg tracking-widest",placeholder:"123456",maxLength:6,required:!0}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Didn't receive a code?"," ",e.jsx("button",{onClick:Ne,className:"text-blue-600 hover:underline ml-1",disabled:Z,children:"Resend"})]})]}),e.jsx("button",{onClick:Ce,disabled:A,className:"w-full flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 "+(A?"opacity-80 cursor-not-allowed":""),children:A?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Verifying..."]}):"Verify and Continue"})]})]})]});return e.jsxs(e.Fragment,{children:[e.jsx(fs,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}}),e.jsxs("div",{className:"flex h-screen overflow-hidden bg-white",children:[e.jsx("div",{className:"w-full lg:w-1/2 flex flex-col",children:e.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-y-auto",children:e.jsxs("div",{className:"w-full max-w-md space-y-6",children:[e.jsx("div",{className:"text-center flex-shrink-0",children:e.jsx("div",{className:"inline-flex items-center",children:e.jsx("img",{src:"/hrms-logo.png",className:"h-32 w-auto mx-auto",alt:"Company Logo"})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-between items-center",children:ye.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full text-xs font-medium transition-all duration-300\n                        "+(s<r?"bg-blue-600 text-white":s===r?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-100 text-gray-500"),children:s<r?e.jsx(n,{size:14}):s+1}),e.jsx("span",{className:"text-xs mt-1 "+(s===r?"text-gray-900 font-medium":"text-gray-500"),children:t})]},s))}),e.jsx("div",{className:"relative h-1 bg-gray-100 rounded-full",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-600 rounded-full transition-all duration-500 ease-out",style:{width:r/(ye.length-1)*100+"%"}})})]}),e.jsxs("div",{className:"text-center space-y-1",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:0===r?"Create your account":1===r?"Tell us about yourself":2===r?"Company information":"Review your details"}),e.jsx("p",{className:"text-sm text-gray-500",children:0===r?"Start your 14-day free trial":1===r?"We'll personalize your experience":2===r?"Tell us about your organization":"Make sure everything looks correct"})]}),e.jsx("div",{className:"space-y-4",children:(r=>{switch(r){case 0:return e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(D,{size:16})}),e.jsx("input",{id:"email",type:"email",value:i,onChange:e=>o(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"you@company.com",required:!0})]})]})});case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(O,{size:16})}),e.jsx("input",{id:"firstName",type:"text",value:l,onChange:e=>{const t=e.target.value.replace(/[^a-zA-Z\-' ]/g,"");c(t)},className:`w-full pl-9 px-3 py-2 border ${0===l.length?"border-gray-200":"border-green-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"John",required:!0,minLength:2,maxLength:50})]}),l.length>0&&l.length<2&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:"First name must be at least 2 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(O,{size:16})}),e.jsx("input",{id:"lastName",type:"text",value:d,onChange:e=>{const t=e.target.value.replace(/[^a-zA-Z\-' ]/g,"");u(t)},className:`w-full pl-9 px-3 py-2 border ${0===d.length?"border-gray-200":"border-green-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"Doe",required:!0,minLength:2,maxLength:50})]}),d.length>0&&d.length<2&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Last name must be at least 2 characters"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(v,{size:16})}),e.jsx("input",{id:"dob",type:"date",value:fe,onChange:e=>{const t=new Date(e.target.value),r=new Date;t<=new Date(r.getFullYear()-18,r.getMonth(),r.getDate())?(xe(e.target.value),be("")):be("You must be at least 18 years old")},className:`w-full pl-9 px-3 py-2 border ${fe&&!ge?"border-green-200":ge?"border-red-200":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,max:(new Date).toISOString().split("T")[0],required:!0})]}),ge&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:ge})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(B,{size:16})}),e.jsx("input",{id:"phone",type:"tel",value:S,onChange:e=>{const t=e.target.value.replace(/[^0-9+]/g,"");C(t)},className:`w-full pl-9 px-3 py-2 border ${0===S.length?"border-gray-200":S.length>=10?"border-green-200":"border-red-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"+265 123 456 789",required:!0})]}),S.length>0&&S.length<10&&e.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Phone number must be at least 10 digits"})]}),!t?.googleSignup&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(U,{size:16})}),e.jsx("input",{id:"password",type:b?"text":"password",value:p,onChange:e=>f(e.target.value),className:`w-full pl-9 px-3 py-2 border ${0===p.length?"border-gray-200":p.length>=8?"border-green-200":"border-red-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"",required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>y(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":b?"Hide password":"Show password",children:b?e.jsx(E,{size:16}):e.jsx(_,{size:16})})]}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[p.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:p.length>=8?"text-green-500":"text-red-500",children:[" ",p.length>=8?"":""," At least 8 characters"]}),e.jsxs("p",{className:/[A-Z]/.test(p)?"text-green-500":"text-red-500",children:[" ",/[A-Z]/.test(p)?"":""," At least one uppercase letter"]}),e.jsxs("p",{className:/[0-9]/.test(p)?"text-green-500":"text-red-500",children:[" ",/[0-9]/.test(p)?"":""," At least one number"]}),e.jsxs("p",{className:/[^A-Za-z0-9]/.test(p)?"text-green-500":"text-red-500",children:[" ",/[^A-Za-z0-9]/.test(p)?"":""," At least one special character"]})]}),0===p.length&&e.jsx("p",{children:"Password must be at least 8 characters"})]})]}),t?.googleSignup&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(n,{className:"text-blue-600 mr-2",size:16}),e.jsx("p",{className:"text-sm text-blue-800",children:"Your account is secured with Google authentication. A strong password has been auto-generated for your account."})]})})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(L,{size:16})}),e.jsx("input",{id:"companyName",type:"text",value:m,onChange:e=>h(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"Acme Inc.",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(M,{size:16})}),e.jsxs("select",{id:"industry",value:j,onChange:e=>w(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none bg-white",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your industry"}),je.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Role"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(q,{size:16})}),e.jsxs("select",{id:"role",value:N,onChange:e=>k(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none bg-white",required:!0,children:[e.jsx("option",{value:"",disabled:!0,children:"Select your role"}),we.map(t=>e.jsx("option",{value:t,children:t},t))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]});case 3:return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Review Your Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"font-medium",children:i})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Name:"}),e.jsxs("span",{className:"font-medium",children:[l," ",d]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Company:"}),e.jsx("span",{className:"font-medium",children:m})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Industry:"}),e.jsx("span",{className:"font-medium",children:j})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Role:"}),e.jsx("span",{className:"font-medium",children:N})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:e.jsx(D,{size:16})}),e.jsx("input",{id:"email",type:"email",value:i,onChange:e=>o(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"+265 (999) 000-000",required:!0})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll send a verification code to this email"})]})]});default:return null}})(r)}),e.jsxs("div",{className:"flex space-x-3",children:[r>0&&e.jsxs("button",{onClick:()=>{W(""),s(r-1)},className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-all duration-200 flex-1",children:[e.jsx(F,{size:16,className:"mr-2"}),"Back"]}),e.jsx("button",{onClick:r===ye.length-1?async()=>{if(x||S)if(!x&&!t?.googleSignup&&p.length<8)is.error("Password must be at least 8 characters");else if(de&&"undefined"!==de){P(!0),W("");try{const e=await ce(l,d,i,p,m,j,N,S);if(me(e.user),pe(e.token),x)return is.success("Account created with Google!"),void a("/dashboard");ee(!0);const t=await fetch(`${de}/api/auth/email/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({email:i})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to send verification code")}is.success("Verification code sent to your email"),Q(!0)}catch(e){is.error(e.message)}finally{P(!1),ee(!1)}}else is.error("Configuration error: Unable to connect to server");else is.error("Please enter your phone number")}:()=>{W(""),0!==r||i?1!==r||l&&d&&(t?.googleSignup||p)?2!==r||m&&j&&N?s(r+1):is.error("Please complete all company details"):is.error("Please fill all required fields"):is.error("Please enter your email address")},disabled:A,className:`flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 ${0===r?"w-full":"flex-1"} ${A?"opacity-80 cursor-not-allowed":""}`,children:A?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Processing..."]}):r===ye.length-1?"Complete Registration":"Continue"})]}),0===r&&e.jsxs("div",{className:"text-center space-y-3",children:[e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("div",{className:"border-t border-gray-200 absolute w-full"}),e.jsx("div",{className:"bg-white px-4 relative text-xs text-gray-500",children:"or"})]}),e.jsxs("p",{className:"text-gray-500 text-xs",children:["Already have an account?"," ",e.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Sign in"})]})]})]})})}),e.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-600 to-indigo-700 text-white relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute w-96 h-96 bg-white/5 rounded-full -top-20 -right-20 animate-pulse"}),e.jsx("div",{className:"absolute w-96 h-96 bg-white/5 rounded-full bottom-10 -left-20 animate-pulse",style:{animationDelay:"1s",animationDuration:"10s"}}),e.jsx("div",{className:"absolute w-64 h-64 bg-white/5 rounded-full bottom-1/4 right-1/3 animate-pulse",style:{animationDelay:"0.5s",animationDuration:"7s"}})]}),e.jsxs("div",{className:"flex flex-col justify-center max-w-md z-10 p-12 space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Streamline Your Procurement"}),e.jsx("p",{className:"text-lg opacity-90",children:"Join thousands of companies managing their procurement process efficiently with our platform."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"relative h-64",children:ve.map((t,r)=>{const n=t.icon;return e.jsx("div",{className:"absolute w-full transition-all duration-700 transform "+(r===V?"opacity-100 translate-y-0":r<V?"opacity-0 -translate-y-full":"opacity-0 translate-y-full"),children:e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"p-3 bg-white/20 rounded-full mr-3",children:e.jsx(n,{size:24})}),e.jsx("h3",{className:"text-lg font-bold",children:t.title})]}),e.jsx("p",{className:"text-sm text-white/90 mb-4",children:t.description}),e.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsx("div",{className:"h-3 bg-white/30 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-white/30 rounded"}),e.jsx("div",{className:"h-3 bg-white/30 rounded w-5/6"})]})})]})},r)})}),e.jsx("div",{className:"flex justify-center space-x-2",children:ve.map((t,r)=>e.jsx("div",{className:"h-1 rounded-full transition-all duration-500 "+(r===V?"w-6 bg-white":"w-1 bg-white/40")},r))})]}),e.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-sm border border-white/20",children:[e.jsxs("div",{className:"flex items-center mb-3",children:[e.jsxs("div",{className:"flex -space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"JD"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"AR"}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"TK"})]}),e.jsx("div",{className:"ml-3 text-xs",children:"Join 5,000+ companies using our platform"})]}),e.jsx("p",{className:"italic text-sm",children:'"Implementation was seamless and we saw immediate improvements in our procurement process efficiency."'}),e.jsx("p",{className:"mt-3 font-semibold text-sm",children:" Michael Kaunda, Director of Operations"})]})]})]})]})]})}const gs=W(e.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward"),bs=W(e.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),ys=W(e.jsx("path",{d:"m14 7-5 5 5 5z"}),"ArrowLeft"),vs=W(e.jsx("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),js=W(e.jsx("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"}),"AttachMoney"),ws=W(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Ns=W(e.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),ks=W(e.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Ss=W(e.jsx("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2m0 14H4v-6h16zm0-10H4V6h16z"}),"CreditCard"),Cs=W(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error"),As=W(e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory"),Ts=W(e.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),Es=W(e.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),_s=W(e.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Ps=W(e.jsx("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save"),Ds=W(e.jsx("path",{d:"M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2M1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2"}),"ShoppingCart"),Os=qr.createContext({});function Ls(e){const t=qr.useRef(null);return null===t.current&&(t.current=e()),t.current}const Ms="undefined"!=typeof window,Is=Ms?qr.useLayoutEffect:qr.useEffect,Rs=qr.createContext(null);function zs(e,t){-1===e.indexOf(t)&&e.push(t)}function Fs(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Bs=(e,t,r)=>r>t?t:r<e?e:r;const qs={},$s=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Us(e){return"object"==typeof e&&null!==e}const Ws=e=>/^0[^.\s]+$/u.test(e);function Vs(e){let t;return()=>(void 0===t&&(t=e()),t)}const Hs=e=>e,Gs=(e,t)=>r=>t(e(r)),Ks=(...e)=>e.reduce(Gs),Ys=(e,t,r)=>{const n=t-e;return 0===n?1:(r-e)/n};class Xs{constructor(){this.subscriptions=[]}add(e){return zs(this.subscriptions,e),()=>Fs(this.subscriptions,e)}notify(e,t,r){const n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let s=0;s<n;s++){const n=this.subscriptions[s];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Js=e=>1e3*e,Qs=e=>e/1e3;function Zs(e,t){return t?e*(1e3/t):0}const ea=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function ta(e,t,r,n){if(e===t&&r===n)return Hs;const s=t=>function(e,t,r,n,s){let a,i,o=0;do{i=t+(r-t)/2,a=ea(i,n,s)-e,a>0?r=i:t=i}while(Math.abs(a)>1e-7&&++o<12);return i}(t,0,1,e,r);return e=>0===e||1===e?e:ea(s(e),t,n)}const ra=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,na=e=>t=>1-e(1-t),sa=ta(.33,1.53,.69,.99),aa=na(sa),ia=ra(aa),oa=e=>(e*=2)<1?.5*aa(e):.5*(2-Math.pow(2,-10*(e-1))),la=e=>1-Math.sin(Math.acos(e)),ca=na(la),da=ra(la),ua=ta(.42,0,1,1),ma=ta(0,0,.58,1),ha=ta(.42,0,.58,1),pa=e=>Array.isArray(e)&&"number"==typeof e[0],fa={linear:Hs,easeIn:ua,easeInOut:ha,easeOut:ma,circIn:la,circInOut:da,circOut:ca,backIn:aa,backInOut:ia,backOut:sa,anticipate:oa},xa=e=>{if(pa(e)){e.length;const[t,r,n,s]=e;return ta(t,r,n,s)}return"string"==typeof e?fa[e]:e},ga=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ba(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,i=ga.reduce((e,t)=>(e[t]=function(e){let t=new Set,r=new Set,n=!1,s=!1;const a=new WeakSet;let i={delta:0,timestamp:0,isProcessing:!1};function o(t){a.has(t)&&(l.schedule(t),e()),t(i)}const l={schedule:(e,s=!1,i=!1)=>{const o=i&&n?t:r;return s&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{r.delete(e),a.delete(e)},process:e=>{i=e,n?s=!0:(n=!0,[t,r]=[r,t],t.forEach(o),t.clear(),n=!1,s&&(s=!1,l.process(e)))}};return l}(a),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:m,render:h,postRender:p}=i,f=()=>{const a=qs.useManualTiming?s.timestamp:performance.now();r=!1,qs.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(a-s.timestamp,40),1)),s.timestamp=a,s.isProcessing=!0,o.process(s),l.process(s),c.process(s),d.process(s),u.process(s),m.process(s),h.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(f))};return{schedule:ga.reduce((t,a)=>{const o=i[a];return t[a]=(t,a=!1,i=!1)=>(r||(r=!0,n=!0,s.isProcessing||e(f)),o.schedule(t,a,i)),t},{}),cancel:e=>{for(let t=0;t<ga.length;t++)i[ga[t]].cancel(e)},state:s,steps:i}}const{schedule:ya,cancel:va,state:ja,steps:wa}=ba("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:Hs,!0);let Na;function ka(){Na=void 0}const Sa={now:()=>(void 0===Na&&Sa.set(ja.isProcessing||qs.useManualTiming?ja.timestamp:performance.now()),Na),set:e=>{Na=e,queueMicrotask(ka)}},Ca=e=>t=>"string"==typeof t&&t.startsWith(e),Aa=Ca("--"),Ta=Ca("var(--"),Ea=e=>!!Ta(e)&&_a.test(e.split("/*")[0].trim()),_a=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Pa={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},Da={...Pa,transform:e=>Bs(0,1,e)},Oa={...Pa,default:1},La=e=>Math.round(1e5*e)/1e5,Ma=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const Ia=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ra=(e,t)=>r=>Boolean("string"==typeof r&&Ia.test(r)&&r.startsWith(e)||t&&!function(e){return null==e}(r)&&Object.prototype.hasOwnProperty.call(r,t)),za=(e,t,r)=>n=>{if("string"!=typeof n)return n;const[s,a,i,o]=n.match(Ma);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(i),alpha:void 0!==o?parseFloat(o):1}},Fa={...Pa,transform:e=>Math.round((e=>Bs(0,255,e))(e))},Ba={test:Ra("rgb","red"),parse:za("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Fa.transform(e)+", "+Fa.transform(t)+", "+Fa.transform(r)+", "+La(Da.transform(n))+")"};const qa={test:Ra("#"),parse:function(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}},transform:Ba.transform},$a=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Ua=$a("deg"),Wa=$a("%"),Va=$a("px"),Ha=$a("vh"),Ga=$a("vw"),Ka=(()=>({...Wa,parse:e=>Wa.parse(e)/100,transform:e=>Wa.transform(100*e)}))(),Ya={test:Ra("hsl","hue"),parse:za("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Wa.transform(La(t))+", "+Wa.transform(La(r))+", "+La(Da.transform(n))+")"},Xa={test:e=>Ba.test(e)||qa.test(e)||Ya.test(e),parse:e=>Ba.test(e)?Ba.parse(e):Ya.test(e)?Ya.parse(e):qa.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?Ba.transform(e):Ya.transform(e),getAnimatableNone:e=>{const t=Xa.parse(e);return t.alpha=0,Xa.transform(t)}},Ja=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const Qa="number",Za="color",ei=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ti(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const i=t.replace(ei,e=>(Xa.test(e)?(n.color.push(a),s.push(Za),r.push(Xa.parse(e))):e.startsWith("var(")?(n.var.push(a),s.push("var"),r.push(e)):(n.number.push(a),s.push(Qa),r.push(parseFloat(e))),++a,"${}")).split("${}");return{values:r,split:i,indexes:n,types:s}}function ri(e){return ti(e).values}function ni(e){const{split:t,types:r}=ti(e),n=t.length;return e=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],void 0!==e[a]){const t=r[a];s+=t===Qa?La(e[a]):t===Za?Xa.transform(e[a]):e[a]}return s}}const si=e=>"number"==typeof e?0:Xa.test(e)?Xa.getAnimatableNone(e):e;const ai={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(Ma)?.length||0)+(e.match(Ja)?.length||0)>0},parse:ri,createTransformer:ni,getAnimatableNone:function(e){const t=ri(e);return ni(e)(t.map(si))}};function ii(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function oi(e,t){return r=>r>0?t:e}const li=(e,t,r)=>e+(t-e)*r,ci=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},di=[qa,Ba,Ya];function ui(e){const t=(r=e,di.find(e=>e.test(r)));var r;if(!Boolean(t))return!1;let n=t.parse(e);return t===Ya&&(n=function({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let s=0,a=0,i=0;if(t/=100){const n=r<.5?r*(1+t):r+t-r*t,o=2*r-n;s=ii(o,n,e+1/3),a=ii(o,n,e),i=ii(o,n,e-1/3)}else s=a=i=r;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*i),alpha:n}}(n)),n}const mi=(e,t)=>{const r=ui(e),n=ui(t);if(!r||!n)return oi(e,t);const s={...r};return e=>(s.red=ci(r.red,n.red,e),s.green=ci(r.green,n.green,e),s.blue=ci(r.blue,n.blue,e),s.alpha=li(r.alpha,n.alpha,e),Ba.transform(s))},hi=new Set(["none","hidden"]);function pi(e,t){return r=>li(e,t,r)}function fi(e){return"number"==typeof e?pi:"string"==typeof e?Ea(e)?oi:Xa.test(e)?mi:bi:Array.isArray(e)?xi:"object"==typeof e?Xa.test(e)?mi:gi:oi}function xi(e,t){const r=[...e],n=r.length,s=e.map((e,r)=>fi(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=s[t](e);return r}}function gi(e,t){const r={...e,...t},n={};for(const s in r)void 0!==e[s]&&void 0!==t[s]&&(n[s]=fi(e[s])(e[s],t[s]));return e=>{for(const t in n)r[t]=n[t](e);return r}}const bi=(e,t)=>{const r=ai.createTransformer(t),n=ti(e),s=ti(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?hi.has(e)&&!s.values.length||hi.has(t)&&!n.values.length?function(e,t){return hi.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}(e,t):Ks(xi(function(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],i=e.indexes[a][n[a]],o=e.values[i]??0;r[s]=o,n[a]++}return r}(n,s),s.values),r):oi(e,t)};function yi(e,t,r){if("number"==typeof e&&"number"==typeof t&&"number"==typeof r)return li(e,t,r);return fi(e)(e,t)}const vi=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>ya.update(t,e),stop:()=>va(t),now:()=>ja.isProcessing?ja.timestamp:Sa.now()}},ji=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=Math.round(1e4*e(a/(s-1)))/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},wi=2e4;function Ni(e){let t=0;let r=e.next(t);for(;!r.done&&t<wi;)t+=50,r=e.next(t);return t>=wi?1/0:t}function ki(e,t,r){const n=Math.max(t-5,0);return Zs(r-e(n),t-n)}const Si=100,Ci=10,Ai=1,Ti=0,Ei=800,_i=.3,Pi=.3,Di={granular:.01,default:2},Oi={granular:.005,default:.5},Li=.01,Mi=10,Ii=.05,Ri=1,zi=.001;function Fi({duration:e=Ei,bounce:t=_i,velocity:r=Ti,mass:n=Ai}){let s,a,i=1-t;i=Bs(Ii,Ri,i),e=Bs(Li,Mi,Qs(e)),i<1?(s=t=>{const n=t*i,s=n*e,a=n-r,o=qi(t,i),l=Math.exp(-s);return zi-a/o*l},a=t=>{const n=t*i*e,a=n*r+r,o=Math.pow(i,2)*Math.pow(t,2)*e,l=Math.exp(-n),c=qi(Math.pow(t,2),i);return(-s(t)+zi>0?-1:1)*((a-o)*l)/c}):(s=t=>Math.exp(-t*e)*((t-r)*e+1)-.001,a=t=>Math.exp(-t*e)*(e*e*(r-t)));const o=function(e,t,r){let n=r;for(let s=1;s<Bi;s++)n-=e(n)/t(n);return n}(s,a,5/e);if(e=Js(e),isNaN(o))return{stiffness:Si,damping:Ci,duration:e};{const t=Math.pow(o,2)*n;return{stiffness:t,damping:2*i*Math.sqrt(n*t),duration:e}}}const Bi=12;function qi(e,t){return e*Math.sqrt(1-t*t)}const $i=["duration","bounce"],Ui=["stiffness","damping","mass"];function Wi(e,t){return t.some(t=>void 0!==e[t])}function Vi(e=Pi,t=_i){const r="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:d,duration:u,velocity:m,isResolvedFromDuration:h}=function(e){let t={velocity:Ti,stiffness:Si,damping:Ci,mass:Ai,isResolvedFromDuration:!1,...e};if(!Wi(e,Ui)&&Wi(e,$i))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(1.2*r),s=n*n,a=2*Bs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ai,stiffness:s,damping:a}}else{const r=Fi(e);t={...t,...r,mass:Ai},t.isResolvedFromDuration=!0}return t}({...r,velocity:-Qs(r.velocity||0)}),p=m||0,f=c/(2*Math.sqrt(l*d)),x=i-a,g=Qs(Math.sqrt(l/d)),b=Math.abs(x)<5;let y;if(n||(n=b?Di.granular:Di.default),s||(s=b?Oi.granular:Oi.default),f<1){const e=qi(g,f);y=t=>{const r=Math.exp(-f*g*t);return i-r*((p+f*g*x)/e*Math.sin(e*t)+x*Math.cos(e*t))}}else if(1===f)y=e=>i-Math.exp(-g*e)*(x+(p+g*x)*e);else{const e=g*Math.sqrt(f*f-1);y=t=>{const r=Math.exp(-f*g*t),n=Math.min(e*t,300);return i-r*((p+f*g*x)*Math.sinh(n)+e*x*Math.cosh(n))/e}}const v={calculatedDuration:h&&u||null,next:e=>{const t=y(e);if(h)o.done=e>=u;else{let r=0===e?p:0;f<1&&(r=0===e?Js(p):ki(y,e,t));const a=Math.abs(r)<=n,l=Math.abs(i-t)<=s;o.done=a&&l}return o.value=o.done?i:t,o},toString:()=>{const e=Math.min(Ni(v),wi),t=ji(t=>v.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return v}function Hi({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:d}){const u=e[0],m={done:!1,value:u},h=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let p=r*t;const f=u+p,x=void 0===i?f:i(f);x!==f&&(p=x-u);const g=e=>-p*Math.exp(-e/n),b=e=>x+g(e),y=e=>{const t=g(e),r=b(e);m.done=Math.abs(t)<=c,m.value=m.done?x:r};let v,j;const w=e=>{var t;(t=m.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(v=e,j=Vi({keyframes:[m.value,h(m.value)],velocity:ki(b,e,m.value),damping:s,stiffness:a,restDelta:c,restSpeed:d}))};return w(0),{calculatedDuration:null,next:e=>{let t=!1;return j||void 0!==v||(t=!0,y(e),w(e)),void 0!==v&&e>=v?j.next(e-v):(!t&&y(e),m)}}}function Gi(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(t.length,1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,r){const n=[],s=r||qs.mix||yi,a=e.length-1;for(let i=0;i<a;i++){let r=s(e[i],e[i+1]);if(t){const e=Array.isArray(t)?t[i]||Hs:t;r=Ks(e,r)}n.push(r)}return n}(t,n,s),l=o.length,c=r=>{if(i&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);const s=Ys(e[n],e[n+1],r);return o[n](s)};return r?t=>c(Bs(e[0],e[a-1],t)):c}function Ki(e){const t=[0];return function(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ys(0,t,n);e.push(li(r,1,s))}}(t,e.length-1),t}function Yi({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=(e=>Array.isArray(e)&&"number"!=typeof e[0])(n)?n.map(xa):xa(n),a={done:!1,value:t[0]},i=function(e,t){return e.map(e=>e*t)}(r&&r.length===t.length?r:Ki(t),e),o=Gi(i,t,{ease:Array.isArray(s)?s:(l=t,c=s,l.map(()=>c||ha).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(a.value=o(t),a.done=t>=e,a)}}Vi.applyToOptions=e=>{const t=function(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Ni(n),wi);return{type:"keyframes",ease:e=>n.next(s*e).value/t,duration:Qs(s)}}(e,100,Vi);return e.ease=t.ease,e.duration=Js(t.duration),e.type="keyframes",e};const Xi=e=>null!==e;function Ji(e,{repeat:t,repeatType:r="loop"},n,s=1){const a=e.filter(Xi),i=s<0||t&&"loop"!==r&&t%2==1?0:a.length-1;return i&&void 0!==n?n:a[i]}const Qi={decay:Hi,inertia:Hi,tween:Yi,keyframes:Yi,spring:Vi};function Zi(e){"string"==typeof e.type&&(e.type=Qi[e.type])}class eo{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const to=e=>e/100;class ro extends eo{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Sa.now()&&this.tick(Sa.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;Zi(e);const{type:t=Yi,repeat:r=0,repeatDelay:n=0,repeatType:s,velocity:a=0}=e;let{keyframes:i}=e;const o=t||Yi;o!==Yi&&"number"!=typeof i[0]&&(this.mixKeyframes=Ks(to,yi(i[0],i[1])),i=[0,100]);const l=o({...e,keyframes:i});"mirror"===s&&(this.mirroredGenerator=o({...e,keyframes:[...i].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=Ni(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:n,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:i,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:m,type:h,onUpdate:p,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const x=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?x<0:x>n;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let b=this.currentTime,y=r;if(d){const e=Math.min(this.currentTime,n)/i;let t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(r=1-r,m&&(r-=m/i)):"mirror"===u&&(y=a)),b=Bs(0,1,r)*i}const v=g?{done:!1,value:c[0]}:y.next(b);s&&(v.value=s(v.value));let{done:j}=v;g||null===o||(j=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const w=null===this.holdTime&&("finished"===this.state||"running"===this.state&&j);return w&&h!==Hi&&(v.value=Ji(c,this.options,f,this.speed)),p&&p(v.value),w&&this.finish(),v}then(e,t){return this.finished.then(e,t)}get duration(){return Qs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qs(e)}get time(){return Qs(this.currentTime)}set time(e){e=Js(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Sa.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Qs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=vi,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sa.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}const no=e=>180*e/Math.PI,so=e=>{const t=no(Math.atan2(e[1],e[0]));return io(t)},ao={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:so,rotateZ:so,skewX:e=>no(Math.atan(e[1])),skewY:e=>no(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},io=e=>((e%=360)<0&&(e+=360),e),oo=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),lo=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),co={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oo,scaleY:lo,scale:e=>(oo(e)+lo(e))/2,rotateX:e=>io(no(Math.atan2(e[6],e[5]))),rotateY:e=>io(no(Math.atan2(-e[2],e[0]))),rotateZ:so,rotate:so,skewX:e=>no(Math.atan(e[4])),skewY:e=>no(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function uo(e){return e.includes("scale")?1:0}function mo(e,t){if(!e||"none"===e)return uo(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=co,s=r;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ao,s=t}if(!s)return uo(t);const a=n[t],i=s[1].split(",").map(ho);return"function"==typeof a?a(i):i[a]}function ho(e){return parseFloat(e.trim())}const po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=(()=>new Set(po))(),xo=e=>e===Pa||e===Va,go=new Set(["x","y","z"]),bo=po.filter(e=>!go.has(e));const yo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mo(t,"x"),y:(e,{transform:t})=>mo(t,"y")};yo.translateX=yo.x,yo.translateY=yo.y;const vo=new Set;let jo=!1,wo=!1,No=!1;function ko(){if(wo){const e=Array.from(vo).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{const t=function(e){const t=[];return bo.forEach(r=>{const n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}(e);t.length&&(r.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}wo=!1,jo=!1,vo.forEach(e=>e.complete(No)),vo.clear()}function So(){vo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(wo=!0)})}class Co{constructor(e,t,r,n,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(vo.add(this),jo||(jo=!0,ya.read(So),ya.resolveKeyframes(ko))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;if(null===e[0]){const s=n?.get(),a=e[e.length-1];if(void 0!==s)e[0]=s;else if(r&&t){const n=r.readValue(t,a);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===s&&n.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),vo.delete(this)}cancel(){"scheduled"===this.state&&(vo.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const Ao=Vs(()=>void 0!==window.ScrollTimeline),To={};function Eo(e,t){const r=Vs(e);return()=>To[t]??r()}const _o=Eo(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),Po=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Do={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Po([0,.65,.55,1]),circOut:Po([.55,0,1,.45]),backIn:Po([.31,.01,.66,-.59]),backOut:Po([.33,1.53,.69,.99])};function Oo(e,t){return e?"function"==typeof e?_o()?ji(e,t):"ease-out":pa(e)?Po(e):Array.isArray(e)?e.map(e=>Oo(e,t)||Do.easeOut):Do[e]:void 0}function Lo(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:r};l&&(d.offset=l);const u=Oo(o,s);Array.isArray(u)&&(d.easing=u);const m={delay:n,duration:s,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:"reverse"===i?"alternate":"normal"};c&&(m.pseudoElement=c);return e.animate(d,m)}function Mo(e){return"function"==typeof e&&"applyToOptions"in e}class Io extends eo{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:n,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:i,onComplete:o}=e;this.isPseudoElement=Boolean(s),this.allowFlatten=a,this.options=e,e.type;const l=function({type:e,...t}){return Mo(e)&&_o()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=Lo(t,r,n,l,s),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const e=Ji(n,this.options,i,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,r){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,r):e.style[t]=r}(t,r,e),this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Qs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Qs(e)}get time(){return Qs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Js(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Ao()?(this.animation.timeline=e,Hs):t(this)}}const Ro={anticipate:oa,backInOut:ia,circInOut:da};function zo(e){"string"==typeof e.ease&&e.ease in Ro&&(e.ease=Ro[e.ease])}class Fo extends Io{constructor(e){zo(e),Zi(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:n,element:s,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const i=new ro({...a,autoplay:!1}),o=Js(this.finishedTime??this.time);t.setWithVelocity(i.sample(o-10).value,i.sample(o).value,10),i.stop()}}const Bo=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!ai.test(e)&&"0"!==e||e.startsWith("url(")));function qo(e){e.duration=0,e.type="keyframes"}const $o=new Set(["opacity","clipPath","filter","transform"]),Uo=Vs(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class Wo extends eo{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a="loop",keyframes:i,name:o,motionValue:l,element:c,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Sa.now();const u={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:s,repeatType:a,name:o,motionValue:l,element:c,...d},m=c?.KeyframeResolver||Co;this.keyframeResolver=new m(i,(e,t,r)=>this.onKeyframesResolved(e,t,u,!r),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,n){this.keyframeResolver=void 0;const{name:s,type:a,velocity:i,delay:o,isHandoff:l,onUpdate:c}=r;this.resolvedAt=Sa.now(),function(e,t,r,n){const s=e[0];if(null===s)return!1;if("display"===t||"visibility"===t)return!0;const a=e[e.length-1],i=Bo(s,t),o=Bo(a,t);return!(!i||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||Mo(r))&&n)}(e,s,a,i)||(!qs.instantAnimations&&o||c?.(Ji(e,r,t)),e[0]=e[e.length-1],qo(r),r.repeat=0);const d={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},u=!l&&function(e){const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:a,type:i}=e,o=t?.owner?.current;if(!(o instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return Uo()&&r&&$o.has(r)&&("transform"!==r||!c)&&!l&&!n&&"mirror"!==s&&0!==a&&"inertia"!==i}(d)?new Fo({...d,element:d.motionValue.owner.current}):new ro(d);u.finished.then(()=>this.notifyFinished()).catch(Hs),this.pendingTimeline&&(this.stopTimeline=u.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=u}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),No=!0,So(),ko(),No=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const Vo=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ho(e,t,r=1){const[n,s]=function(e){const t=Vo.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const e=a.trim();return $s(e)?parseFloat(e):e}return Ea(s)?Ho(s,t,r+1):s}function Go(e,t){return e?.[t]??e?.default??e}const Ko=new Set(["width","height","top","left","right","bottom",...po]),Yo=e=>t=>t.test(e),Xo=[Pa,Va,Wa,Ua,Ga,Ha,{test:e=>"auto"===e,parse:e=>e}],Jo=e=>Xo.find(Yo(e));function Qo(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||Ws(e))}const Zo=new Set(["brightness","contrast","saturate","opacity"]);function el(e){const[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[n]=r.match(Ma)||[];if(!n)return e;const s=r.replace(n,"");let a=Zo.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const tl=/\b([a-z-]*)\(.*?\)/gu,rl={...ai,getAnimatableNone:e=>{const t=e.match(tl);return t?t.map(el).join(" "):e}},nl={...Pa,transform:Math.round},sl={borderWidth:Va,borderTopWidth:Va,borderRightWidth:Va,borderBottomWidth:Va,borderLeftWidth:Va,borderRadius:Va,radius:Va,borderTopLeftRadius:Va,borderTopRightRadius:Va,borderBottomRightRadius:Va,borderBottomLeftRadius:Va,width:Va,maxWidth:Va,height:Va,maxHeight:Va,top:Va,right:Va,bottom:Va,left:Va,padding:Va,paddingTop:Va,paddingRight:Va,paddingBottom:Va,paddingLeft:Va,margin:Va,marginTop:Va,marginRight:Va,marginBottom:Va,marginLeft:Va,backgroundPositionX:Va,backgroundPositionY:Va,...{rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:Oa,scaleX:Oa,scaleY:Oa,scaleZ:Oa,skew:Ua,skewX:Ua,skewY:Ua,distance:Va,translateX:Va,translateY:Va,translateZ:Va,x:Va,y:Va,z:Va,perspective:Va,transformPerspective:Va,opacity:Da,originX:Ka,originY:Ka,originZ:Va},zIndex:nl,fillOpacity:Da,strokeOpacity:Da,numOctaves:nl},al={...sl,color:Xa,backgroundColor:Xa,outlineColor:Xa,fill:Xa,stroke:Xa,borderColor:Xa,borderTopColor:Xa,borderRightColor:Xa,borderBottomColor:Xa,borderLeftColor:Xa,filter:rl,WebkitFilter:rl},il=e=>al[e];function ol(e,t){let r=il(e);return r!==rl&&(r=ai),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ll=new Set(["auto","none","0"]);class cl extends Co{constructor(e,t,r,n,s){super(e,t,r,n,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let r=e[o];if("string"==typeof r&&(r=r.trim(),Ea(r))){const n=Ho(r,t.current);void 0!==n&&(e[o]=n),o===e.length-1&&(this.finalKeyframe=r)}}if(this.resolveNoneKeyframes(),!Ko.has(r)||2!==e.length)return;const[n,s]=e,a=Jo(n),i=Jo(s);if(a!==i)if(xo(a)&&xo(i))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else yo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let n=0;n<e.length;n++)(null===e[n]||Qo(e[n]))&&r.push(n);r.length&&function(e,t,r){let n,s=0;for(;s<e.length&&!n;){const t=e[s];"string"==typeof t&&!ll.has(t)&&ti(t).values.length&&(n=e[s]),s++}if(n&&r)for(const a of t)e[a]=ol(r,n)}(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const n=e.getValue(t);n&&n.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=yo[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}const dl=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function ul(e){return Us(e)&&"offsetHeight"in e}class ml{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Sa.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Sa.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Xs);const r=this.events[e].add(t);return"change"===e?()=>{r(),ya.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Sa.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Zs(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(e,t){return new ml(e,t)}const{schedule:pl}=ba(queueMicrotask,!1),fl={x:!1,y:!1};function xl(){return fl.x||fl.y}function gl(e,t){const r=function(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const n=r?.[e]??t.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}(e),n=new AbortController;return[r,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function bl(e){return!("touch"===e.pointerType||xl())}const yl=(e,t)=>!!t&&(e===t||yl(e,t.parentElement)),vl=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,jl=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const wl=new WeakSet;function Nl(e){return t=>{"Enter"===t.key&&e(t)}}function kl(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function Sl(e){return vl(e)&&!xl()}function Cl(e,t,r={}){const[n,s,a]=gl(e,r),i=e=>{const n=e.currentTarget;if(!Sl(e))return;wl.add(n);const a=t(n,e),i=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),wl.has(n)&&wl.delete(n),Sl(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{i(e,n===window||n===document||r.useGlobalTarget||yl(n,e.target))},l=e=>{i(e,!1)};window.addEventListener("pointerup",o,s),window.addEventListener("pointercancel",l,s)};return n.forEach(e=>{var t;(r.useGlobalTarget?window:e).addEventListener("pointerdown",i,s),ul(e)&&(e.addEventListener("focus",e=>((e,t)=>{const r=e.currentTarget;if(!r)return;const n=Nl(()=>{if(wl.has(r))return;kl(r,"down");const e=Nl(()=>{kl(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>kl(r,"cancel"),t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)})(e,s)),t=e,jl.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}function Al(e){return Us(e)&&"ownerSVGElement"in e}const Tl=e=>Boolean(e&&e.getVelocity),El=[...Xo,Xa,ai],_l=qr.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Pl(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function Dl(...e){return qr.useCallback(function(...e){return t=>{let r=!1;const n=e.map(e=>{const n=Pl(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){const r=n[t];"function"==typeof r?r():Pl(e[t],null)}}}}(...e),e)}class Ol extends qr.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,r=ul(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ll({children:t,isPresent:r,anchorX:n,root:s}){const a=qr.useId(),i=qr.useRef(null),o=qr.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=qr.useContext(_l),c=Dl(i,t?.ref);return qr.useInsertionEffect(()=>{const{width:e,height:t,top:c,left:d,right:u}=o.current;if(r||!i.current||!e||!t)return;const m="left"===n?`left: ${d}`:`right: ${u}`;i.current.dataset.motionPopId=a;const h=document.createElement("style");l&&(h.nonce=l);const p=s??document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${a}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${m}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{p.contains(h)&&p.removeChild(h)}},[r]),e.jsx(Ol,{isPresent:r,childRef:i,sizeRef:o,children:qr.cloneElement(t,{ref:c})})}const Ml=({children:t,initial:r,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=Ls(Il),u=qr.useId();let m=!0,h=qr.useMemo(()=>(m=!1,{id:u,initial:r,isPresent:n,custom:a,onExitComplete:e=>{d.set(e,!0);for(const t of d.values())if(!t)return;s&&s()},register:e=>(d.set(e,!1),()=>d.delete(e))}),[n,d,s]);return i&&m&&(h={...h}),qr.useMemo(()=>{d.forEach((e,t)=>d.set(t,!1))},[n]),qr.useEffect(()=>{!n&&!d.size&&s&&s()},[n]),"popLayout"===o&&(t=e.jsx(Ll,{isPresent:n,anchorX:l,root:c,children:t})),e.jsx(Rs.Provider,{value:h,children:t})};function Il(){return new Map}function Rl(e=!0){const t=qr.useContext(Rs);if(null===t)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=qr.useId();qr.useEffect(()=>{if(e)return s(a)},[e]);const i=qr.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,i]:[!0]}const zl=e=>e.key||"";function Fl(e){const t=[];return qr.Children.forEach(e,e=>{qr.isValidElement(e)&&t.push(e)}),t}const Bl=({children:t,custom:r,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,u]=Rl(o),m=qr.useMemo(()=>Fl(t),[t]),h=o&&!d?[]:m.map(zl),p=qr.useRef(!0),f=qr.useRef(m),x=Ls(()=>new Map),[g,b]=qr.useState(m),[y,v]=qr.useState(m);Is(()=>{p.current=!1,f.current=m;for(let e=0;e<y.length;e++){const t=zl(y[e]);h.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[y,h.length,h.join("-")]);const j=[];if(m!==g){let e=[...m];for(let t=0;t<y.length;t++){const r=y[t],n=zl(r);h.includes(n)||(e.splice(t,0,r),j.push(r))}return"wait"===i&&j.length&&(e=j),v(Fl(e)),b(m),null}const{forceRender:w}=qr.useContext(Os);return e.jsx(e.Fragment,{children:y.map(t=>{const g=zl(t),b=!(o&&!d)&&(m===y||h.includes(g));return e.jsx(Ml,{isPresent:b,initial:!(p.current&&!n)&&void 0,custom:r,presenceAffectsLayout:a,mode:i,root:c,onExitComplete:b?void 0:()=>{if(!x.has(g))return;x.set(g,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(w?.(),v(f.current),o&&u?.(),s&&s())},anchorX:l,children:t},g)})})},ql=qr.createContext({strict:!1}),$l={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ul={};for(const $ in $l)Ul[$]={isEnabled:e=>$l[$].some(t=>!!e[t])};const Wl=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vl(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Wl.has(e)}let Hl=e=>!Vl(e);try{"function"==typeof(Gl=require("@emotion/is-prop-valid").default)&&(Hl=e=>e.startsWith("on")?!Vl(e):Gl(e))}catch{}var Gl;const Kl=qr.createContext({});function Yl(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function Xl(e){return"string"==typeof e||Array.isArray(e)}const Jl=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Ql=["initial",...Jl];function Zl(e){return Yl(e.animate)||Ql.some(t=>Xl(e[t]))}function ec(e){return Boolean(Zl(e)||e.variants)}function tc(e){const{initial:t,animate:r}=function(e,t){if(Zl(e)){const{initial:t,animate:r}=e;return{initial:!1===t||Xl(t)?t:void 0,animate:Xl(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,qr.useContext(Kl));return qr.useMemo(()=>({initial:t,animate:r}),[rc(t),rc(r)])}function rc(e){return Array.isArray(e)?e.join(" "):e}const nc={};function sc(e,{layout:t,layoutId:r}){return fo.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!nc[e]||"opacity"===e)}const ac={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ic=po.length;function oc(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let i=!1,o=!1;for(const l in t){const e=t[l];if(fo.has(l))i=!0;else if(Aa(l))s[l]=e;else{const t=dl(e,sl[l]);l.startsWith("origin")?(o=!0,a[l]=t):n[l]=t}}if(t.transform||(i||r?n.transform=function(e,t,r){let n="",s=!0;for(let a=0;a<ic;a++){const i=po[a],o=e[i];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(i.startsWith("scale")?1:0):0===parseFloat(o),!l||r){const e=dl(o,sl[i]);l||(s=!1,n+=`${ac[i]||i}(${e}) `),r&&(t[i]=e)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:r=0}=a;n.transformOrigin=`${e} ${t} ${r}`}}const lc=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cc(e,t,r){for(const n in t)Tl(t[n])||sc(n,r)||(e[n]=t[n])}function dc(e,t){const r={};return cc(r,e.style||{},e),Object.assign(r,function({transformTemplate:e},t){return qr.useMemo(()=>{const r={style:{},transform:{},transformOrigin:{},vars:{}};return oc(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),r}function uc(e,t){const r={},n=dc(e,t);return e.drag&&!1!==e.dragListener&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const mc={offset:"stroke-dashoffset",array:"stroke-dasharray"},hc={offset:"strokeDashoffset",array:"strokeDasharray"};function pc(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:a=1,pathOffset:i=0,...o},l,c,d){if(oc(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:u,style:m}=e;u.transform&&(m.transform=u.transform,delete u.transform),(m.transform||u.transformOrigin)&&(m.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete u.transformBox),void 0!==t&&(u.x=t),void 0!==r&&(u.y=r),void 0!==n&&(u.scale=n),void 0!==s&&function(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?mc:hc;e[a.offset]=Va.transform(-n);const i=Va.transform(t),o=Va.transform(r);e[a.array]=`${i} ${o}`}(u,s,a,i,!1)}const fc=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),xc=e=>"string"==typeof e&&"svg"===e.toLowerCase();function gc(e,t,r,n){const s=qr.useMemo(()=>{const r={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return pc(r,t,xc(n),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){const t={};cc(t,e.style,e),s.style={...t,...s.style}}return s}const bc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function yc(e){return"string"==typeof e&&!e.includes("-")&&!!(bc.indexOf(e)>-1||/[A-Z]/u.test(e))}function vc(e,t,r,{latestValues:n},s,a=!1){const i=(yc(e)?gc:uc)(t,n,s,e),o=function(e,t,r){const n={};for(const s in e)"values"===s&&"object"==typeof e.values||(Hl(s)||!0===r&&Vl(s)||!t&&!Vl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}(t,"string"==typeof e,a),l=e!==qr.Fragment?{...o,...i,ref:r}:{},{children:c}=t,d=qr.useMemo(()=>Tl(c)?c.get():c,[c]);return qr.createElement(e,{...l,children:d})}function jc(e){const t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function wc(e,t,r,n){if("function"==typeof t){const[s,a]=jc(n);t=t(void 0!==r?r:e.custom,s,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[s,a]=jc(n);t=t(void 0!==r?r:e.custom,s,a)}return t}function Nc(e){return Tl(e)?e.get():e}function kc(e,t,r,n){const s={},a=n(e,{});for(const m in a)s[m]=Nc(a[m]);let{initial:i,animate:o}=e;const l=Zl(e),c=ec(e);t&&c&&!l&&!1!==e.inherit&&(void 0===i&&(i=t.initial),void 0===o&&(o=t.animate));let d=!!r&&!1===r.initial;d=d||!1===i;const u=d?o:i;if(u&&"boolean"!=typeof u&&!Yl(u)){const t=Array.isArray(u)?u:[u];for(let r=0;r<t.length;r++){const n=wc(e,t[r]);if(n){const{transitionEnd:e,transition:t,...r}=n;for(const n in r){let e=r[n];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(s[n]=e)}for(const n in e)s[n]=e[n]}}}return s}const Sc=e=>(t,r)=>{const n=qr.useContext(Kl),s=qr.useContext(Rs),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:kc(r,n,s,e),renderState:t()}}(e,t,n,s);return r?a():Ls(a)};function Cc(e,t,r){const{style:n}=e,s={};for(const a in n)(Tl(n[a])||t.style&&Tl(t.style[a])||sc(a,e)||void 0!==r?.getValue(a)?.liveStyle)&&(s[a]=n[a]);return s}const Ac=Sc({scrapeMotionValuesFromProps:Cc,createRenderState:lc});function Tc(e,t,r){const n=Cc(e,t,r);for(const s in e)if(Tl(e[s])||Tl(t[s])){n[-1!==po.indexOf(s)?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s]=e[s]}return n}const Ec=Sc({scrapeMotionValuesFromProps:Tc,createRenderState:fc}),_c=Symbol.for("motionComponentSymbol");function Pc(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function Dc(e,t,r){return qr.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&("function"==typeof r?r(n):Pc(r)&&(r.current=n))},[t])}const Oc=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lc="data-"+Oc("framerAppearId"),Mc=qr.createContext({});function Ic(e,t,r,n,s){const{visualElement:a}=qr.useContext(Kl),i=qr.useContext(ql),o=qr.useContext(Rs),l=qr.useContext(_l).reducedMotion,c=qr.useRef(null);n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:!!o&&!1===o.initial,reducedMotionConfig:l}));const d=c.current,u=qr.useContext(Mc);!d||d.projection||!s||"html"!==d.type&&"svg"!==d.type||function(e,t,r,n){const{layoutId:s,layout:a,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Rc(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:Boolean(i)||o&&Pc(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}(c.current,r,s,u);const m=qr.useRef(!1);qr.useInsertionEffect(()=>{d&&m.current&&d.update(r,o)});const h=r[Lc],p=qr.useRef(Boolean(h)&&!window.MotionHandoffIsComplete?.(h)&&window.MotionHasOptimisedAnimation?.(h));return Is(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),qr.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(h)}),p.current=!1),d.enteringChildren=void 0)}),d}function Rc(e){if(e)return!1!==e.options.allowProjection?e.projection:Rc(e.parent)}function zc(t,{forwardMotionProps:r=!1}={},n,s){n&&function(e){for(const t in e)Ul[t]={...Ul[t],...e[t]}}(n);const a=yc(t)?Ec:Ac;function i(n,i){let o;const l={...qr.useContext(_l),...n,layoutId:Fc(n)},{isStatic:c}=l,d=tc(n),u=a(n,c);if(!c&&Ms){qr.useContext(ql).strict;const e=function(e){const{drag:t,layout:r}=Ul;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(l);o=e.MeasureLayout,d.visualElement=Ic(t,u,l,s,e.ProjectionNode)}return e.jsxs(Kl.Provider,{value:d,children:[o&&d.visualElement?e.jsx(o,{visualElement:d.visualElement,...l}):null,vc(t,n,Dc(u,d.visualElement,i),u,c,r)]})}i.displayName=`motion.${"string"==typeof t?t:`create(${t.displayName??t.name??""})`}`;const o=qr.forwardRef(i);return o[_c]=t,o}function Fc({layoutId:e}){const t=qr.useContext(Os).id;return t&&void 0!==e?t+"-"+e:e}function Bc(e,t){if("undefined"==typeof Proxy)return zc;const r=new Map,n=(r,n)=>zc(r,n,e,t);return new Proxy((e,t)=>n(e,t),{get:(s,a)=>"create"===a?n:(r.has(a)||r.set(a,zc(a,void 0,e,t)),r.get(a))})}function qc({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function $c(e){return void 0===e||1===e}function Uc({scale:e,scaleX:t,scaleY:r}){return!$c(e)||!$c(t)||!$c(r)}function Wc(e){return Uc(e)||Vc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vc(e){return Hc(e.x)||Hc(e.y)}function Hc(e){return e&&"0%"!==e}function Gc(e,t,r){return r+t*(e-r)}function Kc(e,t,r,n,s){return void 0!==s&&(e=Gc(e,s,n)),Gc(e,r,n)+t}function Yc(e,t=0,r=1,n,s){e.min=Kc(e.min,t,r,n,s),e.max=Kc(e.max,t,r,n,s)}function Xc(e,{x:t,y:r}){Yc(e.x,t.translate,t.scale,t.originPoint),Yc(e.y,r.translate,r.scale,r.originPoint)}const Jc=.999999999999,Qc=1.0000000000001;function Zc(e,t){e.min=e.min+t,e.max=e.max+t}function ed(e,t,r,n,s=.5){Yc(e,t,r,li(e.min,e.max,s),n)}function td(e,t){ed(e.x,t.x,t.scaleX,t.scale,t.originX),ed(e.y,t.y,t.scaleY,t.scale,t.originY)}function rd(e,t){return qc(function(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}const nd=()=>({x:{min:0,max:0},y:{min:0,max:0}}),sd={current:null},ad={current:!1};const id=new WeakMap;const od=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ld{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:s,visualState:a},i={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Co,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Sa.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ya.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=i,this.blockInitialAnimation=Boolean(s),this.isControllingVariants=Zl(t),this.isVariantNode=ec(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(const u in d){const e=d[u];void 0!==o[u]&&Tl(e)&&e.set(o[u])}}mount(e){this.current=e,id.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),ad.current||function(){if(ad.current=!0,Ms)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>sd.current=e.matches;e.addEventListener("change",t),t()}else sd.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||sd.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),va(this.notifyUpdate),va(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e);r&&this.onBindTransform&&this.onBindTransform();const n=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ya.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{n(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Ul){const t=Ul[e];if(!t)continue;const{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<od.length;r++){const t=od[r];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const n=e["on"+t];n&&(this.propEventSubscriptions[t]=this.on(t,n))}this.prevMotionValues=function(e,t,r){for(const n in t){const s=t[n],a=r[n];if(Tl(s))e.addValue(n,s);else if(Tl(a))e.addValue(n,hl(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const t=e.getValue(n);!0===t.liveStyle?t.jump(s):t.hasAnimated||t.set(s)}else{const t=e.getStaticValue(n);e.addValue(n,hl(void 0!==t?t:s,{owner:e}))}}for(const n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=hl(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var n;return null!=r&&("string"==typeof r&&($s(r)||Ws(r))?r=parseFloat(r):(n=r,!El.find(Yo(n))&&ai.test(t)&&(r=ol(e,t))),this.setBaseTarget(e,Tl(r)?r.get():r)),Tl(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let r;if("string"==typeof t||"object"==typeof t){const n=wc(this.props,t,this.presenceContext?.custom);n&&(r=n[e])}if(t&&void 0!==r)return r;const n=this.getBaseTargetFromProps(this.props,e);return void 0===n||Tl(n)?void 0!==this.initialValues[e]&&void 0===r?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new Xs),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){pl.render(this.render)}}class cd extends ld{constructor(){super(...arguments),this.KeyframeResolver=cl}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Tl(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function dd(e,{style:t,vars:r},n,s){const a=e.style;let i;for(i in t)a[i]=t[i];for(i in s?.applyProjectionStyles(a,n),r)a.setProperty(i,r[i])}class ud extends cd{constructor(){super(...arguments),this.type="html",this.renderInstance=dd}readValueFromInstance(e,t){if(fo.has(t))return this.projection?.isProjecting?uo(t):((e,t)=>{const{transform:r="none"}=getComputedStyle(e);return mo(r,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),s=(Aa(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof s?s.trim():s}var r}measureInstanceViewportBox(e,{transformPagePoint:t}){return rd(e,t)}build(e,t,r){oc(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Cc(e,t,r)}}const md=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class hd extends cd{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nd}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(fo.has(t)){const e=il(t);return e&&e.default||0}return t=md.has(t)?t:Oc(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return Tc(e,t,r)}build(e,t,r){pc(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,n){!function(e,t,r,n){dd(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(md.has(s)?s:Oc(s),t.attrs[s])}(e,t,0,n)}mount(e){this.isSVGTag=xc(e.tagName),super.mount(e)}}const pd=(e,t)=>yc(e)?new hd(t):new ud(t,{allowProjection:e!==qr.Fragment});function fd(e,t,r){const n=e.getProps();return wc(n,t,void 0!==r?r:n.custom,e)}const xd=e=>Array.isArray(e);function gd(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,hl(r))}function bd(e){return xd(e)?e[e.length-1]||0:e}function yd(e,t){const r=e.getValue("willChange");if(n=r,Boolean(Tl(n)&&n.add))return r.add(t);if(!r&&qs.WillChange){const r=new qs.WillChange("auto");e.addValue("willChange",r),r.add(t)}var n}function vd(e){return e.props[Lc]}const jd=e=>null!==e;const wd={type:"spring",stiffness:500,damping:25,restSpeed:10},Nd={type:"keyframes",duration:.8},kd={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Sd=(e,{keyframes:t})=>t.length>2?Nd:fo.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:wd:kd;const Cd=(e,t,r,n={},s,a)=>i=>{const o=Go(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c-=Js(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:s};(function({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:i,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length})(o)||Object.assign(d,Sd(e,d)),d.duration&&(d.duration=Js(d.duration)),d.repeatDelay&&(d.repeatDelay=Js(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let u=!1;if((!1===d.type||0===d.duration&&!d.repeatDelay)&&(qo(d),0===d.delay&&(u=!0)),(qs.instantAnimations||qs.skipAnimations)&&(u=!0,qo(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,u&&!a&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:r="loop"}){const n=e.filter(jd);return n[t&&"loop"!==r&&t%2==1?0:n.length-1]}(d.keyframes,o);if(void 0!==e)return void ya.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new ro(d):new Wo(d)};function Ad({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}function Td(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:i,...o}=t;n&&(a=n);const l=[],c=s&&e.animationState&&e.animationState.getState()[s];for(const d in o){const t=e.getValue(d,e.latestValues[d]??null),n=o[d];if(void 0===n||c&&Ad(c,d))continue;const s={delay:r,...Go(a||{},d)},i=t.get();if(void 0!==i&&!t.isAnimating&&!Array.isArray(n)&&n===i&&!s.velocity)continue;let u=!1;if(window.MotionHandoffAnimation){const t=vd(e);if(t){const e=window.MotionHandoffAnimation(t,d,ya);null!==e&&(s.startTime=e,u=!0)}}yd(e,d),t.start(Cd(d,t,n,e.shouldReduceMotion&&Ko.has(d)?{type:!1}:s,e,u));const m=t.animation;m&&l.push(m)}return i&&Promise.all(l).then(()=>{ya.update(()=>{i&&function(e,t){const r=fd(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const i in a)gd(e,i,bd(a[i]))}(e,i)})}),l}function Ed(e,t,r,n=0,s=1){const a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),i=e.size,o=(i-1)*n;return"function"==typeof r?r(a,i):1===s?a*n:o-a*n}function _d(e,t,r={}){const n=fd(e,t,"exit"===r.type?e.presenceContext?.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const a=n?()=>Promise.all(Td(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(n=0)=>{const{delayChildren:a=0,staggerChildren:i,staggerDirection:o}=s;return function(e,t,r=0,n=0,s=0,a=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(_d(l,t,{...i,delay:r+("function"==typeof n?0:n)+Ed(e.variantChildren,l,n,s,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,a,i,o,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[e,t]="beforeChildren"===o?[a,i]:[i,a];return e().then(()=>t())}return Promise.all([a(),i(r.delay)])}function Pd(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Dd=Ql.length;function Od(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&Od(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let r=0;r<Dd;r++){const n=Ql[r],s=e.props[n];(Xl(s)||!1===s)&&(t[n]=s)}return t}const Ld=[...Jl].reverse(),Md=Jl.length;function Id(e){return t=>Promise.all(t.map(({animation:t,options:r})=>function(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t)){const s=t.map(t=>_d(e,t,r));n=Promise.all(s)}else if("string"==typeof t)n=_d(e,t,r);else{const s="function"==typeof t?fd(e,t,r.custom):t;n=Promise.all(Td(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,t,r)))}function Rd(e){let t=Id(e),r=Bd(),n=!0;const s=t=>(r,n)=>{const s=fd(e,n,"exit"===t?e.presenceContext?.custom:void 0);if(s){const{transition:e,transitionEnd:t,...n}=s;r={...r,...n,...t}}return r};function a(a){const{props:i}=e,o=Od(e.parent)||{},l=[],c=new Set;let d={},u=1/0;for(let t=0;t<Md;t++){const m=Ld[t],h=r[m],p=void 0!==i[m]?i[m]:o[m],f=Xl(p),x=m===a?h.isActive:null;!1===x&&(u=t);let g=p===o[m]&&p!==i[m]&&f;if(g&&n&&e.manuallyAnimateOnMount&&(g=!1),h.protectedKeys={...d},!h.isActive&&null===x||!p&&!h.prevProp||Yl(p)||"boolean"==typeof p)continue;const b=zd(h.prevProp,p);let y=b||m===a&&h.isActive&&!g&&f||t>u&&f,v=!1;const j=Array.isArray(p)?p:[p];let w=j.reduce(s(m),{});!1===x&&(w={});const{prevResolvedValues:N={}}=h,k={...N,...w},S=t=>{y=!0,c.has(t)&&(v=!0,c.delete(t)),h.needsAnimating[t]=!0;const r=e.getValue(t);r&&(r.liveStyle=!1)};for(const e in k){const t=w[e],r=N[e];if(d.hasOwnProperty(e))continue;let n=!1;n=xd(t)&&xd(r)?!Pd(t,r):t!==r,n?null!=t?S(e):c.add(e):void 0!==t&&c.has(e)?S(e):h.protectedKeys[e]=!0}h.prevProp=p,h.prevResolvedValues=w,h.isActive&&(d={...d,...w}),n&&e.blockInitialAnimation&&(y=!1);const C=g&&b;y&&(!C||v)&&l.push(...j.map(t=>{const r={type:m};if("string"==typeof t&&n&&!C&&e.manuallyAnimateOnMount&&e.parent){const{parent:n}=e,s=fd(n,t);if(n.enteringChildren&&s){const{delayChildren:t}=s.transition||{};r.delay=Ed(n.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(c.size){const t={};if("boolean"!=typeof i.initial){const r=fd(e,Array.isArray(i.initial)?i.initial[0]:i.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach(r=>{const n=e.getBaseTarget(r),s=e.getValue(r);s&&(s.liveStyle=!0),t[r]=n??null}),l.push({animation:t})}let m=Boolean(l.length);return!n||!1!==i.initial&&i.initial!==i.animate||e.manuallyAnimateOnMount||(m=!1),n=!1,m?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){if(r[t].isActive===n)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,n)),r[t].isActive=n;const s=a(t);for(const e in r)r[e].protectedKeys={};return s},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=Bd()}}}function zd(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!Pd(t,e)}function Fd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bd(){return{animate:Fd(!0),whileInView:Fd(),whileHover:Fd(),whileTap:Fd(),whileDrag:Fd(),whileFocus:Fd(),exit:Fd()}}class qd{constructor(e){this.isMounted=!1,this.node=e}update(){}}let $d=0;const Ud={animation:{Feature:class extends qd{constructor(e){super(e),e.animationState||(e.animationState=Rd(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Yl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends qd{constructor(){super(...arguments),this.id=$d++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function Wd(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Vd(e){return{point:{x:e.pageX,y:e.pageY}}}function Hd(e,t,r,n){return Wd(e,t,(e=>t=>vl(t)&&e(t,Vd(t)))(r),n)}function Gd(e){return e.max-e.min}function Kd(e,t,r,n=.5){e.origin=n,e.originPoint=li(t.min,t.max,e.origin),e.scale=Gd(r)/Gd(t),e.translate=li(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Yd(e,t,r,n){Kd(e.x,t.x,r.x,n?n.originX:void 0),Kd(e.y,t.y,r.y,n?n.originY:void 0)}function Xd(e,t,r){e.min=r.min+t.min,e.max=e.min+Gd(t)}function Jd(e,t,r){e.min=t.min-r.min,e.max=e.min+Gd(t)}function Qd(e,t,r){Jd(e.x,t.x,r.x),Jd(e.y,t.y,r.y)}function Zd(e){return[e("x"),e("y")]}const eu=({current:e})=>e?e.ownerDocument.defaultView:null,tu=(e,t)=>Math.abs(e-t);class ru{constructor(e,t,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=au(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,r=function(e,t){const r=tu(e.x,t.x),n=tu(e.y,t.y);return Math.sqrt(r**2+n**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!r)return;const{point:n}=e,{timestamp:s}=ja;this.history.push({...n,timestamp:s});const{onStart:a,onMove:i}=this.handlers;t||(a&&a(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),i&&i(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=nu(t,this.transformPagePoint),ya.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:r,onSessionEnd:n,resumeAnimation:s}=this.handlers;if(this.dragSnapToOrigin&&s&&s(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const a=au("pointercancel"===e.type?this.lastMoveEventInfo:nu(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!vl(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=n||window;const i=nu(Vd(e),this.transformPagePoint),{point:o}=i,{timestamp:l}=ja;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,au(i,this.history)),this.removeListeners=Ks(Hd(this.contextWindow,"pointermove",this.handlePointerMove),Hd(this.contextWindow,"pointerup",this.handlePointerUp),Hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),va(this.updatePoint)}}function nu(e,t){return t?{point:t(e.point)}:e}function su(e,t){return{x:e.x-t.x,y:e.y-t.y}}function au({point:e},t){return{point:e,delta:su(e,ou(t)),offset:su(e,iu(t)),velocity:lu(t,.1)}}function iu(e){return e[0]}function ou(e){return e[e.length-1]}function lu(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=ou(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Js(t)));)r--;if(!n)return{x:0,y:0};const a=Qs(s.timestamp-n.timestamp);if(0===a)return{x:0,y:0};const i={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function cu(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function du(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}const uu=.35;function mu(e,t,r){return{min:hu(e,t),max:hu(e,r)}}function hu(e,t){return"number"==typeof e?e:e[t]||0}const pu=new WeakMap;class fu{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;const{dragSnapToOrigin:s}=this.getProps();this.panSession=new ru(e,{onSessionStart:e=>{const{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Vd(e).point)},onStart:(e,t)=>{const{drag:r,dragPropagation:n,onDragStart:s}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(a=r)||"y"===a?fl[a]?null:(fl[a]=!0,()=>{fl[a]=!1}):fl.x||fl.y?null:(fl.x=fl.y=!0,()=>{fl.x=fl.y=!1}),!this.openDragLock))return;var a;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zd(e=>{let t=this.getAxisMotionValue(e).get()||0;if(Wa.test(t)){const{projection:r}=this.visualElement;if(r&&r.layout){const n=r.layout.layoutBox[e];if(n){t=Gd(n)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),s&&ya.postRender(()=>s(e,t)),yd(this.visualElement,"transform");const{animationState:i}=this.visualElement;i&&i.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:r,dragDirectionLock:n,onDirectionLock:s,onDrag:a}=this.getProps();if(!r&&!this.openDragLock)return;const{offset:i}=t;if(n&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let r=null;Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x");return r}(i),void(null!==this.currentDirection&&s&&s(this.currentDirection));this.updateAxis("x",t.point,i),this.updateAxis("y",t.point,i),this.visualElement.render(),a&&a(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Zd(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play())},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,distanceThreshold:r,contextWindow:eu(this.visualElement)})}stop(e,t){const r=e||this.latestPointerEvent,n=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!n||!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ya.postRender(()=>i(r,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:n}=this.getProps();if(!r||!xu(e,n,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?li(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?li(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&Pc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!e||!r)&&function(e,{top:t,left:r,bottom:n,right:s}){return{x:cu(e.x,r,s),y:cu(e.y,t,n)}}(r.layoutBox,e),this.elastic=function(e=uu){return!1===e?e=0:!0===e&&(e=uu),{x:mu(e,"left","right"),y:mu(e,"top","bottom")}}(t),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Zd(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const r={};return void 0!==t.min&&(r.min=t.min-e.min),void 0!==t.max&&(r.max=t.max-e.min),r}(r.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Pc(e))return!1;const r=e.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const s=function(e,t,r){const n=rd(e,r),{scroll:s}=t;return s&&(Zc(n.x,s.offset.x),Zc(n.y,s.offset.y)),n}(r,n.root,this.visualElement.getTransformPagePoint());let a=function(e,t){return{x:du(e.x,t.x),y:du(e.y,t.y)}}(n.layout.layoutBox,s);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=qc(e))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:n,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:i}=this.getProps(),o=this.constraints||{},l=Zd(i=>{if(!xu(i,t,this.currentDirection))return;let l=o&&o[i]||{};a&&(l={min:0,max:0});const c=n?200:1e6,d=n?40:1e7,u={type:"inertia",velocity:r?e[i]:0,bounceStiffness:c,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...l};return this.startAxisValueAnimation(i,u)});return Promise.all(l).then(i)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return yd(this.visualElement,e),r.start(Cd(e,r,0,t,this.visualElement,!1))}stopAnimation(){Zd(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zd(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),n=r[t];return n||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zd(t=>{const{drag:r}=this.getProps();if(!xu(t,r,this.currentDirection))return;const{projection:n}=this.visualElement,s=this.getAxisMotionValue(t);if(n&&n.layout){const{min:r,max:a}=n.layout.layoutBox[t];s.set(e[t]-li(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Pc(t)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};Zd(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const r=t.get();n[e]=function(e,t){let r=.5;const n=Gd(e),s=Gd(t);return s>n?r=Ys(t.min,t.max-n,e.min):n>s&&(r=Ys(e.min,e.max-s,t.min)),Bs(0,1,r)}({min:r,max:r},this.constraints[e])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zd(t=>{if(!xu(t,e,null))return;const r=this.getAxisMotionValue(t),{min:s,max:a}=this.constraints[t];r.set(li(s,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;pu.set(this.visualElement,this);const e=Hd(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();Pc(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),ya.read(t);const s=Wd(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(Zd(t=>{const r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{s(),e(),n(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:s=!1,dragElastic:a=uu,dragMomentum:i=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:s,dragElastic:a,dragMomentum:i}}}function xu(e,t,r){return!(!0!==t&&t!==e||null!==r&&r!==e)}const gu=e=>(t,r)=>{e&&ya.postRender(()=>e(t,r))};const bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function yu(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vu={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!Va.test(e))return e;e=parseFloat(e)}return`${yu(e,t.target.x)}% ${yu(e,t.target.y)}%`}},ju={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=ai.parse(e);if(s.length>5)return n;const a=ai.createTransformer(e),i="number"!=typeof s[0]?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;s[0+i]/=o,s[1+i]/=l;const c=li(o,l,.5);return"number"==typeof s[2+i]&&(s[2+i]/=c),"number"==typeof s[3+i]&&(s[3+i]/=c),a(s)}};let wu=!1;class Nu extends qr.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:s}=e;!function(e){for(const t in e)nc[t]=e[t],Aa(t)&&(nc[t].isCSSVariable=!0)}(Su),s&&(t.group&&t.group.add(s),r&&r.register&&n&&r.register(s),wu&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:n,isPresent:s}=this.props,{projection:a}=r;return a?(a.isPresent=s,wu=!0,n||e.layoutDependency!==t||void 0===t||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ya.postRender(()=>{const e=a.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),pl.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;wu=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ku(t){const[r,n]=Rl(),s=qr.useContext(Os);return e.jsx(Nu,{...t,layoutGroup:s,switchLayoutGroup:qr.useContext(Mc),isPresent:r,safeToRemove:n})}const Su={borderRadius:{...vu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vu,borderTopRightRadius:vu,borderBottomLeftRadius:vu,borderBottomRightRadius:vu,boxShadow:ju};const Cu=(e,t)=>e.depth-t.depth;class Au{constructor(){this.children=[],this.isDirty=!1}add(e){zs(this.children,e),this.isDirty=!0}remove(e){Fs(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Cu),this.isDirty=!1,this.children.forEach(e)}}const Tu=["TopLeft","TopRight","BottomLeft","BottomRight"],Eu=Tu.length,_u=e=>"string"==typeof e?parseFloat(e):e,Pu=e=>"number"==typeof e||Va.test(e);function Du(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const Ou=Mu(0,.5,ca),Lu=Mu(.5,.95,Hs);function Mu(e,t,r){return n=>n<e?0:n>t?1:r(Ys(e,t,n))}function Iu(e,t){e.min=t.min,e.max=t.max}function Ru(e,t){Iu(e.x,t.x),Iu(e.y,t.y)}function zu(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Fu(e,t,r,n,s){return e=Gc(e-=t,1/r,n),void 0!==s&&(e=Gc(e,1/s,n)),e}function Bu(e,t,[r,n,s],a,i){!function(e,t=0,r=1,n=.5,s,a=e,i=e){Wa.test(t)&&(t=parseFloat(t),t=li(i.min,i.max,t/100)-i.min);if("number"!=typeof t)return;let o=li(a.min,a.max,n);e===a&&(o-=t),e.min=Fu(e.min,t,r,o,s),e.max=Fu(e.max,t,r,o,s)}(e,t[r],t[n],t[s],t.scale,a,i)}const qu=["x","scaleX","originX"],$u=["y","scaleY","originY"];function Uu(e,t,r,n){Bu(e.x,t,qu,r?r.x:void 0,n?n.x:void 0),Bu(e.y,t,$u,r?r.y:void 0,n?n.y:void 0)}function Wu(e){return 0===e.translate&&1===e.scale}function Vu(e){return Wu(e.x)&&Wu(e.y)}function Hu(e,t){return e.min===t.min&&e.max===t.max}function Gu(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ku(e,t){return Gu(e.x,t.x)&&Gu(e.y,t.y)}function Yu(e){return Gd(e.x)/Gd(e.y)}function Xu(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Ju{constructor(){this.members=[]}add(e){zs(this.members,e),e.scheduleRender()}remove(e){if(Fs(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let r;for(let n=t;n>=0;n--){const e=this.members[n];if(!1!==e.isPresent){r=e;break}}return!!r&&(this.promote(r),!0)}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Qu=["","X","Y","Z"];let Zu=0;function em(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function tm(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=vd(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:t,layoutId:n}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ya,!(t||n))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&tm(n)}function rm({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(e={},r=t?.()){this.id=Zu++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(am),this.nodes.forEach(mm),this.nodes.forEach(hm),this.nodes.forEach(im)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new Au)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Xs),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var r;this.isSVG=Al(t)&&!(Al(r=t)&&"svg"===r.tagName),this.instance=t;const{layoutId:n,layout:s,visualElement:a}=this.options;if(a&&!a.current&&a.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(s||n)&&(this.isLayoutDirty=!0),e){let r,n=0;const s=()=>this.root.updateBlockedByResize=!1;ya.read(()=>{n=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==n&&(n=e,this.root.updateBlockedByResize=!0,r&&r(),r=function(e,t){const r=Sa.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(va(n),e(a-t))};return ya.setup(n,!0),()=>va(n)}(s,250),bu.hasAnimatedSinceResize&&(bu.hasAnimatedSinceResize=!1,this.nodes.forEach(um)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&a&&(n||s)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const s=this.options.transition||a.getDefaultTransition()||ym,{onLayoutAnimationStart:i,onLayoutAnimationComplete:o}=a.getProps(),l=!this.targetLayout||!Ku(this.targetLayout,n),c=!t&&r;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...Go(s,"layout"),onPlay:i,onComplete:o};(a.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||um(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),va(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pm),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tm(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let s=0;s<this.path.length;s++){const e=this.path[s];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;const n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(lm);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(cm);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dm),this.nodes.forEach(nm),this.nodes.forEach(sm)):this.nodes.forEach(cm),this.clearAllSnapshots();const e=Sa.now();ja.delta=Bs(0,1e3/60,e-ja.timestamp),ja.timestamp=e,ja.isProcessing=!0,wa.update.process(ja),wa.preRender.process(ja),wa.render.process(ja),ja.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,pl.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(om),this.sharedNodes.forEach(fm)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ya.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ya.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Gd(this.snapshot.measuredBox.x)||Gd(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let r=0;r<this.path.length;r++){this.path[r].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Vu(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||Wc(this.latestValues)||a)&&(s(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let r=this.removeElementScroll(t);var n;return e&&(r=this.removeTransform(r)),wm((n=r).x),wm(n.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:r,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:e}=this.options;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};const t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(km))){const{scroll:e}=this.root;e&&(Zc(t.x,e.offset.x),Zc(t.y,e.offset.y))}return t}removeElementScroll(e){const t={x:{min:0,max:0},y:{min:0,max:0}};if(Ru(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){const n=this.path[r],{scroll:s,options:a}=n;n!==this.root&&s&&a.layoutScroll&&(s.wasRoot&&Ru(t,e),Zc(t.x,s.offset.x),Zc(t.y,s.offset.y))}return t}applyTransform(e,t=!1){const r={x:{min:0,max:0},y:{min:0,max:0}};Ru(r,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&td(r,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),Wc(e.latestValues)&&td(r,e.latestValues)}return Wc(this.latestValues)&&td(r,this.latestValues),r}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};Ru(t,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];if(!e.instance)continue;if(!Wc(e.latestValues))continue;Uc(e.latestValues)&&e.updateSnapshot();const n=nd();Ru(n,e.measurePageBox()),Uu(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,n)}return Wc(this.latestValues)&&Uu(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ja.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){const t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:n,layoutId:s}=this.options;if(!this.layout||!n&&!s)return;this.resolvedRelativeTargetAt=ja.timestamp;const a=this.getClosestProjectingParent();var i,o,l;(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i=this.target,o=this.relativeTarget,l=this.relativeParent.target,Xd(i.x,o.x,l.x),Xd(i.y,o.y,l.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):Ru(this.target,this.layout.layoutBox),Xc(this.target,this.targetDelta)):Ru(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!Uc(this.parent.latestValues)&&!Vc(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Qd(this.relativeTargetOrigin,t,r),Ru(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const e=this.getLead(),t=Boolean(this.resumingFrom)||this!==e;let r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===ja.timestamp&&(r=!1),r)return;const{layout:n,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!n&&!s)return;Ru(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,i=this.treeScale.y;!function(e,t,r,n=!1){const s=r.length;if(!s)return;let a,i;t.x=t.y=1;for(let o=0;o<s;o++){a=r[o],i=a.projectionDelta;const{visualElement:s}=a.options;s&&s.props.style&&"contents"===s.props.style.display||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&td(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Xc(e,i)),n&&Wc(a.latestValues)&&td(e,a.latestValues))}t.x<Qc&&t.x>Jc&&(t.x=1),t.y<Qc&&t.y>Jc&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,t),!e.layout||e.target||1===this.treeScale.x&&1===this.treeScale.y||(e.target=e.layout.layoutBox,e.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:o}=e;o?(this.projectionDelta&&this.prevProjectionDelta?(zu(this.prevProjectionDelta.x,this.projectionDelta.x),zu(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Yd(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===i&&Xu(this.projectionDelta.x,this.prevProjectionDelta.x)&&Xu(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const r=this.snapshot,n=r?r.latestValues:{},s={...this.latestValues},a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const i={x:{min:0,max:0},y:{min:0,max:0}},o=(r?r.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,d=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(bm));let u;this.animationProgress=0,this.mixTargetDelta=t=>{const r=t/1e3;var l,m,h,p,f,x;xm(a.x,e.x,r),xm(a.y,e.y,r),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qd(i,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h=this.relativeTarget,p=this.relativeTargetOrigin,f=i,x=r,gm(h.x,p.x,f.x,x),gm(h.y,p.y,f.y,x),u&&(l=this.relativeTarget,m=u,Hu(l.x,m.x)&&Hu(l.y,m.y))&&(this.isProjectionDirty=!1),u||(u={x:{min:0,max:0},y:{min:0,max:0}}),Ru(u,this.relativeTarget)),o&&(this.animationValues=s,function(e,t,r,n,s,a){s?(e.opacity=li(0,r.opacity??1,Ou(n)),e.opacityExit=li(t.opacity??1,0,Lu(n))):a&&(e.opacity=li(t.opacity??1,r.opacity??1,n));for(let i=0;i<Eu;i++){const s=`border${Tu[i]}Radius`;let a=Du(t,s),o=Du(r,s);void 0===a&&void 0===o||(a||(a=0),o||(o=0),0===a||0===o||Pu(a)===Pu(o)?(e[s]=Math.max(li(_u(a),_u(o),n),0),(Wa.test(o)||Wa.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||r.rotate)&&(e.rotate=li(t.rotate||0,r.rotate||0,n))}(s,n,this.latestValues,r,d,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=r},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(va(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ya.update(()=>{bu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hl(0)),this.currentAnimation=function(e,t,r){const n=Tl(e)?e:hl(e);return n.start(Cd("",n,t,r)),n.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:r,layout:n,latestValues:s}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&Nm(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Gd(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;const n=Gd(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}Ru(t,r),td(t,s),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,t,s)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Ju);this.sharedNodes.get(e).add(t);const r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){const{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){const{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){const n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;const n={};r.z&&em("z",e,n,this.animationValues);for(let s=0;s<Qu.length;s++)em(`rotate${Qu[s]}`,e,n,this.animationValues),em(`skew${Qu[s]}`,e,n,this.animationValues);e.render();for(const s in n)e.setStaticValue(s,n[s]),this.animationValues&&(this.animationValues[s]=n[s]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const r=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Nc(t?.pointerEvents)||"",void(e.transform=r?r(this.latestValues,""):"none");const n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Nc(t?.pointerEvents)||""),void(this.hasProjected&&!Wc(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1));e.visibility="";const s=n.animationValues||n.latestValues;this.applyTransformsToTarget();let a=function(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,i=r?.z||0;if((s||a||i)&&(n=`translate3d(${s}px, ${a}px, ${i}px) `),1===t.x&&1===t.y||(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:e,rotate:t,rotateX:s,rotateY:a,skewX:i,skewY:o}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),s&&(n+=`rotateX(${s}deg) `),a&&(n+=`rotateY(${a}deg) `),i&&(n+=`skewX(${i}deg) `),o&&(n+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,s);r&&(a=r(s,a)),e.transform=a;const{x:i,y:o}=this.projectionDelta;e.transformOrigin=`${100*i.origin}% ${100*o.origin}% 0`,n.animationValues?e.opacity=n===this?s.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:s.opacityExit:e.opacity=n===this?void 0!==s.opacity?s.opacity:"":void 0!==s.opacityExit?s.opacityExit:0;for(const l in nc){if(void 0===s[l])continue;const{correct:t,applyTo:r,isCSSVariable:i}=nc[l],o="none"===a?s[l]:t(s[l],n);if(r){const t=r.length;for(let n=0;n<t;n++)e[r[n]]=o}else i?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=n===this?Nc(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(lm),this.root.sharedNodes.clear()}}}function nm(e){e.updateLayout()}function sm(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;"size"===s?Zd(e=>{const n=a?t.measuredBox[e]:t.layoutBox[e],s=Gd(n);n.min=r[e].min,n.max=n.min+s}):Nm(s,t.layoutBox,r)&&Zd(n=>{const s=a?t.measuredBox[n]:t.layoutBox[n],i=Gd(r[n]);s.max=s.min+i,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+i)});const i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Yd(i,r,t.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};a?Yd(o,e.applyTransform(n,!0),t.measuredBox):Yd(o,r,t.layoutBox);const l=!Vu(i);let c=!1;if(!e.resumeFrom){const n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){const{snapshot:s,layout:a}=n;if(s&&a){const i={x:{min:0,max:0},y:{min:0,max:0}};Qd(i,t.layoutBox,s.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};Qd(o,r,a.layoutBox),Ku(i,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=i,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:i,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function am(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function im(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function om(e){e.clearSnapshot()}function lm(e){e.clearMeasurements()}function cm(e){e.isLayoutDirty=!1}function dm(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function um(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mm(e){e.resolveTargetDelta()}function hm(e){e.calcProjection()}function pm(e){e.resetSkewAndRotation()}function fm(e){e.removeLeadSnapshot()}function xm(e,t,r){e.translate=li(t.translate,0,r),e.scale=li(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function gm(e,t,r,n){e.min=li(t.min,r.min,n),e.max=li(t.max,r.max,n)}function bm(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const ym={duration:.45,ease:[.4,0,.1,1]},vm=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jm=vm("applewebkit/")&&!vm("chrome/")?Math.round:Hs;function wm(e){e.min=jm(e.min),e.max=jm(e.max)}function Nm(e,t,r){return"position"===e||"preserve-aspect"===e&&(n=Yu(t),s=Yu(r),a=.2,!(Math.abs(n-s)<=a));var n,s,a}function km(e){return e!==e.root&&e.scroll?.wasRoot}const Sm=rm({attachResizeListener:(e,t)=>Wd(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cm={current:void 0},Am=rm({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cm.current){const e=new Sm({});e.mount(window),e.setOptions({layoutScroll:!0}),Cm.current=e}return Cm.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),Tm={pan:{Feature:class extends qd{constructor(){super(...arguments),this.removePointerDownListener=Hs}onPointerDown(e){this.session=new ru(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eu(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:gu(e),onStart:gu(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&ya.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=Hd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends qd{constructor(e){super(e),this.removeGroupControls=Hs,this.removeListeners=Hs,this.controls=new fu(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Hs}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:Am,MeasureLayout:ku}};function Em(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);const s=n["onHover"+r];s&&ya.postRender(()=>s(t,Vd(t)))}function _m(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);const s=n["onTap"+("End"===r?"":r)];s&&ya.postRender(()=>s(t,Vd(t)))}const Pm=new WeakMap,Dm=new WeakMap,Om=e=>{const t=Pm.get(e.target);t&&t(e)},Lm=e=>{e.forEach(Om)};function Mm(e,t,r){const n=function({root:e,...t}){const r=e||document;Dm.has(r)||Dm.set(r,{});const n=Dm.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(Lm,{root:e,...t})),n[s]}(t);return Pm.set(e,r),n.observe(e),()=>{Pm.delete(e),n.unobserve(e)}}const Im={some:0,all:1};const Rm=Bc({...Ud,...{inView:{Feature:class extends qd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:n="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:"number"==typeof n?n:Im[n]};return Mm(this.node.current,a,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,s&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),a=t?r:n;a&&a(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends qd{mount(){const{current:e}=this.node;e&&(this.unmount=Cl(e,(e,t)=>(_m(this.node,t,"Start"),(e,{success:t})=>_m(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends qd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ks(Wd(this.node.current,"focus",()=>this.onFocus()),Wd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends qd{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){const[n,s,a]=gl(e,r),i=e=>{if(!bl(e))return;const{target:r}=e,n=t(r,e);if("function"!=typeof n||!r)return;const a=e=>{bl(e)&&(n(e),r.removeEventListener("pointerleave",a))};r.addEventListener("pointerleave",a,s)};return n.forEach(e=>{e.addEventListener("pointerenter",i,s)}),a}(e,(e,t)=>(Em(this.node,t,"Start"),e=>Em(this.node,e,"End"))))}unmount(){}}}},...Tm,...{layout:{ProjectionNode:Am,MeasureLayout:ku}}},pd),zm="https://backend.nexusmwi.com",Fm=e=>[{id:1,text:`Hi ${e||"there"}! I'm your AI Procurement Assistant. I can help you with requisitions, approvals, vendors, RFQs, and more. How can I help you today?`,sender:"ai",timestamp:(new Date).toISOString()}],Bm=({user:t})=>{const[r,n]=qr.useState(!1),[a,i]=qr.useState(()=>Fm(t?.firstName)),[o,l]=qr.useState(""),[c,d]=qr.useState(!1),[u,m]=qr.useState(!1),[h,p]=qr.useState([]),[f,x]=qr.useState("loading"),g=qr.useRef(null),b=qr.useRef(null),y=qr.useRef(null),{token:v}=An();qr.useEffect(()=>{g.current?.scrollIntoView({behavior:"smooth"})},[a]),qr.useEffect(()=>{r&&!u&&(setTimeout(()=>b.current?.focus(),50),w(),N(),j())},[r,u]),qr.useEffect(()=>{const e=e=>{if(y.current&&!y.current.contains(e.target)){const t=document.querySelector(".ai-chat-button");t?.contains(e.target)||n(!1)}};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r]);const j=async()=>{try{const e=await fetch(`${zm}/api/ai/status`,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}}),t=await e.json();t.success&&x(t.data.status)}catch(e){x("offline")}},w=async()=>{try{const e=await fetch(`${zm}/api/ai/conversation`,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}}),t=await e.json();t.success&&t.data.messages.length>0&&i(t.data.messages)}catch(e){}},N=async()=>{try{const e=await fetch(`${zm}/api/ai/suggestions`,{headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}}),t=await e.json();t.success&&p(t.data.suggestions)}catch(e){p(["Create new requisition","Pending approvals","Procurement workflow","Vendor selection","Generate report","Policy updates"])}},k=async()=>{if(""===o.trim())return;const e={id:Date.now(),text:o,sender:"user",timestamp:(new Date).toISOString()};i(t=>[...t,e]),l(""),d(!0);try{const e=await fetch(`${zm}/api/ai/chat`,{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({message:o})}),t=await e.json();if(!t.success)throw new Error(t.message||"Failed to get AI response");{const e={id:Date.now()+1,text:t.data.response,sender:"ai",timestamp:(new Date).toISOString(),metadata:t.data.metadata};i(t=>[...t,e])}}catch(t){const e={id:Date.now()+1,text:"I'm having trouble connecting right now. Please try again in a moment.",sender:"ai",timestamp:(new Date).toISOString()};i(t=>[...t,e])}finally{d(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(Bl,{children:!r&&e.jsxs(Rm.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{n(!0),m(!1)},className:"ai-chat-button fixed bottom-5 right-5 w-12 h-12 bg-slate-900 hover:bg-slate-800 text-white rounded-full shadow-lg z-50 flex items-center justify-center transition-all duration-150",children:[e.jsx(V,{size:18,strokeWidth:1.5}),"active"===f&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full animate-pulse"})]})}),e.jsx(Bl,{children:r&&e.jsxs(Rm.div,{ref:y,initial:{opacity:0,scale:.98,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.98,y:10},transition:{duration:.15,ease:"easeOut"},className:`fixed bottom-5 right-5 z-50 bg-white rounded-lg shadow-xl border border-gray-100 overflow-hidden ${u?"w-72 h-12":"w-80 h-96"} transition-all duration-200`,children:[e.jsxs("div",{className:"bg-white border-b border-gray-100 p-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center",children:e.jsx(H,{size:12,strokeWidth:2,className:"text-slate-600"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-slate-800",children:"AI Assistant"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full "+("active"===f?"bg-green-500":"fallback_mode"===f?"bg-yellow-500":"bg-gray-400")}),e.jsx("span",{className:"text-xs text-gray-500",children:"active"===f?"Online":"fallback_mode"===f?"Basic Mode":"Offline"})]})]}),c&&e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex items-center",children:[!u&&e.jsx("button",{onClick:async()=>{try{await fetch(`${zm}/api/ai/conversation`,{method:"DELETE",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"}}),i(Fm(t?.firstName))}catch(e){}},className:"p-1 hover:bg-gray-100 rounded transition-colors duration-150 mr-1",title:"Clear conversation",children:e.jsx(G,{size:12,className:"text-gray-500"})}),e.jsx("button",{onClick:()=>m(!u),className:"p-1 hover:bg-gray-100 rounded transition-colors duration-150",children:u?e.jsx(K,{size:12}):e.jsx(Y,{size:12})}),e.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-gray-100 rounded transition-colors duration-150 ml-1",children:e.jsx(s,{size:12})})]})]}),!u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"h-64 overflow-y-auto bg-gray-50",children:[e.jsxs("div",{className:"p-3 space-y-3",children:[a.map(t=>e.jsxs("div",{className:"flex gap-2 "+("user"===t.sender?"flex-row-reverse":""),children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center flex-shrink-0 "+("user"===t.sender?"bg-slate-800 text-white":"bg-white border border-gray-200 text-slate-600"),children:"user"===t.sender?e.jsx(O,{size:10,strokeWidth:2}):e.jsx(H,{size:10,strokeWidth:2})}),e.jsxs("div",{className:"flex-1 max-w-60",children:[e.jsx("div",{className:"inline-block px-3 py-2 rounded-lg text-sm leading-relaxed "+("user"===t.sender?"bg-slate-800 text-white":"bg-white border border-gray-200 text-slate-700"),children:t.text.split("\n").map((r,n)=>e.jsxs("div",{children:[r,n<t.text.split("\n").length-1&&e.jsx("br",{})]},n))}),e.jsx("div",{className:"text-xs text-gray-400 mt-1 "+("user"===t.sender?"text-right":"text-left"),children:new Date(t.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),"ai"===t.sender&&e.jsxs("div",{className:"flex items-center gap-1 mt-1 opacity-0 hover:opacity-100 transition-opacity duration-200",children:[e.jsx("button",{onClick:()=>{return e=t.text,void navigator.clipboard.writeText(e);var e},className:"p-1 hover:bg-gray-100 rounded",title:"Copy message",children:e.jsx(X,{size:10,strokeWidth:1.5,className:"text-gray-400"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(J,{size:10,strokeWidth:1.5,className:"text-gray-400"})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Q,{size:10,strokeWidth:1.5,className:"text-gray-400"})})]})]})]},t.id)),c&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-white border border-gray-200 rounded-full flex items-center justify-center",children:e.jsx(H,{size:10,strokeWidth:2,className:"text-slate-600"})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg px-3 py-2",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]}),e.jsx("div",{ref:g})]}),e.jsx("div",{className:"border-t border-gray-100 p-2",children:e.jsx("div",{className:"grid grid-cols-2 gap-1",children:h.slice(0,4).map((t,r)=>e.jsx("button",{onClick:()=>(e=>{l(e),b.current?.focus()})(t),className:"px-2 py-1.5 text-xs text-slate-600 bg-gray-50 hover:bg-gray-100 rounded border-0 transition-colors duration-150 text-left truncate",title:t,children:t},r))})}),e.jsxs("div",{className:"border-t border-gray-100 p-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{ref:b,type:"text",value:o,onChange:e=>l(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),k())},placeholder:"Ask about requisitions, approvals, vendors...",className:"flex-1 px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-400 focus:border-slate-400 text-sm placeholder-gray-400 transition-all duration-150",disabled:c}),e.jsx("button",{onClick:k,disabled:""===o.trim()||c,className:"p-2 bg-slate-800 hover:bg-slate-700 disabled:bg-gray-200 text-white disabled:text-gray-400 rounded-lg transition-colors duration-150",children:c?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Z,{size:14,strokeWidth:2})})]}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 text-center",children:["AI Assistant  ","active"===f?"Powered by DeepSeek":"Basic Mode"]})]})]})]})})]})};var qm,$m=Object.defineProperty,Um=(e,t,r)=>((e,t,r)=>t in e?$m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r)(e,"symbol"!=typeof t?t+"":t,r),Wm=class{requestAnimationFrame(e){return requestAnimationFrame(e)}cancelAnimationFrame(e){cancelAnimationFrame(e)}},Vm=class{constructor(){Um(this,"_lastHandleId",0),Um(this,"_lastImmediate",null)}requestAnimationFrame(e){return this._lastHandleId>=Number.MAX_SAFE_INTEGER&&(this._lastHandleId=0),this._lastHandleId+=1,this._lastImmediate=setImmediate(()=>{e(Date.now())}),this._lastHandleId}cancelAnimationFrame(e){this._lastImmediate&&clearImmediate(this._lastImmediate)}},Hm=class{constructor(){Um(this,"_strategy"),this._strategy="function"==typeof requestAnimationFrame?new Wm:new Vm}requestAnimationFrame(e){return this._strategy.requestAnimationFrame(e)}cancelAnimationFrame(e){this._strategy.cancelAnimationFrame(e)}},Gm=typeof window<"u"&&typeof window.document<"u",Km=new Uint8Array([80,75,3,4]),Ym=["v","ip","op","layers","fr","w","h"],Xm="0.49.0",Jm="@lottiefiles/dotlottie-web",Qm=(qm=typeof document<"u"?document.currentScript?.src:void 0,function(e={}){var t,r,n,s=e,a=new Promise((e,n)=>{t=e,r=n}),i=Object.assign({},s),o="./this.program",l="";typeof document<"u"&&document.currentScript&&(l=document.currentScript.src),qm&&(l=qm),l=l.startsWith("blob:")?"":l.substr(0,l.replace(/[?#].*/,"").lastIndexOf("/")+1),n=async e=>{if((e=await fetch(e,{credentials:"same-origin"})).ok)return e.arrayBuffer();throw Error(e.status+" : "+e.url)};var c=s.print||function(){}.bind(),d=s.printErr||function(){}.bind();Object.assign(s,i),i=null,s.thisProgram&&(o=s.thisProgram);var u,m,h,p,f,x,g,b,y,v,j=s.wasmBinary,w=!1;function N(){var e=u.buffer;s.HEAP8=h=new Int8Array(e),s.HEAP16=f=new Int16Array(e),s.HEAPU8=p=new Uint8Array(e),s.HEAPU16=x=new Uint16Array(e),s.HEAP32=g=new Int32Array(e),s.HEAPU32=b=new Uint32Array(e),s.HEAPF32=y=new Float32Array(e),s.HEAPF64=v=new Float64Array(e)}var k=[],S=[],C=[];function A(){var e=s.preRun.shift();k.unshift(e)}var T=0,E=null;function _(e){throw s.onAbort?.(e),d(e="Aborted("+e+")"),w=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),r(e),e}var P,D=e=>e.startsWith("data:application/octet-stream;base64,");async function O(e,t){try{var r=await async function(e){if(!j)try{var t=await n(e);return new Uint8Array(t)}catch{}if(e!=P||!j)throw"both async and sync fetching of the wasm failed";return new Uint8Array(j)}(e);return await WebAssembly.instantiate(r,t)}catch(s){d(`failed to asynchronously prepare wasm: ${s}`),_(s)}}class L{constructor(e){Um(this,"name","ExitStatus"),this.message=`Program terminated with exit(${e})`,this.status=e}}var M=e=>{for(;0<e.length;)e.shift()(s)},I=s.noExitRuntime||!0,R=typeof TextDecoder<"u"?new TextDecoder:void 0,z=(e,t=0,r=NaN)=>{var n=t+r;for(r=t;e[r]&&!(r>=n);)++r;if(16<r-t&&e.buffer&&R)return R.decode(e.subarray(t,r));for(n="";t<r;){var s=e[t++];if(128&s){var a=63&e[t++];if(192==(224&s))n+=String.fromCharCode((31&s)<<6|a);else{var i=63&e[t++];65536>(s=224==(240&s)?(15&s)<<12|a<<6|i:(7&s)<<18|a<<12|i<<6|63&e[t++])?n+=String.fromCharCode(s):(s-=65536,n+=String.fromCharCode(55296|s>>10,56320|1023&s))}}else n+=String.fromCharCode(s)}return n},F=0;class B{constructor(e){this.Oa=e-24}}var q=(e,t,r)=>{var n=p;if(0<r){r=t+r-1;for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),127>=a){if(t>=r)break;n[t++]=a}else{if(2047>=a){if(t+1>=r)break;n[t++]=192|a>>6}else{if(65535>=a){if(t+2>=r)break;n[t++]=224|a>>12}else{if(t+3>=r)break;n[t++]=240|a>>18,n[t++]=128|a>>12&63}n[t++]=128|a>>6&63}n[t++]=128|63&a}}n[t]=0}},$={},U=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function W(e){return this.fromWireType(b[e>>2])}var V,H,G,K={},Y={},X={},J=(e,t,r)=>{function n(t){if((t=r(t)).length!==e.length)throw new V("Mismatched type converter count");for(var n=0;n<e.length;++n)Z(e[n],t[n])}e.forEach(e=>X[e]=t);var s=Array(t.length),a=[],i=0;t.forEach((e,t)=>{Y.hasOwnProperty(e)?s[t]=Y[e]:(a.push(e),K.hasOwnProperty(e)||(K[e]=[]),K[e].push(()=>{s[t]=Y[e],++i===a.length&&n(s)}))}),0===a.length&&n(s)},Q=e=>{for(var t="";p[e];)t+=H[p[e++]];return t};function Z(e,t,r={}){return function(e,t,r={}){var n=t.name;if(!e)throw new G(`type "${n}" must have a positive integer typeid pointer`);if(Y.hasOwnProperty(e)){if(r.ub)return;throw new G(`Cannot register type '${n}' twice`)}Y[e]=t,delete X[e],K.hasOwnProperty(e)&&(t=K[e],delete K[e],t.forEach(e=>e()))}(e,t,r)}var ee=e=>{throw new G(e.Na.Qa.Pa.name+" instance already deleted")},te=!1,re=()=>{},ne=(e,t,r)=>t===r?e:void 0===r.Ta||null===(e=ne(e,t,r.Ta))?null:r.nb(e),se={},ae={},ie=(e,t)=>{if(!t.Qa||!t.Oa)throw new V("makeClassHandle requires ptr and ptrType");if(!!t.Ua!=!!t.Sa)throw new V("Both smartPtrType and smartPtr must be specified");return t.count={value:1},oe(Object.create(e,{Na:{value:t,writable:!0}}))},oe=e=>typeof FinalizationRegistry>"u"?(oe=e=>e,e):(te=new FinalizationRegistry(e=>{--(e=e.Na).count.value,0===e.count.value&&(e.Sa?e.Ua.Xa(e.Sa):e.Qa.Pa.Xa(e.Oa))}),re=e=>{te.unregister(e)},(oe=e=>{var t=e.Na;return t.Sa&&te.register(e,{Na:t},e),e})(e));function le(){}var ce=(e,t)=>Object.defineProperty(t,"name",{value:e}),de=(e,t,r)=>{if(void 0===e[t].Ra){var n=e[t];e[t]=function(...n){if(!e[t].Ra.hasOwnProperty(n.length))throw new G(`Function '${r}' called with an invalid number of arguments (${n.length}) - expects one of (${e[t].Ra})!`);return e[t].Ra[n.length].apply(this,n)},e[t].Ra=[],e[t].Ra[n.$a]=n}},ue=(e,t,r)=>{if(s.hasOwnProperty(e)){if(void 0===r||void 0!==s[e].Ra&&void 0!==s[e].Ra[r])throw new G(`Cannot register public name '${e}' twice`);if(de(s,e,e),s[e].Ra.hasOwnProperty(r))throw new G(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`);s[e].Ra[r]=t}else s[e]=t,s[e].$a=r};function me(e,t,r,n,s,a,i,o){this.name=e,this.constructor=t,this.Za=r,this.Xa=n,this.Ta=s,this.pb=a,this.cb=i,this.nb=o,this.wb=[]}var he=(e,t,r)=>{for(;t!==r;){if(!t.cb)throw new G(`Expected null or instance of ${r.name}, got an instance of ${t.name}`);e=t.cb(e),t=t.Ta}return e};function pe(e,t){if(null===t){if(this.gb)throw new G(`null is not a valid ${this.name}`);return 0}if(!t.Na)throw new G(`Cannot pass "${Be(t)}" as a ${this.name}`);if(!t.Na.Oa)throw new G(`Cannot pass deleted object as a pointer of type ${this.name}`);return he(t.Na.Oa,t.Na.Qa.Pa,this.Pa)}function fe(e,t){if(null===t){if(this.gb)throw new G(`null is not a valid ${this.name}`);if(this.fb){var r=this.hb();return null!==e&&e.push(this.Xa,r),r}return 0}if(!t||!t.Na)throw new G(`Cannot pass "${Be(t)}" as a ${this.name}`);if(!t.Na.Oa)throw new G(`Cannot pass deleted object as a pointer of type ${this.name}`);if(!this.eb&&t.Na.Qa.eb)throw new G(`Cannot convert argument of type ${t.Na.Ua?t.Na.Ua.name:t.Na.Qa.name} to parameter type ${this.name}`);if(r=he(t.Na.Oa,t.Na.Qa.Pa,this.Pa),this.fb){if(void 0===t.Na.Sa)throw new G("Passing raw pointer to smart pointer is illegal");switch(this.Bb){case 0:if(t.Na.Ua!==this)throw new G(`Cannot convert argument of type ${t.Na.Ua?t.Na.Ua.name:t.Na.Qa.name} to parameter type ${this.name}`);r=t.Na.Sa;break;case 1:r=t.Na.Sa;break;case 2:if(t.Na.Ua===this)r=t.Na.Sa;else{var n=t.clone();r=this.xb(r,Ie(()=>n.delete())),null!==e&&e.push(this.Xa,r)}break;default:throw new G("Unsupporting sharing policy")}}return r}function xe(e,t){if(null===t){if(this.gb)throw new G(`null is not a valid ${this.name}`);return 0}if(!t.Na)throw new G(`Cannot pass "${Be(t)}" as a ${this.name}`);if(!t.Na.Oa)throw new G(`Cannot pass deleted object as a pointer of type ${this.name}`);if(t.Na.Qa.eb)throw new G(`Cannot convert argument of type ${t.Na.Qa.name} to parameter type ${this.name}`);return he(t.Na.Oa,t.Na.Qa.Pa,this.Pa)}function ge(e,t,r,n,s,a,i,o,l,c,d){this.name=e,this.Pa=t,this.gb=r,this.eb=n,this.fb=s,this.vb=a,this.Bb=i,this.lb=o,this.hb=l,this.xb=c,this.Xa=d,s||void 0!==t.Ta?this.toWireType=fe:(this.toWireType=n?pe:xe,this.Wa=null)}var be,ye,ve=(e,t,r)=>{if(!s.hasOwnProperty(e))throw new V("Replacing nonexistent public symbol");void 0!==s[e].Ra&&void 0!==r?s[e].Ra[r]=t:(s[e]=t,s[e].$a=r)},je=(e,t)=>(...r)=>((e,t,r=[])=>(e.includes("j")?(e=e.replace(/p/g,"i"),t=(0,s["dynCall_"+e])(t,...r)):t=be.get(t)(...r),t))(e,t,r),we=(e,t)=>{var r=(e=Q(e)).includes("j")?je(e,t):be.get(t);if("function"!=typeof r)throw new G(`unknown function pointer with signature ${e}: ${t}`);return r},Ne=e=>{e=ht(e);var t=Q(e);return pt(e),t},ke=(e,t)=>{var r=[],n={};throw t.forEach(function e(t){n[t]||Y[t]||(X[t]?X[t].forEach(e):(r.push(t),n[t]=!0))}),new ye(`${e}: `+r.map(Ne).join([", "]))},Se=(e,t)=>{for(var r=[],n=0;n<e;n++)r.push(b[t+4*n>>2]);return r};function Ce(e,t,r,n,s){var a=t.length;if(2>a)throw new G("argTypes array size mismatch! Must at least get return value and 'this' types!");var i=null!==t[1]&&null!==r,o=function(e){for(var t=1;t<e.length;++t)if(null!==e[t]&&void 0===e[t].Wa)return!0;return!1}(t),l="void"!==t[0].name,c=a-2,d=Array(c),u=[],m=[];return ce(e,function(...e){if(m.length=0,u.length=i?2:1,u[0]=s,i){var r=t[1].toWireType(m,this);u[1]=r}for(var a=0;a<c;++a)d[a]=t[a+2].toWireType(m,e[a]),u.push(d[a]);if(e=n(...u),o)U(m);else for(a=i?1:2;a<t.length;a++){var h=1===a?r:d[a-2];null!==t[a].Wa&&t[a].Wa(h)}return r=l?t[0].fromWireType(e):void 0})}var Ae,Te,Ee,_e,Pe=e=>{let t=(e=e.trim()).indexOf("(");return-1!==t?e.substr(0,t):e},De=[],Oe=[],Le=e=>{9<e&&0===--Oe[e+1]&&(Oe[e]=void 0,De.push(e))},Me=e=>{if(!e)throw new G("Cannot use deleted val. handle = "+e);return Oe[e]},Ie=e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:let t=De.pop()||Oe.length;return Oe[t]=e,Oe[t+1]=1,t}},Re={name:"emscripten::val",fromWireType:e=>{var t=Me(e);return Le(e),t},toWireType:(e,t)=>Ie(t),Va:8,readValueFromPointer:W,Wa:null},ze=(e,t,r)=>{switch(t){case 1:return r?function(e){return this.fromWireType(h[e])}:function(e){return this.fromWireType(p[e])};case 2:return r?function(e){return this.fromWireType(f[e>>1])}:function(e){return this.fromWireType(x[e>>1])};case 4:return r?function(e){return this.fromWireType(g[e>>2])}:function(e){return this.fromWireType(b[e>>2])};default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Fe=(e,t)=>{var r=Y[e];if(void 0===r)throw e=`${t} has unknown type ${Ne(e)}`,new G(e);return r},Be=e=>{if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e},qe=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(y[e>>2])};case 8:return function(e){return this.fromWireType(v[e>>3])};default:throw new TypeError(`invalid float width (${t}): ${e}`)}},$e=(e,t,r)=>{switch(t){case 1:return r?e=>h[e]:e=>p[e];case 2:return r?e=>f[e>>1]:e=>x[e>>1];case 4:return r?e=>g[e>>2]:e=>b[e>>2];default:throw new TypeError(`invalid integer width (${t}): ${e}`)}},Ue=Object.assign({optional:!0},Re),We=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Ve=(e,t)=>{for(var r=e>>1,n=r+t/2;!(r>=n)&&x[r];)++r;if(32<(r<<=1)-e&&We)return We.decode(p.subarray(e,r));for(r="",n=0;!(n>=t/2);++n){var s=f[e+2*n>>1];if(0==s)break;r+=String.fromCharCode(s)}return r},He=(e,t,r)=>{if(r??(r=2147483647),2>r)return 0;var n=t;r=(r-=2)<2*e.length?r/2:e.length;for(var s=0;s<r;++s)f[t>>1]=e.charCodeAt(s),t+=2;return f[t>>1]=0,t-n},Ge=e=>2*e.length,Ke=(e,t)=>{for(var r=0,n="";!(r>=t/4);){var s=g[e+4*r>>2];if(0==s)break;++r,65536<=s?(s-=65536,n+=String.fromCharCode(55296|s>>10,56320|1023&s)):n+=String.fromCharCode(s)}return n},Ye=(e,t,r)=>{if(r??(r=2147483647),4>r)return 0;var n=t;r=n+r-4;for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);if(55296<=a&&57343>=a&&(a=65536+((1023&a)<<10)|1023&e.charCodeAt(++s)),g[t>>2]=a,(t+=4)+4>r)break}return g[t>>2]=0,t-n},Xe=e=>{for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);55296<=n&&57343>=n&&++r,t+=4}return t},Je=0,Qe=(e,t,r)=>{var n=[];return e=e.toWireType(n,r),n.length&&(b[t>>2]=Ie(n)),e},Ze=[],et=Reflect.construct,tt={},rt=e=>{if(!(e instanceof L||"unwind"==e))throw e},nt=e=>{throw m=e,I||0<Je||(s.onExit?.(e),w=!0),new L(e)},st={},at=()=>{if(!Ae){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:o||"./this.program"};for(e in st)void 0===st[e]?delete t[e]:t[e]=st[e];var r=[];for(e in t)r.push(`${e}=${t[e]}`);Ae=r}return Ae},it=[null,[],[]],ot=e=>(ot=(()=>{if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues)return e=>crypto.getRandomValues(e);_("initRandomDevice")})())(e);V=s.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}};for(var lt=Array(256),ct=0;256>ct;++ct)lt[ct]=String.fromCharCode(ct);H=lt,G=s.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Object.assign(le.prototype,{isAliasOf:function(e){if(!(this instanceof le&&e instanceof le))return!1;var t=this.Na.Qa.Pa,r=this.Na.Oa;e.Na=e.Na;var n=e.Na.Qa.Pa;for(e=e.Na.Oa;t.Ta;)r=t.cb(r),t=t.Ta;for(;n.Ta;)e=n.cb(e),n=n.Ta;return t===n&&r===e},clone:function(){if(this.Na.Oa||ee(this),this.Na.bb)return this.Na.count.value+=1,this;var e=oe,t=Object,r=t.create,n=Object.getPrototypeOf(this),s=this.Na;return(e=e(r.call(t,n,{Na:{value:{count:s.count,ab:s.ab,bb:s.bb,Oa:s.Oa,Qa:s.Qa,Sa:s.Sa,Ua:s.Ua}}}))).Na.count.value+=1,e.Na.ab=!1,e},delete(){if(this.Na.Oa||ee(this),this.Na.ab&&!this.Na.bb)throw new G("Object already scheduled for deletion");re(this);var e=this.Na;--e.count.value,0===e.count.value&&(e.Sa?e.Ua.Xa(e.Sa):e.Qa.Pa.Xa(e.Oa)),this.Na.bb||(this.Na.Sa=void 0,this.Na.Oa=void 0)},isDeleted:function(){return!this.Na.Oa},deleteLater:function(){if(this.Na.Oa||ee(this),this.Na.ab&&!this.Na.bb)throw new G("Object already scheduled for deletion");return this.Na.ab=!0,this}}),Object.assign(ge.prototype,{qb(e){return this.lb&&(e=this.lb(e)),e},jb(e){this.Xa?.(e)},Va:8,readValueFromPointer:W,fromWireType:function(e){function t(){return this.fb?ie(this.Pa.Za,{Qa:this.vb,Oa:r,Ua:this,Sa:e}):ie(this.Pa.Za,{Qa:this,Oa:e})}var r=this.qb(e);if(!r)return this.jb(e),null;var n=((e,t)=>{if(void 0===t)throw new G("ptr should not be undefined");for(;e.Ta;)t=e.cb(t),e=e.Ta;return ae[t]})(this.Pa,r);if(void 0!==n)return 0===n.Na.count.value?(n.Na.Oa=r,n.Na.Sa=e,n.clone()):(n=n.clone(),this.jb(e),n);if(n=this.Pa.pb(r),!(n=se[n]))return t.call(this);n=this.eb?n.mb:n.pointerType;var s=ne(r,this.Pa,n.Pa);return null===s?t.call(this):this.fb?ie(n.Pa.Za,{Qa:n,Oa:s,Ua:this,Sa:e}):ie(n.Pa.Za,{Qa:n,Oa:s})}}),ye=s.UnboundTypeError=(Te=Error,(_e=ce(Ee="UnboundTypeError",function(e){this.name=Ee,this.message=e,void 0!==(e=Error(e).stack)&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))})).prototype=Object.create(Te.prototype),_e.prototype.constructor=_e,_e.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},_e),Oe.push(0,1,void 0,1,null,1,!0,1,!1,1),s.count_emval_handles=()=>Oe.length/2-5-De.length;var dt,ut={c:(e,t,r,n)=>_(`Assertion failed: ${e?z(p,e):""}, at: `+[t?t?z(p,t):"":"unknown filename",r,n?n?z(p,n):"":"unknown function"]),d:()=>(()=>{var e=F;if(!e)return gt(0),0;var t=new B(e);b[t.Oa+16>>2]=e;var r=b[t.Oa+4>>2];if(!r)return gt(0),e;for(var n of[]){if(0===n||n===r)break;if(vt(n,r,t.Oa+16))return gt(n),e}return gt(r),e})(),n:(e,t,r)=>{var n=new B(e);throw b[n.Oa+16>>2]=0,b[n.Oa+4>>2]=t,b[n.Oa+8>>2]=r,F=e},e:e=>{throw F||(F=e),F},S:()=>{},P:()=>{},Q:()=>{},U:function(){},R:()=>{},W:()=>_(""),w:e=>{var t=$[e];delete $[e];var r=t.hb,n=t.Xa,s=t.kb,a=s.map(e=>e.tb).concat(s.map(e=>e.zb));J([e],a,e=>{var a={};return s.forEach((t,r)=>{var n=e[r],i=t.rb,o=t.sb,l=e[r+s.length],c=t.yb,d=t.Ab;a[t.ob]={read:e=>n.fromWireType(i(o,e)),write:(e,t)=>{var r=[];c(d,e,l.toWireType(r,t)),U(r)}}}),[{name:t.name,fromWireType:e=>{var t,r={};for(t in a)r[t]=a[t].read(e);return n(e),r},toWireType:(e,t)=>{for(var s in a)if(!(s in t))throw new TypeError(`Missing field: "${s}"`);var i=r();for(s in a)a[s].write(i,t[s]);return null!==e&&e.push(n,i),i},Va:8,readValueFromPointer:W,Wa:n}]})},H:()=>{},ea:(e,t,r,n)=>{Z(e,{name:t=Q(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:n},Va:8,readValueFromPointer:function(e){return this.fromWireType(p[e])},Wa:null})},u:(e,t,r,n,s,a,i,o,l,c,d,u,m)=>{d=Q(d),a=we(s,a),o&&(o=we(i,o)),c&&(c=we(l,c)),m=we(u,m);var h=(e=>{var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e})(d);ue(h,function(){ke(`Cannot construct ${d} due to unbound types`,[n])}),J([e,t,r],n?[n]:[],t=>{if(t=t[0],n)var r=t.Pa,s=r.Za;else s=le.prototype;t=ce(d,function(...e){if(Object.getPrototypeOf(this)!==i)throw new G("Use 'new' to construct "+d);if(void 0===u.Ya)throw new G(d+" has no accessible constructor");var t=u.Ya[e.length];if(void 0===t)throw new G(`Tried to invoke ctor of ${d} with invalid number of parameters (${e.length}) - expected (${Object.keys(u.Ya).toString()}) parameters instead!`);return t.apply(this,e)});var i=Object.create(s,{constructor:{value:t}});t.prototype=i;var l,u=new me(d,t,i,m,r,a,o,c);return u.Ta&&((l=u.Ta).ib??(l.ib=[]),u.Ta.ib.push(u)),r=new ge(d,u,!0,!1,!1),l=new ge(d+"*",u,!1,!1,!1),s=new ge(d+" const*",u,!1,!0,!1),se[e]={pointerType:l,mb:s},ve(h,t),[r,l,s]})},t:(e,t,r,n,s,a)=>{var i=Se(t,r);s=we(n,s),J([],[e],e=>{var r=`constructor ${(e=e[0]).name}`;if(void 0===e.Pa.Ya&&(e.Pa.Ya=[]),void 0!==e.Pa.Ya[t-1])throw new G(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${e.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return e.Pa.Ya[t-1]=()=>{ke(`Cannot construct ${e.name} due to unbound types`,i)},J([],i,n=>(n.splice(1,0,null),e.Pa.Ya[t-1]=Ce(r,n,null,s,a),[])),[]})},h:(e,t,r,n,s,a,i,o)=>{var l=Se(r,n);t=Q(t),t=Pe(t),a=we(s,a),J([],[e],e=>{function n(){ke(`Cannot call ${s} due to unbound types`,l)}var s=`${(e=e[0]).name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),o&&e.Pa.wb.push(t);var c=e.Pa.Za,d=c[t];return void 0===d||void 0===d.Ra&&d.className!==e.name&&d.$a===r-2?(n.$a=r-2,n.className=e.name,c[t]=n):(de(c,t,s),c[t].Ra[r-2]=n),J([],l,n=>(n=Ce(s,n,e,a,i),void 0===c[t].Ra?(n.$a=r-2,c[t]=n):c[t].Ra[r-2]=n,[])),[]})},ca:e=>Z(e,Re),y:(e,t,r,n)=>{function s(){}t=Q(t),s.values={},Z(e,{name:t,constructor:s,fromWireType:function(e){return this.constructor.values[e]},toWireType:(e,t)=>t.value,Va:8,readValueFromPointer:ze(t,r,n),Wa:null}),ue(t,s)},l:(e,t,r)=>{var n=Fe(e,"enum");t=Q(t),e=n.constructor,n=Object.create(n.constructor.prototype,{value:{value:r},constructor:{value:ce(`${n.name}_${t}`,function(){})}}),e.values[r]=n,e[t]=n},E:(e,t,r)=>{Z(e,{name:t=Q(t),fromWireType:e=>e,toWireType:(e,t)=>t,Va:8,readValueFromPointer:qe(t,r),Wa:null})},v:(e,t,r,n,s,a)=>{var i=Se(t,r);e=Q(e),e=Pe(e),s=we(n,s),ue(e,function(){ke(`Cannot call ${e} due to unbound types`,i)},t-1),J([],i,r=>(ve(e,Ce(e,[r[0],null].concat(r.slice(1)),null,s,a),t-1),[]))},p:(e,t,r,n,s)=>{if(t=Q(t),-1===s&&(s=4294967295),s=e=>e,0===n){var a=32-8*r;s=e=>e<<a>>>a}var i=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t};Z(e,{name:t,fromWireType:s,toWireType:i,Va:8,readValueFromPointer:$e(t,r,0!==n),Wa:null})},k:(e,t,r)=>{function n(e){return new s(h.buffer,b[e+4>>2],b[e>>2])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];Z(e,{name:r=Q(r),fromWireType:n,Va:8,readValueFromPointer:n},{ub:!0})},x:e=>{Z(e,Ue)},ka:(e,t,r,n,s,a,i,o,l,c,d,u)=>{r=Q(r),a=we(s,a),o=we(i,o),c=we(l,c),u=we(d,u),J([e],[t],e=>(e=e[0],[new ge(r,e.Pa,!1,!1,!0,e,n,a,o,c,u)]))},da:(e,t)=>{Z(e,{name:t=Q(t),fromWireType:function(e){for(var t,r=b[e>>2],n=e+4,s=n,a=0;a<=r;++a){var i=n+a;(a==r||0==p[i])&&(s=s?z(p,s,i-s):"",void 0===t?t=s:(t+="\0",t+=s),s=i+1)}return pt(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,n="string"==typeof t;if(!(n||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array))throw new G("Cannot pass non-string to std::string");if(n)for(var s=r=0;s<t.length;++s){var a=t.charCodeAt(s);127>=a?r++:2047>=a?r+=2:55296<=a&&57343>=a?(r+=4,++s):r+=3}else r=t.length;if(a=(s=mt(4+r+1))+4,b[s>>2]=r,n)q(t,a,r+1);else if(n)for(n=0;n<r;++n){var i=t.charCodeAt(n);if(255<i)throw pt(a),new G("String has UTF-16 code units that do not fit in 8 bits");p[a+n]=i}else for(n=0;n<r;++n)p[a+n]=t[n];return null!==e&&e.push(pt,s),s},Va:8,readValueFromPointer:W,Wa(e){pt(e)}})},A:(e,t,r)=>{if(r=Q(r),2===t)var n=Ve,s=He,a=Ge,i=e=>x[e>>1];else 4===t&&(n=Ke,s=Ye,a=Xe,i=e=>b[e>>2]);Z(e,{name:r,fromWireType:e=>{for(var r,s=b[e>>2],a=e+4,o=0;o<=s;++o){var l=e+4+o*t;(o==s||0==i(l))&&(a=n(a,l-a),void 0===r?r=a:(r+="\0",r+=a),a=l+t)}return pt(e),r},toWireType:(e,n)=>{if("string"!=typeof n)throw new G(`Cannot pass non-string to C++ string type ${r}`);var i=a(n),o=mt(4+i+t);return b[o>>2]=i/t,s(n,o+4,i+t),null!==e&&e.push(pt,o),o},Va:8,readValueFromPointer:W,Wa(e){pt(e)}})},s:(e,t,r,n,s,a)=>{$[e]={name:Q(t),hb:we(r,n),Xa:we(s,a),kb:[]}},m:(e,t,r,n,s,a,i,o,l,c)=>{$[e].kb.push({ob:Q(t),tb:r,rb:we(n,s),sb:a,zb:i,yb:we(o,l),Ab:c})},fa:(e,t)=>{Z(e,{Cb:!0,name:t=Q(t),Va:0,fromWireType:()=>{},toWireType:()=>{}})},N:()=>{I=!1,Je=0},I:()=>{throw 1/0},F:(e,t,r)=>(e=Me(e),t=Fe(t,"emval::as"),Qe(t,r,e)),ia:(e,t,r,n)=>(e=Ze[e])(null,t=Me(t),r,n),L:Le,ha:(e,t,r)=>{var n=((e,t)=>{for(var r=Array(e),n=0;n<e;++n)r[n]=Fe(b[t+4*n>>2],"parameter "+n);return r})(e,t),s=n.shift();e--;var a=Array(e);return t=`methodCaller<(${n.map(e=>e.name).join(", ")}) => ${s.name}>`,(e=>{var t=Ze.length;return Ze.push(e),t})(ce(t,(t,i,o,l)=>{for(var c=0,d=0;d<e;++d)a[d]=n[d].readValueFromPointer(l+c),c+=n[d].Va;return t=1===r?et(i,a):i.apply(t,a),Qe(s,o,t)}))},ja:e=>{9<e&&(Oe[e+1]+=1)},ga:e=>{var t=Me(e);U(t),Le(e)},r:(e,t)=>(e=(e=Fe(e,"_emval_take_value")).readValueFromPointer(t),Ie(e)),J:(e,t)=>{if(tt[e]&&(clearTimeout(tt[e].id),delete tt[e]),!t)return 0;var r=setTimeout(()=>{delete tt[e],(e=>{if(!w)try{if(e(),!(I||0<Je))try{m=e=m,nt(e)}catch(t){rt(t)}}catch(t){rt(t)}})(()=>ft(e,performance.now()))},t);return tt[e]={id:r,Db:t},0},K:(e,t,r,n)=>{var s=(new Date).getFullYear(),a=new Date(s,0,1).getTimezoneOffset();s=new Date(s,6,1).getTimezoneOffset(),b[e>>2]=60*Math.max(a,s),g[t>>2]=+(a!=s),e=(t=e=>{var t=Math.abs(e);return`UTC${0<=e?"-":"+"}${String(Math.floor(t/60)).padStart(2,"0")}${String(t%60).padStart(2,"0")}`})(a),t=t(s),s<a?(q(e,r,17),q(t,n,17)):(q(e,n,17),q(t,r,17))},ba:()=>performance.now(),M:e=>{var t=p.length;if(2147483648<(e>>>=0))return!1;for(var r=1;4>=r;r*=2){var n=t*(1+.2/r);n=Math.min(n,e+100663296);e:{n=(Math.min(2147483648,65536*Math.ceil(Math.max(e,n)/65536))-u.buffer.byteLength+65535)/65536|0;try{u.grow(n),N();var s=1;break e}catch{}s=void 0}if(s)return!0}return!1},Y:(e,t)=>{var r=0;return at().forEach((n,s)=>{var a=t+r;for(s=b[e+4*s>>2]=a,a=0;a<n.length;++a)h[s++]=n.charCodeAt(a);h[s]=0,r+=n.length+1}),0},Z:(e,t)=>{var r=at();b[e>>2]=r.length;var n=0;return r.forEach(e=>n+=e.length+1),b[t>>2]=n,0},V:()=>52,T:()=>52,B:(e,t,r,n)=>{for(var s=0,a=0;a<r;a++){var i=b[t>>2],o=b[t+4>>2];t+=8;for(var l=0;l<o;l++){var u=e,m=p[i+l],h=it[u];0===m||10===m?((1===u?c:d)(z(h)),h.length=0):h.push(m)}s+=o}return b[n>>2]=s,0},$:function(e,t){var r=yt();try{return be.get(e)(t)}catch(n){if(bt(r),n!==n+0)throw n;xt(1,0)}},_:function(e,t,r,n){var s=yt();try{return be.get(e)(t,r,n)}catch(a){if(bt(s),a!==a+0)throw a;xt(1,0)}},j:function(e,t){var r=yt();try{return be.get(e)(t)}catch(n){if(bt(r),n!==n+0)throw n;xt(1,0)}},i:function(e,t,r){var n=yt();try{return be.get(e)(t,r)}catch(s){if(bt(n),s!==s+0)throw s;xt(1,0)}},g:function(e,t,r,n){var s=yt();try{return be.get(e)(t,r,n)}catch(a){if(bt(s),a!==a+0)throw a;xt(1,0)}},aa:function(e,t,r,n,s){var a=yt();try{return be.get(e)(t,r,n,s)}catch(i){if(bt(a),i!==i+0)throw i;xt(1,0)}},z:function(e,t,r,n,s,a){var i=yt();try{return be.get(e)(t,r,n,s,a)}catch(o){if(bt(i),o!==o+0)throw o;xt(1,0)}},C:function(e,t,r,n,s,a,i,o){var l=yt();try{return be.get(e)(t,r,n,s,a,i,o)}catch(c){if(bt(l),c!==c+0)throw c;xt(1,0)}},D:function(e){var t=yt();try{be.get(e)()}catch(_e){if(bt(t),_e!==_e+0)throw _e;xt(1,0)}},a:function(e,t){var r=yt();try{be.get(e)(t)}catch(n){if(bt(r),n!==n+0)throw n;xt(1,0)}},b:function(e,t,r){var n=yt();try{be.get(e)(t,r)}catch(s){if(bt(n),s!==s+0)throw s;xt(1,0)}},f:function(e,t,r,n){var s=yt();try{be.get(e)(t,r,n)}catch(a){if(bt(s),a!==a+0)throw a;xt(1,0)}},o:function(e,t,r,n,s){var a=yt();try{be.get(e)(t,r,n,s)}catch(i){if(bt(a),i!==i+0)throw i;xt(1,0)}},q:function(e,t,r,n,s,a){var i=yt();try{be.get(e)(t,r,n,s,a)}catch(o){if(bt(i),o!==o+0)throw o;xt(1,0)}},G:function(e,t,r,n,s,a,i,o,l,c){var d=yt();try{wt(e,t,r,n,s,a,i,o,l,c)}catch(u){if(bt(d),u!==u+0)throw u;xt(1,0)}},X:nt,O:(e,t)=>(ot(p.subarray(e,e+t)),0)};!async function(){function e(e){return dt=e.exports,u=dt.la,N(),be=dt.qa,S.unshift(dt.ma),T--,s.monitorRunDependencies?.(T),0==T&&E&&(e=E,E=null,e()),dt}T++,s.monitorRunDependencies?.(T);var t={a:ut};if(s.instantiateWasm)try{return s.instantiateWasm(t,e)}catch(a){d(`Module.instantiateWasm callback failed with error: ${a}`),r(a)}P??(P=D("DotLottiePlayer.wasm")?"DotLottiePlayer.wasm":s.locateFile?s.locateFile("DotLottiePlayer.wasm",l):l+"DotLottiePlayer.wasm");try{var n=await async function(e){var t=P;if(!j&&"function"==typeof WebAssembly.instantiateStreaming&&!D(t)&&"function"==typeof fetch)try{var r=fetch(t,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(r,e)}catch(a){d(`wasm streaming compile failed: ${a}`),d("falling back to ArrayBuffer instantiation")}return O(t,e)}(t);return e(n.instance),n}catch(a){r(a)}}();var mt=e=>(mt=dt.na)(e),ht=e=>(ht=dt.oa)(e),pt=e=>(pt=dt.pa)(e),ft=(e,t)=>(ft=dt.ra)(e,t),xt=(e,t)=>(xt=dt.sa)(e,t),gt=e=>(gt=dt.ta)(e),bt=e=>(bt=dt.ua)(e),yt=()=>(yt=dt.va)(),vt=(e,t,r)=>(vt=dt.wa)(e,t,r);s.dynCall_iijj=(e,t,r,n,a,i)=>(s.dynCall_iijj=dt.xa)(e,t,r,n,a,i),s.dynCall_vijj=(e,t,r,n,a,i)=>(s.dynCall_vijj=dt.ya)(e,t,r,n,a,i),s.dynCall_jiii=(e,t,r,n)=>(s.dynCall_jiii=dt.za)(e,t,r,n);var jt,wt=s.dynCall_vijjjj=(e,t,r,n,a,i,o,l,c,d)=>(wt=s.dynCall_vijjjj=dt.Aa)(e,t,r,n,a,i,o,l,c,d);function Nt(){function e(){if(!jt&&(jt=!0,s.calledRun=!0,!w)){if(M(S),t(s),s.onRuntimeInitialized?.(),s.postRun)for("function"==typeof s.postRun&&(s.postRun=[s.postRun]);s.postRun.length;){var e=s.postRun.shift();C.unshift(e)}M(C)}}if(!(0<T)){if(s.preRun)for("function"==typeof s.preRun&&(s.preRun=[s.preRun]);s.preRun.length;)A();M(k),0<T||(s.setStatus?(s.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>s.setStatus(""),1),e()},1)):e())}}if(s.dynCall_jii=(e,t,r)=>(s.dynCall_jii=dt.Ba)(e,t,r),s.dynCall_vjii=(e,t,r,n,a)=>(s.dynCall_vjii=dt.Ca)(e,t,r,n,a),s.dynCall_vjfii=(e,t,r,n,a,i)=>(s.dynCall_vjfii=dt.Da)(e,t,r,n,a,i),s.dynCall_vjiii=(e,t,r,n,a,i)=>(s.dynCall_vjiii=dt.Ea)(e,t,r,n,a,i),s.dynCall_vj=(e,t,r)=>(s.dynCall_vj=dt.Fa)(e,t,r),s.dynCall_vjiiiii=(e,t,r,n,a,i,o,l)=>(s.dynCall_vjiiiii=dt.Ga)(e,t,r,n,a,i,o,l),s.dynCall_vjiffii=(e,t,r,n,a,i,o,l)=>(s.dynCall_vjiffii=dt.Ha)(e,t,r,n,a,i,o,l),s.dynCall_vjiiii=(e,t,r,n,a,i,o)=>(s.dynCall_vjiiii=dt.Ia)(e,t,r,n,a,i,o),s.dynCall_viijii=(e,t,r,n,a,i,o)=>(s.dynCall_viijii=dt.Ja)(e,t,r,n,a,i,o),s.dynCall_iiiiij=(e,t,r,n,a,i,o)=>(s.dynCall_iiiiij=dt.Ka)(e,t,r,n,a,i,o),s.dynCall_iiiiijj=(e,t,r,n,a,i,o,l,c)=>(s.dynCall_iiiiijj=dt.La)(e,t,r,n,a,i,o,l,c),s.dynCall_iiiiiijj=(e,t,r,n,a,i,o,l,c,d)=>(s.dynCall_iiiiiijj=dt.Ma)(e,t,r,n,a,i,o,l,c,d),E=function e(){jt||Nt(),jt||(E=e)},s.preInit)for("function"==typeof s.preInit&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return Nt(),a}),Zm=Qm,eh=class{constructor(){throw new Error("RendererLoader is a static class and cannot be instantiated.")}static async _tryLoad(e){return await Zm({locateFile:()=>e})}static async _loadWithBackup(){return this._ModulePromise||(this._ModulePromise=this._tryLoad(this._wasmURL).catch(async e=>{let t=`https://unpkg.com/${Jm}@${Xm}/dist/dotlottie-player.wasm`;try{return await this._tryLoad(t)}catch(r){throw new Error("WASM loading failed from all sources.")}})),this._ModulePromise}static async load(){return this._loadWithBackup()}static setWasmUrl(e){e!==this._wasmURL&&(this._wasmURL=e,this._ModulePromise=null)}};Um(eh,"_ModulePromise",null),Um(eh,"_wasmURL",`https://cdn.jsdelivr.net/npm/${Jm}@${Xm}/dist/dotlottie-player.wasm`);var th=class{constructor(){Um(this,"_eventListeners",new Map)}addEventListener(e,t){let r=this._eventListeners.get(e);r||(r=new Set,this._eventListeners.set(e,r)),r.add(t)}removeEventListener(e,t){let r=this._eventListeners.get(e);r&&(t?(r.delete(t),0===r.size&&this._eventListeners.delete(e)):this._eventListeners.delete(e))}dispatch(e){this._eventListeners.get(e.type)?.forEach(t=>t(e))}removeAllEventListeners(){this._eventListeners.clear()}},rh=class{static _initializeObserver(){if(this._observer)return;this._observer=new IntersectionObserver(e=>{e.forEach(e=>{let t=this._observedCanvases.get(e.target);t&&(e.isIntersecting?t.unfreeze():t.freeze())})},{threshold:0})}static observe(e,t){this._initializeObserver(),!this._observedCanvases.has(e)&&(this._observedCanvases.set(e,t),this._observer?.observe(e))}static unobserve(e){this._observer?.unobserve(e),this._observedCanvases.delete(e),0===this._observedCanvases.size&&(this._observer?.disconnect(),this._observer=null)}};Um(rh,"_observer",null),Um(rh,"_observedCanvases",new Map);var nh=class{static _initializeObserver(){if(this._observer)return;this._observer=new ResizeObserver(e=>{e.forEach(e=>{let t=this._observedCanvases.get(e.target);if(!t)return;let[r,n]=t;clearTimeout(n);let s=setTimeout(()=>{r.resize()},100);this._observedCanvases.set(e.target,[r,s])})})}static observe(e,t){this._initializeObserver(),!this._observedCanvases.has(e)&&(this._observedCanvases.set(e,[t,0]),this._observer?.observe(e))}static unobserve(e){let t=this._observedCanvases.get(e);if(t){let e=t[1];e&&clearTimeout(e)}this._observer?.unobserve(e),this._observedCanvases.delete(e),!this._observedCanvases.size&&this._observer&&(this._observer.disconnect(),this._observer=null)}};function sh(e){if(!function(e){return/^#([\da-f]{6}|[\da-f]{8})$/iu.test(e)}(e))return 0;let t=e.replace("#","");return t=6===t.length?`${t}ff`:t,parseInt(t,16)}function ah(e){if(e.byteLength<4)return!1;let t=new Uint8Array(e.slice(0,Km.byteLength));for(let r=0;r<Km.length;r+=1)if(Km[r]!==t[r])return!1;return!0}function ih(e){return Ym.every(t=>Object.prototype.hasOwnProperty.call(e,t))}function oh(e){if("string"!=typeof e)return ih(e);try{return ih(JSON.parse(e))}catch{return!1}}function lh(){return 1+.75*((Gm?window.devicePixelRatio:1)-1)}function ch(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}Um(nh,"_observer",null),Um(nh,"_observedCanvases",new Map);var dh=(e,t)=>"reverse"===e?t.Mode.Reverse:"bounce"===e?t.Mode.Bounce:"reverse-bounce"===e?t.Mode.ReverseBounce:t.Mode.Forward,uh=(e,t)=>"contain"===e?t.Fit.Contain:"cover"===e?t.Fit.Cover:"fill"===e?t.Fit.Fill:"fit-height"===e?t.Fit.FitHeight:"fit-width"===e?t.Fit.FitWidth:t.Fit.None,mh=(e,t)=>{let r=new t.VectorFloat;return r.push_back(e[0]),r.push_back(e[1]),r},hh=(e,t)=>{let r=new t.VectorFloat;return 2!==e.length||(r.push_back(e[0]),r.push_back(e[1])),r},ph=(e,t)=>e?{align:mh(e.align??[.5,.5],t),fit:uh(e.fit??"contain",t)}:t.createDefaultLayout(),fh=class e{constructor(t){Um(this,"_canvas"),Um(this,"_context",null),Um(this,"_eventManager"),Um(this,"_animationFrameId",null),Um(this,"_frameManager"),Um(this,"_dotLottieCore",null),Um(this,"_renderConfig",{}),Um(this,"_isFrozen",!1),Um(this,"_backgroundColor",null),Um(this,"_pointerUpMethod"),Um(this,"_pointerDownMethod"),Um(this,"_pointerMoveMethod"),Um(this,"_pointerEnterMethod"),Um(this,"_pointerExitMethod"),this._canvas=t.canvas,this._eventManager=new th,this._frameManager=new Hm,this._renderConfig={...t.renderConfig,devicePixelRatio:t.renderConfig?.devicePixelRatio||lh(),freezeOnOffscreen:t.renderConfig?.freezeOnOffscreen??!0},eh.load().then(r=>{e._wasmModule=r,this._dotLottieCore=new r.DotLottiePlayer({animationId:t.animationId??"",themeId:t.themeId??"",stateMachineId:"",autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:dh(t.mode??"forward",r),segment:hh(t.segment??[],r),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:ph(t.layout,r)}),this._eventManager.dispatch({type:"ready"}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor)}).catch(e=>{this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to load wasm module: ${e}`)})}),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this)}_dispatchError(e){this._eventManager.dispatch({type:"loadError",error:new Error(e)})}async _fetchData(e){let t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch animation data from URL: ${e}. ${t.status}: ${t.statusText}`);let r=await t.arrayBuffer();return ah(r)?r:(new TextDecoder).decode(r)}_loadFromData(e){if(null===this._dotLottieCore)return;let t=this._canvas.width,r=this._canvas.height,n=!1;if("string"==typeof e){if(!oh(e))return void this._dispatchError("Invalid Lottie JSON string: The provided string does not conform to the Lottie JSON format.");n=this._dotLottieCore.loadAnimationData(e,t,r)}else if(e instanceof ArrayBuffer){if(!ah(e))return void this._dispatchError("Invalid dotLottie ArrayBuffer: The provided ArrayBuffer does not conform to the dotLottie format.");n=this._dotLottieCore.loadDotLottieData(e,t,r)}else{if("object"!=typeof e)return void this._dispatchError("Unsupported data type for animation data. Expected: \n          - string (Lottie JSON),\n          - ArrayBuffer (dotLottie),\n          - object (Lottie JSON). \n          Received: "+typeof e);if(!oh(e))return void this._dispatchError("Invalid Lottie JSON object: The provided object does not conform to the Lottie JSON format.");n=this._dotLottieCore.loadAnimationData(JSON.stringify(e),t,r)}n?(this._eventManager.dispatch({type:"load"}),Gm&&this.resize(),this._eventManager.dispatch({type:"frame",currentFrame:this.currentFrame}),this._render(),this._dotLottieCore.config().autoplay&&(this._dotLottieCore.play(),this._dotLottieCore.isPlaying()&&(this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)))),Gm&&this._canvas instanceof HTMLCanvasElement&&(this._renderConfig.freezeOnOffscreen&&rh.observe(this._canvas,this),this._renderConfig.autoResize&&nh.observe(this._canvas,this))):this._dispatchError("Failed to load animation data")}_loadFromSrc(e){this._fetchData(e).then(e=>this._loadFromData(e)).catch(t=>this._dispatchError(`Failed to load animation data from URL: ${e}. ${t}`))}get buffer(){return this._dotLottieCore?this._dotLottieCore.buffer():null}get activeAnimationId(){return this._dotLottieCore?.activeAnimationId()}get activeThemeId(){return this._dotLottieCore?.activeThemeId()}get layout(){let t=this._dotLottieCore?.config().layout;if(t)return{align:[t.align.get(0),t.align.get(1)],fit:(()=>{switch(t.fit){case e._wasmModule?.Fit.Contain:return"contain";case e._wasmModule?.Fit.Cover:return"cover";case e._wasmModule?.Fit.Fill:return"fill";case e._wasmModule?.Fit.FitHeight:return"fit-height";case e._wasmModule?.Fit.FitWidth:return"fit-width";case e._wasmModule?.Fit.None:return"none";default:return"contain"}})()}}get marker(){return this._dotLottieCore?.config().marker}get manifest(){try{let e=this._dotLottieCore?.manifestString();if(null===this._dotLottieCore||!e)return null;let t=JSON.parse(e);return 0===Object.keys(t).length?null:t}catch{return null}}get renderConfig(){return this._renderConfig}get segment(){let e=this._dotLottieCore?.config().segment;if(e&&2===e.size())return[e.get(0),e.get(1)]}get loop(){return this._dotLottieCore?.config().loopAnimation??!1}get mode(){let t=this._dotLottieCore?.config().mode;return t===e._wasmModule?.Mode.Reverse?"reverse":t===e._wasmModule?.Mode.Bounce?"bounce":t===e._wasmModule?.Mode.ReverseBounce?"reverse-bounce":"forward"}get isFrozen(){return this._isFrozen}get backgroundColor(){return this._backgroundColor??""}get autoplay(){return this._dotLottieCore?.config().autoplay??!1}get useFrameInterpolation(){return this._dotLottieCore?.config().useFrameInterpolation??!1}get speed(){return this._dotLottieCore?.config().speed??0}get isReady(){return null!==this._dotLottieCore}get isLoaded(){return this._dotLottieCore?.isLoaded()??!1}get isPlaying(){return this._dotLottieCore?.isPlaying()??!1}get isPaused(){return this._dotLottieCore?.isPaused()??!1}get isStopped(){return this._dotLottieCore?.isStopped()??!1}get currentFrame(){return this._dotLottieCore?Math.round(100*this._dotLottieCore.currentFrame())/100:0}get loopCount(){return this._dotLottieCore?.loopCount()??0}get totalFrames(){return this._dotLottieCore?.totalFrames()??0}get duration(){return this._dotLottieCore?.duration()??0}get segmentDuration(){return this._dotLottieCore?.segmentDuration()??0}get canvas(){return this._canvas}load(t){null===this._dotLottieCore||null===e._wasmModule||(null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null),this._isFrozen=!1,this._dotLottieCore.setConfig({animationId:t.animationId??"",themeId:t.themeId??"",stateMachineId:"",autoplay:t.autoplay??!1,backgroundColor:0,loopAnimation:t.loop??!1,mode:dh(t.mode??"forward",e._wasmModule),segment:hh(t.segment??[],e._wasmModule),speed:t.speed??1,useFrameInterpolation:t.useFrameInterpolation??!0,marker:t.marker??"",layout:ph(t.layout,e._wasmModule)}),t.data?this._loadFromData(t.data):t.src&&this._loadFromSrc(t.src),this.setBackgroundColor(t.backgroundColor??""))}_render(){if(null===this._dotLottieCore)return!1;if(!this._context&&"getContext"in this._canvas&&"function"==typeof this._canvas.getContext&&(this._context=this._canvas.getContext("2d")),this._dotLottieCore.render()){if(this._context){let e=this._dotLottieCore.buffer(),t=this._canvas.width*this._canvas.height*4;if(e.byteLength!==t)return!1;let r=null,n=new Uint8ClampedArray(e,0,e.byteLength);typeof ImageData>"u"?(r=this._context.createImageData(this._canvas.width,this._canvas.height),r.data.set(n)):r=new ImageData(n,this._canvas.width,this._canvas.height),this._context.putImageData(r,0,0)}return this._eventManager.dispatch({type:"render",currentFrame:this.currentFrame}),!0}return!1}_draw(){if(null!==this._dotLottieCore&&this._dotLottieCore.isPlaying())try{if(this._dotLottieCore.isTweening())this._dotLottieCore.tweenUpdate()&&this._render();else{let e=Math.round(1e3*this._dotLottieCore.requestFrame())/1e3;if(this._dotLottieCore.setFrame(e)&&(this._eventManager.dispatch({type:"frame",currentFrame:this.currentFrame}),this._render()&&this._dotLottieCore.isComplete())){if(!this._dotLottieCore.config().loopAnimation)return void this._eventManager.dispatch({type:"complete"});this._eventManager.dispatch({type:"loop",loopCount:this._dotLottieCore.loopCount()})}}this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))}catch(e){this._eventManager.dispatch({type:"renderError",error:e}),e instanceof WebAssembly.RuntimeError&&this.destroy()}}play(){null!==this._dotLottieCore&&(null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null),(this._dotLottieCore.play()||this._dotLottieCore.isPlaying())&&(this._isFrozen=!1,this._eventManager.dispatch({type:"play"}),this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this))),Gm&&this._canvas instanceof HTMLCanvasElement&&this._renderConfig.freezeOnOffscreen&&!ch(this._canvas)&&this.freeze())}pause(){null!==this._dotLottieCore&&(this._dotLottieCore.pause()||this._dotLottieCore.isPaused())&&this._eventManager.dispatch({type:"pause"})}stop(){null!==this._dotLottieCore&&this._dotLottieCore.stop()&&(this._eventManager.dispatch({type:"frame",currentFrame:this.currentFrame}),this._render(),this._eventManager.dispatch({type:"stop"}))}setFrame(e){null===this._dotLottieCore||e<0||e>this._dotLottieCore.totalFrames()||this._dotLottieCore.seek(e)&&(this._eventManager.dispatch({type:"frame",currentFrame:this.currentFrame}),this._render())}setSpeed(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),speed:e})}setBackgroundColor(e){null!==this._dotLottieCore&&(Gm&&this._canvas instanceof HTMLCanvasElement?this._canvas.style.backgroundColor=e:this._dotLottieCore.setConfig({...this._dotLottieCore.config(),backgroundColor:sh(e)}),this._backgroundColor=e)}setLoop(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),loopAnimation:e})}setUseFrameInterpolation(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),useFrameInterpolation:e})}addEventListener(e,t){this._eventManager.addEventListener(e,t)}removeEventListener(e,t){this._eventManager.removeEventListener(e,t)}destroy(){null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null),Gm&&this._canvas instanceof HTMLCanvasElement&&(rh.unobserve(this._canvas),nh.unobserve(this._canvas)),this._dotLottieCore?.delete(),this._dotLottieCore=null,this._context=null,this._eventManager.dispatch({type:"destroy"}),this._eventManager.removeAllEventListeners(),this._cleanupStateMachineListeners()}freeze(){null!==this._animationFrameId&&(this._frameManager.cancelAnimationFrame(this._animationFrameId),this._animationFrameId=null,this._isFrozen=!0,this._eventManager.dispatch({type:"freeze"}))}unfreeze(){null===this._animationFrameId&&(this._animationFrameId=this._frameManager.requestAnimationFrame(this._draw.bind(this)),this._isFrozen=!1,this._eventManager.dispatch({type:"unfreeze"}))}resize(){if(this._dotLottieCore&&this.isLoaded){if(Gm&&this._canvas instanceof HTMLCanvasElement){let e=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1,{height:t,width:r}=this._canvas.getBoundingClientRect();0!==t&&0!==r&&(this._canvas.width=r*e,this._canvas.height=t*e)}this._dotLottieCore.resize(this._canvas.width,this._canvas.height)&&this._render()}}setSegment(t,r){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),segment:hh([t,r],e._wasmModule)})}setMode(t){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),mode:dh(t,e._wasmModule)})}setRenderConfig(e){let{devicePixelRatio:t,freezeOnOffscreen:r,...n}=e;this._renderConfig={...this._renderConfig,...n,devicePixelRatio:t||lh(),freezeOnOffscreen:r??!0},Gm&&this._canvas instanceof HTMLCanvasElement&&(this._renderConfig.autoResize?nh.observe(this._canvas,this):nh.unobserve(this._canvas),this._renderConfig.freezeOnOffscreen?rh.observe(this._canvas,this):(rh.unobserve(this._canvas),this._isFrozen&&this.unfreeze()))}loadAnimation(e){null===this._dotLottieCore||this._dotLottieCore.activeAnimationId()===e||(this._dotLottieCore.loadAnimation(e,this._canvas.width,this._canvas.height)?(this._eventManager.dispatch({type:"load"}),this.resize()):this._eventManager.dispatch({type:"loadError",error:new Error(`Failed to animation :${e}`)}))}setMarker(e){null!==this._dotLottieCore&&this._dotLottieCore.setConfig({...this._dotLottieCore.config(),marker:e})}markers(){let e=this._dotLottieCore?.markers();if(e){let t=[];for(let r=0;r<e.size();r+=1){let n=e.get(r);t.push({name:n.name,time:n.time,duration:n.duration})}return t}return[]}setTheme(e){if(null===this._dotLottieCore)return!1;let t=this._dotLottieCore.setTheme(e);return this._render(),t}resetTheme(){return null!==this._dotLottieCore&&this._dotLottieCore.resetTheme()}setThemeData(e){if(null===this._dotLottieCore)return!1;let t=this._dotLottieCore.setThemeData(e);return this._render(),t}setSlots(e){null!==this._dotLottieCore&&this._dotLottieCore.setSlots(e)}setLayout(t){null===this._dotLottieCore||null===e._wasmModule||this._dotLottieCore.setConfig({...this._dotLottieCore.config(),layout:ph(t,e._wasmModule)})}setViewport(e,t,r,n){return null!==this._dotLottieCore&&this._dotLottieCore.setViewport(e,t,r,n)}static setWasmUrl(e){eh.setWasmUrl(e)}loadStateMachine(e){return this._dotLottieCore?.stateMachineLoad(e)??!1}startStateMachine(){if(null===e._wasmModule||null===this._dotLottieCore)return!1;let t=e._wasmModule.createDefaultOpenURL(),r=this._dotLottieCore.stateMachineStart(t);return r&&this._setupStateMachineListeners(),r}stopStateMachine(){let e=this._dotLottieCore?.stateMachineStop()??!1;return e&&this._cleanupStateMachineListeners(),e}_getPointerPosition(e){let t=this._canvas.getBoundingClientRect(),r=this._canvas.width/t.width,n=this._canvas.height/t.height,s=this._renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(e.clientX-t.left)*r/s,y:(e.clientY-t.top)*n/s}}_onPointerUp(e){let{x:t,y:r}=this._getPointerPosition(e);this.postPointerUpEvent(t,r)}_onPointerDown(e){let{x:t,y:r}=this._getPointerPosition(e);this.postPointerDownEvent(t,r)}_onPointerMove(e){let{x:t,y:r}=this._getPointerPosition(e);this.postPointerMoveEvent(t,r)}_onPointerEnter(e){let{x:t,y:r}=this._getPointerPosition(e);this.postPointerEnterEvent(t,r)}_onPointerLeave(e){let{x:t,y:r}=this._getPointerPosition(e);this.postPointerExitEvent(t,r)}postPointerUpEvent(e,t){return this._dotLottieCore?.stateMachinePostPointerUpEvent(e,t)}postPointerDownEvent(e,t){return this._dotLottieCore?.stateMachinePostPointerDownEvent(e,t)}postPointerMoveEvent(e,t){return this._dotLottieCore?.stateMachinePostPointerMoveEvent(e,t)}postPointerEnterEvent(e,t){return this._dotLottieCore?.stateMachinePostPointerEnterEvent(e,t)}postPointerExitEvent(e,t){return this._dotLottieCore?.stateMachinePostPointerExitEvent(e,t)}getStateMachineListeners(){if(!this._dotLottieCore)return[];let e=this._dotLottieCore.stateMachineFrameworkSetup(),t=[];for(let r=0;r<e.size();r+=1)t.push(e.get(r));return t}_setupStateMachineListeners(){if(Gm&&this._canvas instanceof HTMLCanvasElement&&null!==this._dotLottieCore&&this.isLoaded){let e=this.getStateMachineListeners();e.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),e.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),e.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),e.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),e.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod)}}_cleanupStateMachineListeners(){Gm&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod))}loadStateMachineData(e){return this._dotLottieCore?.stateMachineLoadData(e)??!1}animationSize(){return{width:this._dotLottieCore?.animationSize().get(0)??0,height:this._dotLottieCore?.animationSize().get(1)??0}}setStateMachineBooleanContext(e,t){return this._dotLottieCore?.stateMachineSetBooleanInput(e,t)??!1}setStateMachineNumericContext(e,t){return this._dotLottieCore?.stateMachineSetNumericInput(e,t)??!1}setStateMachineStringContext(e,t){return this._dotLottieCore?.stateMachineSetStringInput(e,t)??!1}getLayerBoundingBox(e){let t=this._dotLottieCore?.getLayerBounds(e);if(!t||8!==t.size())return;let r=[];for(let n=0;n<8;n+=1)r.push(t.get(n));return r}tween(t,r){if(!e._wasmModule)return!1;let n=[0,0,1,1],s=new e._wasmModule.VectorFloat;for(let e of n)s.push_back(e);return this._dotLottieCore?.tween(t,r,s)??!1}tweenToMarker(t,r){if(!e._wasmModule)return!1;let n=[0,0,1,1],s=new e._wasmModule.VectorFloat;for(let e of n)s.push_back(e);return this._dotLottieCore?.tweenToMarker(t,r,s)??!1}static transformThemeToLottieSlots(t,r){return e._wasmModule?.transformThemeToLottieSlots(t,r)??""}};Um(fh,"_wasmModule",null);var xh=fh,gh=class{constructor(){if(typeof Worker>"u")throw new Error("Worker is not supported in this environment.");let e=new Blob([new Uint8Array([34,117,115,101,32,115,116,114,105,99,116,34,59,10,40,40,41,32,61,62,32,123,10,32,32,118,97,114,32,95,95,100,101,102,80,114,111,112,32,61,32,79,98,106,101,99,116,46,100,101,102,105,110,101,80,114,111,112,101,114,116,121,59,10,32,32,118,97,114,32,95,95,100,101,102,78,111,114,109,97,108,80,114,111,112,32,61,32,40,111,98,106,44,32,107,101,121,44,32,118,97,108,117,101,41,32,61,62,32,107,101,121,32,105,110,32,111,98,106,32,63,32,95,95,100,101,102,80,114,111,112,40,111,98,106,44,32,107,101,121,44,32,123,32,101,110,117,109,101,114,97,98,108,101,58,32,116,114,117,101,44,32,99,111,110,102,105,103,117,114,97,98,108,101,58,32,116,114,117,101,44,32,119,114,105,116,97,98,108,101,58,32,116,114,117,101,44,32,118,97,108,117,101,32,125,41,32,58,32,111,98,106,91,107,101,121,93,32,61,32,118,97,108,117,101,59,10,32,32,118,97,114,32,95,95,112,117,98,108,105,99,70,105,101,108,100,32,61,32,40,111,98,106,44,32,107,101,121,44,32,118,97,108,117,101,41,32,61,62,32,95,95,100,101,102,78,111,114,109,97,108,80,114,111,112,40,111,98,106,44,32,116,121,112,101,111,102,32,107,101,121,32,33,61,61,32,34,115,121,109,98,111,108,34,32,63,32,107,101,121,32,43,32,34,34,32,58,32,107,101,121,44,32,118,97,108,117,101,41,59,10,10,32,32,47,47,32,115,114,99,47,97,110,105,109,97,116,105,111,110,45,102,114,97,109,101,45,109,97,110,97,103,101,114,46,116,115,10,32,32,118,97,114,32,87,101,98,65,110,105,109,97,116,105,111,110,70,114,97,109,101,83,116,114,97,116,101,103,121,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,99,97,108,108,98,97,99,107,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,99,97,108,108,98,97,99,107,41,59,10,32,32,32,32,125,10,32,32,32,32,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,105,100,41,32,123,10,32,32,32,32,32,32,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,105,100,41,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,78,111,100,101,65,110,105,109,97,116,105,111,110,70,114,97,109,101,83,116,114,97,116,101,103,121,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,41,32,123,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,108,97,115,116,72,97,110,100,108,101,73,100,34,44,32,48,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,108,97,115,116,73,109,109,101,100,105,97,116,101,34,44,32,110,117,108,108,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,99,97,108,108,98,97,99,107,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,108,97,115,116,72,97,110,100,108,101,73,100,32,62,61,32,78,117,109,98,101,114,46,77,65,88,95,83,65,70,69,95,73,78,84,69,71,69,82,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,108,97,115,116,72,97,110,100,108,101,73,100,32,61,32,48,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,95,108,97,115,116,72,97,110,100,108,101,73,100,32,43,61,32,49,59,10,32,32,32,32,32,32,116,104,105,115,46,95,108,97,115,116,73,109,109,101,100,105,97,116,101,32,61,32,115,101,116,73,109,109,101,100,105,97,116,101,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,99,97,108,108,98,97,99,107,40,68,97,116,101,46,110,111,119,40,41,41,59,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,108,97,115,116,72,97,110,100,108,101,73,100,59,10,32,32,32,32,125,10,32,32,32,32,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,95,105,100,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,108,97,115,116,73,109,109,101,100,105,97,116,101,41,32,123,10,32,32,32,32,32,32,32,32,99,108,101,97,114,73,109,109,101,100,105,97,116,101,40,116,104,105,115,46,95,108,97,115,116,73,109,109,101,100,105,97,116,101,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,65,110,105,109,97,116,105,111,110,70,114,97,109,101,77,97,110,97,103,101,114,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,41,32,123,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,115,116,114,97,116,101,103,121,34,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,115,116,114,97,116,101,103,121,32,61,32,116,121,112,101,111,102,32,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,32,61,61,61,32,34,102,117,110,99,116,105,111,110,34,32,63,32,110,101,119,32,87,101,98,65,110,105,109,97,116,105,111,110,70,114,97,109,101,83,116,114,97,116,101,103,121,40,41,32,58,32,110,101,119,32,78,111,100,101,65,110,105,109,97,116,105,111,110,70,114,97,109,101,83,116,114,97,116,101,103,121,40,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,99,97,108,108,98,97,99,107,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,115,116,114,97,116,101,103,121,46,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,99,97,108,108,98,97,99,107,41,59,10,32,32,32,32,125,10,32,32,32,32,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,105,100,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,115,116,114,97,116,101,103,121,46,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,105,100,41,59,10,32,32,32,32,125,10,32,32,125,59,10,10,32,32,47,47,32,115,114,99,47,99,111,110,115,116,97,110,116,115,46,116,115,10,32,32,118,97,114,32,73,83,95,66,82,79,87,83,69,82,32,61,32,116,121,112,101,111,102,32,119,105,110,100,111,119,32,33,61,61,32,34,117,110,100,101,102,105,110,101,100,34,32,38,38,32,116,121,112,101,111,102,32,119,105,110,100,111,119,46,100,111,99,117,109,101,110,116,32,33,61,61,32,34,117,110,100,101,102,105,110,101,100,34,59,10,32,32,118,97,114,32,90,73,80,95,83,73,71,78,65,84,85,82,69,32,61,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,91,56,48,44,32,55,53,44,32,51,44,32,52,93,41,59,10,32,32,118,97,114,32,76,79,84,84,73,69,95,74,83,79,78,95,77,65,78,68,65,84,79,82,89,95,70,73,69,76,68,83,32,61,32,91,34,118,34,44,32,34,105,112,34,44,32,34,111,112,34,44,32,34,108,97,121,101,114,115,34,44,32,34,102,114,34,44,32,34,119,34,44,32,34,104,34,93,59,10,32,32,118,97,114,32,80,65,67,75,65,71,69,95,86,69,82,83,73,79,78,32,61,32,34,48,46,52,57,46,48,34,59,10,32,32,118,97,114,32,80,65,67,75,65,71,69,95,78,65,77,69,32,61,32,34,64,108,111,116,116,105,101,102,105,108,101,115,47,100,111,116,108,111,116,116,105,101,45,119,101,98,34,59,10,32,32,118,97,114,32,68,69,70,65,85,76,84,95,68,80,82,95,70,65,67,84,79,82,32,61,32,48,46,55,53,59,10,32,32,118,97,114,32,66,89,84,69,83,95,80,69,82,95,80,73,88,69,76,32,61,32,52,59,10,10,32,32,47,47,32,115,114,99,47,99,111,114,101,47,100,111,116,108,111,116,116,105,101,45,112,108,97,121,101,114,46,106,115,10,32,32,118,97,114,32,99,114,101,97,116,101,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,77,111,100,117,108,101,32,61,32,40,40,41,32,61,62,32,123,10,32,32,32,32,118,97,114,32,95,115,99,114,105,112,116,78,97,109,101,32,61,32,116,121,112,101,111,102,32,100,111,99,117,109,101,110,116,32,33,61,32,34,117,110,100,101,102,105,110,101,100,34,32,63,32,100,111,99,117,109,101,110,116,46,99,117,114,114,101,110,116,83,99,114,105,112,116,63,46,115,114,99,32,58,32,118,111,105,100,32,48,59,10,32,32,32,32,114,101,116,117,114,110,32,102,117,110,99,116,105,111,110,40,109,111,100,117,108,101,65,114,103,32,61,32,123,125,41,32,123,10,32,32,32,32,32,32,118,97,114,32,109,111,100,117,108,101,82,116,110,59,10,32,32,32,32,32,32,118,97,114,32,107,32,61,32,109,111,100,117,108,101,65,114,103,44,32,97,97,44,32,98,97,44,32,99,97,32,61,32,110,101,119,32,80,114,111,109,105,115,101,40,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,97,32,61,32,97,59,10,32,32,32,32,32,32,32,32,98,97,32,61,32,98,59,10,32,32,32,32,32,32,125,41,44,32,100,97,32,61,32,79,98,106,101,99,116,46,97,115,115,105,103,110,40,123,125,44,32,107,41,44,32,101,97,32,61,32,34,46,47,116,104,105,115,46,112,114,111,103,114,97,109,34,44,32,113,32,61,32,34,34,44,32,105,97,59,10,32,32,32,32,32,32,34,117,110,100,101,102,105,110,101,100,34,32,33,61,32,116,121,112,101,111,102,32,100,111,99,117,109,101,110,116,32,38,38,32,100,111,99,117,109,101,110,116,46,99,117,114,114,101,110,116,83,99,114,105,112,116,32,38,38,32,40,113,32,61,32,100,111,99,117,109,101,110,116,46,99,117,114,114,101,110,116,83,99,114,105,112,116,46,115,114,99,41,59,10,32,32,32,32,32,32,95,115,99,114,105,112,116,78,97,109,101,32,38,38,32,40,113,32,61,32,95,115,99,114,105,112,116,78,97,109,101,41,59,10,32,32,32,32,32,32,113,46,115,116,97,114,116,115,87,105,116,104,40,34,98,108,111,98,58,34,41,32,63,32,113,32,61,32,34,34,32,58,32,113,32,61,32,113,46,115,117,98,115,116,114,40,48,44,32,113,46,114,101,112,108,97,99,101,40,47,91,63,35,93,46,42,47,44,32,34,34,41,46,108,97,115,116,73,110,100,101,120,79,102,40,34,47,34,41,32,43,32,49,41,59,10,32,32,32,32,32,32,105,97,32,61,32,97,115,121,110,99,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,32,61,32,97,119,97,105,116,32,102,101,116,99,104,40,97,44,32,123,32,99,114,101,100,101,110,116,105,97,108,115,58,32,34,115,97,109,101,45,111,114,105,103,105,110,34,32,125,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,97,46,111,107,41,32,114,101,116,117,114,110,32,97,46,97,114,114,97,121,66,117,102,102,101,114,40,41,59,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,69,114,114,111,114,40,97,46,115,116,97,116,117,115,32,43,32,34,32,58,32,34,32,43,32,97,46,117,114,108,41,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,118,97,114,32,106,97,32,61,32,107,46,112,114,105,110,116,32,124,124,32,99,111,110,115,111,108,101,46,108,111,103,46,98,105,110,100,40,99,111,110,115,111,108,101,41,44,32,114,32,61,32,107,46,112,114,105,110,116,69,114,114,32,124,124,32,99,111,110,115,111,108,101,46,101,114,114,111,114,46,98,105,110,100,40,99,111,110,115,111,108,101,41,59,10,32,32,32,32,32,32,79,98,106,101,99,116,46,97,115,115,105,103,110,40,107,44,32,100,97,41,59,10,32,32,32,32,32,32,100,97,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,107,46,116,104,105,115,80,114,111,103,114,97,109,32,38,38,32,40,101,97,32,61,32,107,46,116,104,105,115,80,114,111,103,114,97,109,41,59,10,32,32,32,32,32,32,118,97,114,32,107,97,32,61,32,107,46,119,97,115,109,66,105,110,97,114,121,44,32,108,97,44,32,109,97,32,61,32,102,97,108,115,101,44,32,110,97,44,32,117,44,32,120,44,32,121,44,32,122,44,32,65,44,32,66,44,32,111,97,44,32,112,97,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,113,97,40,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,108,97,46,98,117,102,102,101,114,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,56,32,61,32,117,32,61,32,110,101,119,32,73,110,116,56,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,49,54,32,61,32,121,32,61,32,110,101,119,32,73,110,116,49,54,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,85,56,32,61,32,120,32,61,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,85,49,54,32,61,32,122,32,61,32,110,101,119,32,85,105,110,116,49,54,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,51,50,32,61,32,65,32,61,32,110,101,119,32,73,110,116,51,50,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,85,51,50,32,61,32,66,32,61,32,110,101,119,32,85,105,110,116,51,50,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,70,51,50,32,61,32,111,97,32,61,32,110,101,119,32,70,108,111,97,116,51,50,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,107,46,72,69,65,80,70,54,52,32,61,32,112,97,32,61,32,110,101,119,32,70,108,111,97,116,54,52,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,114,97,32,61,32,91,93,44,32,115,97,32,61,32,91,93,44,32,116,97,32,61,32,91,93,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,117,97,40,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,107,46,112,114,101,82,117,110,46,115,104,105,102,116,40,41,59,10,32,32,32,32,32,32,32,32,114,97,46,117,110,115,104,105,102,116,40,97,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,67,32,61,32,48,44,32,68,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,118,97,40,97,41,32,123,10,32,32,32,32,32,32,32,32,107,46,111,110,65,98,111,114,116,63,46,40,97,41,59,10,32,32,32,32,32,32,32,32,97,32,61,32,34,65,98,111,114,116,101,100,40,34,32,43,32,97,32,43,32,34,41,34,59,10,32,32,32,32,32,32,32,32,114,40,97,41,59,10,32,32,32,32,32,32,32,32,109,97,32,61,32,116,114,117,101,59,10,32,32,32,32,32,32,32,32,97,32,61,32,110,101,119,32,87,101,98,65,115,115,101,109,98,108,121,46,82,117,110,116,105,109,101,69,114,114,111,114,40,97,32,43,32,34,46,32,66,117,105,108,100,32,119,105,116,104,32,45,115,65,83,83,69,82,84,73,79,78,83,32,102,111,114,32,109,111,114,101,32,105,110,102,111,46,34,41,59,10,32,32,32,32,32,32,32,32,98,97,40,97,41,59,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,97,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,119,97,32,61,32,40,97,41,32,61,62,32,97,46,115,116,97,114,116,115,87,105,116,104,40,34,100,97,116,97,58,97,112,112,108,105,99,97,116,105,111,110,47,111,99,116,101,116,45,115,116,114,101,97,109,59,98,97,115,101,54,52,44,34,41,44,32,120,97,59,10,32,32,32,32,32,32,97,115,121,110,99,32,102,117,110,99,116,105,111,110,32,121,97,40,97,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,107,97,41,10,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,97,119,97,105,116,32,105,97,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,123,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,97,32,61,61,32,120,97,32,38,38,32,107,97,41,32,97,32,61,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,107,97,41,59,10,32,32,32,32,32,32,32,32,101,108,115,101,32,116,104,114,111,119,32,34,98,111,116,104,32,97,115,121,110,99,32,97,110,100,32,115,121,110,99,32,102,101,116,99,104,105,110,103,32,111,102,32,116,104,101,32,119,97,115,109,32,102,97,105,108,101,100,34,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,97,115,121,110,99,32,102,117,110,99,116,105,111,110,32,122,97,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,97,119,97,105,116,32,121,97,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,119,97,105,116,32,87,101,98,65,115,115,101,109,98,108,121,46,105,110,115,116,97,110,116,105,97,116,101,40,99,44,32,98,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,114,40,96,102,97,105,108,101,100,32,116,111,32,97,115,121,110,99,104,114,111,110,111,117,115,108,121,32,112,114,101,112,97,114,101,32,119,97,115,109,58,32,36,123,100,125,96,41,44,32,118,97,40,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,97,115,121,110,99,32,102,117,110,99,116,105,111,110,32,65,97,40,97,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,120,97,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,107,97,32,38,38,32,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,87,101,98,65,115,115,101,109,98,108,121,46,105,110,115,116,97,110,116,105,97,116,101,83,116,114,101,97,109,105,110,103,32,38,38,32,33,119,97,40,98,41,32,38,38,32,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,102,101,116,99,104,41,10,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,102,101,116,99,104,40,98,44,32,123,32,99,114,101,100,101,110,116,105,97,108,115,58,32,34,115,97,109,101,45,111,114,105,103,105,110,34,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,119,97,105,116,32,87,101,98,65,115,115,101,109,98,108,121,46,105,110,115,116,97,110,116,105,97,116,101,83,116,114,101,97,109,105,110,103,40,99,44,32,97,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,40,96,119,97,115,109,32,115,116,114,101,97,109,105,110,103,32,99,111,109,112,105,108,101,32,102,97,105,108,101,100,58,32,36,123,100,125,96,41,44,32,114,40,34,102,97,108,108,105,110,103,32,98,97,99,107,32,116,111,32,65,114,114,97,121,66,117,102,102,101,114,32,105,110,115,116,97,110,116,105,97,116,105,111,110,34,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,122,97,40,98,44,32,97,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,108,97,115,115,32,66,97,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,110,97,109,101,34,44,32,34,69,120,105,116,83,116,97,116,117,115,34,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,109,101,115,115,97,103,101,32,61,32,96,80,114,111,103,114,97,109,32,116,101,114,109,105,110,97,116,101,100,32,119,105,116,104,32,101,120,105,116,40,36,123,97,125,41,96,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,115,116,97,116,117,115,32,61,32,97,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,67,97,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,59,32,48,32,60,32,97,46,108,101,110,103,116,104,59,32,41,32,97,46,115,104,105,102,116,40,41,40,107,41,59,10,32,32,32,32,32,32,125,44,32,68,97,32,61,32,107,46,110,111,69,120,105,116,82,117,110,116,105,109,101,32,124,124,32,116,114,117,101,44,32,69,97,32,61,32,34,117,110,100,101,102,105,110,101,100,34,32,33,61,32,116,121,112,101,111,102,32,84,101,120,116,68,101,99,111,100,101,114,32,63,32,110,101,119,32,84,101,120,116,68,101,99,111,100,101,114,40,41,32,58,32,118,111,105,100,32,48,44,32,71,32,61,32,40,97,44,32,98,32,61,32,48,44,32,99,32,61,32,78,97,78,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,32,43,32,99,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,99,32,61,32,98,59,32,97,91,99,93,32,38,38,32,33,40,99,32,62,61,32,100,41,59,32,41,32,43,43,99,59,10,32,32,32,32,32,32,32,32,105,102,32,40,49,54,32,60,32,99,32,45,32,98,32,38,38,32,97,46,98,117,102,102,101,114,32,38,38,32,69,97,41,32,114,101,116,117,114,110,32,69,97,46,100,101,99,111,100,101,40,97,46,115,117,98,97,114,114,97,121,40,98,44,32,99,41,41,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,100,32,61,32,34,34,59,32,98,32,60,32,99,59,32,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,97,91,98,43,43,93,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,101,32,38,32,49,50,56,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,97,91,98,43,43,93,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,49,57,50,32,61,61,32,40,101,32,38,32,50,50,52,41,41,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,40,101,32,38,32,51,49,41,32,60,60,32,54,32,124,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,97,91,98,43,43,93,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,32,61,32,50,50,52,32,61,61,32,40,101,32,38,32,50,52,48,41,32,63,32,40,101,32,38,32,49,53,41,32,60,60,32,49,50,32,124,32,102,32,60,60,32,54,32,124,32,104,32,58,32,40,101,32,38,32,55,41,32,60,60,32,49,56,32,124,32,102,32,60,60,32,49,50,32,124,32,104,32,60,60,32,54,32,124,32,97,91,98,43,43,93,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,54,53,53,51,54,32,62,32,101,32,63,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,101,41,32,58,32,40,101,32,45,61,32,54,53,53,51,54,44,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,53,53,50,57,54,32,124,32,101,32,62,62,32,49,48,44,32,53,54,51,50,48,32,124,32,101,32,38,32,49,48,50,51,41,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,101,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,100,59,10,32,32,32,32,32,32,125,44,32,73,32,61,32,48,59,10,32,32,32,32,32,32,99,108,97,115,115,32,70,97,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,79,97,32,61,32,97,32,45,32,50,52,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,72,97,32,61,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,91,93,44,32,98,32,61,32,73,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,41,32,114,101,116,117,114,110,32,74,40,48,41,44,32,48,59,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,110,101,119,32,70,97,40,98,41,59,10,32,32,32,32,32,32,32,32,66,91,99,46,79,97,32,43,32,49,54,32,62,62,32,50,93,32,61,32,98,59,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,66,91,99,46,79,97,32,43,32,52,32,62,62,32,50,93,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,100,41,32,114,101,116,117,114,110,32,74,40,48,41,44,32,98,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,101,32,111,102,32,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,48,32,61,61,61,32,101,32,124,124,32,101,32,61,61,61,32,100,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,71,97,40,101,44,32,100,44,32,99,46,79,97,32,43,32,49,54,41,41,32,114,101,116,117,114,110,32,74,40,101,41,44,32,98,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,74,40,100,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,73,97,32,61,32,48,44,32,75,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,120,59,10,32,32,32,32,32,32,32,32,105,102,32,40,48,32,60,32,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,32,61,32,98,32,43,32,99,32,45,32,49,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,101,32,61,32,48,59,32,101,32,60,32,97,46,108,101,110,103,116,104,59,32,43,43,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,53,53,50,57,54,32,60,61,32,102,32,38,38,32,53,55,51,52,51,32,62,61,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,43,43,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,32,61,32,54,53,53,51,54,32,43,32,40,40,102,32,38,32,49,48,50,51,41,32,60,60,32,49,48,41,32,124,32,104,32,38,32,49,48,50,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,49,50,55,32,62,61,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,32,62,61,32,99,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,102,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,50,48,52,55,32,62,61,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,32,43,32,49,32,62,61,32,99,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,49,57,50,32,124,32,102,32,62,62,32,54,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,54,53,53,51,53,32,62,61,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,32,43,32,50,32,62,61,32,99,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,50,50,52,32,124,32,102,32,62,62,32,49,50,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,32,43,32,51,32,62,61,32,99,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,50,52,48,32,124,32,102,32,62,62,32,49,56,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,49,50,56,32,124,32,102,32,62,62,32,49,50,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,49,50,56,32,124,32,102,32,62,62,32,54,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,91,98,43,43,93,32,61,32,49,50,56,32,124,32,102,32,38,32,54,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,100,91,98,93,32,61,32,48,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,74,97,32,61,32,123,125,44,32,75,97,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,59,32,97,46,108,101,110,103,116,104,59,32,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,97,46,112,111,112,40,41,59,10,32,32,32,32,32,32,32,32,32,32,97,46,112,111,112,40,41,40,98,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,76,40,97,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,66,91,97,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,77,32,61,32,123,125,44,32,78,32,61,32,123,125,44,32,76,97,32,61,32,123,125,44,32,77,97,44,32,80,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,100,40,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,103,32,61,32,99,40,103,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,103,46,108,101,110,103,116,104,32,33,61,61,32,97,46,108,101,110,103,116,104,41,32,116,104,114,111,119,32,110,101,119,32,77,97,40,34,77,105,115,109,97,116,99,104,101,100,32,116,121,112,101,32,99,111,110,118,101,114,116,101,114,32,99,111,117,110,116,34,41,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,108,32,61,32,48,59,32,108,32,60,32,97,46,108,101,110,103,116,104,59,32,43,43,108,41,32,79,40,97,91,108,93,44,32,103,91,108,93,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,97,46,102,111,114,69,97,99,104,40,40,103,41,32,61,62,32,76,97,91,103,93,32,61,32,98,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,65,114,114,97,121,40,98,46,108,101,110,103,116,104,41,44,32,102,32,61,32,91,93,44,32,104,32,61,32,48,59,10,32,32,32,32,32,32,32,32,98,46,102,111,114,69,97,99,104,40,40,103,44,32,108,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,78,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,103,41,32,63,32,101,91,108,93,32,61,32,78,91,103,93,32,58,32,40,102,46,112,117,115,104,40,103,41,44,32,77,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,103,41,32,124,124,32,40,77,91,103,93,32,61,32,91,93,41,44,32,77,91,103,93,46,112,117,115,104,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,101,91,108,93,32,61,32,78,91,103,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,43,43,104,59,10,32,32,32,32,32,32,32,32,32,32,32,32,104,32,61,61,61,32,102,46,108,101,110,103,116,104,32,38,38,32,100,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,125,41,41,59,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,48,32,61,61,61,32,102,46,108,101,110,103,116,104,32,38,38,32,100,40,101,41,59,10,32,32,32,32,32,32,125,44,32,78,97,44,32,81,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,98,32,61,32,34,34,59,32,120,91,97,93,59,32,41,32,98,32,43,61,32,78,97,91,120,91,97,43,43,93,93,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,82,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,79,97,40,97,44,32,98,44,32,99,32,61,32,123,125,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,46,110,97,109,101,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,116,121,112,101,32,34,36,123,100,125,34,32,109,117,115,116,32,104,97,118,101,32,97,32,112,111,115,105,116,105,118,101,32,105,110,116,101,103,101,114,32,116,121,112,101,105,100,32,112,111,105,110,116,101,114,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,78,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,99,46,117,98,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,114,101,103,105,115,116,101,114,32,116,121,112,101,32,39,36,123,100,125,39,32,116,119,105,99,101,96,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,78,91,97,93,32,61,32,98,59,10,32,32,32,32,32,32,32,32,100,101,108,101,116,101,32,76,97,91,97,93,59,10,32,32,32,32,32,32,32,32,77,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,97,41,32,38,38,32,40,98,32,61,32,77,91,97,93,44,32,100,101,108,101,116,101,32,77,91,97,93,44,32,98,46,102,111,114,69,97,99,104,40,40,101,41,32,61,62,32,101,40,41,41,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,79,40,97,44,32,98,44,32,99,32,61,32,123,125,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,79,97,40,97,44,32,98,44,32,99,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,81,97,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,97,46,78,97,46,81,97,46,80,97,46,110,97,109,101,32,43,32,34,32,105,110,115,116,97,110,99,101,32,97,108,114,101,97,100,121,32,100,101,108,101,116,101,100,34,41,59,10,32,32,32,32,32,32,125,44,32,82,97,32,61,32,102,97,108,115,101,44,32,83,97,32,61,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,125,44,32,84,97,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,98,32,61,61,61,32,99,41,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,99,46,84,97,41,32,114,101,116,117,114,110,32,110,117,108,108,59,10,32,32,32,32,32,32,32,32,97,32,61,32,84,97,40,97,44,32,98,44,32,99,46,84,97,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,117,108,108,32,61,61,61,32,97,32,63,32,110,117,108,108,32,58,32,99,46,110,98,40,97,41,59,10,32,32,32,32,32,32,125,44,32,85,97,32,61,32,123,125,44,32,86,97,32,61,32,123,125,44,32,87,97,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,112,116,114,32,115,104,111,117,108,100,32,110,111,116,32,98,101,32,117,110,100,101,102,105,110,101,100,34,41,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,59,32,97,46,84,97,59,32,41,32,98,32,61,32,97,46,99,98,40,98,41,44,32,97,32,61,32,97,46,84,97,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,86,97,91,98,93,59,10,32,32,32,32,32,32,125,44,32,89,97,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,81,97,32,124,124,32,33,98,46,79,97,41,32,116,104,114,111,119,32,110,101,119,32,77,97,40,34,109,97,107,101,67,108,97,115,115,72,97,110,100,108,101,32,114,101,113,117,105,114,101,115,32,112,116,114,32,97,110,100,32,112,116,114,84,121,112,101,34,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,33,98,46,85,97,32,33,61,61,32,33,33,98,46,83,97,41,32,116,104,114,111,119,32,110,101,119,32,77,97,40,34,66,111,116,104,32,115,109,97,114,116,80,116,114,84,121,112,101,32,97,110,100,32,115,109,97,114,116,80,116,114,32,109,117,115,116,32,98,101,32,115,112,101,99,105,102,105,101,100,34,41,59,10,32,32,32,32,32,32,32,32,98,46,99,111,117,110,116,32,61,32,123,32,118,97,108,117,101,58,32,49,32,125,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,88,97,40,79,98,106,101,99,116,46,99,114,101,97,116,101,40,97,44,32,123,32,78,97,58,32,123,32,118,97,108,117,101,58,32,98,44,32,119,114,105,116,97,98,108,101,58,32,116,114,117,101,32,125,32,125,41,41,59,10,32,32,32,32,32,32,125,44,32,88,97,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,34,117,110,100,101,102,105,110,101,100,34,32,61,61,61,32,116,121,112,101,111,102,32,70,105,110,97,108,105,122,97,116,105,111,110,82,101,103,105,115,116,114,121,41,32,114,101,116,117,114,110,32,88,97,32,61,32,40,98,41,32,61,62,32,98,44,32,97,59,10,32,32,32,32,32,32,32,32,82,97,32,61,32,110,101,119,32,70,105,110,97,108,105,122,97,116,105,111,110,82,101,103,105,115,116,114,121,40,40,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,98,46,78,97,59,10,32,32,32,32,32,32,32,32,32,32,45,45,98,46,99,111,117,110,116,46,118,97,108,117,101,59,10,32,32,32,32,32,32,32,32,32,32,48,32,61,61,61,32,98,46,99,111,117,110,116,46,118,97,108,117,101,32,38,38,32,40,98,46,83,97,32,63,32,98,46,85,97,46,88,97,40,98,46,83,97,41,32,58,32,98,46,81,97,46,80,97,46,88,97,40,98,46,79,97,41,41,59,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,88,97,32,61,32,40,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,98,46,78,97,59,10,32,32,32,32,32,32,32,32,32,32,99,46,83,97,32,38,38,32,82,97,46,114,101,103,105,115,116,101,114,40,98,44,32,123,32,78,97,58,32,99,32,125,44,32,98,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,83,97,32,61,32,40,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,82,97,46,117,110,114,101,103,105,115,116,101,114,40,98,41,59,10,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,88,97,40,97,41,59,10,32,32,32,32,32,32,125,44,32,90,97,32,61,32,91,93,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,36,97,40,41,32,123,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,97,98,32,61,32,40,97,44,32,98,41,32,61,62,32,79,98,106,101,99,116,46,100,101,102,105,110,101,80,114,111,112,101,114,116,121,40,98,44,32,34,110,97,109,101,34,44,32,123,32,118,97,108,117,101,58,32,97,32,125,41,44,32,98,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,97,91,98,93,46,82,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,97,91,98,93,59,10,32,32,32,32,32,32,32,32,32,32,97,91,98,93,32,61,32,102,117,110,99,116,105,111,110,40,46,46,46,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,97,91,98,93,46,82,97,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,101,46,108,101,110,103,116,104,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,96,70,117,110,99,116,105,111,110,32,39,36,123,99,125,39,32,99,97,108,108,101,100,32,119,105,116,104,32,97,110,32,105,110,118,97,108,105,100,32,110,117,109,98,101,114,32,111,102,32,97,114,103,117,109,101,110,116,115,32,40,36,123,101,46,108,101,110,103,116,104,125,41,32,45,32,101,120,112,101,99,116,115,32,111,110,101,32,111,102,32,40,36,123,97,91,98,93,46,82,97,125,41,33,96,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,91,98,93,46,82,97,91,101,46,108,101,110,103,116,104,93,46,97,112,112,108,121,40,116,104,105,115,44,32,101,41,59,10,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,97,91,98,93,46,82,97,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,97,91,98,93,46,82,97,91,100,46,36,97,93,32,61,32,100,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,99,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,107,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,99,32,124,124,32,118,111,105,100,32,48,32,33,61,61,32,107,91,97,93,46,82,97,32,38,38,32,118,111,105,100,32,48,32,33,61,61,32,107,91,97,93,46,82,97,91,99,93,41,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,114,101,103,105,115,116,101,114,32,112,117,98,108,105,99,32,110,97,109,101,32,39,36,123,97,125,39,32,116,119,105,99,101,96,41,59,10,32,32,32,32,32,32,32,32,32,32,98,98,40,107,44,32,97,44,32,97,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,107,91,97,93,46,82,97,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,99,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,114,101,103,105,115,116,101,114,32,109,117,108,116,105,112,108,101,32,111,118,101,114,108,111,97,100,115,32,111,102,32,97,32,102,117,110,99,116,105,111,110,32,119,105,116,104,32,116,104,101,32,115,97,109,101,32,110,117,109,98,101,114,32,111,102,32,97,114,103,117,109,101,110,116,115,32,40,36,123,99,125,41,33,96,41,59,10,32,32,32,32,32,32,32,32,32,32,107,91,97,93,46,82,97,91,99,93,32,61,32,98,59,10,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,107,91,97,93,32,61,32,98,44,32,107,91,97,93,46,36,97,32,61,32,99,59,10,32,32,32,32,32,32,125,44,32,100,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,32,61,32,97,46,114,101,112,108,97,99,101,40,47,91,94,97,45,122,65,45,90,48,45,57,95,93,47,103,44,32,34,36,34,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,48,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,52,56,32,60,61,32,98,32,38,38,32,53,55,32,62,61,32,98,32,63,32,96,95,36,123,97,125,96,32,58,32,97,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,101,98,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,110,97,109,101,32,61,32,97,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,99,111,110,115,116,114,117,99,116,111,114,32,61,32,98,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,90,97,32,61,32,99,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,88,97,32,61,32,100,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,84,97,32,61,32,101,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,112,98,32,61,32,102,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,99,98,32,61,32,104,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,110,98,32,61,32,103,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,119,98,32,61,32,91,93,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,102,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,59,32,98,32,33,61,61,32,99,59,32,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,99,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,69,120,112,101,99,116,101,100,32,110,117,108,108,32,111,114,32,105,110,115,116,97,110,99,101,32,111,102,32,36,123,99,46,110,97,109,101,125,44,32,103,111,116,32,97,110,32,105,110,115,116,97,110,99,101,32,111,102,32,36,123,98,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,98,46,99,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,98,46,84,97,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,103,98,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,110,117,108,108,32,61,61,61,32,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,103,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,110,117,108,108,32,105,115,32,110,111,116,32,97,32,118,97,108,105,100,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,78,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,34,36,123,104,98,40,98,41,125,34,32,97,115,32,97,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,78,97,46,79,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,100,101,108,101,116,101,100,32,111,98,106,101,99,116,32,97,115,32,97,32,112,111,105,110,116,101,114,32,111,102,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,98,40,98,46,78,97,46,79,97,44,32,98,46,78,97,46,81,97,46,80,97,44,32,116,104,105,115,46,80,97,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,105,98,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,110,117,108,108,32,61,61,61,32,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,103,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,110,117,108,108,32,105,115,32,110,111,116,32,97,32,118,97,108,105,100,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,102,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,116,104,105,115,46,104,98,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,97,32,38,38,32,97,46,112,117,115,104,40,116,104,105,115,46,88,97,44,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,32,124,124,32,33,98,46,78,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,34,36,123,104,98,40,98,41,125,34,32,97,115,32,97,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,78,97,46,79,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,100,101,108,101,116,101,100,32,111,98,106,101,99,116,32,97,115,32,97,32,112,111,105,110,116,101,114,32,111,102,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,101,98,32,38,38,32,98,46,78,97,46,81,97,46,101,98,41,10,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,10,32,32,32,32,32,32,32,32,32,32,32,32,96,67,97,110,110,111,116,32,99,111,110,118,101,114,116,32,97,114,103,117,109,101,110,116,32,111,102,32,116,121,112,101,32,36,123,98,46,78,97,46,85,97,32,63,32,98,46,78,97,46,85,97,46,110,97,109,101,32,58,32,98,46,78,97,46,81,97,46,110,97,109,101,125,32,116,111,32,112,97,114,97,109,101,116,101,114,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,99,32,61,32,102,98,40,98,46,78,97,46,79,97,44,32,98,46,78,97,46,81,97,46,80,97,44,32,116,104,105,115,46,80,97,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,102,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,98,46,78,97,46,83,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,80,97,115,115,105,110,103,32,114,97,119,32,112,111,105,110,116,101,114,32,116,111,32,115,109,97,114,116,32,112,111,105,110,116,101,114,32,105,115,32,105,108,108,101,103,97,108,34,41,59,10,32,32,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,116,104,105,115,46,66,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,48,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,46,78,97,46,85,97,32,61,61,61,32,116,104,105,115,41,32,99,32,61,32,98,46,78,97,46,83,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,96,67,97,110,110,111,116,32,99,111,110,118,101,114,116,32,97,114,103,117,109,101,110,116,32,111,102,32,116,121,112,101,32,36,123,98,46,78,97,46,85,97,32,63,32,98,46,78,97,46,85,97,46,110,97,109,101,32,58,32,98,46,78,97,46,81,97,46,110,97,109,101,125,32,116,111,32,112,97,114,97,109,101,116,101,114,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,49,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,32,61,32,98,46,78,97,46,83,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,50,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,46,78,97,46,85,97,32,61,61,61,32,116,104,105,115,41,32,99,32,61,32,98,46,78,97,46,83,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,46,99,108,111,110,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,32,61,32,116,104,105,115,46,120,98,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,106,98,40,40,41,32,61,62,32,100,91,34,100,101,108,101,116,101,34,93,40,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,97,32,38,38,32,97,46,112,117,115,104,40,116,104,105,115,46,88,97,44,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,34,85,110,115,117,112,112,111,114,116,105,110,103,32,115,104,97,114,105,110,103,32,112,111,108,105,99,121,34,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,107,98,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,110,117,108,108,32,61,61,61,32,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,103,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,110,117,108,108,32,105,115,32,110,111,116,32,97,32,118,97,108,105,100,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,78,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,34,36,123,104,98,40,98,41,125,34,32,97,115,32,97,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,33,98,46,78,97,46,79,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,100,101,108,101,116,101,100,32,111,98,106,101,99,116,32,97,115,32,97,32,112,111,105,110,116,101,114,32,111,102,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,98,46,78,97,46,81,97,46,101,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,99,111,110,118,101,114,116,32,97,114,103,117,109,101,110,116,32,111,102,32,116,121,112,101,32,36,123,98,46,78,97,46,81,97,46,110,97,109,101,125,32,116,111,32,112,97,114,97,109,101,116,101,114,32,116,121,112,101,32,36,123,116,104,105,115,46,110,97,109,101,125,96,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,98,40,98,46,78,97,46,79,97,44,32,98,46,78,97,46,81,97,46,80,97,44,32,116,104,105,115,46,80,97,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,108,98,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,44,32,110,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,110,97,109,101,32,61,32,97,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,80,97,32,61,32,98,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,103,98,32,61,32,99,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,101,98,32,61,32,100,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,102,98,32,61,32,101,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,118,98,32,61,32,102,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,66,98,32,61,32,104,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,108,98,32,61,32,103,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,104,98,32,61,32,108,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,120,98,32,61,32,109,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,88,97,32,61,32,110,59,10,32,32,32,32,32,32,32,32,101,32,124,124,32,118,111,105,100,32,48,32,33,61,61,32,98,46,84,97,32,63,32,116,104,105,115,46,116,111,87,105,114,101,84,121,112,101,32,61,32,105,98,32,58,32,40,116,104,105,115,46,116,111,87,105,114,101,84,121,112,101,32,61,32,100,32,63,32,103,98,32,58,32,107,98,44,32,116,104,105,115,46,87,97,32,61,32,110,117,108,108,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,109,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,107,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,40,97,41,41,32,116,104,114,111,119,32,110,101,119,32,77,97,40,34,82,101,112,108,97,99,105,110,103,32,110,111,110,101,120,105,115,116,101,110,116,32,112,117,98,108,105,99,32,115,121,109,98,111,108,34,41,59,10,32,32,32,32,32,32,32,32,118,111,105,100,32,48,32,33,61,61,32,107,91,97,93,46,82,97,32,38,38,32,118,111,105,100,32,48,32,33,61,61,32,99,32,63,32,107,91,97,93,46,82,97,91,99,93,32,61,32,98,32,58,32,40,107,91,97,93,32,61,32,98,44,32,107,91,97,93,46,36,97,32,61,32,99,41,59,10,32,32,32,32,32,32,125,44,32,83,44,32,110,98,32,61,32,40,97,44,32,98,44,32,99,32,61,32,91,93,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,46,105,110,99,108,117,100,101,115,40,34,106,34,41,32,63,32,40,97,32,61,32,97,46,114,101,112,108,97,99,101,40,47,112,47,103,44,32,34,105,34,41,44,32,98,32,61,32,40,48,44,32,107,91,34,100,121,110,67,97,108,108,95,34,32,43,32,97,93,41,40,98,44,32,46,46,46,99,41,41,32,58,32,98,32,61,32,83,46,103,101,116,40,98,41,40,46,46,46,99,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,111,98,32,61,32,40,97,44,32,98,41,32,61,62,32,40,46,46,46,99,41,32,61,62,32,110,98,40,97,44,32,98,44,32,99,41,44,32,84,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,32,61,32,81,40,97,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,97,46,105,110,99,108,117,100,101,115,40,34,106,34,41,32,63,32,111,98,40,97,44,32,98,41,32,58,32,83,46,103,101,116,40,98,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,34,102,117,110,99,116,105,111,110,34,32,33,61,32,116,121,112,101,111,102,32,99,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,117,110,107,110,111,119,110,32,102,117,110,99,116,105,111,110,32,112,111,105,110,116,101,114,32,119,105,116,104,32,115,105,103,110,97,116,117,114,101,32,36,123,97,125,58,32,36,123,98,125,96,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,44,32,112,98,44,32,114,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,32,61,32,113,98,40,97,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,81,40,97,41,59,10,32,32,32,32,32,32,32,32,85,40,97,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,115,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,99,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,101,91,102,93,32,124,124,32,78,91,102,93,32,124,124,32,40,76,97,91,102,93,32,63,32,76,97,91,102,93,46,102,111,114,69,97,99,104,40,99,41,32,58,32,40,100,46,112,117,115,104,40,102,41,44,32,101,91,102,93,32,61,32,116,114,117,101,41,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,91,93,44,32,101,32,61,32,123,125,59,10,32,32,32,32,32,32,32,32,98,46,102,111,114,69,97,99,104,40,99,41,59,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,112,98,40,96,36,123,97,125,58,32,96,32,43,32,100,46,109,97,112,40,114,98,41,46,106,111,105,110,40,91,34,44,32,34,93,41,41,59,10,32,32,32,32,32,32,125,44,32,116,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,99,32,61,32,91,93,44,32,100,32,61,32,48,59,32,100,32,60,32,97,59,32,100,43,43,41,32,99,46,112,117,115,104,40,66,91,98,32,43,32,52,32,42,32,100,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,117,98,40,97,41,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,98,32,61,32,49,59,32,98,32,60,32,97,46,108,101,110,103,116,104,59,32,43,43,98,41,32,105,102,32,40,110,117,108,108,32,33,61,61,32,97,91,98,93,32,38,38,32,118,111,105,100,32,48,32,61,61,61,32,97,91,98,93,46,87,97,41,32,114,101,116,117,114,110,32,116,114,117,101,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,118,98,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,98,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,105,102,32,40,50,32,62,32,102,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,97,114,103,84,121,112,101,115,32,97,114,114,97,121,32,115,105,122,101,32,109,105,115,109,97,116,99,104,33,32,77,117,115,116,32,97,116,32,108,101,97,115,116,32,103,101,116,32,114,101,116,117,114,110,32,118,97,108,117,101,32,97,110,100,32,39,116,104,105,115,39,32,116,121,112,101,115,33,34,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,110,117,108,108,32,33,61,61,32,98,91,49,93,32,38,38,32,110,117,108,108,32,33,61,61,32,99,44,32,103,32,61,32,117,98,40,98,41,44,32,108,32,61,32,34,118,111,105,100,34,32,33,61,61,32,98,91,48,93,46,110,97,109,101,44,32,109,32,61,32,102,32,45,32,50,44,32,110,32,61,32,65,114,114,97,121,40,109,41,44,32,112,32,61,32,91,93,44,32,116,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,98,40,97,44,32,102,117,110,99,116,105,111,110,40,46,46,46,69,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,46,108,101,110,103,116,104,32,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,112,46,108,101,110,103,116,104,32,61,32,104,32,63,32,50,32,58,32,49,59,10,32,32,32,32,32,32,32,32,32,32,112,91,48,93,32,61,32,101,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,104,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,118,32,61,32,98,91,49,93,46,116,111,87,105,114,101,84,121,112,101,40,116,44,32,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,112,91,49,93,32,61,32,118,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,119,32,61,32,48,59,32,119,32,60,32,109,59,32,43,43,119,41,32,110,91,119,93,32,61,32,98,91,119,32,43,32,50,93,46,116,111,87,105,114,101,84,121,112,101,40,116,44,32,69,91,119,93,41,44,32,112,46,112,117,115,104,40,110,91,119,93,41,59,10,32,32,32,32,32,32,32,32,32,32,69,32,61,32,100,40,46,46,46,112,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,103,41,32,75,97,40,116,41,59,10,32,32,32,32,32,32,32,32,32,32,101,108,115,101,10,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,119,32,61,32,104,32,63,32,49,32,58,32,50,59,32,119,32,60,32,98,46,108,101,110,103,116,104,59,32,119,43,43,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,72,32,61,32,49,32,61,61,61,32,119,32,63,32,118,32,58,32,110,91,119,32,45,32,50,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,98,91,119,93,46,87,97,32,38,38,32,98,91,119,93,46,87,97,40,72,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,118,32,61,32,108,32,63,32,98,91,48,93,46,102,114,111,109,87,105,114,101,84,121,112,101,40,69,41,32,58,32,118,111,105,100,32,48,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,118,59,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,119,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,97,32,61,32,97,46,116,114,105,109,40,41,59,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,98,32,61,32,97,46,105,110,100,101,120,79,102,40,34,40,34,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,45,49,32,33,61,61,32,98,32,63,32,97,46,115,117,98,115,116,114,40,48,44,32,98,41,32,58,32,97,59,10,32,32,32,32,32,32,125,44,32,121,98,32,61,32,91,93,44,32,86,32,61,32,91,93,44,32,122,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,57,32,60,32,97,32,38,38,32,48,32,61,61,61,32,45,45,86,91,97,32,43,32,49,93,32,38,38,32,40,86,91,97,93,32,61,32,118,111,105,100,32,48,44,32,121,98,46,112,117,115,104,40,97,41,41,59,10,32,32,32,32,32,32,125,44,32,65,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,67,97,110,110,111,116,32,117,115,101,32,100,101,108,101,116,101,100,32,118,97,108,46,32,104,97,110,100,108,101,32,61,32,34,32,43,32,97,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,86,91,97,93,59,10,32,32,32,32,32,32,125,44,32,106,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,118,111,105,100,32,48,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,50,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,110,117,108,108,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,52,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,116,114,117,101,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,54,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,102,97,108,115,101,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,56,59,10,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,98,32,61,32,121,98,46,112,111,112,40,41,32,124,124,32,86,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,32,32,32,32,86,91,98,93,32,61,32,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,86,91,98,32,43,32,49,93,32,61,32,49,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,66,98,32,61,32,123,10,32,32,32,32,32,32,32,32,110,97,109,101,58,32,34,101,109,115,99,114,105,112,116,101,110,58,58,118,97,108,34,44,10,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,65,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,122,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,40,97,44,32,98,41,32,61,62,32,106,98,40,98,41,44,10,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,76,44,10,32,32,32,32,32,32,32,32,87,97,58,32,110,117,108,108,10,32,32,32,32,32,32,125,44,32,67,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,49,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,117,91,100,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,58,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,120,91,100,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,50,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,121,91,100,32,62,62,32,49,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,58,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,122,91,100,32,62,62,32,49,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,52,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,65,91,100,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,58,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,66,91,100,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,84,121,112,101,69,114,114,111,114,40,96,105,110,118,97,108,105,100,32,105,110,116,101,103,101,114,32,119,105,100,116,104,32,40,36,123,98,125,41,58,32,36,123,97,125,96,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,68,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,78,91,97,93,59,10,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,99,41,32,116,104,114,111,119,32,97,32,61,32,96,36,123,98,125,32,104,97,115,32,117,110,107,110,111,119,110,32,116,121,112,101,32,36,123,114,98,40,97,41,125,96,44,32,110,101,119,32,82,40,97,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,44,32,104,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,110,117,108,108,32,61,61,61,32,97,41,32,114,101,116,117,114,110,32,34,110,117,108,108,34,59,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,116,121,112,101,111,102,32,97,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,111,98,106,101,99,116,34,32,61,61,61,32,98,32,124,124,32,34,97,114,114,97,121,34,32,61,61,61,32,98,32,124,124,32,34,102,117,110,99,116,105,111,110,34,32,61,61,61,32,98,32,63,32,97,46,116,111,83,116,114,105,110,103,40,41,32,58,32,34,34,32,43,32,97,59,10,32,32,32,32,32,32,125,44,32,69,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,52,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,117,110,99,116,105,111,110,40,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,111,97,91,99,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,56,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,117,110,99,116,105,111,110,40,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,112,97,91,99,32,62,62,32,51,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,84,121,112,101,69,114,114,111,114,40,96,105,110,118,97,108,105,100,32,102,108,111,97,116,32,119,105,100,116,104,32,40,36,123,98,125,41,58,32,36,123,97,125,96,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,70,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,49,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,40,100,41,32,61,62,32,117,91,100,93,32,58,32,40,100,41,32,61,62,32,120,91,100,93,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,50,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,40,100,41,32,61,62,32,121,91,100,32,62,62,32,49,93,32,58,32,40,100,41,32,61,62,32,122,91,100,32,62,62,32,49,93,59,10,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,52,58,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,32,63,32,40,100,41,32,61,62,32,65,91,100,32,62,62,32,50,93,32,58,32,40,100,41,32,61,62,32,66,91,100,32,62,62,32,50,93,59,10,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,84,121,112,101,69,114,114,111,114,40,96,105,110,118,97,108,105,100,32,105,110,116,101,103,101,114,32,119,105,100,116,104,32,40,36,123,98,125,41,58,32,36,123,97,125,96,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,71,98,32,61,32,79,98,106,101,99,116,46,97,115,115,105,103,110,40,123,32,111,112,116,105,111,110,97,108,58,32,116,114,117,101,32,125,44,32,66,98,41,44,32,72,98,32,61,32,34,117,110,100,101,102,105,110,101,100,34,32,33,61,32,116,121,112,101,111,102,32,84,101,120,116,68,101,99,111,100,101,114,32,63,32,110,101,119,32,84,101,120,116,68,101,99,111,100,101,114,40,34,117,116,102,45,49,54,108,101,34,41,32,58,32,118,111,105,100,32,48,44,32,73,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,97,32,62,62,32,49,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,100,32,61,32,99,32,43,32,98,32,47,32,50,59,32,33,40,99,32,62,61,32,100,41,32,38,38,32,122,91,99,93,59,32,41,32,43,43,99,59,10,32,32,32,32,32,32,32,32,99,32,60,60,61,32,49,59,10,32,32,32,32,32,32,32,32,105,102,32,40,51,50,32,60,32,99,32,45,32,97,32,38,38,32,72,98,41,32,114,101,116,117,114,110,32,72,98,46,100,101,99,111,100,101,40,120,46,115,117,98,97,114,114,97,121,40,97,44,32,99,41,41,59,10,32,32,32,32,32,32,32,32,99,32,61,32,34,34,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,100,32,61,32,48,59,32,33,40,100,32,62,61,32,98,32,47,32,50,41,59,32,43,43,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,121,91,97,32,43,32,50,32,42,32,100,32,62,62,32,49,93,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,48,32,61,61,32,101,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,99,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,101,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,44,32,74,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,99,32,63,63,32,40,99,32,61,32,50,49,52,55,52,56,51,54,52,55,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,50,32,62,32,99,41,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,99,32,45,61,32,50,59,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,59,10,32,32,32,32,32,32,32,32,99,32,61,32,99,32,60,32,50,32,42,32,97,46,108,101,110,103,116,104,32,63,32,99,32,47,32,50,32,58,32,97,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,101,32,61,32,48,59,32,101,32,60,32,99,59,32,43,43,101,41,32,121,91,98,32,62,62,32,49,93,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,101,41,44,32,98,32,43,61,32,50,59,10,32,32,32,32,32,32,32,32,121,91,98,32,62,62,32,49,93,32,61,32,48,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,32,45,32,100,59,10,32,32,32,32,32,32,125,44,32,75,98,32,61,32,40,97,41,32,61,62,32,50,32,42,32,97,46,108,101,110,103,116,104,44,32,76,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,99,32,61,32,48,44,32,100,32,61,32,34,34,59,32,33,40,99,32,62,61,32,98,32,47,32,52,41,59,32,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,65,91,97,32,43,32,52,32,42,32,99,32,62,62,32,50,93,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,48,32,61,61,32,101,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,32,32,43,43,99,59,10,32,32,32,32,32,32,32,32,32,32,54,53,53,51,54,32,60,61,32,101,32,63,32,40,101,32,45,61,32,54,53,53,51,54,44,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,53,53,50,57,54,32,124,32,101,32,62,62,32,49,48,44,32,53,54,51,50,48,32,124,32,101,32,38,32,49,48,50,51,41,41,32,58,32,100,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,101,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,100,59,10,32,32,32,32,32,32,125,44,32,77,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,99,32,63,63,32,40,99,32,61,32,50,49,52,55,52,56,51,54,52,55,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,52,32,62,32,99,41,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,59,10,32,32,32,32,32,32,32,32,99,32,61,32,100,32,43,32,99,32,45,32,52,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,101,32,61,32,48,59,32,101,32,60,32,97,46,108,101,110,103,116,104,59,32,43,43,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,53,53,50,57,54,32,60,61,32,102,32,38,38,32,53,55,51,52,51,32,62,61,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,43,43,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,102,32,61,32,54,53,53,51,54,32,43,32,40,40,102,32,38,32,49,48,50,51,41,32,60,60,32,49,48,41,32,124,32,104,32,38,32,49,48,50,51,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,65,91,98,32,62,62,32,50,93,32,61,32,102,59,10,32,32,32,32,32,32,32,32,32,32,98,32,43,61,32,52,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,32,43,32,52,32,62,32,99,41,32,98,114,101,97,107,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,65,91,98,32,62,62,32,50,93,32,61,32,48,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,32,45,32,100,59,10,32,32,32,32,32,32,125,44,32,78,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,98,32,61,32,48,44,32,99,32,61,32,48,59,32,99,32,60,32,97,46,108,101,110,103,116,104,59,32,43,43,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,97,46,99,104,97,114,67,111,100,101,65,116,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,53,53,50,57,54,32,60,61,32,100,32,38,38,32,53,55,51,52,51,32,62,61,32,100,32,38,38,32,43,43,99,59,10,32,32,32,32,32,32,32,32,32,32,98,32,43,61,32,52,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,79,98,32,61,32,48,44,32,80,98,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,97,32,61,32,97,46,116,111,87,105,114,101,84,121,112,101,40,100,44,32,99,41,59,10,32,32,32,32,32,32,32,32,100,46,108,101,110,103,116,104,32,38,38,32,40,66,91,98,32,62,62,32,50,93,32,61,32,106,98,40,100,41,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,125,44,32,81,98,32,61,32,91,93,44,32,82,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,81,98,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,81,98,46,112,117,115,104,40,97,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,59,10,32,32,32,32,32,32,125,44,32,83,98,32,61,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,99,32,61,32,65,114,114,97,121,40,97,41,44,32,100,32,61,32,48,59,32,100,32,60,32,97,59,32,43,43,100,41,32,99,91,100,93,32,61,32,68,98,40,66,91,98,32,43,32,52,32,42,32,100,32,62,62,32,50,93,44,32,34,112,97,114,97,109,101,116,101,114,32,34,32,43,32,100,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,44,32,84,98,32,61,32,82,101,102,108,101,99,116,46,99,111,110,115,116,114,117,99,116,44,32,85,98,32,61,32,123,125,44,32,86,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,40,97,32,105,110,115,116,97,110,99,101,111,102,32,66,97,32,124,124,32,34,117,110,119,105,110,100,34,32,61,61,32,97,41,41,32,116,104,114,111,119,32,97,59,10,32,32,32,32,32,32,125,44,32,87,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,110,97,32,61,32,97,59,10,32,32,32,32,32,32,32,32,68,97,32,124,124,32,48,32,60,32,79,98,32,124,124,32,40,107,46,111,110,69,120,105,116,63,46,40,97,41,44,32,109,97,32,61,32,116,114,117,101,41,59,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,66,97,40,97,41,59,10,32,32,32,32,32,32,125,44,32,88,98,32,61,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,109,97,41,10,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,97,40,41,44,32,33,40,68,97,32,124,124,32,48,32,60,32,79,98,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,97,32,61,32,97,32,61,32,110,97,44,32,87,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,86,98,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,86,98,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,89,98,32,61,32,123,125,44,32,36,98,32,61,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,90,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,85,83,69,82,58,32,34,119,101,98,95,117,115,101,114,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,76,79,71,78,65,77,69,58,32,34,119,101,98,95,117,115,101,114,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,80,65,84,72,58,32,34,47,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,80,87,68,58,32,34,47,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,72,79,77,69,58,32,34,47,104,111,109,101,47,119,101,98,95,117,115,101,114,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,76,65,78,71,58,32,40,34,111,98,106,101,99,116,34,32,61,61,32,116,121,112,101,111,102,32,110,97,118,105,103,97,116,111,114,32,38,38,32,110,97,118,105,103,97,116,111,114,46,108,97,110,103,117,97,103,101,115,32,38,38,32,110,97,118,105,103,97,116,111,114,46,108,97,110,103,117,97,103,101,115,91,48,93,32,124,124,32,34,67,34,41,46,114,101,112,108,97,99,101,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,34,45,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,34,95,34,10,32,32,32,32,32,32,32,32,32,32,32,32,41,32,43,32,34,46,85,84,70,45,56,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,95,58,32,101,97,32,124,124,32,34,46,47,116,104,105,115,46,112,114,111,103,114,97,109,34,10,32,32,32,32,32,32,32,32,32,32,125,44,32,98,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,98,32,105,110,32,89,98,41,32,118,111,105,100,32,48,32,61,61,61,32,89,98,91,98,93,32,63,32,100,101,108,101,116,101,32,97,91,98,93,32,58,32,97,91,98,93,32,61,32,89,98,91,98,93,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,98,32,105,110,32,97,41,32,99,46,112,117,115,104,40,96,36,123,98,125,61,36,123,97,91,98,93,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,90,98,32,61,32,99,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,90,98,59,10,32,32,32,32,32,32,125,44,32,90,98,44,32,97,99,32,61,32,91,110,117,108,108,44,32,91,93,44,32,91,93,93,44,32,98,99,32,61,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,34,111,98,106,101,99,116,34,32,61,61,32,116,121,112,101,111,102,32,99,114,121,112,116,111,32,38,38,32,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,99,114,121,112,116,111,46,103,101,116,82,97,110,100,111,109,86,97,108,117,101,115,41,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,40,97,41,32,61,62,32,99,114,121,112,116,111,46,103,101,116,82,97,110,100,111,109,86,97,108,117,101,115,40,97,41,59,10,32,32,32,32,32,32,32,32,118,97,40,34,105,110,105,116,82,97,110,100,111,109,68,101,118,105,99,101,34,41,59,10,32,32,32,32,32,32,125,44,32,99,99,32,61,32,40,97,41,32,61,62,32,40,99,99,32,61,32,98,99,40,41,41,40,97,41,59,10,32,32,32,32,32,32,77,97,32,61,32,107,46,73,110,116,101,114,110,97,108,69,114,114,111,114,32,61,32,99,108,97,115,115,32,101,120,116,101,110,100,115,32,69,114,114,111,114,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,115,117,112,101,114,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,110,97,109,101,32,61,32,34,73,110,116,101,114,110,97,108,69,114,114,111,114,34,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,100,99,32,61,32,65,114,114,97,121,40,50,53,54,41,44,32,101,99,32,61,32,48,59,32,50,53,54,32,62,32,101,99,59,32,43,43,101,99,41,32,100,99,91,101,99,93,32,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,101,99,41,59,10,32,32,32,32,32,32,78,97,32,61,32,100,99,59,10,32,32,32,32,32,32,82,32,61,32,107,46,66,105,110,100,105,110,103,69,114,114,111,114,32,61,32,99,108,97,115,115,32,101,120,116,101,110,100,115,32,69,114,114,111,114,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,115,117,112,101,114,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,110,97,109,101,32,61,32,34,66,105,110,100,105,110,103,69,114,114,111,114,34,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,79,98,106,101,99,116,46,97,115,115,105,103,110,40,36,97,46,112,114,111,116,111,116,121,112,101,44,32,123,10,32,32,32,32,32,32,32,32,105,115,65,108,105,97,115,79,102,58,32,102,117,110,99,116,105,111,110,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,40,116,104,105,115,32,105,110,115,116,97,110,99,101,111,102,32,36,97,32,38,38,32,97,32,105,110,115,116,97,110,99,101,111,102,32,36,97,41,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,116,104,105,115,46,78,97,46,81,97,46,80,97,44,32,99,32,61,32,116,104,105,115,46,78,97,46,79,97,59,10,32,32,32,32,32,32,32,32,32,32,97,46,78,97,32,61,32,97,46,78,97,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,97,46,78,97,46,81,97,46,80,97,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,97,32,61,32,97,46,78,97,46,79,97,59,32,98,46,84,97,59,32,41,32,99,32,61,32,98,46,99,98,40,99,41,44,32,98,32,61,32,98,46,84,97,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,59,32,100,46,84,97,59,32,41,32,97,32,61,32,100,46,99,98,40,97,41,44,32,100,32,61,32,100,46,84,97,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,98,32,61,61,61,32,100,32,38,38,32,99,32,61,61,61,32,97,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,99,108,111,110,101,58,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,78,97,46,79,97,32,124,124,32,81,97,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,78,97,46,98,98,41,32,114,101,116,117,114,110,32,116,104,105,115,46,78,97,46,99,111,117,110,116,46,118,97,108,117,101,32,43,61,32,49,44,32,116,104,105,115,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,88,97,44,32,98,32,61,32,79,98,106,101,99,116,44,32,99,32,61,32,98,46,99,114,101,97,116,101,44,32,100,32,61,32,79,98,106,101,99,116,46,103,101,116,80,114,111,116,111,116,121,112,101,79,102,40,116,104,105,115,41,44,32,101,32,61,32,116,104,105,115,46,78,97,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,97,40,10,32,32,32,32,32,32,32,32,32,32,32,32,99,46,99,97,108,108,40,98,44,32,100,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,78,97,58,32,123,32,118,97,108,117,101,58,32,123,32,99,111,117,110,116,58,32,101,46,99,111,117,110,116,44,32,97,98,58,32,101,46,97,98,44,32,98,98,58,32,101,46,98,98,44,32,79,97,58,32,101,46,79,97,44,32,81,97,58,32,101,46,81,97,44,32,83,97,58,32,101,46,83,97,44,32,85,97,58,32,101,46,85,97,32,125,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,97,46,78,97,46,99,111,117,110,116,46,118,97,108,117,101,32,43,61,32,49,59,10,32,32,32,32,32,32,32,32,32,32,97,46,78,97,46,97,98,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,91,34,100,101,108,101,116,101,34,93,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,78,97,46,79,97,32,124,124,32,81,97,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,78,97,46,97,98,32,38,38,32,33,116,104,105,115,46,78,97,46,98,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,79,98,106,101,99,116,32,97,108,114,101,97,100,121,32,115,99,104,101,100,117,108,101,100,32,102,111,114,32,100,101,108,101,116,105,111,110,34,41,59,10,32,32,32,32,32,32,32,32,32,32,83,97,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,97,32,61,32,116,104,105,115,46,78,97,59,10,32,32,32,32,32,32,32,32,32,32,45,45,97,46,99,111,117,110,116,46,118,97,108,117,101,59,10,32,32,32,32,32,32,32,32,32,32,48,32,61,61,61,32,97,46,99,111,117,110,116,46,118,97,108,117,101,32,38,38,32,40,97,46,83,97,32,63,32,97,46,85,97,46,88,97,40,97,46,83,97,41,32,58,32,97,46,81,97,46,80,97,46,88,97,40,97,46,79,97,41,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,78,97,46,98,98,32,124,124,32,40,116,104,105,115,46,78,97,46,83,97,32,61,32,118,111,105,100,32,48,44,32,116,104,105,115,46,78,97,46,79,97,32,61,32,118,111,105,100,32,48,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,105,115,68,101,108,101,116,101,100,58,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,33,116,104,105,115,46,78,97,46,79,97,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,100,101,108,101,116,101,76,97,116,101,114,58,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,78,97,46,79,97,32,124,124,32,81,97,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,78,97,46,97,98,32,38,38,32,33,116,104,105,115,46,78,97,46,98,98,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,79,98,106,101,99,116,32,97,108,114,101,97,100,121,32,115,99,104,101,100,117,108,101,100,32,102,111,114,32,100,101,108,101,116,105,111,110,34,41,59,10,32,32,32,32,32,32,32,32,32,32,90,97,46,112,117,115,104,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,78,97,46,97,98,32,61,32,116,114,117,101,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,79,98,106,101,99,116,46,97,115,115,105,103,110,40,108,98,46,112,114,111,116,111,116,121,112,101,44,32,123,10,32,32,32,32,32,32,32,32,113,98,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,108,98,32,38,38,32,40,97,32,61,32,116,104,105,115,46,108,98,40,97,41,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,106,98,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,88,97,63,46,40,97,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,76,44,10,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,98,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,98,32,63,32,89,97,40,116,104,105,115,46,80,97,46,90,97,44,32,123,32,81,97,58,32,116,104,105,115,46,118,98,44,32,79,97,58,32,99,44,32,85,97,58,32,116,104,105,115,44,32,83,97,58,32,97,32,125,41,32,58,32,89,97,40,116,104,105,115,46,80,97,46,90,97,44,32,123,32,81,97,58,32,116,104,105,115,44,32,79,97,58,32,97,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,116,104,105,115,46,113,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,99,41,32,114,101,116,117,114,110,32,116,104,105,115,46,106,98,40,97,41,44,32,110,117,108,108,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,87,97,40,116,104,105,115,46,80,97,44,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,33,61,61,32,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,48,32,61,61,61,32,100,46,78,97,46,99,111,117,110,116,46,118,97,108,117,101,41,32,114,101,116,117,114,110,32,100,46,78,97,46,79,97,32,61,32,99,44,32,100,46,78,97,46,83,97,32,61,32,97,44,32,100,46,99,108,111,110,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,100,32,61,32,100,46,99,108,111,110,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,106,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,100,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,100,32,61,32,116,104,105,115,46,80,97,46,112,98,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,100,32,61,32,85,97,91,100,93,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,100,41,32,114,101,116,117,114,110,32,98,46,99,97,108,108,40,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,100,32,61,32,116,104,105,115,46,101,98,32,63,32,100,46,109,98,32,58,32,100,46,112,111,105,110,116,101,114,84,121,112,101,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,84,97,40,99,44,32,116,104,105,115,46,80,97,44,32,100,46,80,97,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,117,108,108,32,61,61,61,32,101,32,63,32,98,46,99,97,108,108,40,116,104,105,115,41,32,58,32,116,104,105,115,46,102,98,32,63,32,89,97,40,100,46,80,97,46,90,97,44,32,123,32,81,97,58,32,100,44,32,79,97,58,32,101,44,32,85,97,58,32,116,104,105,115,44,32,83,97,58,32,97,32,125,41,32,58,32,89,97,40,100,46,80,97,46,90,97,44,32,123,32,81,97,58,32,100,44,32,79,97,58,32,101,32,125,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,112,98,32,61,32,107,46,85,110,98,111,117,110,100,84,121,112,101,69,114,114,111,114,32,61,32,40,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,97,98,40,98,44,32,102,117,110,99,116,105,111,110,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,110,97,109,101,32,61,32,98,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,109,101,115,115,97,103,101,32,61,32,100,59,10,32,32,32,32,32,32,32,32,32,32,100,32,61,32,69,114,114,111,114,40,100,41,46,115,116,97,99,107,59,10,32,32,32,32,32,32,32,32,32,32,118,111,105,100,32,48,32,33,61,61,32,100,32,38,38,32,40,116,104,105,115,46,115,116,97,99,107,32,61,32,116,104,105,115,46,116,111,83,116,114,105,110,103,40,41,32,43,32,34,92,110,34,32,43,32,100,46,114,101,112,108,97,99,101,40,47,94,69,114,114,111,114,40,58,91,94,92,110,93,42,41,63,92,110,47,44,32,34,34,41,41,59,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,99,46,112,114,111,116,111,116,121,112,101,32,61,32,79,98,106,101,99,116,46,99,114,101,97,116,101,40,97,46,112,114,111,116,111,116,121,112,101,41,59,10,32,32,32,32,32,32,32,32,99,46,112,114,111,116,111,116,121,112,101,46,99,111,110,115,116,114,117,99,116,111,114,32,61,32,99,59,10,32,32,32,32,32,32,32,32,99,46,112,114,111,116,111,116,121,112,101,46,116,111,83,116,114,105,110,103,32,61,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,118,111,105,100,32,48,32,61,61,61,32,116,104,105,115,46,109,101,115,115,97,103,101,32,63,32,116,104,105,115,46,110,97,109,101,32,58,32,96,36,123,116,104,105,115,46,110,97,109,101,125,58,32,36,123,116,104,105,115,46,109,101,115,115,97,103,101,125,96,59,10,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,125,41,40,69,114,114,111,114,44,32,34,85,110,98,111,117,110,100,84,121,112,101,69,114,114,111,114,34,41,59,10,32,32,32,32,32,32,86,46,112,117,115,104,40,48,44,32,49,44,32,118,111,105,100,32,48,44,32,49,44,32,110,117,108,108,44,32,49,44,32,116,114,117,101,44,32,49,44,32,102,97,108,115,101,44,32,49,41,59,10,32,32,32,32,32,32,107,46,99,111,117,110,116,95,101,109,118,97,108,95,104,97,110,100,108,101,115,32,61,32,40,41,32,61,62,32,86,46,108,101,110,103,116,104,32,47,32,50,32,45,32,53,32,45,32,121,98,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,118,97,114,32,119,99,32,61,32,123,10,32,32,32,32,32,32,32,32,99,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,118,97,40,10,32,32,32,32,32,32,32,32,32,32,96,65,115,115,101,114,116,105,111,110,32,102,97,105,108,101,100,58,32,36,123,97,32,63,32,71,40,120,44,32,97,41,32,58,32,34,34,125,44,32,97,116,58,32,96,32,43,32,91,98,32,63,32,98,32,63,32,71,40,120,44,32,98,41,32,58,32,34,34,32,58,32,34,117,110,107,110,111,119,110,32,102,105,108,101,110,97,109,101,34,44,32,99,44,32,100,32,63,32,100,32,63,32,71,40,120,44,32,100,41,32,58,32,34,34,32,58,32,34,117,110,107,110,111,119,110,32,102,117,110,99,116,105,111,110,34,93,10,32,32,32,32,32,32,32,32,41,44,10,32,32,32,32,32,32,32,32,100,58,32,40,41,32,61,62,32,72,97,40,41,44,10,32,32,32,32,32,32,32,32,110,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,110,101,119,32,70,97,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,66,91,100,46,79,97,32,43,32,49,54,32,62,62,32,50,93,32,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,66,91,100,46,79,97,32,43,32,52,32,62,62,32,50,93,32,61,32,98,59,10,32,32,32,32,32,32,32,32,32,32,66,91,100,46,79,97,32,43,32,56,32,62,62,32,50,93,32,61,32,99,59,10,32,32,32,32,32,32,32,32,32,32,73,32,61,32,97,59,10,32,32,32,32,32,32,32,32,32,32,73,97,43,43,59,10,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,73,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,101,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,73,32,124,124,32,40,73,32,61,32,97,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,73,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,83,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,80,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,81,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,85,58,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,82,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,87,58,32,40,41,32,61,62,32,118,97,40,34,34,41,44,10,32,32,32,32,32,32,32,32,119,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,74,97,91,97,93,59,10,32,32,32,32,32,32,32,32,32,32,100,101,108,101,116,101,32,74,97,91,97,93,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,98,46,104,98,44,32,100,32,61,32,98,46,88,97,44,32,101,32,61,32,98,46,107,98,44,32,102,32,61,32,101,46,109,97,112,40,40,104,41,32,61,62,32,104,46,116,98,41,46,99,111,110,99,97,116,40,101,46,109,97,112,40,40,104,41,32,61,62,32,104,46,122,98,41,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,97,93,44,32,102,44,32,40,104,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,103,32,61,32,123,125,59,10,32,32,32,32,32,32,32,32,32,32,32,32,101,46,102,111,114,69,97,99,104,40,40,108,44,32,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,110,32,61,32,104,91,109,93,44,32,112,32,61,32,108,46,114,98,44,32,116,32,61,32,108,46,115,98,44,32,69,32,61,32,104,91,109,32,43,32,101,46,108,101,110,103,116,104,93,44,32,118,32,61,32,108,46,121,98,44,32,119,32,61,32,108,46,65,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,103,91,108,46,111,98,93,32,61,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,58,32,40,72,41,32,61,62,32,110,46,102,114,111,109,87,105,114,101,84,121,112,101,40,112,40,116,44,32,72,41,41,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,119,114,105,116,101,58,32,40,72,44,32,102,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,70,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,40,119,44,32,72,44,32,69,46,116,111,87,105,114,101,84,121,112,101,40,70,44,32,102,97,41,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,75,97,40,70,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,98,46,110,97,109,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,40,108,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,109,32,61,32,123,125,44,32,110,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,110,32,105,110,32,103,41,32,109,91,110,93,32,61,32,103,91,110,93,46,114,101,97,100,40,108,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,40,108,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,109,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,40,108,44,32,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,110,32,105,110,32,103,41,32,105,102,32,40,33,40,110,32,105,110,32,109,41,41,32,116,104,114,111,119,32,110,101,119,32,84,121,112,101,69,114,114,111,114,40,96,77,105,115,115,105,110,103,32,102,105,101,108,100,58,32,34,36,123,110,125,34,96,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,112,32,61,32,99,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,110,32,105,110,32,103,41,32,103,91,110,93,46,119,114,105,116,101,40,112,44,32,109,91,110,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,108,32,38,38,32,108,46,112,117,115,104,40,100,44,32,112,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,112,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,76,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,87,97,58,32,100,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,72,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,101,97,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,98,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,33,33,101,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,101,44,32,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,32,63,32,99,32,58,32,100,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,102,117,110,99,116,105,111,110,40,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,102,114,111,109,87,105,114,101,84,121,112,101,40,120,91,101,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,87,97,58,32,110,117,108,108,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,117,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,44,32,110,44,32,112,44,32,116,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,110,32,61,32,81,40,110,41,59,10,32,32,32,32,32,32,32,32,32,32,102,32,61,32,84,40,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,103,32,38,38,32,40,103,32,61,32,84,40,104,44,32,103,41,41,59,10,32,32,32,32,32,32,32,32,32,32,109,32,38,38,32,40,109,32,61,32,84,40,108,44,32,109,41,41,59,10,32,32,32,32,32,32,32,32,32,32,116,32,61,32,84,40,112,44,32,116,41,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,69,32,61,32,100,98,40,110,41,59,10,32,32,32,32,32,32,32,32,32,32,99,98,40,69,44,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,115,98,40,96,67,97,110,110,111,116,32,99,111,110,115,116,114,117,99,116,32,36,123,110,125,32,100,117,101,32,116,111,32,117,110,98,111,117,110,100,32,116,121,112,101,115,96,44,32,91,100,93,41,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,97,44,32,98,44,32,99,93,44,32,100,32,63,32,91,100,93,32,58,32,91,93,44,32,40,118,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,32,61,32,118,91,48,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,119,32,61,32,118,46,80,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,72,32,61,32,119,46,90,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,72,32,61,32,36,97,46,112,114,111,116,111,116,121,112,101,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,32,61,32,97,98,40,110,44,32,102,117,110,99,116,105,111,110,40,46,46,46,80,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,79,98,106,101,99,116,46,103,101,116,80,114,111,116,111,116,121,112,101,79,102,40,116,104,105,115,41,32,33,61,61,32,102,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,34,85,115,101,32,39,110,101,119,39,32,116,111,32,99,111,110,115,116,114,117,99,116,32,34,32,43,32,110,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,70,46,89,97,41,32,116,104,114,111,119,32,110,101,119,32,82,40,110,32,43,32,34,32,104,97,115,32,110,111,32,97,99,99,101,115,115,105,98,108,101,32,99,111,110,115,116,114,117,99,116,111,114,34,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,120,98,32,61,32,70,46,89,97,91,80,97,46,108,101,110,103,116,104,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,61,61,61,32,120,98,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,96,84,114,105,101,100,32,116,111,32,105,110,118,111,107,101,32,99,116,111,114,32,111,102,32,36,123,110,125,32,119,105,116,104,32,105,110,118,97,108,105,100,32,110,117,109,98,101,114,32,111,102,32,112,97,114,97,109,101,116,101,114,115,32,40,36,123,80,97,46,108,101,110,103,116,104,125,41,32,45,32,101,120,112,101,99,116,101,100,32,40,36,123,79,98,106,101,99,116,46,107,101,121,115,40,70,46,89,97,41,46,116,111,83,116,114,105,110,103,40,41,125,41,32,112,97,114,97,109,101,116,101,114,115,32,105,110,115,116,101,97,100,33,96,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,120,98,46,97,112,112,108,121,40,116,104,105,115,44,32,80,97,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,97,32,61,32,79,98,106,101,99,116,46,99,114,101,97,116,101,40,72,44,32,123,32,99,111,110,115,116,114,117,99,116,111,114,58,32,123,32,118,97,108,117,101,58,32,118,32,125,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,46,112,114,111,116,111,116,121,112,101,32,61,32,102,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,70,32,61,32,110,101,119,32,101,98,40,110,44,32,118,44,32,102,97,44,32,116,44,32,119,44,32,102,44,32,103,44,32,109,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,70,46,84,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,40,104,97,32,61,32,70,46,84,97,41,46,105,98,32,63,63,32,40,104,97,46,105,98,32,61,32,91,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,70,46,84,97,46,105,98,46,112,117,115,104,40,70,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,119,32,61,32,110,101,119,32,108,98,40,110,44,32,70,44,32,116,114,117,101,44,32,102,97,108,115,101,44,32,102,97,108,115,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,104,97,32,61,32,110,101,119,32,108,98,40,110,32,43,32,34,42,34,44,32,70,44,32,102,97,108,115,101,44,32,102,97,108,115,101,44,32,102,97,108,115,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,72,32,61,32,110,101,119,32,108,98,40,110,32,43,32,34,32,99,111,110,115,116,42,34,44,32,70,44,32,102,97,108,115,101,44,32,116,114,117,101,44,32,102,97,108,115,101,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,85,97,91,97,93,32,61,32,123,32,112,111,105,110,116,101,114,84,121,112,101,58,32,104,97,44,32,109,98,58,32,72,32,125,59,10,32,32,32,32,32,32,32,32,32,32,32,32,109,98,40,69,44,32,118,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,119,44,32,104,97,44,32,72,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,116,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,116,98,40,98,44,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,101,32,61,32,84,40,100,44,32,101,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,93,44,32,91,97,93,44,32,40,103,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,103,32,61,32,103,91,48,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,108,32,61,32,96,99,111,110,115,116,114,117,99,116,111,114,32,36,123,103,46,110,97,109,101,125,96,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,111,105,100,32,48,32,61,61,61,32,103,46,80,97,46,89,97,32,38,38,32,40,103,46,80,97,46,89,97,32,61,32,91,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,118,111,105,100,32,48,32,33,61,61,32,103,46,80,97,46,89,97,91,98,32,45,32,49,93,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,96,67,97,110,110,111,116,32,114,101,103,105,115,116,101,114,32,109,117,108,116,105,112,108,101,32,99,111,110,115,116,114,117,99,116,111,114,115,32,119,105,116,104,32,105,100,101,110,116,105,99,97,108,32,110,117,109,98,101,114,32,111,102,32,112,97,114,97,109,101,116,101,114,115,32,40,36,123,98,32,45,32,49,125,41,32,102,111,114,32,99,108,97,115,115,32,39,36,123,103,46,110,97,109,101,125,39,33,32,79,118,101,114,108,111,97,100,32,114,101,115,111,108,117,116,105,111,110,32,105,115,32,99,117,114,114,101,110,116,108,121,32,111,110,108,121,32,112,101,114,102,111,114,109,101,100,32,117,115,105,110,103,32,116,104,101,32,112,97,114,97,109,101,116,101,114,32,99,111,117,110,116,44,32,110,111,116,32,97,99,116,117,97,108,32,116,121,112,101,32,105,110,102,111,33,96,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,103,46,80,97,46,89,97,91,98,32,45,32,49,93,32,61,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,115,98,40,96,67,97,110,110,111,116,32,99,111,110,115,116,114,117,99,116,32,36,123,103,46,110,97,109,101,125,32,100,117,101,32,116,111,32,117,110,98,111,117,110,100,32,116,121,112,101,115,96,44,32,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,32,32,80,40,91,93,44,32,104,44,32,40,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,109,46,115,112,108,105,99,101,40,49,44,32,48,44,32,110,117,108,108,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,103,46,80,97,46,89,97,91,98,32,45,32,49,93,32,61,32,118,98,40,108,44,32,109,44,32,110,117,108,108,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,104,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,108,32,61,32,116,98,40,99,44,32,100,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,119,98,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,102,32,61,32,84,40,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,93,44,32,91,97,93,44,32,40,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,115,98,40,96,67,97,110,110,111,116,32,99,97,108,108,32,36,123,112,125,32,100,117,101,32,116,111,32,117,110,98,111,117,110,100,32,116,121,112,101,115,96,44,32,108,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,109,32,61,32,109,91,48,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,112,32,61,32,96,36,123,109,46,110,97,109,101,125,46,36,123,98,125,96,59,10,32,32,32,32,32,32,32,32,32,32,32,32,98,46,115,116,97,114,116,115,87,105,116,104,40,34,64,64,34,41,32,38,38,32,40,98,32,61,32,83,121,109,98,111,108,91,98,46,115,117,98,115,116,114,105,110,103,40,50,41,93,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,103,32,38,38,32,109,46,80,97,46,119,98,46,112,117,115,104,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,116,32,61,32,109,46,80,97,46,90,97,44,32,69,32,61,32,116,91,98,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,111,105,100,32,48,32,61,61,61,32,69,32,124,124,32,118,111,105,100,32,48,32,61,61,61,32,69,46,82,97,32,38,38,32,69,46,99,108,97,115,115,78,97,109,101,32,33,61,61,32,109,46,110,97,109,101,32,38,38,32,69,46,36,97,32,61,61,61,32,99,32,45,32,50,32,63,32,40,110,46,36,97,32,61,32,99,32,45,32,50,44,32,110,46,99,108,97,115,115,78,97,109,101,32,61,32,109,46,110,97,109,101,44,32,116,91,98,93,32,61,32,110,41,32,58,32,40,98,98,40,116,44,32,98,44,32,112,41,44,32,116,91,98,93,46,82,97,91,99,32,45,32,50,93,32,61,32,110,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,80,40,91,93,44,32,108,44,32,40,118,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,32,61,32,118,98,40,112,44,32,118,44,32,109,44,32,102,44,32,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,111,105,100,32,48,32,61,61,61,32,116,91,98,93,46,82,97,32,63,32,40,118,46,36,97,32,61,32,99,32,45,32,50,44,32,116,91,98,93,32,61,32,118,41,32,58,32,116,91,98,93,46,82,97,91,99,32,45,32,50,93,32,61,32,118,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,99,97,58,32,40,97,41,32,61,62,32,79,40,97,44,32,66,98,41,44,10,32,32,32,32,32,32,32,32,121,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,101,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,101,46,118,97,108,117,101,115,32,61,32,123,125,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,98,44,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,58,32,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,99,111,110,115,116,114,117,99,116,111,114,46,118,97,108,117,101,115,91,102,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,40,102,44,32,104,41,32,61,62,32,104,46,118,97,108,117,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,67,98,40,98,44,32,99,44,32,100,41,44,10,32,32,32,32,32,32,32,32,32,32,32,32,87,97,58,32,110,117,108,108,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,99,98,40,98,44,32,101,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,108,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,68,98,40,97,44,32,34,101,110,117,109,34,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,100,46,99,111,110,115,116,114,117,99,116,111,114,59,10,32,32,32,32,32,32,32,32,32,32,100,32,61,32,79,98,106,101,99,116,46,99,114,101,97,116,101,40,100,46,99,111,110,115,116,114,117,99,116,111,114,46,112,114,111,116,111,116,121,112,101,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,108,117,101,58,32,123,32,118,97,108,117,101,58,32,99,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,58,32,123,32,118,97,108,117,101,58,32,97,98,40,96,36,123,100,46,110,97,109,101,125,95,36,123,98,125,96,44,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,32,125,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,97,46,118,97,108,117,101,115,91,99,93,32,61,32,100,59,10,32,32,32,32,32,32,32,32,32,32,97,91,98,93,32,61,32,100,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,69,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,98,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,40,100,41,32,61,62,32,100,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,40,100,44,32,101,41,32,61,62,32,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,69,98,40,98,44,32,99,41,44,10,32,32,32,32,32,32,32,32,32,32,32,32,87,97,58,32,110,117,108,108,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,118,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,116,98,40,98,44,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,81,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,119,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,101,32,61,32,84,40,100,44,32,101,41,59,10,32,32,32,32,32,32,32,32,32,32,99,98,40,10,32,32,32,32,32,32,32,32,32,32,32,32,97,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,115,98,40,96,67,97,110,110,111,116,32,99,97,108,108,32,36,123,97,125,32,100,117,101,32,116,111,32,117,110,98,111,117,110,100,32,116,121,112,101,115,96,44,32,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,98,32,45,32,49,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,93,44,32,104,44,32,40,103,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,109,98,40,97,44,32,118,98,40,97,44,32,91,103,91,48,93,44,32,110,117,108,108,93,46,99,111,110,99,97,116,40,103,46,115,108,105,99,101,40,49,41,41,44,32,110,117,108,108,44,32,101,44,32,102,41,44,32,98,32,45,32,49,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,112,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,45,49,32,61,61,61,32,101,32,38,38,32,40,101,32,61,32,52,50,57,52,57,54,55,50,57,53,41,59,10,32,32,32,32,32,32,32,32,32,32,101,32,61,32,40,103,41,32,61,62,32,103,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,48,32,61,61,61,32,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,51,50,32,45,32,56,32,42,32,99,59,10,32,32,32,32,32,32,32,32,32,32,32,32,101,32,61,32,40,103,41,32,61,62,32,103,32,60,60,32,102,32,62,62,62,32,102,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,98,46,105,110,99,108,117,100,101,115,40,34,117,110,115,105,103,110,101,100,34,41,32,63,32,102,117,110,99,116,105,111,110,40,103,44,32,108,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,108,32,62,62,62,32,48,59,10,32,32,32,32,32,32,32,32,32,32,125,32,58,32,102,117,110,99,116,105,111,110,40,103,44,32,108,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,108,59,10,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,32,110,97,109,101,58,32,98,44,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,101,44,32,116,111,87,105,114,101,84,121,112,101,58,32,104,44,32,86,97,58,32,56,44,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,70,98,40,98,44,32,99,44,32,48,32,33,61,61,32,100,41,44,32,87,97,58,32,110,117,108,108,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,107,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,100,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,101,119,32,101,40,117,46,98,117,102,102,101,114,44,32,66,91,102,32,43,32,52,32,62,62,32,50,93,44,32,66,91,102,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,91,73,110,116,56,65,114,114,97,121,44,32,85,105,110,116,56,65,114,114,97,121,44,32,73,110,116,49,54,65,114,114,97,121,44,32,85,105,110,116,49,54,65,114,114,97,121,44,32,73,110,116,51,50,65,114,114,97,121,44,32,85,105,110,116,51,50,65,114,114,97,121,44,32,70,108,111,97,116,51,50,65,114,114,97,121,44,32,70,108,111,97,116,54,52,65,114,114,97,121,93,91,98,93,59,10,32,32,32,32,32,32,32,32,32,32,99,32,61,32,81,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,32,110,97,109,101,58,32,99,44,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,100,44,32,86,97,58,32,56,44,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,100,32,125,44,32,123,32,117,98,58,32,116,114,117,101,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,120,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,71,98,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,107,97,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,44,32,110,44,32,112,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,32,61,32,81,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,102,32,61,32,84,40,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,103,32,61,32,84,40,104,44,32,103,41,59,10,32,32,32,32,32,32,32,32,32,32,109,32,61,32,84,40,108,44,32,109,41,59,10,32,32,32,32,32,32,32,32,32,32,112,32,61,32,84,40,110,44,32,112,41,59,10,32,32,32,32,32,32,32,32,32,32,80,40,91,97,93,44,32,91,98,93,44,32,40,116,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,116,32,61,32,116,91,48,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,110,101,119,32,108,98,40,99,44,32,116,46,80,97,44,32,102,97,108,115,101,44,32,102,97,108,115,101,44,32,116,114,117,101,44,32,116,44,32,100,44,32,102,44,32,103,44,32,109,44,32,112,41,93,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,100,97,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,98,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,100,32,61,32,66,91,99,32,62,62,32,50,93,44,32,101,32,61,32,99,32,43,32,52,44,32,102,44,32,104,32,61,32,101,44,32,103,32,61,32,48,59,32,103,32,60,61,32,100,59,32,43,43,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,108,32,61,32,101,32,43,32,103,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,103,32,61,61,32,100,32,124,124,32,48,32,61,61,32,120,91,108,93,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,104,32,61,32,104,32,63,32,71,40,120,44,32,104,44,32,108,32,45,32,104,41,32,58,32,34,34,44,32,118,111,105,100,32,48,32,61,61,61,32,102,32,63,32,102,32,61,32,104,32,58,32,40,102,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,48,41,44,32,102,32,43,61,32,104,41,44,32,104,32,61,32,108,32,43,32,49,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,85,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,102,117,110,99,116,105,111,110,40,99,44,32,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,32,105,110,115,116,97,110,99,101,111,102,32,65,114,114,97,121,66,117,102,102,101,114,32,38,38,32,40,100,32,61,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,100,41,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,44,32,102,32,61,32,34,115,116,114,105,110,103,34,32,61,61,32,116,121,112,101,111,102,32,100,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,40,102,32,124,124,32,100,32,105,110,115,116,97,110,99,101,111,102,32,85,105,110,116,56,65,114,114,97,121,32,124,124,32,100,32,105,110,115,116,97,110,99,101,111,102,32,85,105,110,116,56,67,108,97,109,112,101,100,65,114,114,97,121,32,124,124,32,100,32,105,110,115,116,97,110,99,101,111,102,32,73,110,116,56,65,114,114,97,121,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,82,40,34,67,97,110,110,111,116,32,112,97,115,115,32,110,111,110,45,115,116,114,105,110,103,32,116,111,32,115,116,100,58,58,115,116,114,105,110,103,34,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,102,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,104,32,61,32,101,32,61,32,48,59,32,104,32,60,32,100,46,108,101,110,103,116,104,59,32,43,43,104,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,103,32,61,32,100,46,99,104,97,114,67,111,100,101,65,116,40,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,49,50,55,32,62,61,32,103,32,63,32,101,43,43,32,58,32,50,48,52,55,32,62,61,32,103,32,63,32,101,32,43,61,32,50,32,58,32,53,53,50,57,54,32,60,61,32,103,32,38,38,32,53,55,51,52,51,32,62,61,32,103,32,63,32,40,101,32,43,61,32,52,44,32,43,43,104,41,32,58,32,101,32,43,61,32,51,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,32,101,32,61,32,100,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,104,32,61,32,102,99,40,52,32,43,32,101,32,43,32,49,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,103,32,61,32,104,32,43,32,52,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,66,91,104,32,62,62,32,50,93,32,61,32,101,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,102,41,32,75,40,100,44,32,103,44,32,101,32,43,32,49,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,32,105,102,32,40,102,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,102,32,61,32,48,59,32,102,32,60,32,101,59,32,43,43,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,108,32,61,32,100,46,99,104,97,114,67,111,100,101,65,116,40,102,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,50,53,53,32,60,32,108,41,32,116,104,114,111,119,32,85,40,103,41,44,32,110,101,119,32,82,40,34,83,116,114,105,110,103,32,104,97,115,32,85,84,70,45,49,54,32,99,111,100,101,32,117,110,105,116,115,32,116,104,97,116,32,100,111,32,110,111,116,32,102,105,116,32,105,110,32,56,32,98,105,116,115,34,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,120,91,103,32,43,32,102,93,32,61,32,108,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,108,115,101,32,102,111,114,32,40,102,32,61,32,48,59,32,102,32,60,32,101,59,32,43,43,102,41,32,120,91,103,32,43,32,102,93,32,61,32,100,91,102,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,99,32,38,38,32,99,46,112,117,115,104,40,85,44,32,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,104,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,76,44,10,32,32,32,32,32,32,32,32,32,32,32,32,87,97,40,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,85,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,65,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,32,61,32,81,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,50,32,61,61,61,32,98,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,73,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,74,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,75,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,40,103,41,32,61,62,32,122,91,103,32,62,62,32,49,93,59,10,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,52,32,61,61,61,32,98,32,38,38,32,40,100,32,61,32,76,98,44,32,101,32,61,32,77,98,44,32,102,32,61,32,78,98,44,32,104,32,61,32,40,103,41,32,61,62,32,66,91,103,32,62,62,32,50,93,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,99,44,10,32,32,32,32,32,32,32,32,32,32,32,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,40,103,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,108,32,61,32,66,91,103,32,62,62,32,50,93,44,32,109,44,32,110,32,61,32,103,32,43,32,52,44,32,112,32,61,32,48,59,32,112,32,60,61,32,108,59,32,43,43,112,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,116,32,61,32,103,32,43,32,52,32,43,32,112,32,42,32,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,112,32,61,61,32,108,32,124,124,32,48,32,61,61,32,104,40,116,41,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,32,61,32,100,40,110,44,32,116,32,45,32,110,41,44,32,118,111,105,100,32,48,32,61,61,61,32,109,32,63,32,109,32,61,32,110,32,58,32,40,109,32,43,61,32,83,116,114,105,110,103,46,102,114,111,109,67,104,97,114,67,111,100,101,40,48,41,44,32,109,32,43,61,32,110,41,44,32,110,32,61,32,116,32,43,32,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,85,40,103,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,109,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,111,87,105,114,101,84,121,112,101,58,32,40,103,44,32,108,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,34,115,116,114,105,110,103,34,32,33,61,32,116,121,112,101,111,102,32,108,41,32,116,104,114,111,119,32,110,101,119,32,82,40,96,67,97,110,110,111,116,32,112,97,115,115,32,110,111,110,45,115,116,114,105,110,103,32,116,111,32,67,43,43,32,115,116,114,105,110,103,32,116,121,112,101,32,36,123,99,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,109,32,61,32,102,40,108,41,44,32,110,32,61,32,102,99,40,52,32,43,32,109,32,43,32,98,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,66,91,110,32,62,62,32,50,93,32,61,32,109,32,47,32,98,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,40,108,44,32,110,32,43,32,52,44,32,109,32,43,32,98,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,110,117,108,108,32,33,61,61,32,103,32,38,38,32,103,46,112,117,115,104,40,85,44,32,110,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,32,32,32,32,86,97,58,32,56,44,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,58,32,76,44,10,32,32,32,32,32,32,32,32,32,32,32,32,87,97,40,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,85,40,103,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,115,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,74,97,91,97,93,32,61,32,123,32,110,97,109,101,58,32,81,40,98,41,44,32,104,98,58,32,84,40,99,44,32,100,41,44,32,88,97,58,32,84,40,101,44,32,102,41,44,32,107,98,58,32,91,93,32,125,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,109,58,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,74,97,91,97,93,46,107,98,46,112,117,115,104,40,123,32,111,98,58,32,81,40,98,41,44,32,116,98,58,32,99,44,32,114,98,58,32,84,40,100,44,32,101,41,44,32,115,98,58,32,102,44,32,122,98,58,32,104,44,32,121,98,58,32,84,40,103,44,32,108,41,44,32,65,98,58,32,109,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,102,97,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,81,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,79,40,97,44,32,123,32,67,98,58,32,116,114,117,101,44,32,110,97,109,101,58,32,98,44,32,86,97,58,32,48,44,32,102,114,111,109,87,105,114,101,84,121,112,101,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,125,44,32,116,111,87,105,114,101,84,121,112,101,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,125,32,125,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,78,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,68,97,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,32,32,79,98,32,61,32,48,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,73,58,32,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,73,110,102,105,110,105,116,121,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,70,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,65,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,68,98,40,98,44,32,34,101,109,118,97,108,58,58,97,115,34,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,80,98,40,98,44,32,99,44,32,97,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,105,97,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,81,98,91,97,93,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,65,98,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,40,110,117,108,108,44,32,98,44,32,99,44,32,100,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,76,58,32,122,98,44,10,32,32,32,32,32,32,32,32,104,97,58,32,40,97,44,32,98,44,32,99,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,83,98,40,97,44,32,98,41,44,32,101,32,61,32,100,46,115,104,105,102,116,40,41,59,10,32,32,32,32,32,32,32,32,32,32,97,45,45,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,65,114,114,97,121,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,96,109,101,116,104,111,100,67,97,108,108,101,114,60,40,36,123,100,46,109,97,112,40,40,104,41,32,61,62,32,104,46,110,97,109,101,41,46,106,111,105,110,40,34,44,32,34,41,125,41,32,61,62,32,36,123,101,46,110,97,109,101,125,62,96,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,82,98,40,10,32,32,32,32,32,32,32,32,32,32,32,32,97,98,40,98,44,32,40,104,44,32,103,44,32,108,44,32,109,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,110,32,61,32,48,44,32,112,32,61,32,48,59,32,112,32,60,32,97,59,32,43,43,112,41,32,102,91,112,93,32,61,32,100,91,112,93,46,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,40,109,32,43,32,110,41,44,32,110,32,43,61,32,100,91,112,93,46,86,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,104,32,61,32,49,32,61,61,61,32,99,32,63,32,84,98,40,103,44,32,102,41,32,58,32,103,46,97,112,112,108,121,40,104,44,32,102,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,80,98,40,101,44,32,108,44,32,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,106,97,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,57,32,60,32,97,32,38,38,32,40,86,91,97,32,43,32,49,93,32,43,61,32,49,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,103,97,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,65,98,40,97,41,59,10,32,32,32,32,32,32,32,32,32,32,75,97,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,122,98,40,97,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,114,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,68,98,40,97,44,32,34,95,101,109,118,97,108,95,116,97,107,101,95,118,97,108,117,101,34,41,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,97,46,114,101,97,100,86,97,108,117,101,70,114,111,109,80,111,105,110,116,101,114,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,106,98,40,97,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,74,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,85,98,91,97,93,32,38,38,32,40,99,108,101,97,114,84,105,109,101,111,117,116,40,85,98,91,97,93,46,105,100,41,44,32,100,101,108,101,116,101,32,85,98,91,97,93,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,98,41,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,115,101,116,84,105,109,101,111,117,116,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,100,101,108,101,116,101,32,85,98,91,97,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,88,98,40,40,41,32,61,62,32,103,99,40,97,44,32,112,101,114,102,111,114,109,97,110,99,101,46,110,111,119,40,41,41,41,59,10,32,32,32,32,32,32,32,32,32,32,125,44,32,98,41,59,10,32,32,32,32,32,32,32,32,32,32,85,98,91,97,93,32,61,32,123,32,105,100,58,32,99,44,32,68,98,58,32,98,32,125,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,75,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,40,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,68,97,116,101,40,41,41,46,103,101,116,70,117,108,108,89,101,97,114,40,41,44,32,102,32,61,32,110,101,119,32,68,97,116,101,40,101,44,32,48,44,32,49,41,46,103,101,116,84,105,109,101,122,111,110,101,79,102,102,115,101,116,40,41,59,10,32,32,32,32,32,32,32,32,32,32,101,32,61,32,110,101,119,32,68,97,116,101,40,101,44,32,54,44,32,49,41,46,103,101,116,84,105,109,101,122,111,110,101,79,102,102,115,101,116,40,41,59,10,32,32,32,32,32,32,32,32,32,32,66,91,97,32,62,62,32,50,93,32,61,32,54,48,32,42,32,77,97,116,104,46,109,97,120,40,102,44,32,101,41,59,10,32,32,32,32,32,32,32,32,32,32,65,91,98,32,62,62,32,50,93,32,61,32,78,117,109,98,101,114,40,102,32,33,61,32,101,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,40,104,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,103,32,61,32,77,97,116,104,46,97,98,115,40,104,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,96,85,84,67,36,123,48,32,60,61,32,104,32,63,32,34,45,34,32,58,32,34,43,34,125,36,123,83,116,114,105,110,103,40,77,97,116,104,46,102,108,111,111,114,40,103,32,47,32,54,48,41,41,46,112,97,100,83,116,97,114,116,40,50,44,32,34,48,34,41,125,36,123,83,116,114,105,110,103,40,103,32,37,32,54,48,41,46,112,97,100,83,116,97,114,116,40,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,50,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,34,48,34,10,32,32,32,32,32,32,32,32,32,32,32,32,41,125,96,59,10,32,32,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,32,32,32,32,97,32,61,32,98,40,102,41,59,10,32,32,32,32,32,32,32,32,32,32,98,32,61,32,98,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,101,32,60,32,102,32,63,32,40,75,40,97,44,32,99,44,32,49,55,41,44,32,75,40,98,44,32,100,44,32,49,55,41,41,32,58,32,40,75,40,97,44,32,100,44,32,49,55,41,44,32,75,40,98,44,32,99,44,32,49,55,41,41,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,98,97,58,32,40,41,32,61,62,32,112,101,114,102,111,114,109,97,110,99,101,46,110,111,119,40,41,44,10,32,32,32,32,32,32,32,32,77,58,32,40,97,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,120,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,32,32,97,32,62,62,62,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,50,49,52,55,52,56,51,54,52,56,32,60,32,97,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,99,32,61,32,49,59,32,52,32,62,61,32,99,59,32,99,32,42,61,32,50,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,98,32,42,32,40,49,32,43,32,48,46,50,32,47,32,99,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,100,32,61,32,77,97,116,104,46,109,105,110,40,100,44,32,97,32,43,32,49,48,48,54,54,51,50,57,54,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,97,58,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,32,61,32,40,77,97,116,104,46,109,105,110,40,50,49,52,55,52,56,51,54,52,56,44,32,54,53,53,51,54,32,42,32,77,97,116,104,46,99,101,105,108,40,77,97,116,104,46,109,97,120,40,97,44,32,100,41,32,47,32,54,53,53,51,54,41,41,32,45,32,108,97,46,98,117,102,102,101,114,46,98,121,116,101,76,101,110,103,116,104,32,43,32,54,53,53,51,53,41,32,47,32,54,53,53,51,54,32,124,32,48,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,108,97,46,103,114,111,119,40,100,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,113,97,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,49,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,98,114,101,97,107,32,97,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,101,32,61,32,118,111,105,100,32,48,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,101,41,32,114,101,116,117,114,110,32,116,114,117,101,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,89,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,36,98,40,41,46,102,111,114,69,97,99,104,40,40,100,44,32,101,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,98,32,43,32,99,59,10,32,32,32,32,32,32,32,32,32,32,32,32,101,32,61,32,66,91,97,32,43,32,52,32,42,32,101,32,62,62,32,50,93,32,61,32,102,59,10,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,102,32,61,32,48,59,32,102,32,60,32,100,46,108,101,110,103,116,104,59,32,43,43,102,41,32,117,91,101,43,43,93,32,61,32,100,46,99,104,97,114,67,111,100,101,65,116,40,102,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,117,91,101,93,32,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,32,32,99,32,43,61,32,100,46,108,101,110,103,116,104,32,43,32,49,59,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,90,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,36,98,40,41,59,10,32,32,32,32,32,32,32,32,32,32,66,91,97,32,62,62,32,50,93,32,61,32,99,46,108,101,110,103,116,104,59,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,48,59,10,32,32,32,32,32,32,32,32,32,32,99,46,102,111,114,69,97,99,104,40,40,101,41,32,61,62,32,100,32,43,61,32,101,46,108,101,110,103,116,104,32,43,32,49,41,59,10,32,32,32,32,32,32,32,32,32,32,66,91,98,32,62,62,32,50,93,32,61,32,100,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,86,58,32,40,41,32,61,62,32,53,50,44,10,32,32,32,32,32,32,32,32,84,58,32,40,41,32,61,62,32,53,50,44,10,32,32,32,32,32,32,32,32,66,58,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,101,32,61,32,48,44,32,102,32,61,32,48,59,32,102,32,60,32,99,59,32,102,43,43,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,66,91,98,32,62,62,32,50,93,44,32,103,32,61,32,66,91,98,32,43,32,52,32,62,62,32,50,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,98,32,43,61,32,56,59,10,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,118,97,114,32,108,32,61,32,48,59,32,108,32,60,32,103,59,32,108,43,43,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,109,32,61,32,97,44,32,110,32,61,32,120,91,104,32,43,32,108,93,44,32,112,32,61,32,97,99,91,109,93,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,48,32,61,61,61,32,110,32,124,124,32,49,48,32,61,61,61,32,110,32,63,32,40,40,49,32,61,61,61,32,109,32,63,32,106,97,32,58,32,114,41,40,71,40,112,41,41,44,32,112,46,108,101,110,103,116,104,32,61,32,48,41,32,58,32,112,46,112,117,115,104,40,110,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,101,32,43,61,32,103,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,66,91,100,32,62,62,32,50,93,32,61,32,101,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,44,10,32,32,32,32,32,32,32,32,36,58,32,104,99,44,10,32,32,32,32,32,32,32,32,95,58,32,105,99,44,10,32,32,32,32,32,32,32,32,106,58,32,106,99,44,10,32,32,32,32,32,32,32,32,105,58,32,107,99,44,10,32,32,32,32,32,32,32,32,103,58,32,108,99,44,10,32,32,32,32,32,32,32,32,97,97,58,32,109,99,44,10,32,32,32,32,32,32,32,32,122,58,32,110,99,44,10,32,32,32,32,32,32,32,32,67,58,32,111,99,44,10,32,32,32,32,32,32,32,32,68,58,32,112,99,44,10,32,32,32,32,32,32,32,32,97,58,32,113,99,44,10,32,32,32,32,32,32,32,32,98,58,32,114,99,44,10,32,32,32,32,32,32,32,32,102,58,32,115,99,44,10,32,32,32,32,32,32,32,32,111,58,32,116,99,44,10,32,32,32,32,32,32,32,32,113,58,32,117,99,44,10,32,32,32,32,32,32,32,32,71,58,32,118,99,44,10,32,32,32,32,32,32,32,32,88,58,32,87,98,44,10,32,32,32,32,32,32,32,32,79,58,32,40,97,44,32,98,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,99,40,120,46,115,117,98,97,114,114,97,121,40,97,44,32,97,32,43,32,98,41,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,44,32,87,59,10,32,32,32,32,32,32,40,97,115,121,110,99,32,102,117,110,99,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,97,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,87,32,61,32,100,46,101,120,112,111,114,116,115,59,10,32,32,32,32,32,32,32,32,32,32,108,97,32,61,32,87,46,108,97,59,10,32,32,32,32,32,32,32,32,32,32,113,97,40,41,59,10,32,32,32,32,32,32,32,32,32,32,83,32,61,32,87,46,113,97,59,10,32,32,32,32,32,32,32,32,32,32,115,97,46,117,110,115,104,105,102,116,40,87,46,109,97,41,59,10,32,32,32,32,32,32,32,32,32,32,67,45,45,59,10,32,32,32,32,32,32,32,32,32,32,107,46,109,111,110,105,116,111,114,82,117,110,68,101,112,101,110,100,101,110,99,105,101,115,63,46,40,67,41,59,10,32,32,32,32,32,32,32,32,32,32,48,32,61,61,32,67,32,38,38,32,68,32,38,38,32,40,100,32,61,32,68,44,32,68,32,61,32,110,117,108,108,44,32,100,40,41,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,87,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,67,43,43,59,10,32,32,32,32,32,32,32,32,107,46,109,111,110,105,116,111,114,82,117,110,68,101,112,101,110,100,101,110,99,105,101,115,63,46,40,67,41,59,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,123,32,97,58,32,119,99,32,125,59,10,32,32,32,32,32,32,32,32,105,102,32,40,107,46,105,110,115,116,97,110,116,105,97,116,101,87,97,115,109,41,10,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,107,46,105,110,115,116,97,110,116,105,97,116,101,87,97,115,109,40,98,44,32,97,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,40,96,77,111,100,117,108,101,46,105,110,115,116,97,110,116,105,97,116,101,87,97,115,109,32,99,97,108,108,98,97,99,107,32,102,97,105,108,101,100,32,119,105,116,104,32,101,114,114,111,114,58,32,36,123,100,125,96,41,44,32,98,97,40,100,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,120,97,32,63,63,32,40,120,97,32,61,32,119,97,40,34,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,46,119,97,115,109,34,41,32,63,32,34,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,46,119,97,115,109,34,32,58,32,107,46,108,111,99,97,116,101,70,105,108,101,32,63,32,107,46,108,111,99,97,116,101,70,105,108,101,40,34,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,46,119,97,115,109,34,44,32,113,41,32,58,32,113,32,43,32,34,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,46,119,97,115,109,34,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,97,119,97,105,116,32,65,97,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,97,40,99,46,105,110,115,116,97,110,99,101,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,99,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,98,97,40,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,41,40,41,59,10,32,32,32,32,32,32,118,97,114,32,102,99,32,61,32,40,97,41,32,61,62,32,40,102,99,32,61,32,87,46,110,97,41,40,97,41,44,32,113,98,32,61,32,40,97,41,32,61,62,32,40,113,98,32,61,32,87,46,111,97,41,40,97,41,44,32,85,32,61,32,40,97,41,32,61,62,32,40,85,32,61,32,87,46,112,97,41,40,97,41,44,32,103,99,32,61,32,40,97,44,32,98,41,32,61,62,32,40,103,99,32,61,32,87,46,114,97,41,40,97,44,32,98,41,44,32,88,32,61,32,40,97,44,32,98,41,32,61,62,32,40,88,32,61,32,87,46,115,97,41,40,97,44,32,98,41,44,32,74,32,61,32,40,97,41,32,61,62,32,40,74,32,61,32,87,46,116,97,41,40,97,41,44,32,89,32,61,32,40,97,41,32,61,62,32,40,89,32,61,32,87,46,117,97,41,40,97,41,44,32,90,32,61,32,40,41,32,61,62,32,40,90,32,61,32,87,46,118,97,41,40,41,44,32,71,97,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,40,71,97,32,61,32,87,46,119,97,41,40,97,44,32,98,44,32,99,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,105,105,106,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,105,105,106,106,32,61,32,87,46,120,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,105,106,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,105,106,106,32,61,32,87,46,121,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,106,105,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,106,105,105,105,32,61,32,87,46,122,97,41,40,97,44,32,98,44,32,99,44,32,100,41,59,10,32,32,32,32,32,32,118,97,114,32,120,99,32,61,32,107,46,100,121,110,67,97,108,108,95,118,105,106,106,106,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,32,61,62,32,40,120,99,32,61,32,107,46,100,121,110,67,97,108,108,95,118,105,106,106,106,106,32,61,32,87,46,65,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,106,105,105,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,106,105,105,32,61,32,87,46,66,97,41,40,97,44,32,98,44,32,99,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,105,105,32,61,32,87,46,67,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,102,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,102,105,105,32,61,32,87,46,68,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,32,61,32,87,46,69,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,32,61,32,40,97,44,32,98,44,32,99,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,32,61,32,87,46,70,97,41,40,97,44,32,98,44,32,99,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,105,105,32,61,32,87,46,71,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,105,102,102,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,105,102,102,105,105,32,61,32,87,46,72,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,106,105,105,105,105,32,61,32,87,46,73,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,118,105,105,106,105,105,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,118,105,105,106,105,105,32,61,32,87,46,74,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,106,32,61,32,87,46,75,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,106,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,106,106,32,61,32,87,46,76,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,41,59,10,32,32,32,32,32,32,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,105,106,106,32,61,32,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,32,61,62,32,40,107,46,100,121,110,67,97,108,108,95,105,105,105,105,105,105,106,106,32,61,32,87,46,77,97,41,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,113,99,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,98,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,100,32,33,61,61,32,100,32,43,32,48,41,32,116,104,114,111,119,32,100,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,109,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,44,32,101,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,104,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,102,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,104,32,33,61,61,32,104,32,43,32,48,41,32,116,104,114,111,119,32,104,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,114,99,40,97,44,32,98,44,32,99,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,98,44,32,99,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,100,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,101,32,33,61,61,32,101,32,43,32,48,41,32,116,104,114,111,119,32,101,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,115,99,40,97,44,32,98,44,32,99,44,32,100,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,102,32,33,61,61,32,102,32,43,32,48,41,32,116,104,114,111,119,32,102,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,106,99,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,100,32,33,61,61,32,100,32,43,32,48,41,32,116,104,114,111,119,32,100,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,117,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,104,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,103,32,33,61,61,32,103,32,43,32,48,41,32,116,104,114,111,119,32,103,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,112,99,40,97,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,99,32,33,61,61,32,99,32,43,32,48,41,32,116,104,114,111,119,32,99,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,116,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,102,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,44,32,101,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,104,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,102,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,104,32,33,61,61,32,104,32,43,32,48,41,32,116,104,114,111,119,32,104,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,111,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,108,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,109,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,108,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,109,32,33,61,61,32,109,32,43,32,48,41,32,116,104,114,111,119,32,109,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,108,99,40,97,44,32,98,44,32,99,44,32,100,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,102,32,33,61,61,32,102,32,43,32,48,41,32,116,104,114,111,119,32,102,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,107,99,40,97,44,32,98,44,32,99,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,100,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,100,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,101,32,33,61,61,32,101,32,43,32,48,41,32,116,104,114,111,119,32,101,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,110,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,104,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,44,32,101,44,32,102,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,104,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,103,32,33,61,61,32,103,32,43,32,48,41,32,116,104,114,111,119,32,103,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,104,99,40,97,44,32,98,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,99,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,99,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,100,32,33,61,61,32,100,32,43,32,48,41,32,116,104,114,111,119,32,100,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,105,99,40,97,44,32,98,44,32,99,44,32,100,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,101,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,83,46,103,101,116,40,97,41,40,98,44,32,99,44,32,100,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,102,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,101,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,102,32,33,61,61,32,102,32,43,32,48,41,32,116,104,114,111,119,32,102,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,118,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,32,123,10,32,32,32,32,32,32,32,32,118,97,114,32,110,32,61,32,90,40,41,59,10,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,120,99,40,97,44,32,98,44,32,99,44,32,100,44,32,101,44,32,102,44,32,104,44,32,103,44,32,108,44,32,109,41,59,10,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,112,41,32,123,10,32,32,32,32,32,32,32,32,32,32,89,40,110,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,112,32,33,61,61,32,112,32,43,32,48,41,32,116,104,114,111,119,32,112,59,10,32,32,32,32,32,32,32,32,32,32,88,40,49,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,118,97,114,32,121,99,59,10,32,32,32,32,32,32,68,32,61,32,102,117,110,99,116,105,111,110,32,122,99,40,41,32,123,10,32,32,32,32,32,32,32,32,121,99,32,124,124,32,65,99,40,41,59,10,32,32,32,32,32,32,32,32,121,99,32,124,124,32,40,68,32,61,32,122,99,41,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,65,99,40,41,32,123,10,32,32,32,32,32,32,32,32,102,117,110,99,116,105,111,110,32,97,40,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,121,99,32,38,38,32,40,121,99,32,61,32,116,114,117,101,44,32,107,46,99,97,108,108,101,100,82,117,110,32,61,32,116,114,117,101,44,32,33,109,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,67,97,40,115,97,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,97,97,40,107,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,107,46,111,110,82,117,110,116,105,109,101,73,110,105,116,105,97,108,105,122,101,100,63,46,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,107,46,112,111,115,116,82,117,110,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,102,111,114,32,40,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,107,46,112,111,115,116,82,117,110,32,38,38,32,40,107,46,112,111,115,116,82,117,110,32,61,32,91,107,46,112,111,115,116,82,117,110,93,41,59,32,107,46,112,111,115,116,82,117,110,46,108,101,110,103,116,104,59,32,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,118,97,114,32,98,32,61,32,107,46,112,111,115,116,82,117,110,46,115,104,105,102,116,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,97,46,117,110,115,104,105,102,116,40,98,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,67,97,40,116,97,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,33,40,48,32,60,32,67,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,107,46,112,114,101,82,117,110,41,32,102,111,114,32,40,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,107,46,112,114,101,82,117,110,32,38,38,32,40,107,46,112,114,101,82,117,110,32,61,32,91,107,46,112,114,101,82,117,110,93,41,59,32,107,46,112,114,101,82,117,110,46,108,101,110,103,116,104,59,32,41,32,117,97,40,41,59,10,32,32,32,32,32,32,32,32,32,32,67,97,40,114,97,41,59,10,32,32,32,32,32,32,32,32,32,32,48,32,60,32,67,32,124,124,32,40,107,46,115,101,116,83,116,97,116,117,115,32,63,32,40,107,46,115,101,116,83,116,97,116,117,115,40,34,82,117,110,110,105,110,103,46,46,46,34,41,44,32,115,101,116,84,105,109,101,111,117,116,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,115,101,116,84,105,109,101,111,117,116,40,40,41,32,61,62,32,107,46,115,101,116,83,116,97,116,117,115,40,34,34,41,44,32,49,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,97,40,41,59,10,32,32,32,32,32,32,32,32,32,32,125,44,32,49,41,41,32,58,32,97,40,41,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,102,32,40,107,46,112,114,101,73,110,105,116,41,10,32,32,32,32,32,32,32,32,102,111,114,32,40,34,102,117,110,99,116,105,111,110,34,32,61,61,32,116,121,112,101,111,102,32,107,46,112,114,101,73,110,105,116,32,38,38,32,40,107,46,112,114,101,73,110,105,116,32,61,32,91,107,46,112,114,101,73,110,105,116,93,41,59,32,48,32,60,32,107,46,112,114,101,73,110,105,116,46,108,101,110,103,116,104,59,32,41,32,107,46,112,114,101,73,110,105,116,46,112,111,112,40,41,40,41,59,10,32,32,32,32,32,32,65,99,40,41,59,10,32,32,32,32,32,32,109,111,100,117,108,101,82,116,110,32,61,32,99,97,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,82,116,110,59,10,32,32,32,32,125,59,10,32,32,125,41,40,41,59,10,32,32,118,97,114,32,100,111,116,108,111,116,116,105,101,95,112,108,97,121,101,114,95,100,101,102,97,117,108,116,32,61,32,99,114,101,97,116,101,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,77,111,100,117,108,101,59,10,10,32,32,47,47,32,115,114,99,47,99,111,114,101,47,100,111,116,108,111,116,116,105,101,45,119,97,115,109,45,108,111,97,100,101,114,46,116,115,10,32,32,118,97,114,32,68,111,116,76,111,116,116,105,101,87,97,115,109,76,111,97,100,101,114,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,41,32,123,10,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,82,101,110,100,101,114,101,114,76,111,97,100,101,114,32,105,115,32,97,32,115,116,97,116,105,99,32,99,108,97,115,115,32,97,110,100,32,99,97,110,110,111,116,32,98,101,32,105,110,115,116,97,110,116,105,97,116,101,100,46,34,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,97,115,121,110,99,32,95,116,114,121,76,111,97,100,40,117,114,108,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,109,111,100,117,108,101,32,61,32,97,119,97,105,116,32,100,111,116,108,111,116,116,105,101,95,112,108,97,121,101,114,95,100,101,102,97,117,108,116,40,123,32,108,111,99,97,116,101,70,105,108,101,58,32,40,41,32,61,62,32,117,114,108,32,125,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,84,114,105,101,115,32,116,111,32,108,111,97,100,32,116,104,101,32,87,65,83,77,32,109,111,100,117,108,101,32,102,114,111,109,32,116,104,101,32,112,114,105,109,97,114,121,32,85,82,76,44,32,102,97,108,108,105,110,103,32,98,97,99,107,32,116,111,32,97,32,98,97,99,107,117,112,32,85,82,76,32,105,102,32,110,101,99,101,115,115,97,114,121,46,10,32,32,32,32,32,42,32,84,104,114,111,119,115,32,97,110,32,101,114,114,111,114,32,105,102,32,98,111,116,104,32,85,82,76,115,32,102,97,105,108,32,116,111,32,108,111,97,100,32,116,104,101,32,109,111,100,117,108,101,46,10,32,32,32,32,32,42,32,64,114,101,116,117,114,110,115,32,80,114,111,109,105,115,101,60,77,111,100,117,108,101,62,32,45,32,65,32,112,114,111,109,105,115,101,32,116,104,97,116,32,114,101,115,111,108,118,101,115,32,116,111,32,116,104,101,32,108,111,97,100,101,100,32,109,111,100,117,108,101,46,10,32,32,32,32,32,42,47,10,32,32,32,32,115,116,97,116,105,99,32,97,115,121,110,99,32,95,108,111,97,100,87,105,116,104,66,97,99,107,117,112,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,77,111,100,117,108,101,80,114,111,109,105,115,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,77,111,100,117,108,101,80,114,111,109,105,115,101,32,61,32,116,104,105,115,46,95,116,114,121,76,111,97,100,40,116,104,105,115,46,95,119,97,115,109,85,82,76,41,46,99,97,116,99,104,40,97,115,121,110,99,32,40,105,110,105,116,105,97,108,69,114,114,111,114,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,98,97,99,107,117,112,85,114,108,32,61,32,96,104,116,116,112,115,58,47,47,117,110,112,107,103,46,99,111,109,47,36,123,80,65,67,75,65,71,69,95,78,65,77,69,125,64,36,123,80,65,67,75,65,71,69,95,86,69,82,83,73,79,78,125,47,100,105,115,116,47,100,111,116,108,111,116,116,105,101,45,112,108,97,121,101,114,46,119,97,115,109,96,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,119,97,114,110,40,96,80,114,105,109,97,114,121,32,87,65,83,77,32,108,111,97,100,32,102,97,105,108,101,100,32,102,114,111,109,32,36,123,116,104,105,115,46,95,119,97,115,109,85,82,76,125,46,32,69,114,114,111,114,58,32,36,123,105,110,105,116,105,97,108,69,114,114,111,114,46,109,101,115,115,97,103,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,119,97,114,110,40,96,65,116,116,101,109,112,116,105,110,103,32,116,111,32,108,111,97,100,32,87,65,83,77,32,102,114,111,109,32,98,97,99,107,117,112,32,85,82,76,58,32,36,123,98,97,99,107,117,112,85,114,108,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,97,119,97,105,116,32,116,104,105,115,46,95,116,114,121,76,111,97,100,40,98,97,99,107,117,112,85,114,108,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,98,97,99,107,117,112,69,114,114,111,114,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,101,114,114,111,114,40,96,80,114,105,109,97,114,121,32,87,65,83,77,32,85,82,76,32,102,97,105,108,101,100,58,32,36,123,105,110,105,116,105,97,108,69,114,114,111,114,46,109,101,115,115,97,103,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,101,114,114,111,114,40,96,66,97,99,107,117,112,32,87,65,83,77,32,85,82,76,32,102,97,105,108,101,100,58,32,36,123,98,97,99,107,117,112,69,114,114,111,114,46,109,101,115,115,97,103,101,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,34,87,65,83,77,32,108,111,97,100,105,110,103,32,102,97,105,108,101,100,32,102,114,111,109,32,97,108,108,32,115,111,117,114,99,101,115,46,34,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,77,111,100,117,108,101,80,114,111,109,105,115,101,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,80,117,98,108,105,99,32,109,101,116,104,111,100,32,116,111,32,108,111,97,100,32,116,104,101,32,87,101,98,65,115,115,101,109,98,108,121,32,109,111,100,117,108,101,46,10,32,32,32,32,32,42,32,85,116,105,108,105,122,101,115,32,97,32,112,114,105,109,97,114,121,32,97,110,100,32,98,97,99,107,117,112,32,85,82,76,32,102,111,114,32,114,111,98,117,115,116,110,101,115,115,46,10,32,32,32,32,32,42,32,64,114,101,116,117,114,110,115,32,80,114,111,109,105,115,101,60,77,111,100,117,108,101,62,32,45,32,65,32,112,114,111,109,105,115,101,32,116,104,97,116,32,114,101,115,111,108,118,101,115,32,116,111,32,116,104,101,32,108,111,97,100,101,100,32,109,111,100,117,108,101,46,10,32,32,32,32,32,42,47,10,32,32,32,32,115,116,97,116,105,99,32,97,115,121,110,99,32,108,111,97,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,108,111,97,100,87,105,116,104,66,97,99,107,117,112,40,41,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,83,101,116,115,32,97,32,110,101,119,32,85,82,76,32,102,111,114,32,116,104,101,32,87,65,83,77,32,102,105,108,101,32,97,110,100,32,105,110,118,97,108,105,100,97,116,101,115,32,116,104,101,32,99,117,114,114,101,110,116,32,109,111,100,117,108,101,32,112,114,111,109,105,115,101,46,10,32,32,32,32,32,42,10,32,32,32,32,32,42,32,64,112,97,114,97,109,32,115,116,114,105,110,103,32,45,32,32,84,104,101,32,110,101,119,32,85,82,76,32,102,111,114,32,116,104,101,32,87,65,83,77,32,102,105,108,101,46,10,32,32,32,32,32,42,47,10,32,32,32,32,115,116,97,116,105,99,32,115,101,116,87,97,115,109,85,114,108,40,117,114,108,41,32,123,10,32,32,32,32,32,32,105,102,32,40,117,114,108,32,61,61,61,32,116,104,105,115,46,95,119,97,115,109,85,82,76,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,119,97,115,109,85,82,76,32,61,32,117,114,108,59,10,32,32,32,32,32,32,116,104,105,115,46,95,77,111,100,117,108,101,80,114,111,109,105,115,101,32,61,32,110,117,108,108,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,47,47,32,101,115,108,105,110,116,45,100,105,115,97,98,108,101,45,110,101,120,116,45,108,105,110,101,32,64,116,121,112,101,115,99,114,105,112,116,45,101,115,108,105,110,116,47,110,97,109,105,110,103,45,99,111,110,118,101,110,116,105,111,110,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,68,111,116,76,111,116,116,105,101,87,97,115,109,76,111,97,100,101,114,44,32,34,95,77,111,100,117,108,101,80,114,111,109,105,115,101,34,44,32,110,117,108,108,41,59,10,32,32,47,47,32,85,82,76,32,102,111,114,32,116,104,101,32,87,65,83,77,32,102,105,108,101,44,32,99,111,110,115,116,114,117,99,116,101,100,32,117,115,105,110,103,32,112,97,99,107,97,103,101,32,105,110,102,111,114,109,97,116,105,111,110,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,68,111,116,76,111,116,116,105,101,87,97,115,109,76,111,97,100,101,114,44,32,34,95,119,97,115,109,85,82,76,34,44,32,96,104,116,116,112,115,58,47,47,99,100,110,46,106,115,100,101,108,105,118,114,46,110,101,116,47,110,112,109,47,36,123,80,65,67,75,65,71,69,95,78,65,77,69,125,64,36,123,80,65,67,75,65,71,69,95,86,69,82,83,73,79,78,125,47,100,105,115,116,47,100,111,116,108,111,116,116,105,101,45,112,108,97,121,101,114,46,119,97,115,109,96,41,59,10,10,32,32,47,47,32,115,114,99,47,101,118,101,110,116,45,109,97,110,97,103,101,114,46,116,115,10,32,32,118,97,114,32,69,118,101,110,116,77,97,110,97,103,101,114,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,41,32,123,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,34,44,32,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,77,97,112,40,41,41,59,10,32,32,32,32,125,10,32,32,32,32,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,32,123,10,32,32,32,32,32,32,108,101,116,32,108,105,115,116,101,110,101,114,115,32,61,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,103,101,116,40,116,121,112,101,41,59,10,32,32,32,32,32,32,105,102,32,40,33,108,105,115,116,101,110,101,114,115,41,32,123,10,32,32,32,32,32,32,32,32,108,105,115,116,101,110,101,114,115,32,61,32,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,83,101,116,40,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,115,101,116,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,115,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,108,105,115,116,101,110,101,114,115,46,97,100,100,40,108,105,115,116,101,110,101,114,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,105,115,116,101,110,101,114,115,32,61,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,103,101,116,40,116,121,112,101,41,59,10,32,32,32,32,32,32,105,102,32,40,33,108,105,115,116,101,110,101,114,115,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,41,32,123,10,32,32,32,32,32,32,32,32,108,105,115,116,101,110,101,114,115,46,100,101,108,101,116,101,40,108,105,115,116,101,110,101,114,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,115,105,122,101,32,61,61,61,32,48,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,100,101,108,101,116,101,40,116,121,112,101,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,100,101,108,101,116,101,40,116,121,112,101,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,100,105,115,112,97,116,99,104,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,105,115,116,101,110,101,114,115,32,61,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,103,101,116,40,101,118,101,110,116,46,116,121,112,101,41,59,10,32,32,32,32,32,32,108,105,115,116,101,110,101,114,115,63,46,102,111,114,69,97,99,104,40,40,108,105,115,116,101,110,101,114,41,32,61,62,32,108,105,115,116,101,110,101,114,40,101,118,101,110,116,41,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,109,111,118,101,65,108,108,69,118,101,110,116,76,105,115,116,101,110,101,114,115,40,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,76,105,115,116,101,110,101,114,115,46,99,108,101,97,114,40,41,59,10,32,32,32,32,125,10,32,32,125,59,10,10,32,32,47,47,32,115,114,99,47,111,102,102,115,99,114,101,101,110,45,111,98,115,101,114,118,101,114,46,116,115,10,32,32,118,97,114,32,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,115,116,97,116,105,99,32,95,105,110,105,116,105,97,108,105,122,101,79,98,115,101,114,118,101,114,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,111,98,115,101,114,118,101,114,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,116,101,114,115,101,99,116,105,111,110,79,98,115,101,114,118,101,114,67,97,108,108,98,97,99,107,32,61,32,40,101,110,116,114,105,101,115,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,101,110,116,114,105,101,115,46,102,111,114,69,97,99,104,40,40,101,110,116,114,121,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,103,101,116,40,101,110,116,114,121,46,116,97,114,103,101,116,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,101,110,116,114,121,46,105,115,73,110,116,101,114,115,101,99,116,105,110,103,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,117,110,102,114,101,101,122,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,102,114,101,101,122,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,32,61,32,110,101,119,32,73,110,116,101,114,115,101,99,116,105,111,110,79,98,115,101,114,118,101,114,40,105,110,116,101,114,115,101,99,116,105,111,110,79,98,115,101,114,118,101,114,67,97,108,108,98,97,99,107,44,32,123,10,32,32,32,32,32,32,32,32,116,104,114,101,115,104,111,108,100,58,32,48,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,111,98,115,101,114,118,101,40,99,97,110,118,97,115,44,32,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,105,110,105,116,105,97,108,105,122,101,79,98,115,101,114,118,101,114,40,41,59,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,104,97,115,40,99,97,110,118,97,115,41,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,115,101,116,40,99,97,110,118,97,115,44,32,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,63,46,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,117,110,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,63,46,117,110,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,100,101,108,101,116,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,115,105,122,101,32,61,61,61,32,48,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,63,46,100,105,115,99,111,110,110,101,99,116,40,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,125,59,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,44,32,34,95,111,98,115,101,114,118,101,114,34,44,32,110,117,108,108,41,59,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,44,32,34,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,34,44,32,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,77,97,112,40,41,41,59,10,10,32,32,47,47,32,115,114,99,47,114,101,115,105,122,101,45,111,98,115,101,114,118,101,114,46,116,115,10,32,32,118,97,114,32,82,69,83,73,90,69,95,68,69,66,79,85,78,67,69,95,84,73,77,69,32,61,32,49,48,48,59,10,32,32,118,97,114,32,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,32,61,32,99,108,97,115,115,32,123,10,32,32,32,32,115,116,97,116,105,99,32,95,105,110,105,116,105,97,108,105,122,101,79,98,115,101,114,118,101,114,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,111,98,115,101,114,118,101,114,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,105,122,101,72,97,110,100,108,101,114,32,61,32,40,101,110,116,114,105,101,115,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,101,110,116,114,105,101,115,46,102,111,114,69,97,99,104,40,40,101,110,116,114,121,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,101,108,101,109,101,110,116,32,61,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,103,101,116,40,101,110,116,114,121,46,116,97,114,103,101,116,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,33,101,108,101,109,101,110,116,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,91,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,44,32,116,105,109,101,111,117,116,93,32,61,32,101,108,101,109,101,110,116,59,10,32,32,32,32,32,32,32,32,32,32,99,108,101,97,114,84,105,109,101,111,117,116,40,116,105,109,101,111,117,116,41,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,110,101,119,84,105,109,101,111,117,116,32,61,32,115,101,116,84,105,109,101,111,117,116,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,46,114,101,115,105,122,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,125,44,32,82,69,83,73,90,69,95,68,69,66,79,85,78,67,69,95,84,73,77,69,41,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,115,101,116,40,101,110,116,114,121,46,116,97,114,103,101,116,44,32,91,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,44,32,110,101,119,84,105,109,101,111,117,116,93,41,59,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,32,61,32,110,101,119,32,82,101,115,105,122,101,79,98,115,101,114,118,101,114,40,114,101,115,105,122,101,72,97,110,100,108,101,114,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,111,98,115,101,114,118,101,40,99,97,110,118,97,115,44,32,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,105,110,105,116,105,97,108,105,122,101,79,98,115,101,114,118,101,114,40,41,59,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,104,97,115,40,99,97,110,118,97,115,41,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,115,101,116,40,99,97,110,118,97,115,44,32,91,100,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,44,32,48,93,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,63,46,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,117,110,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,101,108,101,109,101,110,116,32,61,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,103,101,116,40,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,105,102,32,40,101,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,116,105,109,101,111,117,116,73,100,32,61,32,101,108,101,109,101,110,116,91,49,93,59,10,32,32,32,32,32,32,32,32,105,102,32,40,116,105,109,101,111,117,116,73,100,41,32,99,108,101,97,114,84,105,109,101,111,117,116,40,116,105,109,101,111,117,116,73,100,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,63,46,117,110,111,98,115,101,114,118,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,100,101,108,101,116,101,40,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,46,115,105,122,101,32,38,38,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,46,100,105,115,99,111,110,110,101,99,116,40,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,111,98,115,101,114,118,101,114,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,125,59,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,44,32,34,95,111,98,115,101,114,118,101,114,34,44,32,110,117,108,108,41,59,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,44,32,34,95,111,98,115,101,114,118,101,100,67,97,110,118,97,115,101,115,34,44,32,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,77,97,112,40,41,41,59,10,10,32,32,47,47,32,115,114,99,47,117,116,105,108,115,46,116,115,10,32,32,102,117,110,99,116,105,111,110,32,105,115,72,101,120,67,111,108,111,114,40,99,111,108,111,114,41,32,123,10,32,32,32,32,114,101,116,117,114,110,32,47,94,35,40,91,92,100,97,45,102,93,123,54,125,124,91,92,100,97,45,102,93,123,56,125,41,36,47,105,117,46,116,101,115,116,40,99,111,108,111,114,41,59,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,104,101,120,83,116,114,105,110,103,84,111,82,71,66,65,73,110,116,40,99,111,108,111,114,72,101,120,41,32,123,10,32,32,32,32,105,102,32,40,33,105,115,72,101,120,67,111,108,111,114,40,99,111,108,111,114,72,101,120,41,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,125,10,32,32,32,32,108,101,116,32,104,101,120,32,61,32,99,111,108,111,114,72,101,120,46,114,101,112,108,97,99,101,40,34,35,34,44,32,34,34,41,59,10,32,32,32,32,104,101,120,32,61,32,104,101,120,46,108,101,110,103,116,104,32,61,61,61,32,54,32,63,32,96,36,123,104,101,120,125,102,102,96,32,58,32,104,101,120,59,10,32,32,32,32,114,101,116,117,114,110,32,112,97,114,115,101,73,110,116,40,104,101,120,44,32,49,54,41,59,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,105,115,68,111,116,76,111,116,116,105,101,40,102,105,108,101,68,97,116,97,41,32,123,10,32,32,32,32,105,102,32,40,102,105,108,101,68,97,116,97,46,98,121,116,101,76,101,110,103,116,104,32,60,32,52,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,99,111,110,115,116,32,102,105,108,101,83,105,103,110,97,116,117,114,101,32,61,32,110,101,119,32,85,105,110,116,56,65,114,114,97,121,40,102,105,108,101,68,97,116,97,46,115,108,105,99,101,40,48,44,32,90,73,80,95,83,73,71,78,65,84,85,82,69,46,98,121,116,101,76,101,110,103,116,104,41,41,59,10,32,32,32,32,102,111,114,32,40,108,101,116,32,105,32,61,32,48,59,32,105,32,60,32,90,73,80,95,83,73,71,78,65,84,85,82,69,46,108,101,110,103,116,104,59,32,105,32,43,61,32,49,41,32,123,10,32,32,32,32,32,32,105,102,32,40,90,73,80,95,83,73,71,78,65,84,85,82,69,91,105,93,32,33,61,61,32,102,105,108,101,83,105,103,110,97,116,117,114,101,91,105,93,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,114,101,116,117,114,110,32,116,114,117,101,59,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,105,115,76,111,116,116,105,101,74,83,79,78,40,106,115,111,110,41,32,123,10,32,32,32,32,114,101,116,117,114,110,32,76,79,84,84,73,69,95,74,83,79,78,95,77,65,78,68,65,84,79,82,89,95,70,73,69,76,68,83,46,101,118,101,114,121,40,40,102,105,101,108,100,41,32,61,62,32,79,98,106,101,99,116,46,112,114,111,116,111,116,121,112,101,46,104,97,115,79,119,110,80,114,111,112,101,114,116,121,46,99,97,108,108,40,106,115,111,110,44,32,102,105,101,108,100,41,41,59,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,105,115,76,111,116,116,105,101,40,102,105,108,101,68,97,116,97,41,32,123,10,32,32,32,32,105,102,32,40,116,121,112,101,111,102,32,102,105,108,101,68,97,116,97,32,61,61,61,32,34,115,116,114,105,110,103,34,41,32,123,10,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,105,115,76,111,116,116,105,101,74,83,79,78,40,74,83,79,78,46,112,97,114,115,101,40,102,105,108,101,68,97,116,97,41,41,59,10,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,95,101,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,115,76,111,116,116,105,101,74,83,79,78,40,102,105,108,101,68,97,116,97,41,59,10,32,32,32,32,125,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,103,101,116,68,101,102,97,117,108,116,68,80,82,40,41,32,123,10,32,32,32,32,99,111,110,115,116,32,100,112,114,32,61,32,73,83,95,66,82,79,87,83,69,82,32,63,32,119,105,110,100,111,119,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,58,32,49,59,10,32,32,32,32,114,101,116,117,114,110,32,49,32,43,32,40,100,112,114,32,45,32,49,41,32,42,32,68,69,70,65,85,76,84,95,68,80,82,95,70,65,67,84,79,82,59,10,32,32,125,10,32,32,102,117,110,99,116,105,111,110,32,105,115,69,108,101,109,101,110,116,73,110,86,105,101,119,112,111,114,116,40,101,108,101,109,101,110,116,41,32,123,10,32,32,32,32,99,111,110,115,116,32,114,101,99,116,32,61,32,101,108,101,109,101,110,116,46,103,101,116,66,111,117,110,100,105,110,103,67,108,105,101,110,116,82,101,99,116,40,41,59,10,32,32,32,32,114,101,116,117,114,110,32,114,101,99,116,46,116,111,112,32,62,61,32,48,32,38,38,32,114,101,99,116,46,108,101,102,116,32,62,61,32,48,32,38,38,32,114,101,99,116,46,98,111,116,116,111,109,32,60,61,32,40,119,105,110,100,111,119,46,105,110,110,101,114,72,101,105,103,104,116,32,124,124,32,100,111,99,117,109,101,110,116,46,100,111,99,117,109,101,110,116,69,108,101,109,101,110,116,46,99,108,105,101,110,116,72,101,105,103,104,116,41,32,38,38,32,114,101,99,116,46,114,105,103,104,116,32,60,61,32,40,119,105,110,100,111,119,46,105,110,110,101,114,87,105,100,116,104,32,124,124,32,100,111,99,117,109,101,110,116,46,100,111,99,117,109,101,110,116,69,108,101,109,101,110,116,46,99,108,105,101,110,116,87,105,100,116,104,41,59,10,32,32,125,10,10,32,32,47,47,32,115,114,99,47,100,111,116,108,111,116,116,105,101,46,116,115,10,32,32,118,97,114,32,99,114,101,97,116,101,67,111,114,101,77,111,100,101,32,61,32,40,109,111,100,101,44,32,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,105,102,32,40,109,111,100,101,32,61,61,61,32,34,114,101,118,101,114,115,101,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,77,111,100,101,46,82,101,118,101,114,115,101,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,109,111,100,101,32,61,61,61,32,34,98,111,117,110,99,101,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,77,111,100,101,46,66,111,117,110,99,101,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,109,111,100,101,32,61,61,61,32,34,114,101,118,101,114,115,101,45,98,111,117,110,99,101,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,77,111,100,101,46,82,101,118,101,114,115,101,66,111,117,110,99,101,59,10,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,77,111,100,101,46,70,111,114,119,97,114,100,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,99,114,101,97,116,101,67,111,114,101,70,105,116,32,61,32,40,102,105,116,44,32,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,105,102,32,40,102,105,116,32,61,61,61,32,34,99,111,110,116,97,105,110,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,67,111,110,116,97,105,110,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,102,105,116,32,61,61,61,32,34,99,111,118,101,114,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,67,111,118,101,114,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,102,105,116,32,61,61,61,32,34,102,105,108,108,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,70,105,108,108,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,102,105,116,32,61,61,61,32,34,102,105,116,45,104,101,105,103,104,116,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,70,105,116,72,101,105,103,104,116,59,10,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,102,105,116,32,61,61,61,32,34,102,105,116,45,119,105,100,116,104,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,70,105,116,87,105,100,116,104,59,10,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,70,105,116,46,78,111,110,101,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,99,114,101,97,116,101,67,111,114,101,65,108,105,103,110,32,61,32,40,97,108,105,103,110,44,32,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,99,111,110,115,116,32,99,111,114,101,65,108,105,103,110,32,61,32,110,101,119,32,109,111,100,117,108,101,46,86,101,99,116,111,114,70,108,111,97,116,40,41,59,10,32,32,32,32,99,111,114,101,65,108,105,103,110,46,112,117,115,104,95,98,97,99,107,40,97,108,105,103,110,91,48,93,41,59,10,32,32,32,32,99,111,114,101,65,108,105,103,110,46,112,117,115,104,95,98,97,99,107,40,97,108,105,103,110,91,49,93,41,59,10,32,32,32,32,114,101,116,117,114,110,32,99,111,114,101,65,108,105,103,110,59,10,32,32,125,59,10,32,32,118,97,114,32,99,114,101,97,116,101,67,111,114,101,83,101,103,109,101,110,116,32,61,32,40,115,101,103,109,101,110,116,44,32,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,99,111,110,115,116,32,99,111,114,101,115,101,103,109,101,110,116,32,61,32,110,101,119,32,109,111,100,117,108,101,46,86,101,99,116,111,114,70,108,111,97,116,40,41,59,10,32,32,32,32,105,102,32,40,115,101,103,109,101,110,116,46,108,101,110,103,116,104,32,33,61,61,32,50,41,32,114,101,116,117,114,110,32,99,111,114,101,115,101,103,109,101,110,116,59,10,32,32,32,32,99,111,114,101,115,101,103,109,101,110,116,46,112,117,115,104,95,98,97,99,107,40,115,101,103,109,101,110,116,91,48,93,41,59,10,32,32,32,32,99,111,114,101,115,101,103,109,101,110,116,46,112,117,115,104,95,98,97,99,107,40,115,101,103,109,101,110,116,91,49,93,41,59,10,32,32,32,32,114,101,116,117,114,110,32,99,111,114,101,115,101,103,109,101,110,116,59,10,32,32,125,59,10,32,32,118,97,114,32,99,114,101,97,116,101,67,111,114,101,76,97,121,111,117,116,32,61,32,40,108,97,121,111,117,116,44,32,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,105,102,32,40,33,108,97,121,111,117,116,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,111,100,117,108,101,46,99,114,101,97,116,101,68,101,102,97,117,108,116,76,97,121,111,117,116,40,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,97,108,105,103,110,58,32,99,114,101,97,116,101,67,111,114,101,65,108,105,103,110,40,108,97,121,111,117,116,46,97,108,105,103,110,32,63,63,32,91,48,46,53,44,32,48,46,53,93,44,32,109,111,100,117,108,101,41,44,10,32,32,32,32,32,32,102,105,116,58,32,99,114,101,97,116,101,67,111,114,101,70,105,116,40,108,97,121,111,117,116,46,102,105,116,32,63,63,32,34,99,111,110,116,97,105,110,34,44,32,109,111,100,117,108,101,41,10,32,32,32,32,125,59,10,32,32,125,59,10,32,32,118,97,114,32,95,68,111,116,76,111,116,116,105,101,32,61,32,99,108,97,115,115,32,95,68,111,116,76,111,116,116,105,101,32,123,10,32,32,32,32,99,111,110,115,116,114,117,99,116,111,114,40,99,111,110,102,105,103,41,32,123,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,99,97,110,118,97,115,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,99,111,110,116,101,120,116,34,44,32,110,117,108,108,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,101,118,101,110,116,77,97,110,97,103,101,114,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,34,44,32,110,117,108,108,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,102,114,97,109,101,77,97,110,97,103,101,114,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,100,111,116,76,111,116,116,105,101,67,111,114,101,34,44,32,110,117,108,108,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,114,101,110,100,101,114,67,111,110,102,105,103,34,44,32,123,125,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,105,115,70,114,111,122,101,110,34,44,32,102,97,108,115,101,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,34,44,32,110,117,108,108,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,112,111,105,110,116,101,114,85,112,77,101,116,104,111,100,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,112,111,105,110,116,101,114,68,111,119,110,77,101,116,104,111,100,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,112,111,105,110,116,101,114,77,111,118,101,77,101,116,104,111,100,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,112,111,105,110,116,101,114,69,110,116,101,114,77,101,116,104,111,100,34,41,59,10,32,32,32,32,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,116,104,105,115,44,32,34,95,112,111,105,110,116,101,114,69,120,105,116,77,101,116,104,111,100,34,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,32,61,32,99,111,110,102,105,103,46,99,97,110,118,97,115,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,32,61,32,110,101,119,32,69,118,101,110,116,77,97,110,97,103,101,114,40,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,32,61,32,110,101,119,32,65,110,105,109,97,116,105,111,110,70,114,97,109,101,77,97,110,97,103,101,114,40,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,32,61,32,123,10,32,32,32,32,32,32,32,32,46,46,46,99,111,110,102,105,103,46,114,101,110,100,101,114,67,111,110,102,105,103,44,10,32,32,32,32,32,32,32,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,58,32,99,111,110,102,105,103,46,114,101,110,100,101,114,67,111,110,102,105,103,63,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,103,101,116,68,101,102,97,117,108,116,68,80,82,40,41,44,10,32,32,32,32,32,32,32,32,47,47,32,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,32,105,115,32,116,114,117,101,32,98,121,32,100,101,102,97,117,108,116,32,116,111,32,112,114,101,118,101,110,116,32,117,110,110,101,99,101,115,115,97,114,121,32,114,101,110,100,101,114,105,110,103,32,119,104,101,110,32,116,104,101,32,99,97,110,118,97,115,32,105,115,32,111,102,102,115,99,114,101,101,110,10,32,32,32,32,32,32,32,32,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,58,32,99,111,110,102,105,103,46,114,101,110,100,101,114,67,111,110,102,105,103,63,46,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,32,63,63,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,68,111,116,76,111,116,116,105,101,87,97,115,109,76,111,97,100,101,114,46,108,111,97,100,40,41,46,116,104,101,110,40,40,109,111,100,117,108,101,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,32,109,111,100,117,108,101,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,32,110,101,119,32,109,111,100,117,108,101,46,68,111,116,76,111,116,116,105,101,80,108,97,121,101,114,40,123,10,32,32,32,32,32,32,32,32,32,32,97,110,105,109,97,116,105,111,110,73,100,58,32,99,111,110,102,105,103,46,97,110,105,109,97,116,105,111,110,73,100,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,32,32,116,104,101,109,101,73,100,58,32,99,111,110,102,105,103,46,116,104,101,109,101,73,100,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,32,32,115,116,97,116,101,77,97,99,104,105,110,101,73,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,32,32,97,117,116,111,112,108,97,121,58,32,99,111,110,102,105,103,46,97,117,116,111,112,108,97,121,32,63,63,32,102,97,108,115,101,44,10,32,32,32,32,32,32,32,32,32,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,58,32,48,44,10,32,32,32,32,32,32,32,32,32,32,108,111,111,112,65,110,105,109,97,116,105,111,110,58,32,99,111,110,102,105,103,46,108,111,111,112,32,63,63,32,102,97,108,115,101,44,10,32,32,32,32,32,32,32,32,32,32,109,111,100,101,58,32,99,114,101,97,116,101,67,111,114,101,77,111,100,101,40,99,111,110,102,105,103,46,109,111,100,101,32,63,63,32,34,102,111,114,119,97,114,100,34,44,32,109,111,100,117,108,101,41,44,10,32,32,32,32,32,32,32,32,32,32,115,101,103,109,101,110,116,58,32,99,114,101,97,116,101,67,111,114,101,83,101,103,109,101,110,116,40,99,111,110,102,105,103,46,115,101,103,109,101,110,116,32,63,63,32,91,93,44,32,109,111,100,117,108,101,41,44,10,32,32,32,32,32,32,32,32,32,32,115,112,101,101,100,58,32,99,111,110,102,105,103,46,115,112,101,101,100,32,63,63,32,49,44,10,32,32,32,32,32,32,32,32,32,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,58,32,99,111,110,102,105,103,46,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,32,63,63,32,116,114,117,101,44,10,32,32,32,32,32,32,32,32,32,32,109,97,114,107,101,114,58,32,99,111,110,102,105,103,46,109,97,114,107,101,114,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,32,32,108,97,121,111,117,116,58,32,99,114,101,97,116,101,67,111,114,101,76,97,121,111,117,116,40,99,111,110,102,105,103,46,108,97,121,111,117,116,44,32,109,111,100,117,108,101,41,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,114,101,97,100,121,34,32,125,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,99,111,110,102,105,103,46,100,97,116,97,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,108,111,97,100,70,114,111,109,68,97,116,97,40,99,111,110,102,105,103,46,100,97,116,97,41,59,10,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,99,111,110,102,105,103,46,115,114,99,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,108,111,97,100,70,114,111,109,83,114,99,40,99,111,110,102,105,103,46,115,114,99,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,99,111,110,102,105,103,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,115,101,116,66,97,99,107,103,114,111,117,110,100,67,111,108,111,114,40,99,111,110,102,105,103,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,41,46,99,97,116,99,104,40,40,101,114,114,111,114,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,108,111,97,100,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,32,32,101,114,114,111,114,58,32,110,101,119,32,69,114,114,111,114,40,96,70,97,105,108,101,100,32,116,111,32,108,111,97,100,32,119,97,115,109,32,109,111,100,117,108,101,58,32,36,123,101,114,114,111,114,125,96,41,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,112,111,105,110,116,101,114,85,112,77,101,116,104,111,100,32,61,32,116,104,105,115,46,95,111,110,80,111,105,110,116,101,114,85,112,46,98,105,110,100,40,116,104,105,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,112,111,105,110,116,101,114,68,111,119,110,77,101,116,104,111,100,32,61,32,116,104,105,115,46,95,111,110,80,111,105,110,116,101,114,68,111,119,110,46,98,105,110,100,40,116,104,105,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,112,111,105,110,116,101,114,77,111,118,101,77,101,116,104,111,100,32,61,32,116,104,105,115,46,95,111,110,80,111,105,110,116,101,114,77,111,118,101,46,98,105,110,100,40,116,104,105,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,110,116,101,114,77,101,116,104,111,100,32,61,32,116,104,105,115,46,95,111,110,80,111,105,110,116,101,114,69,110,116,101,114,46,98,105,110,100,40,116,104,105,115,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,120,105,116,77,101,116,104,111,100,32,61,32,116,104,105,115,46,95,111,110,80,111,105,110,116,101,114,76,101,97,118,101,46,98,105,110,100,40,116,104,105,115,41,59,10,32,32,32,32,125,10,32,32,32,32,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,109,101,115,115,97,103,101,41,32,123,10,32,32,32,32,32,32,99,111,110,115,111,108,101,46,101,114,114,111,114,40,109,101,115,115,97,103,101,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,108,111,97,100,69,114,114,111,114,34,44,32,101,114,114,111,114,58,32,110,101,119,32,69,114,114,111,114,40,109,101,115,115,97,103,101,41,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,97,115,121,110,99,32,95,102,101,116,99,104,68,97,116,97,40,115,114,99,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,97,119,97,105,116,32,102,101,116,99,104,40,115,114,99,41,59,10,32,32,32,32,32,32,105,102,32,40,33,114,101,115,112,111,110,115,101,46,111,107,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,70,97,105,108,101,100,32,116,111,32,102,101,116,99,104,32,97,110,105,109,97,116,105,111,110,32,100,97,116,97,32,102,114,111,109,32,85,82,76,58,32,36,123,115,114,99,125,46,32,36,123,114,101,115,112,111,110,115,101,46,115,116,97,116,117,115,125,58,32,36,123,114,101,115,112,111,110,115,101,46,115,116,97,116,117,115,84,101,120,116,125,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,100,97,116,97,32,61,32,97,119,97,105,116,32,114,101,115,112,111,110,115,101,46,97,114,114,97,121,66,117,102,102,101,114,40,41,59,10,32,32,32,32,32,32,105,102,32,40,105,115,68,111,116,76,111,116,116,105,101,40,100,97,116,97,41,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,100,97,116,97,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,110,101,119,32,84,101,120,116,68,101,99,111,100,101,114,40,41,46,100,101,99,111,100,101,40,100,97,116,97,41,59,10,32,32,32,32,125,10,32,32,32,32,95,108,111,97,100,70,114,111,109,68,97,116,97,40,100,97,116,97,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,119,105,100,116,104,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,59,10,32,32,32,32,32,32,99,111,110,115,116,32,104,101,105,103,104,116,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,59,10,32,32,32,32,32,32,108,101,116,32,108,111,97,100,101,100,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,105,102,32,40,116,121,112,101,111,102,32,100,97,116,97,32,61,61,61,32,34,115,116,114,105,110,103,34,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,105,115,76,111,116,116,105,101,40,100,97,116,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,10,32,32,32,32,32,32,32,32,32,32,32,32,34,73,110,118,97,108,105,100,32,76,111,116,116,105,101,32,74,83,79,78,32,115,116,114,105,110,103,58,32,84,104,101,32,112,114,111,118,105,100,101,100,32,115,116,114,105,110,103,32,100,111,101,115,32,110,111,116,32,99,111,110,102,111,114,109,32,116,111,32,116,104,101,32,76,111,116,116,105,101,32,74,83,79,78,32,102,111,114,109,97,116,46,34,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,108,111,97,100,65,110,105,109,97,116,105,111,110,68,97,116,97,40,100,97,116,97,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,100,97,116,97,32,105,110,115,116,97,110,99,101,111,102,32,65,114,114,97,121,66,117,102,102,101,114,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,105,115,68,111,116,76,111,116,116,105,101,40,100,97,116,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,10,32,32,32,32,32,32,32,32,32,32,32,32,34,73,110,118,97,108,105,100,32,100,111,116,76,111,116,116,105,101,32,65,114,114,97,121,66,117,102,102,101,114,58,32,84,104,101,32,112,114,111,118,105,100,101,100,32,65,114,114,97,121,66,117,102,102,101,114,32,100,111,101,115,32,110,111,116,32,99,111,110,102,111,114,109,32,116,111,32,116,104,101,32,100,111,116,76,111,116,116,105,101,32,102,111,114,109,97,116,46,34,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,108,111,97,100,68,111,116,76,111,116,116,105,101,68,97,116,97,40,100,97,116,97,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,116,121,112,101,111,102,32,100,97,116,97,32,61,61,61,32,34,111,98,106,101,99,116,34,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,33,105,115,76,111,116,116,105,101,40,100,97,116,97,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,10,32,32,32,32,32,32,32,32,32,32,32,32,34,73,110,118,97,108,105,100,32,76,111,116,116,105,101,32,74,83,79,78,32,111,98,106,101,99,116,58,32,84,104,101,32,112,114,111,118,105,100,101,100,32,111,98,106,101,99,116,32,100,111,101,115,32,110,111,116,32,99,111,110,102,111,114,109,32,116,111,32,116,104,101,32,76,111,116,116,105,101,32,74,83,79,78,32,102,111,114,109,97,116,46,34,10,32,32,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,108,111,97,100,65,110,105,109,97,116,105,111,110,68,97,116,97,40,74,83,79,78,46,115,116,114,105,110,103,105,102,121,40,100,97,116,97,41,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,10,32,32,32,32,32,32,32,32,32,32,96,85,110,115,117,112,112,111,114,116,101,100,32,100,97,116,97,32,116,121,112,101,32,102,111,114,32,97,110,105,109,97,116,105,111,110,32,100,97,116,97,46,32,69,120,112,101,99,116,101,100,58,32,10,32,32,32,32,32,32,32,32,32,32,45,32,115,116,114,105,110,103,32,40,76,111,116,116,105,101,32,74,83,79,78,41,44,10,32,32,32,32,32,32,32,32,32,32,45,32,65,114,114,97,121,66,117,102,102,101,114,32,40,100,111,116,76,111,116,116,105,101,41,44,10,32,32,32,32,32,32,32,32,32,32,45,32,111,98,106,101,99,116,32,40,76,111,116,116,105,101,32,74,83,79,78,41,46,32,10,32,32,32,32,32,32,32,32,32,32,82,101,99,101,105,118,101,100,58,32,36,123,116,121,112,101,111,102,32,100,97,116,97,125,96,10,32,32,32,32,32,32,32,32,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,102,32,40,108,111,97,100,101,100,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,108,111,97,100,34,32,125,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,114,101,115,105,122,101,40,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,102,114,97,109,101,34,44,10,32,32,32,32,32,32,32,32,32,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,116,104,105,115,46,99,117,114,114,101,110,116,70,114,97,109,101,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,46,97,117,116,111,112,108,97,121,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,112,108,97,121,40,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,80,108,97,121,105,110,103,40,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,112,108,97,121,34,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,100,114,97,119,46,98,105,110,100,40,116,104,105,115,41,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,101,114,114,111,114,40,34,115,111,109,101,116,104,105,110,103,32,119,101,110,116,32,119,114,111,110,103,44,32,116,104,101,32,97,110,105,109,97,116,105,111,110,32,119,97,115,32,115,117,112,112,111,115,101,32,116,111,32,97,117,116,111,112,108,97,121,34,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,46,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,44,32,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,97,117,116,111,82,101,115,105,122,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,46,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,44,32,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,34,70,97,105,108,101,100,32,116,111,32,108,111,97,100,32,97,110,105,109,97,116,105,111,110,32,100,97,116,97,34,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,95,108,111,97,100,70,114,111,109,83,114,99,40,115,114,99,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,102,101,116,99,104,68,97,116,97,40,115,114,99,41,46,116,104,101,110,40,40,100,97,116,97,41,32,61,62,32,116,104,105,115,46,95,108,111,97,100,70,114,111,109,68,97,116,97,40,100,97,116,97,41,41,46,99,97,116,99,104,40,40,101,114,114,111,114,41,32,61,62,32,116,104,105,115,46,95,100,105,115,112,97,116,99,104,69,114,114,111,114,40,96,70,97,105,108,101,100,32,116,111,32,108,111,97,100,32,97,110,105,109,97,116,105,111,110,32,100,97,116,97,32,102,114,111,109,32,85,82,76,58,32,36,123,115,114,99,125,46,32,36,123,101,114,114,111,114,125,96,41,41,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,98,117,102,102,101,114,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,41,32,114,101,116,117,114,110,32,110,117,108,108,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,98,117,102,102,101,114,40,41,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,97,99,116,105,118,101,65,110,105,109,97,116,105,111,110,73,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,97,99,116,105,118,101,65,110,105,109,97,116,105,111,110,73,100,40,41,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,97,99,116,105,118,101,84,104,101,109,101,73,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,97,99,116,105,118,101,84,104,101,109,101,73,100,40,41,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,108,97,121,111,117,116,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,97,121,111,117,116,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,108,97,121,111,117,116,59,10,32,32,32,32,32,32,105,102,32,40,108,97,121,111,117,116,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,32,32,97,108,105,103,110,58,32,91,108,97,121,111,117,116,46,97,108,105,103,110,46,103,101,116,40,48,41,44,32,108,97,121,111,117,116,46,97,108,105,103,110,46,103,101,116,40,49,41,93,44,10,32,32,32,32,32,32,32,32,32,32,102,105,116,58,32,40,40,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,115,119,105,116,99,104,32,40,108,97,121,111,117,116,46,102,105,116,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,67,111,110,116,97,105,110,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,99,111,110,116,97,105,110,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,67,111,118,101,114,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,99,111,118,101,114,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,70,105,108,108,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,102,105,108,108,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,70,105,116,72,101,105,103,104,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,102,105,116,45,104,101,105,103,104,116,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,70,105,116,87,105,100,116,104,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,102,105,116,45,119,105,100,116,104,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,97,115,101,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,70,105,116,46,78,111,110,101,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,110,111,110,101,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,100,101,102,97,117,108,116,58,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,99,111,110,116,97,105,110,34,59,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,41,40,41,10,32,32,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,118,111,105,100,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,109,97,114,107,101,114,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,109,97,114,107,101,114,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,109,97,114,107,101,114,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,109,97,114,107,101,114,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,109,97,110,105,102,101,115,116,40,41,32,123,10,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,109,97,110,105,102,101,115,116,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,109,97,110,105,102,101,115,116,83,116,114,105,110,103,40,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,33,109,97,110,105,102,101,115,116,41,32,114,101,116,117,114,110,32,110,117,108,108,59,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,109,97,110,105,102,101,115,116,74,115,111,110,32,61,32,74,83,79,78,46,112,97,114,115,101,40,109,97,110,105,102,101,115,116,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,79,98,106,101,99,116,46,107,101,121,115,40,109,97,110,105,102,101,115,116,74,115,111,110,41,46,108,101,110,103,116,104,32,61,61,61,32,48,41,32,114,101,116,117,114,110,32,110,117,108,108,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,109,97,110,105,102,101,115,116,74,115,111,110,59,10,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,95,101,114,114,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,114,101,110,100,101,114,67,111,110,102,105,103,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,115,101,103,109,101,110,116,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,115,101,103,109,101,110,116,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,115,101,103,109,101,110,116,59,10,32,32,32,32,32,32,105,102,32,40,115,101,103,109,101,110,116,32,38,38,32,115,101,103,109,101,110,116,46,115,105,122,101,40,41,32,61,61,61,32,50,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,91,115,101,103,109,101,110,116,46,103,101,116,40,48,41,44,32,115,101,103,109,101,110,116,46,103,101,116,40,49,41,93,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,118,111,105,100,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,108,111,111,112,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,108,111,111,112,65,110,105,109,97,116,105,111,110,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,109,111,100,101,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,109,111,100,101,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,109,111,100,101,59,10,32,32,32,32,32,32,105,102,32,40,109,111,100,101,32,61,61,61,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,77,111,100,101,46,82,101,118,101,114,115,101,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,114,101,118,101,114,115,101,34,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,109,111,100,101,32,61,61,61,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,77,111,100,101,46,66,111,117,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,98,111,117,110,99,101,34,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,109,111,100,101,32,61,61,61,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,77,111,100,101,46,82,101,118,101,114,115,101,66,111,117,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,114,101,118,101,114,115,101,45,98,111,117,110,99,101,34,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,34,102,111,114,119,97,114,100,34,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,70,114,111,122,101,110,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,105,115,70,114,111,122,101,110,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,32,63,63,32,34,34,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,97,117,116,111,112,108,97,121,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,97,117,116,111,112,108,97,121,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,115,112,101,101,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,99,111,110,102,105,103,40,41,46,115,112,101,101,100,32,63,63,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,82,101,97,100,121,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,33,61,61,32,110,117,108,108,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,76,111,97,100,101,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,105,115,76,111,97,100,101,100,40,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,80,108,97,121,105,110,103,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,105,115,80,108,97,121,105,110,103,40,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,80,97,117,115,101,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,105,115,80,97,117,115,101,100,40,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,105,115,83,116,111,112,112,101,100,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,105,115,83,116,111,112,112,101,100,40,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,99,117,114,114,101,110,116,70,114,97,109,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,41,32,114,101,116,117,114,110,32,48,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,77,97,116,104,46,114,111,117,110,100,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,117,114,114,101,110,116,70,114,97,109,101,40,41,32,42,32,49,48,48,41,32,47,32,49,48,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,108,111,111,112,67,111,117,110,116,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,108,111,111,112,67,111,117,110,116,40,41,32,63,63,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,116,111,116,97,108,70,114,97,109,101,115,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,116,111,116,97,108,70,114,97,109,101,115,40,41,32,63,63,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,100,117,114,97,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,100,117,114,97,116,105,111,110,40,41,32,63,63,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,115,101,103,109,101,110,116,68,117,114,97,116,105,111,110,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,101,103,109,101,110,116,68,117,114,97,116,105,111,110,40,41,32,63,63,32,48,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,32,99,97,110,118,97,115,40,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,99,97,110,118,97,115,59,10,32,32,32,32,125,10,32,32,32,32,108,111,97,100,40,99,111,110,102,105,103,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,33,61,61,32,110,117,108,108,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,95,105,115,70,114,111,122,101,110,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,97,110,105,109,97,116,105,111,110,73,100,58,32,99,111,110,102,105,103,46,97,110,105,109,97,116,105,111,110,73,100,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,116,104,101,109,101,73,100,58,32,99,111,110,102,105,103,46,116,104,101,109,101,73,100,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,115,116,97,116,101,77,97,99,104,105,110,101,73,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,97,117,116,111,112,108,97,121,58,32,99,111,110,102,105,103,46,97,117,116,111,112,108,97,121,32,63,63,32,102,97,108,115,101,44,10,32,32,32,32,32,32,32,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,58,32,48,44,10,32,32,32,32,32,32,32,32,108,111,111,112,65,110,105,109,97,116,105,111,110,58,32,99,111,110,102,105,103,46,108,111,111,112,32,63,63,32,102,97,108,115,101,44,10,32,32,32,32,32,32,32,32,109,111,100,101,58,32,99,114,101,97,116,101,67,111,114,101,77,111,100,101,40,99,111,110,102,105,103,46,109,111,100,101,32,63,63,32,34,102,111,114,119,97,114,100,34,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,44,10,32,32,32,32,32,32,32,32,115,101,103,109,101,110,116,58,32,99,114,101,97,116,101,67,111,114,101,83,101,103,109,101,110,116,40,99,111,110,102,105,103,46,115,101,103,109,101,110,116,32,63,63,32,91,93,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,44,10,32,32,32,32,32,32,32,32,115,112,101,101,100,58,32,99,111,110,102,105,103,46,115,112,101,101,100,32,63,63,32,49,44,10,32,32,32,32,32,32,32,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,58,32,99,111,110,102,105,103,46,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,32,63,63,32,116,114,117,101,44,10,32,32,32,32,32,32,32,32,109,97,114,107,101,114,58,32,99,111,110,102,105,103,46,109,97,114,107,101,114,32,63,63,32,34,34,44,10,32,32,32,32,32,32,32,32,108,97,121,111,117,116,58,32,99,114,101,97,116,101,67,111,114,101,76,97,121,111,117,116,40,99,111,110,102,105,103,46,108,97,121,111,117,116,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,105,102,32,40,99,111,110,102,105,103,46,100,97,116,97,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,108,111,97,100,70,114,111,109,68,97,116,97,40,99,111,110,102,105,103,46,100,97,116,97,41,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,105,102,32,40,99,111,110,102,105,103,46,115,114,99,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,108,111,97,100,70,114,111,109,83,114,99,40,99,111,110,102,105,103,46,115,114,99,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,115,101,116,66,97,99,107,103,114,111,117,110,100,67,111,108,111,114,40,99,111,110,102,105,103,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,32,63,63,32,34,34,41,59,10,32,32,32,32,125,10,32,32,32,32,95,114,101,110,100,101,114,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,99,111,110,116,101,120,116,32,38,38,32,34,103,101,116,67,111,110,116,101,120,116,34,32,105,110,32,116,104,105,115,46,95,99,97,110,118,97,115,32,38,38,32,116,121,112,101,111,102,32,116,104,105,115,46,95,99,97,110,118,97,115,46,103,101,116,67,111,110,116,101,120,116,32,61,61,61,32,34,102,117,110,99,116,105,111,110,34,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,111,110,116,101,120,116,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,103,101,116,67,111,110,116,101,120,116,40,34,50,100,34,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,110,100,101,114,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,105,102,32,40,114,101,110,100,101,114,101,100,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,99,111,110,116,101,120,116,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,98,117,102,102,101,114,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,98,117,102,102,101,114,40,41,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,101,120,112,101,99,116,101,100,76,101,110,103,116,104,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,32,42,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,32,42,32,66,89,84,69,83,95,80,69,82,95,80,73,88,69,76,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,98,117,102,102,101,114,46,98,121,116,101,76,101,110,103,116,104,32,33,61,61,32,101,120,112,101,99,116,101,100,76,101,110,103,116,104,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,119,97,114,110,40,96,66,117,102,102,101,114,32,115,105,122,101,32,109,105,115,109,97,116,99,104,58,32,103,111,116,32,36,123,98,117,102,102,101,114,46,98,121,116,101,76,101,110,103,116,104,125,44,32,101,120,112,101,99,116,101,100,32,36,123,101,120,112,101,99,116,101,100,76,101,110,103,116,104,125,96,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,108,101,116,32,105,109,97,103,101,68,97,116,97,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,99,108,97,109,112,101,100,66,117,102,102,101,114,32,61,32,110,101,119,32,85,105,110,116,56,67,108,97,109,112,101,100,65,114,114,97,121,40,98,117,102,102,101,114,44,32,48,44,32,98,117,102,102,101,114,46,98,121,116,101,76,101,110,103,116,104,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,121,112,101,111,102,32,73,109,97,103,101,68,97,116,97,32,61,61,61,32,34,117,110,100,101,102,105,110,101,100,34,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,109,97,103,101,68,97,116,97,32,61,32,116,104,105,115,46,95,99,111,110,116,101,120,116,46,99,114,101,97,116,101,73,109,97,103,101,68,97,116,97,40,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,109,97,103,101,68,97,116,97,46,100,97,116,97,46,115,101,116,40,99,108,97,109,112,101,100,66,117,102,102,101,114,41,59,10,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,105,109,97,103,101,68,97,116,97,32,61,32,110,101,119,32,73,109,97,103,101,68,97,116,97,40,99,108,97,109,112,101,100,66,117,102,102,101,114,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,111,110,116,101,120,116,46,112,117,116,73,109,97,103,101,68,97,116,97,40,105,109,97,103,101,68,97,116,97,44,32,48,44,32,48,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,114,101,110,100,101,114,34,44,10,32,32,32,32,32,32,32,32,32,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,116,104,105,115,46,99,117,114,114,101,110,116,70,114,97,109,101,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,116,114,117,101,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,95,100,114,97,119,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,33,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,80,108,97,121,105,110,103,40,41,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,84,119,101,101,110,105,110,103,40,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,116,119,101,101,110,85,112,100,97,116,101,40,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,110,101,120,116,70,114,97,109,101,32,61,32,77,97,116,104,46,114,111,117,110,100,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,114,101,113,117,101,115,116,70,114,97,109,101,40,41,32,42,32,49,101,51,41,32,47,32,49,101,51,59,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,117,112,100,97,116,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,70,114,97,109,101,40,110,101,120,116,70,114,97,109,101,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,117,112,100,97,116,101,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,102,114,97,109,101,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,116,104,105,115,46,99,117,114,114,101,110,116,70,114,97,109,101,10,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,114,101,110,100,101,114,101,100,32,61,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,114,101,110,100,101,114,101,100,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,67,111,109,112,108,101,116,101,40,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,46,108,111,111,112,65,110,105,109,97,116,105,111,110,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,108,111,111,112,34,44,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,108,111,111,112,67,111,117,110,116,58,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,108,111,111,112,67,111,117,110,116,40,41,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,99,111,109,112,108,101,116,101,34,32,125,41,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,100,114,97,119,46,98,105,110,100,40,116,104,105,115,41,41,59,10,32,32,32,32,32,32,125,32,99,97,116,99,104,32,40,101,114,114,111,114,41,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,111,108,101,46,101,114,114,111,114,40,34,69,114,114,111,114,32,105,110,32,97,110,105,109,97,116,105,111,110,32,102,114,97,109,101,58,34,44,32,101,114,114,111,114,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,114,101,110,100,101,114,69,114,114,111,114,34,44,32,101,114,114,111,114,32,125,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,101,114,114,111,114,32,105,110,115,116,97,110,99,101,111,102,32,87,101,98,65,115,115,101,109,98,108,121,46,82,117,110,116,105,109,101,69,114,114,111,114,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,100,101,115,116,114,111,121,40,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,112,108,97,121,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,33,61,61,32,110,117,108,108,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,111,107,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,112,108,97,121,40,41,59,10,32,32,32,32,32,32,105,102,32,40,111,107,32,124,124,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,80,108,97,121,105,110,103,40,41,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,105,115,70,114,111,122,101,110,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,112,108,97,121,34,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,100,114,97,119,46,98,105,110,100,40,116,104,105,115,41,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,32,38,38,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,32,38,38,32,33,105,115,69,108,101,109,101,110,116,73,110,86,105,101,119,112,111,114,116,40,116,104,105,115,46,95,99,97,110,118,97,115,41,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,102,114,101,101,122,101,40,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,112,97,117,115,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,111,107,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,112,97,117,115,101,40,41,59,10,32,32,32,32,32,32,105,102,32,40,111,107,32,124,124,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,105,115,80,97,117,115,101,100,40,41,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,112,97,117,115,101,34,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,115,116,111,112,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,111,107,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,116,111,112,40,41,59,10,32,32,32,32,32,32,105,102,32,40,111,107,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,102,114,97,109,101,34,44,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,116,104,105,115,46,99,117,114,114,101,110,116,70,114,97,109,101,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,115,116,111,112,34,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,115,101,116,70,114,97,109,101,40,102,114,97,109,101,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,102,114,97,109,101,32,60,32,48,32,124,124,32,102,114,97,109,101,32,62,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,116,111,116,97,108,70,114,97,109,101,115,40,41,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,111,107,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,101,107,40,102,114,97,109,101,41,59,10,32,32,32,32,32,32,105,102,32,40,111,107,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,102,114,97,109,101,34,44,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,116,104,105,115,46,99,117,114,114,101,110,116,70,114,97,109,101,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,112,101,101,100,40,115,112,101,101,100,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,115,112,101,101,100,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,66,97,99,107,103,114,111,117,110,100,67,111,108,111,114,40,99,111,108,111,114,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,115,116,121,108,101,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,32,61,32,99,111,108,111,114,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,32,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,58,32,104,101,120,83,116,114,105,110,103,84,111,82,71,66,65,73,110,116,40,99,111,108,111,114,41,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,95,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,32,61,32,99,111,108,111,114,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,76,111,111,112,40,108,111,111,112,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,108,111,111,112,65,110,105,109,97,116,105,111,110,58,32,108,111,111,112,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,85,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,40,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,32,123,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,116,121,112,101,44,32,108,105,115,116,101,110,101,114,41,59,10,32,32,32,32,125,10,32,32,32,32,100,101,115,116,114,111,121,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,33,61,61,32,110,117,108,108,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,46,117,110,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,32,32,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,46,117,110,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,100,101,108,101,116,101,40,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,116,104,105,115,46,95,99,111,110,116,101,120,116,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,100,101,115,116,114,111,121,34,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,114,101,109,111,118,101,65,108,108,69,118,101,110,116,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,99,108,101,97,110,117,112,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,125,10,32,32,32,32,102,114,101,101,122,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,99,97,110,99,101,108,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,110,117,108,108,59,10,32,32,32,32,32,32,116,104,105,115,46,95,105,115,70,114,111,122,101,110,32,61,32,116,114,117,101,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,102,114,101,101,122,101,34,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,117,110,102,114,101,101,122,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,33,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,97,110,105,109,97,116,105,111,110,70,114,97,109,101,73,100,32,61,32,116,104,105,115,46,95,102,114,97,109,101,77,97,110,97,103,101,114,46,114,101,113,117,101,115,116,65,110,105,109,97,116,105,111,110,70,114,97,109,101,40,116,104,105,115,46,95,100,114,97,119,46,98,105,110,100,40,116,104,105,115,41,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,105,115,70,114,111,122,101,110,32,61,32,102,97,108,115,101,59,10,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,117,110,102,114,101,101,122,101,34,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,114,101,115,105,122,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,124,124,32,33,116,104,105,115,46,105,115,76,111,97,100,101,100,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,100,112,114,32,61,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,119,105,110,100,111,119,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,49,59,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,123,32,104,101,105,103,104,116,58,32,99,108,105,101,110,116,72,101,105,103,104,116,44,32,119,105,100,116,104,58,32,99,108,105,101,110,116,87,105,100,116,104,32,125,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,103,101,116,66,111,117,110,100,105,110,103,67,108,105,101,110,116,82,101,99,116,40,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,99,108,105,101,110,116,72,101,105,103,104,116,32,33,61,61,32,48,32,38,38,32,99,108,105,101,110,116,87,105,100,116,104,32,33,61,61,32,48,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,32,61,32,99,108,105,101,110,116,87,105,100,116,104,32,42,32,100,112,114,59,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,32,61,32,99,108,105,101,110,116,72,101,105,103,104,116,32,42,32,100,112,114,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,111,107,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,114,101,115,105,122,101,40,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,105,102,32,40,111,107,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,101,103,109,101,110,116,40,115,116,97,114,116,70,114,97,109,101,44,32,101,110,100,70,114,97,109,101,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,115,101,103,109,101,110,116,58,32,99,114,101,97,116,101,67,111,114,101,83,101,103,109,101,110,116,40,91,115,116,97,114,116,70,114,97,109,101,44,32,101,110,100,70,114,97,109,101,93,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,77,111,100,101,40,109,111,100,101,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,109,111,100,101,58,32,99,114,101,97,116,101,67,111,114,101,77,111,100,101,40,109,111,100,101,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,82,101,110,100,101,114,67,111,110,102,105,103,40,99,111,110,102,105,103,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,44,32,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,44,32,46,46,46,114,101,115,116,67,111,110,102,105,103,32,125,32,61,32,99,111,110,102,105,103,59,10,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,32,61,32,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,44,10,32,32,32,32,32,32,32,32,46,46,46,114,101,115,116,67,111,110,102,105,103,44,10,32,32,32,32,32,32,32,32,47,47,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,105,115,32,97,32,115,112,101,99,105,97,108,32,99,97,115,101,44,32,105,116,32,115,104,111,117,108,100,32,98,101,32,115,101,116,32,116,111,32,116,104,101,32,100,101,102,97,117,108,116,32,118,97,108,117,101,32,105,102,32,105,116,39,115,32,110,111,116,32,112,114,111,118,105,100,101,100,10,32,32,32,32,32,32,32,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,58,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,103,101,116,68,101,102,97,117,108,116,68,80,82,40,41,44,10,32,32,32,32,32,32,32,32,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,58,32,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,32,63,63,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,97,117,116,111,82,101,115,105,122,101,41,32,123,10,32,32,32,32,32,32,32,32,32,32,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,46,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,44,32,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,67,97,110,118,97,115,82,101,115,105,122,101,79,98,115,101,114,118,101,114,46,117,110,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,102,114,101,101,122,101,79,110,79,102,102,115,99,114,101,101,110,41,32,123,10,32,32,32,32,32,32,32,32,32,32,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,46,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,44,32,116,104,105,115,41,59,10,32,32,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,32,32,79,102,102,115,99,114,101,101,110,79,98,115,101,114,118,101,114,46,117,110,111,98,115,101,114,118,101,40,116,104,105,115,46,95,99,97,110,118,97,115,41,59,10,32,32,32,32,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,105,115,70,114,111,122,101,110,41,32,123,10,32,32,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,117,110,102,114,101,101,122,101,40,41,59,10,32,32,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,108,111,97,100,65,110,105,109,97,116,105,111,110,40,97,110,105,109,97,116,105,111,110,73,100,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,97,99,116,105,118,101,65,110,105,109,97,116,105,111,110,73,100,40,41,32,61,61,61,32,97,110,105,109,97,116,105,111,110,73,100,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,108,111,97,100,65,110,105,109,97,116,105,111,110,40,97,110,105,109,97,116,105,111,110,73,100,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,44,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,41,59,10,32,32,32,32,32,32,105,102,32,40,108,111,97,100,101,100,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,32,116,121,112,101,58,32,34,108,111,97,100,34,32,125,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,114,101,115,105,122,101,40,41,59,10,32,32,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,101,118,101,110,116,77,97,110,97,103,101,114,46,100,105,115,112,97,116,99,104,40,123,10,32,32,32,32,32,32,32,32,32,32,116,121,112,101,58,32,34,108,111,97,100,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,32,32,101,114,114,111,114,58,32,110,101,119,32,69,114,114,111,114,40,96,70,97,105,108,101,100,32,116,111,32,97,110,105,109,97,116,105,111,110,32,58,36,123,97,110,105,109,97,116,105,111,110,73,100,125,96,41,10,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,115,101,116,77,97,114,107,101,114,40,109,97,114,107,101,114,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,109,97,114,107,101,114,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,109,97,114,107,101,114,115,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,109,97,114,107,101,114,115,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,109,97,114,107,101,114,115,40,41,59,10,32,32,32,32,32,32,105,102,32,40,109,97,114,107,101,114,115,41,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,117,108,116,32,61,32,91,93,59,10,32,32,32,32,32,32,32,32,102,111,114,32,40,108,101,116,32,105,32,61,32,48,59,32,105,32,60,32,109,97,114,107,101,114,115,46,115,105,122,101,40,41,59,32,105,32,43,61,32,49,41,32,123,10,32,32,32,32,32,32,32,32,32,32,99,111,110,115,116,32,109,97,114,107,101,114,32,61,32,109,97,114,107,101,114,115,46,103,101,116,40,105,41,59,10,32,32,32,32,32,32,32,32,32,32,114,101,115,117,108,116,46,112,117,115,104,40,123,10,32,32,32,32,32,32,32,32,32,32,32,32,110,97,109,101,58,32,109,97,114,107,101,114,46,110,97,109,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,116,105,109,101,58,32,109,97,114,107,101,114,46,116,105,109,101,44,10,32,32,32,32,32,32,32,32,32,32,32,32,100,117,114,97,116,105,111,110,58,32,109,97,114,107,101,114,46,100,117,114,97,116,105,111,110,10,32,32,32,32,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,114,101,116,117,114,110,32,114,101,115,117,108,116,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,84,104,101,109,101,40,116,104,101,109,101,73,100,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,84,104,101,109,101,40,116,104,101,109,101,73,100,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,108,111,97,100,101,100,59,10,32,32,32,32,125,10,32,32,32,32,114,101,115,101,116,84,104,101,109,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,114,101,115,101,116,84,104,101,109,101,40,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,84,104,101,109,101,68,97,116,97,40,116,104,101,109,101,68,97,116,97,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,97,100,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,84,104,101,109,101,68,97,116,97,40,116,104,101,109,101,68,97,116,97,41,59,10,32,32,32,32,32,32,116,104,105,115,46,95,114,101,110,100,101,114,40,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,108,111,97,100,101,100,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,108,111,116,115,40,115,108,111,116,115,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,83,108,111,116,115,40,115,108,111,116,115,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,76,97,121,111,117,116,40,108,97,121,111,117,116,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,32,124,124,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,67,111,110,102,105,103,40,123,10,32,32,32,32,32,32,32,32,46,46,46,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,99,111,110,102,105,103,40,41,44,10,32,32,32,32,32,32,32,32,108,97,121,111,117,116,58,32,99,114,101,97,116,101,67,111,114,101,76,97,121,111,117,116,40,108,97,121,111,117,116,44,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,86,105,101,119,112,111,114,116,40,120,44,32,121,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,32,123,10,32,32,32,32,32,32,105,102,32,40,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,101,116,86,105,101,119,112,111,114,116,40,120,44,32,121,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,115,101,116,87,97,115,109,85,114,108,40,117,114,108,41,32,123,10,32,32,32,32,32,32,68,111,116,76,111,116,116,105,101,87,97,115,109,76,111,97,100,101,114,46,115,101,116,87,97,115,109,85,114,108,40,117,114,108,41,59,10,32,32,32,32,125,10,32,32,32,32,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,40,115,116,97,116,101,77,97,99,104,105,110,101,73,100,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,76,111,97,100,40,115,116,97,116,101,77,97,99,104,105,110,101,73,100,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,114,116,83,116,97,116,101,77,97,99,104,105,110,101,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,32,61,61,61,32,110,117,108,108,32,124,124,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,61,61,61,32,110,117,108,108,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,111,112,101,110,85,114,108,32,61,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,46,99,114,101,97,116,101,68,101,102,97,117,108,116,79,112,101,110,85,82,76,40,41,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,97,114,116,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,116,97,116,101,77,97,99,104,105,110,101,83,116,97,114,116,40,111,112,101,110,85,114,108,41,59,10,32,32,32,32,32,32,105,102,32,40,115,116,97,114,116,101,100,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,115,101,116,117,112,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,115,116,97,114,116,101,100,59,10,32,32,32,32,125,10,32,32,32,32,115,116,111,112,83,116,97,116,101,77,97,99,104,105,110,101,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,111,112,112,101,100,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,83,116,111,112,40,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,32,32,105,102,32,40,115,116,111,112,112,101,100,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,108,101,97,110,117,112,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,115,116,111,112,112,101,100,59,10,32,32,32,32,125,10,32,32,32,32,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,99,116,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,103,101,116,66,111,117,110,100,105,110,103,67,108,105,101,110,116,82,101,99,116,40,41,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,99,97,108,101,88,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,119,105,100,116,104,32,47,32,114,101,99,116,46,119,105,100,116,104,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,99,97,108,101,89,32,61,32,116,104,105,115,46,95,99,97,110,118,97,115,46,104,101,105,103,104,116,32,47,32,114,101,99,116,46,104,101,105,103,104,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,61,32,116,104,105,115,46,95,114,101,110,100,101,114,67,111,110,102,105,103,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,119,105,110,100,111,119,46,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,32,124,124,32,49,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,40,101,118,101,110,116,46,99,108,105,101,110,116,88,32,45,32,114,101,99,116,46,108,101,102,116,41,32,42,32,115,99,97,108,101,88,32,47,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,40,101,118,101,110,116,46,99,108,105,101,110,116,89,32,45,32,114,101,99,116,46,116,111,112,41,32,42,32,115,99,97,108,101,89,32,47,32,100,101,118,105,99,101,80,105,120,101,108,82,97,116,105,111,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,120,44,10,32,32,32,32,32,32,32,32,121,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,10,32,32,32,32,95,111,110,80,111,105,110,116,101,114,85,112,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,120,44,32,121,32,125,32,61,32,116,104,105,115,46,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,59,10,32,32,32,32,32,32,116,104,105,115,46,112,111,115,116,80,111,105,110,116,101,114,85,112,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,95,111,110,80,111,105,110,116,101,114,68,111,119,110,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,120,44,32,121,32,125,32,61,32,116,104,105,115,46,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,59,10,32,32,32,32,32,32,116,104,105,115,46,112,111,115,116,80,111,105,110,116,101,114,68,111,119,110,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,95,111,110,80,111,105,110,116,101,114,77,111,118,101,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,120,44,32,121,32,125,32,61,32,116,104,105,115,46,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,59,10,32,32,32,32,32,32,116,104,105,115,46,112,111,115,116,80,111,105,110,116,101,114,77,111,118,101,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,95,111,110,80,111,105,110,116,101,114,69,110,116,101,114,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,120,44,32,121,32,125,32,61,32,116,104,105,115,46,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,59,10,32,32,32,32,32,32,116,104,105,115,46,112,111,115,116,80,111,105,110,116,101,114,69,110,116,101,114,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,95,111,110,80,111,105,110,116,101,114,76,101,97,118,101,40,101,118,101,110,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,120,44,32,121,32,125,32,61,32,116,104,105,115,46,95,103,101,116,80,111,105,110,116,101,114,80,111,115,105,116,105,111,110,40,101,118,101,110,116,41,59,10,32,32,32,32,32,32,116,104,105,115,46,112,111,115,116,80,111,105,110,116,101,114,69,120,105,116,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,85,112,69,118,101,110,116,40,120,44,32,121,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,80,111,115,116,80,111,105,110,116,101,114,85,112,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,68,111,119,110,69,118,101,110,116,40,120,44,32,121,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,80,111,115,116,80,111,105,110,116,101,114,68,111,119,110,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,77,111,118,101,69,118,101,110,116,40,120,44,32,121,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,80,111,115,116,80,111,105,110,116,101,114,77,111,118,101,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,69,110,116,101,114,69,118,101,110,116,40,120,44,32,121,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,80,111,115,116,80,111,105,110,116,101,114,69,110,116,101,114,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,69,120,105,116,69,118,101,110,116,40,120,44,32,121,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,80,111,115,116,80,111,105,110,116,101,114,69,120,105,116,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,10,32,32,32,32,103,101,116,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,41,32,114,101,116,117,114,110,32,91,93,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,105,115,116,101,110,101,114,115,86,101,99,116,111,114,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,46,115,116,97,116,101,77,97,99,104,105,110,101,70,114,97,109,101,119,111,114,107,83,101,116,117,112,40,41,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,105,115,116,101,110,101,114,115,32,61,32,91,93,59,10,32,32,32,32,32,32,102,111,114,32,40,108,101,116,32,105,32,61,32,48,59,32,105,32,60,32,108,105,115,116,101,110,101,114,115,86,101,99,116,111,114,46,115,105,122,101,40,41,59,32,105,32,43,61,32,49,41,32,123,10,32,32,32,32,32,32,32,32,108,105,115,116,101,110,101,114,115,46,112,117,115,104,40,108,105,115,116,101,110,101,114,115,86,101,99,116,111,114,46,103,101,116,40,105,41,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,108,105,115,116,101,110,101,114,115,59,10,32,32,32,32,125,10,32,32,32,32,95,115,101,116,117,112,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,32,38,38,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,32,33,61,61,32,110,117,108,108,32,38,38,32,116,104,105,115,46,105,115,76,111,97,100,101,100,41,32,123,10,32,32,32,32,32,32,32,32,99,111,110,115,116,32,108,105,115,116,101,110,101,114,115,32,61,32,116,104,105,115,46,103,101,116,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,105,110,99,108,117,100,101,115,40,34,80,111,105,110,116,101,114,85,112,34,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,117,112,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,85,112,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,105,110,99,108,117,100,101,115,40,34,80,111,105,110,116,101,114,68,111,119,110,34,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,100,111,119,110,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,68,111,119,110,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,105,110,99,108,117,100,101,115,40,34,80,111,105,110,116,101,114,77,111,118,101,34,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,109,111,118,101,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,77,111,118,101,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,105,110,99,108,117,100,101,115,40,34,80,111,105,110,116,101,114,69,110,116,101,114,34,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,101,110,116,101,114,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,110,116,101,114,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,32,32,105,102,32,40,108,105,115,116,101,110,101,114,115,46,105,110,99,108,117,100,101,115,40,34,80,111,105,110,116,101,114,69,120,105,116,34,41,41,32,123,10,32,32,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,108,101,97,118,101,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,120,105,116,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,95,99,108,101,97,110,117,112,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,32,123,10,32,32,32,32,32,32,105,102,32,40,73,83,95,66,82,79,87,83,69,82,32,38,38,32,116,104,105,115,46,95,99,97,110,118,97,115,32,105,110,115,116,97,110,99,101,111,102,32,72,84,77,76,67,97,110,118,97,115,69,108,101,109,101,110,116,41,32,123,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,117,112,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,85,112,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,100,111,119,110,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,68,111,119,110,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,109,111,118,101,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,77,111,118,101,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,101,110,116,101,114,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,110,116,101,114,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,32,32,116,104,105,115,46,95,99,97,110,118,97,115,46,114,101,109,111,118,101,69,118,101,110,116,76,105,115,116,101,110,101,114,40,34,112,111,105,110,116,101,114,108,101,97,118,101,34,44,32,116,104,105,115,46,95,112,111,105,110,116,101,114,69,120,105,116,77,101,116,104,111,100,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,125,10,32,32,32,32,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,40,115,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,76,111,97,100,68,97,116,97,40,115,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,97,110,105,109,97,116,105,111,110,83,105,122,101,40,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,119,105,100,116,104,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,97,110,105,109,97,116,105,111,110,83,105,122,101,40,41,46,103,101,116,40,48,41,32,63,63,32,48,59,10,32,32,32,32,32,32,99,111,110,115,116,32,104,101,105,103,104,116,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,97,110,105,109,97,116,105,111,110,83,105,122,101,40,41,46,103,101,116,40,49,41,32,63,63,32,48,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,119,105,100,116,104,44,10,32,32,32,32,32,32,32,32,104,101,105,103,104,116,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,116,97,116,101,77,97,99,104,105,110,101,66,111,111,108,101,97,110,67,111,110,116,101,120,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,83,101,116,66,111,111,108,101,97,110,73,110,112,117,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,116,97,116,101,77,97,99,104,105,110,101,78,117,109,101,114,105,99,67,111,110,116,101,120,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,83,101,116,78,117,109,101,114,105,99,73,110,112,117,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,115,101,116,83,116,97,116,101,77,97,99,104,105,110,101,83,116,114,105,110,103,67,111,110,116,101,120,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,115,116,97,116,101,77,97,99,104,105,110,101,83,101,116,83,116,114,105,110,103,73,110,112,117,116,40,110,97,109,101,44,32,118,97,108,117,101,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,71,101,116,32,116,104,101,32,79,114,105,101,110,116,101,100,32,66,111,117,110,100,105,110,103,32,66,111,120,32,40,79,66,66,41,32,112,111,105,110,116,115,32,111,102,32,97,32,108,97,121,101,114,32,98,121,32,105,116,115,32,110,97,109,101,10,32,32,32,32,32,42,32,64,112,97,114,97,109,32,108,97,121,101,114,78,97,109,101,32,45,32,84,104,101,32,110,97,109,101,32,111,102,32,116,104,101,32,108,97,121,101,114,10,32,32,32,32,32,42,32,64,114,101,116,117,114,110,115,32,65,110,32,97,114,114,97,121,32,111,102,32,56,32,110,117,109,98,101,114,115,32,114,101,112,114,101,115,101,110,116,105,110,103,32,52,32,112,111,105,110,116,115,32,40,120,44,121,41,32,111,102,32,116,104,101,32,79,66,66,32,105,110,32,99,108,111,99,107,119,105,115,101,32,111,114,100,101,114,32,115,116,97,114,116,105,110,103,32,102,114,111,109,32,116,111,112,45,108,101,102,116,10,32,32,32,32,32,42,32,32,32,32,32,32,32,32,32,32,91,120,48,44,32,121,48,44,32,120,49,44,32,121,49,44,32,120,50,44,32,121,50,44,32,120,51,44,32,121,51,93,10,32,32,32,32,32,42,10,32,32,32,32,32,42,32,64,101,120,97,109,112,108,101,10,32,32,32,32,32,42,32,96,96,96,116,121,112,101,115,99,114,105,112,116,10,32,32,32,32,32,42,32,47,47,32,68,114,97,119,32,97,32,112,111,108,121,103,111,110,32,97,114,111,117,110,100,32,116,104,101,32,108,97,121,101,114,32,39,76,97,121,101,114,32,49,39,10,32,32,32,32,32,42,32,100,111,116,76,111,116,116,105,101,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,39,114,101,110,100,101,114,39,44,32,40,41,32,61,62,32,123,10,32,32,32,32,32,42,32,32,32,99,111,110,115,116,32,111,98,98,80,111,105,110,116,115,32,61,32,100,111,116,76,111,116,116,105,101,46,103,101,116,76,97,121,101,114,66,111,117,110,100,105,110,103,66,111,120,40,39,76,97,121,101,114,32,49,39,41,59,10,32,32,32,32,32,42,10,32,32,32,32,32,42,32,32,32,105,102,32,40,111,98,98,80,111,105,110,116,115,41,32,123,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,98,101,103,105,110,80,97,116,104,40,41,59,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,109,111,118,101,84,111,40,111,98,98,80,111,105,110,116,115,91,48,93,44,32,111,98,98,80,111,105,110,116,115,91,49,93,41,59,32,47,47,32,70,105,114,115,116,32,112,111,105,110,116,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,108,105,110,101,84,111,40,111,98,98,80,111,105,110,116,115,91,50,93,44,32,111,98,98,80,111,105,110,116,115,91,51,93,41,59,32,47,47,32,83,101,99,111,110,100,32,112,111,105,110,116,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,108,105,110,101,84,111,40,111,98,98,80,111,105,110,116,115,91,52,93,44,32,111,98,98,80,111,105,110,116,115,91,53,93,41,59,32,47,47,32,84,104,105,114,100,32,112,111,105,110,116,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,108,105,110,101,84,111,40,111,98,98,80,111,105,110,116,115,91,54,93,44,32,111,98,98,80,111,105,110,116,115,91,55,93,41,59,32,47,47,32,70,111,117,114,116,104,32,112,111,105,110,116,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,99,108,111,115,101,80,97,116,104,40,41,59,10,32,32,32,32,32,42,32,32,32,32,32,99,111,110,116,101,120,116,46,115,116,114,111,107,101,40,41,59,10,32,32,32,32,32,42,32,32,32,125,10,32,32,32,32,32,42,32,125,41,59,10,32,32,32,32,32,42,32,96,96,96,10,32,32,32,32,32,42,47,10,32,32,32,32,103,101,116,76,97,121,101,114,66,111,117,110,100,105,110,103,66,111,120,40,108,97,121,101,114,78,97,109,101,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,98,111,117,110,100,115,32,61,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,103,101,116,76,97,121,101,114,66,111,117,110,100,115,40,108,97,121,101,114,78,97,109,101,41,59,10,32,32,32,32,32,32,105,102,32,40,33,98,111,117,110,100,115,41,32,114,101,116,117,114,110,32,118,111,105,100,32,48,59,10,32,32,32,32,32,32,105,102,32,40,98,111,117,110,100,115,46,115,105,122,101,40,41,32,33,61,61,32,56,41,32,114,101,116,117,114,110,32,118,111,105,100,32,48,59,10,32,32,32,32,32,32,99,111,110,115,116,32,112,111,105,110,116,115,32,61,32,91,93,59,10,32,32,32,32,32,32,102,111,114,32,40,108,101,116,32,105,32,61,32,48,59,32,105,32,60,32,56,59,32,105,32,43,61,32,49,41,32,123,10,32,32,32,32,32,32,32,32,112,111,105,110,116,115,46,112,117,115,104,40,98,111,117,110,100,115,46,103,101,116,40,105,41,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,112,111,105,110,116,115,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,64,101,120,112,101,114,105,109,101,110,116,97,108,10,32,32,32,32,32,42,32,83,116,97,114,116,32,97,32,116,119,101,101,110,32,97,110,105,109,97,116,105,111,110,32,98,101,116,119,101,101,110,32,116,119,111,32,102,114,97,109,101,32,118,97,108,117,101,115,32,119,105,116,104,32,99,117,115,116,111,109,32,101,97,115,105,110,103,10,32,32,32,32,32,42,32,64,112,97,114,97,109,32,102,114,97,109,101,32,45,32,83,116,97,114,116,105,110,103,32,102,114,97,109,101,32,118,97,108,117,101,10,32,32,32,32,32,42,32,64,112,97,114,97,109,32,100,117,114,97,116,105,111,110,32,45,32,68,117,114,97,116,105,111,110,32,111,102,32,116,104,101,32,116,119,101,101,110,32,105,110,32,115,101,99,111,110,100,115,10,32,32,32,32,32,42,32,64,114,101,116,117,114,110,115,32,116,114,117,101,32,105,102,32,116,119,101,101,110,32,119,97,115,32,115,116,97,114,116,101,100,32,115,117,99,99,101,115,115,102,117,108,108,121,10,32,32,32,32,32,42,47,10,32,32,32,32,116,119,101,101,110,40,102,114,97,109,101,44,32,100,117,114,97,116,105,111,110,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,101,97,115,105,110,103,32,61,32,91,48,44,32,48,44,32,49,44,32,49,93,59,10,32,32,32,32,32,32,99,111,110,115,116,32,101,97,115,105,110,103,86,101,99,116,111,114,32,61,32,110,101,119,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,46,86,101,99,116,111,114,70,108,111,97,116,40,41,59,10,32,32,32,32,32,32,102,111,114,32,40,99,111,110,115,116,32,118,97,108,32,111,102,32,101,97,115,105,110,103,41,32,123,10,32,32,32,32,32,32,32,32,101,97,115,105,110,103,86,101,99,116,111,114,46,112,117,115,104,95,98,97,99,107,40,118,97,108,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,116,119,101,101,110,40,102,114,97,109,101,44,32,100,117,114,97,116,105,111,110,44,32,101,97,115,105,110,103,86,101,99,116,111,114,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,47,42,42,10,32,32,32,32,32,42,32,64,101,120,112,101,114,105,109,101,110,116,97,108,10,32,32,32,32,32,42,32,83,116,97,114,116,32,97,32,116,119,101,101,110,32,97,110,105,109,97,116,105,111,110,32,116,111,32,97,32,115,112,101,99,105,102,105,99,32,109,97,114,107,101,114,10,32,32,32,32,32,42,32,64,112,97,114,97,109,32,109,97,114,107,101,114,32,45,32,84,104,101,32,109,97,114,107,101,114,32,110,97,109,101,32,116,111,32,116,119,101,101,110,32,116,111,10,32,32,32,32,32,42,32,64,114,101,116,117,114,110,115,32,116,114,117,101,32,105,102,32,116,119,101,101,110,32,119,97,115,32,115,116,97,114,116,101,100,32,115,117,99,99,101,115,115,102,117,108,108,121,10,32,32,32,32,32,42,47,10,32,32,32,32,116,119,101,101,110,84,111,77,97,114,107,101,114,40,109,97,114,107,101,114,44,32,100,117,114,97,116,105,111,110,41,32,123,10,32,32,32,32,32,32,105,102,32,40,33,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,41,32,114,101,116,117,114,110,32,102,97,108,115,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,101,97,115,105,110,103,32,61,32,91,48,44,32,48,44,32,49,44,32,49,93,59,10,32,32,32,32,32,32,99,111,110,115,116,32,101,97,115,105,110,103,86,101,99,116,111,114,32,61,32,110,101,119,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,46,86,101,99,116,111,114,70,108,111,97,116,40,41,59,10,32,32,32,32,32,32,102,111,114,32,40,99,111,110,115,116,32,118,97,108,32,111,102,32,101,97,115,105,110,103,41,32,123,10,32,32,32,32,32,32,32,32,101,97,115,105,110,103,86,101,99,116,111,114,46,112,117,115,104,95,98,97,99,107,40,118,97,108,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,116,104,105,115,46,95,100,111,116,76,111,116,116,105,101,67,111,114,101,63,46,116,119,101,101,110,84,111,77,97,114,107,101,114,40,109,97,114,107,101,114,44,32,100,117,114,97,116,105,111,110,44,32,101,97,115,105,110,103,86,101,99,116,111,114,41,32,63,63,32,102,97,108,115,101,59,10,32,32,32,32,125,10,32,32,32,32,115,116,97,116,105,99,32,116,114,97,110,115,102,111,114,109,84,104,101,109,101,84,111,76,111,116,116,105,101,83,108,111,116,115,40,116,104,101,109,101,44,32,115,108,111,116,115,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,95,68,111,116,76,111,116,116,105,101,46,95,119,97,115,109,77,111,100,117,108,101,63,46,116,114,97,110,115,102,111,114,109,84,104,101,109,101,84,111,76,111,116,116,105,101,83,108,111,116,115,40,116,104,101,109,101,44,32,115,108,111,116,115,41,32,63,63,32,34,34,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,95,95,112,117,98,108,105,99,70,105,101,108,100,40,95,68,111,116,76,111,116,116,105,101,44,32,34,95,119,97,115,109,77,111,100,117,108,101,34,44,32,110,117,108,108,41,59,10,32,32,118,97,114,32,68,111,116,76,111,116,116,105,101,32,61,32,95,68,111,116,76,111,116,116,105,101,59,10,10,32,32,47,47,32,115,114,99,47,119,111,114,107,101,114,47,100,111,116,108,111,116,116,105,101,46,119,111,114,107,101,114,46,116,115,10,32,32,118,97,114,32,105,110,115,116,97,110,99,101,115,77,97,112,32,61,32,47,42,32,64,95,95,80,85,82,69,95,95,32,42,47,32,110,101,119,32,77,97,112,40,41,59,10,32,32,118,97,114,32,101,118,101,110,116,72,97,110,100,108,101,114,77,97,112,32,61,32,123,10,32,32,32,32,114,101,97,100,121,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,82,101,97,100,121,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,99,111,109,112,108,101,116,101,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,67,111,109,112,108,101,116,101,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,97,100,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,76,111,97,100,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,108,111,97,100,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,69,114,114,111,114,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,97,100,69,114,114,111,114,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,76,111,97,100,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,108,111,97,100,69,114,114,111,114,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,114,101,110,100,101,114,69,114,114,111,114,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,110,100,101,114,69,114,114,111,114,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,82,101,110,100,101,114,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,114,101,110,100,101,114,69,114,114,111,114,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,111,112,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,111,112,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,76,111,111,112,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,108,111,111,112,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,108,97,121,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,112,108,97,121,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,80,108,97,121,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,112,108,97,121,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,97,117,115,101,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,112,97,117,115,101,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,80,97,117,115,101,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,112,97,117,115,101,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,116,111,112,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,111,112,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,83,116,111,112,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,115,116,111,112,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,102,114,97,109,101,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,102,114,97,109,101,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,70,114,97,109,101,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,102,114,97,109,101,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,114,101,110,100,101,114,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,110,100,101,114,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,82,101,110,100,101,114,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,114,101,110,100,101,114,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,102,114,101,101,122,101,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,102,114,101,101,122,101,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,70,114,101,101,122,101,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,102,114,101,101,122,101,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,117,110,102,114,101,101,122,101,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,117,110,102,114,101,101,122,101,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,85,110,102,114,101,101,122,101,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,117,110,102,114,101,101,122,101,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,100,101,115,116,114,111,121,58,32,40,105,110,115,116,97,110,99,101,73,100,41,32,61,62,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,100,101,115,116,114,111,121,69,118,101,110,116,32,61,32,101,118,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,34,34,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,34,111,110,68,101,115,116,114,111,121,34,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,58,32,123,10,32,32,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,44,10,32,32,32,32,32,32,32,32,32,32,101,118,101,110,116,58,32,100,101,115,116,114,111,121,69,118,101,110,116,10,32,32,32,32,32,32,32,32,125,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,99,111,109,109,97,110,100,115,32,61,32,123,10,32,32,32,32,103,101,116,68,111,116,76,111,116,116,105,101,73,110,115,116,97,110,99,101,83,116,97,116,101,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,97,116,101,32,61,32,123,10,32,32,32,32,32,32,32,32,108,111,111,112,67,111,117,110,116,58,32,105,110,115,116,97,110,99,101,46,108,111,111,112,67,111,117,110,116,44,10,32,32,32,32,32,32,32,32,105,115,76,111,97,100,101,100,58,32,105,110,115,116,97,110,99,101,46,105,115,76,111,97,100,101,100,44,10,32,32,32,32,32,32,32,32,105,115,80,97,117,115,101,100,58,32,105,110,115,116,97,110,99,101,46,105,115,80,97,117,115,101,100,44,10,32,32,32,32,32,32,32,32,105,115,80,108,97,121,105,110,103,58,32,105,110,115,116,97,110,99,101,46,105,115,80,108,97,121,105,110,103,44,10,32,32,32,32,32,32,32,32,105,115,83,116,111,112,112,101,100,58,32,105,110,115,116,97,110,99,101,46,105,115,83,116,111,112,112,101,100,44,10,32,32,32,32,32,32,32,32,105,115,70,114,111,122,101,110,58,32,105,110,115,116,97,110,99,101,46,105,115,70,114,111,122,101,110,44,10,32,32,32,32,32,32,32,32,108,111,111,112,58,32,105,110,115,116,97,110,99,101,46,108,111,111,112,44,10,32,32,32,32,32,32,32,32,109,111,100,101,58,32,105,110,115,116,97,110,99,101,46,109,111,100,101,44,10,32,32,32,32,32,32,32,32,115,112,101,101,100,58,32,105,110,115,116,97,110,99,101,46,115,112,101,101,100,44,10,32,32,32,32,32,32,32,32,99,117,114,114,101,110,116,70,114,97,109,101,58,32,105,110,115,116,97,110,99,101,46,99,117,114,114,101,110,116,70,114,97,109,101,44,10,32,32,32,32,32,32,32,32,116,111,116,97,108,70,114,97,109,101,115,58,32,105,110,115,116,97,110,99,101,46,116,111,116,97,108,70,114,97,109,101,115,44,10,32,32,32,32,32,32,32,32,100,117,114,97,116,105,111,110,58,32,105,110,115,116,97,110,99,101,46,100,117,114,97,116,105,111,110,44,10,32,32,32,32,32,32,32,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,58,32,105,110,115,116,97,110,99,101,46,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,44,10,32,32,32,32,32,32,32,32,114,101,110,100,101,114,67,111,110,102,105,103,58,32,105,110,115,116,97,110,99,101,46,114,101,110,100,101,114,67,111,110,102,105,103,44,10,32,32,32,32,32,32,32,32,109,97,114,107,101,114,58,32,105,110,115,116,97,110,99,101,46,109,97,114,107,101,114,44,10,32,32,32,32,32,32,32,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,58,32,105,110,115,116,97,110,99,101,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,44,10,32,32,32,32,32,32,32,32,109,97,114,107,101,114,115,58,32,105,110,115,116,97,110,99,101,46,109,97,114,107,101,114,115,40,41,44,10,32,32,32,32,32,32,32,32,97,99,116,105,118,101,65,110,105,109,97,116,105,111,110,73,100,58,32,105,110,115,116,97,110,99,101,46,97,99,116,105,118,101,65,110,105,109,97,116,105,111,110,73,100,44,10,32,32,32,32,32,32,32,32,97,99,116,105,118,101,84,104,101,109,101,73,100,58,32,105,110,115,116,97,110,99,101,46,97,99,116,105,118,101,84,104,101,109,101,73,100,44,10,32,32,32,32,32,32,32,32,97,117,116,111,112,108,97,121,58,32,105,110,115,116,97,110,99,101,46,97,117,116,111,112,108,97,121,44,10,32,32,32,32,32,32,32,32,115,101,103,109,101,110,116,58,32,105,110,115,116,97,110,99,101,46,115,101,103,109,101,110,116,44,10,32,32,32,32,32,32,32,32,108,97,121,111,117,116,58,32,105,110,115,116,97,110,99,101,46,108,97,121,111,117,116,44,10,32,32,32,32,32,32,32,32,115,101,103,109,101,110,116,68,117,114,97,116,105,111,110,58,32,105,110,115,116,97,110,99,101,46,115,101,103,109,101,110,116,68,117,114,97,116,105,111,110,44,10,32,32,32,32,32,32,32,32,105,115,82,101,97,100,121,58,32,105,110,115,116,97,110,99,101,46,105,115,82,101,97,100,121,44,10,32,32,32,32,32,32,32,32,109,97,110,105,102,101,115,116,58,32,105,110,115,116,97,110,99,101,46,109,97,110,105,102,101,115,116,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,115,116,97,116,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,76,97,121,111,117,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,97,121,111,117,116,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,108,97,121,111,117,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,76,97,121,111,117,116,40,108,97,121,111,117,116,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,115,117,99,99,101,115,115,58,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,103,101,116,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,103,101,116,83,116,97,116,101,77,97,99,104,105,110,101,76,105,115,116,101,110,101,114,115,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,68,111,119,110,69,118,101,110,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,111,115,116,80,111,105,110,116,101,114,68,111,119,110,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,69,110,116,101,114,69,118,101,110,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,111,115,116,80,111,105,110,116,101,114,69,110,116,101,114,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,69,120,105,116,69,118,101,110,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,111,115,116,80,111,105,110,116,101,114,69,120,105,116,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,77,111,118,101,69,118,101,110,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,111,115,116,80,111,105,110,116,101,114,77,111,118,101,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,111,115,116,80,111,105,110,116,101,114,85,112,69,118,101,110,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,111,115,116,80,111,105,110,116,101,114,85,112,69,118,101,110,116,40,120,44,32,121,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,116,97,114,116,83,116,97,116,101,77,97,99,104,105,110,101,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,115,116,97,114,116,83,116,97,116,101,77,97,99,104,105,110,101,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,116,111,112,83,116,97,116,101,77,97,99,104,105,110,101,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,115,116,111,112,83,116,97,116,101,77,97,99,104,105,110,101,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,97,116,101,77,97,99,104,105,110,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,115,116,97,116,101,77,97,99,104,105,110,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,40,115,116,97,116,101,77,97,99,104,105,110,101,73,100,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,115,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,108,111,97,100,83,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,40,115,116,97,116,101,77,97,99,104,105,110,101,68,97,116,97,41,59,10,32,32,32,32,125,44,10,32,32,32,32,99,114,101,97,116,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,99,111,110,102,105,103,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,99,111,110,102,105,103,59,10,32,32,32,32,32,32,99,111,110,115,116,32,119,105,100,116,104,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,119,105,100,116,104,59,10,32,32,32,32,32,32,99,111,110,115,116,32,104,101,105,103,104,116,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,104,101,105,103,104,116,59,10,32,32,32,32,32,32,105,102,32,40,105,110,115,116,97,110,99,101,115,77,97,112,46,104,97,115,40,105,110,115,116,97,110,99,101,73,100,41,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,97,108,114,101,97,100,121,32,101,120,105,115,116,115,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,110,101,119,32,68,111,116,76,111,116,116,105,101,40,99,111,110,102,105,103,41,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,99,97,110,118,97,115,46,104,101,105,103,104,116,32,61,32,104,101,105,103,104,116,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,99,97,110,118,97,115,46,119,105,100,116,104,32,61,32,119,105,100,116,104,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,115,77,97,112,46,115,101,116,40,105,110,115,116,97,110,99,101,73,100,44,32,105,110,115,116,97,110,99,101,41,59,10,32,32,32,32,32,32,99,111,110,115,116,32,101,118,101,110,116,115,32,61,32,91,10,32,32,32,32,32,32,32,32,34,99,111,109,112,108,101,116,101,34,44,10,32,32,32,32,32,32,32,32,34,102,114,97,109,101,34,44,10,32,32,32,32,32,32,32,32,34,108,111,97,100,34,44,10,32,32,32,32,32,32,32,32,34,108,111,97,100,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,34,114,101,110,100,101,114,69,114,114,111,114,34,44,10,32,32,32,32,32,32,32,32,34,108,111,111,112,34,44,10,32,32,32,32,32,32,32,32,34,112,97,117,115,101,34,44,10,32,32,32,32,32,32,32,32,34,112,108,97,121,34,44,10,32,32,32,32,32,32,32,32,34,115,116,111,112,34,44,10,32,32,32,32,32,32,32,32,34,100,101,115,116,114,111,121,34,44,10,32,32,32,32,32,32,32,32,34,102,114,101,101,122,101,34,44,10,32,32,32,32,32,32,32,32,34,117,110,102,114,101,101,122,101,34,44,10,32,32,32,32,32,32,32,32,34,114,101,110,100,101,114,34,44,10,32,32,32,32,32,32,32,32,34,114,101,97,100,121,34,10,32,32,32,32,32,32,93,59,10,32,32,32,32,32,32,101,118,101,110,116,115,46,102,111,114,69,97,99,104,40,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,97,100,100,69,118,101,110,116,76,105,115,116,101,110,101,114,40,101,118,101,110,116,44,32,101,118,101,110,116,72,97,110,100,108,101,114,77,97,112,91,101,118,101,110,116,93,40,105,110,115,116,97,110,99,101,73,100,41,41,59,10,32,32,32,32,32,32,125,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,105,110,115,116,97,110,99,101,73,100,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,100,101,115,116,114,111,121,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,114,101,116,117,114,110,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,100,101,115,116,114,111,121,40,41,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,115,77,97,112,46,100,101,108,101,116,101,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,125,44,10,32,32,32,32,102,114,101,101,122,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,102,114,101,101,122,101,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,99,111,110,102,105,103,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,99,111,110,102,105,103,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,108,111,97,100,40,99,111,110,102,105,103,41,59,10,32,32,32,32,125,44,10,32,32,32,32,108,111,97,100,65,110,105,109,97,116,105,111,110,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,97,110,105,109,97,116,105,111,110,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,97,110,105,109,97,116,105,111,110,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,108,111,97,100,65,110,105,109,97,116,105,111,110,40,97,110,105,109,97,116,105,111,110,73,100,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,84,104,101,109,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,116,104,101,109,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,116,104,101,109,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,115,101,116,84,104,101,109,101,40,116,104,101,109,101,73,100,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,84,104,101,109,101,68,97,116,97,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,116,104,101,109,101,68,97,116,97,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,116,104,101,109,101,68,97,116,97,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,115,101,116,84,104,101,109,101,68,97,116,97,40,116,104,101,109,101,68,97,116,97,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,97,117,115,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,97,117,115,101,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,112,108,97,121,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,112,108,97,121,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,114,101,115,105,122,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,119,105,100,116,104,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,119,105,100,116,104,59,10,32,32,32,32,32,32,99,111,110,115,116,32,104,101,105,103,104,116,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,104,101,105,103,104,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,99,97,110,118,97,115,46,104,101,105,103,104,116,32,61,32,104,101,105,103,104,116,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,99,97,110,118,97,115,46,119,105,100,116,104,32,61,32,119,105,100,116,104,59,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,114,101,115,105,122,101,40,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,115,117,99,99,101,115,115,58,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,66,97,99,107,103,114,111,117,110,100,67,111,108,111,114,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,66,97,99,107,103,114,111,117,110,100,67,111,108,111,114,40,98,97,99,107,103,114,111,117,110,100,67,111,108,111,114,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,70,114,97,109,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,102,114,97,109,101,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,102,114,97,109,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,70,114,97,109,101,40,102,114,97,109,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,77,111,100,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,109,111,100,101,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,109,111,100,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,77,111,100,101,40,109,111,100,101,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,82,101,110,100,101,114,67,111,110,102,105,103,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,110,100,101,114,67,111,110,102,105,103,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,114,101,110,100,101,114,67,111,110,102,105,103,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,82,101,110,100,101,114,67,111,110,102,105,103,40,114,101,110,100,101,114,67,111,110,102,105,103,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,83,101,103,109,101,110,116,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,101,103,109,101,110,116,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,115,101,103,109,101,110,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,83,101,103,109,101,110,116,40,115,101,103,109,101,110,116,91,48,93,44,32,115,101,103,109,101,110,116,91,49,93,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,83,112,101,101,100,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,115,112,101,101,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,115,112,101,101,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,83,112,101,101,100,40,115,112,101,101,100,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,85,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,85,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,40,117,115,101,70,114,97,109,101,73,110,116,101,114,112,111,108,97,116,105,111,110,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,87,97,115,109,85,114,108,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,68,111,116,76,111,116,116,105,101,46,115,101,116,87,97,115,109,85,114,108,40,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,117,114,108,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,116,111,112,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,116,111,112,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,117,110,102,114,101,101,122,101,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,117,110,102,114,101,101,122,101,40,41,59,10,32,32,32,32,125,44,10,32,32,32,32,116,119,101,101,110,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,102,114,97,109,101,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,102,114,97,109,101,59,10,32,32,32,32,32,32,99,111,110,115,116,32,100,117,114,97,116,105,111,110,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,100,117,114,97,116,105,111,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,116,119,101,101,110,40,102,114,97,109,101,44,32,100,117,114,97,116,105,111,110,41,59,10,32,32,32,32,125,44,10,32,32,32,32,116,119,101,101,110,84,111,77,97,114,107,101,114,58,32,40,114,101,113,117,101,115,116,41,32,61,62,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,109,97,114,107,101,114,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,109,97,114,107,101,114,59,10,32,32,32,32,32,32,99,111,110,115,116,32,100,117,114,97,116,105,111,110,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,100,117,114,97,116,105,111,110,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,116,119,101,101,110,84,111,77,97,114,107,101,114,40,109,97,114,107,101,114,44,32,100,117,114,97,116,105,111,110,41,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,86,105,101,119,112,111,114,116,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,120,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,120,59,10,32,32,32,32,32,32,99,111,110,115,116,32,121,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,121,59,10,32,32,32,32,32,32,99,111,110,115,116,32,119,105,100,116,104,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,119,105,100,116,104,59,10,32,32,32,32,32,32,99,111,110,115,116,32,104,101,105,103,104,116,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,104,101,105,103,104,116,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,114,101,116,117,114,110,32,105,110,115,116,97,110,99,101,46,115,101,116,86,105,101,119,112,111,114,116,40,120,44,32,121,44,32,119,105,100,116,104,44,32,104,101,105,103,104,116,41,59,10,32,32,32,32,125,44,10,32,32,32,32,97,110,105,109,97,116,105,111,110,83,105,122,101,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,99,111,110,115,116,32,123,32,104,101,105,103,104,116,44,32,119,105,100,116,104,32,125,32,61,32,105,110,115,116,97,110,99,101,46,97,110,105,109,97,116,105,111,110,83,105,122,101,40,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,104,101,105,103,104,116,44,10,32,32,32,32,32,32,32,32,119,105,100,116,104,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,77,97,114,107,101,114,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,109,97,114,107,101,114,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,109,97,114,107,101,114,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,77,97,114,107,101,114,40,109,97,114,107,101,114,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,115,117,99,99,101,115,115,58,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,44,10,32,32,32,32,115,101,116,76,111,111,112,40,114,101,113,117,101,115,116,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,73,100,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,105,110,115,116,97,110,99,101,73,100,59,10,32,32,32,32,32,32,99,111,110,115,116,32,108,111,111,112,32,61,32,114,101,113,117,101,115,116,46,112,97,114,97,109,115,46,108,111,111,112,59,10,32,32,32,32,32,32,99,111,110,115,116,32,105,110,115,116,97,110,99,101,32,61,32,105,110,115,116,97,110,99,101,115,77,97,112,46,103,101,116,40,105,110,115,116,97,110,99,101,73,100,41,59,10,32,32,32,32,32,32,105,102,32,40,33,105,110,115,116,97,110,99,101,41,32,123,10,32,32,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,73,110,115,116,97,110,99,101,32,119,105,116,104,32,105,100,32,36,123,105,110,115,116,97,110,99,101,73,100,125,32,100,111,101,115,32,110,111,116,32,101,120,105,115,116,46,96,41,59,10,32,32,32,32,32,32,125,10,32,32,32,32,32,32,105,110,115,116,97,110,99,101,46,115,101,116,76,111,111,112,40,108,111,111,112,41,59,10,32,32,32,32,32,32,114,101,116,117,114,110,32,123,10,32,32,32,32,32,32,32,32,115,117,99,99,101,115,115,58,32,116,114,117,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,102,117,110,99,116,105,111,110,32,101,120,101,99,117,116,101,67,111,109,109,97,110,100,40,114,112,99,82,101,113,117,101,115,116,41,32,123,10,32,32,32,32,99,111,110,115,116,32,109,101,116,104,111,100,32,61,32,114,112,99,82,101,113,117,101,115,116,46,109,101,116,104,111,100,59,10,32,32,32,32,105,102,32,40,116,121,112,101,111,102,32,99,111,109,109,97,110,100,115,91,109,101,116,104,111,100,93,32,61,61,61,32,34,102,117,110,99,116,105,111,110,34,41,32,123,10,32,32,32,32,32,32,114,101,116,117,114,110,32,99,111,109,109,97,110,100,115,91,109,101,116,104,111,100,93,40,114,112,99,82,101,113,117,101,115,116,41,59,10,32,32,32,32,125,32,101,108,115,101,32,123,10,32,32,32,32,32,32,116,104,114,111,119,32,110,101,119,32,69,114,114,111,114,40,96,77,101,116,104,111,100,32,36,123,109,101,116,104,111,100,125,32,105,115,32,110,111,116,32,105,109,112,108,101,109,101,110,116,101,100,32,105,110,32,99,111,109,109,97,110,100,115,46,96,41,59,10,32,32,32,32,125,10,32,32,125,10,32,32,115,101,108,102,46,111,110,109,101,115,115,97,103,101,32,61,32,40,101,118,101,110,116,41,32,61,62,32,123,10,32,32,32,32,116,114,121,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,117,108,116,32,61,32,101,120,101,99,117,116,101,67,111,109,109,97,110,100,40,101,118,101,110,116,46,100,97,116,97,41,59,10,32,32,32,32,32,32,99,111,110,115,116,32,114,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,101,118,101,110,116,46,100,97,116,97,46,105,100,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,101,118,101,110,116,46,100,97,116,97,46,109,101,116,104,111,100,44,10,32,32,32,32,32,32,32,32,114,101,115,117,108,116,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,114,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,32,99,97,116,99,104,32,40,101,114,114,111,114,41,32,123,10,32,32,32,32,32,32,99,111,110,115,116,32,101,114,114,111,114,82,101,115,112,111,110,115,101,32,61,32,123,10,32,32,32,32,32,32,32,32,105,100,58,32,101,118,101,110,116,46,100,97,116,97,46,105,100,44,10,32,32,32,32,32,32,32,32,109,101,116,104,111,100,58,32,101,118,101,110,116,46,100,97,116,97,46,109,101,116,104,111,100,44,10,32,32,32,32,32,32,32,32,101,114,114,111,114,58,32,101,114,114,111,114,46,109,101,115,115,97,103,101,10,32,32,32,32,32,32,125,59,10,32,32,32,32,32,32,115,101,108,102,46,112,111,115,116,77,101,115,115,97,103,101,40,101,114,114,111,114,82,101,115,112,111,110,115,101,41,59,10,32,32,32,32,125,10,32,32,125,59,10,32,32,118,97,114,32,100,117,109,109,121,32,61,32,34,34,59,10,32,32,118,97,114,32,100,111,116,108,111,116,116,105,101,95,119,111,114,107,101,114,95,100,101,102,97,117,108,116,32,61,32,100,117,109,109,121,59,10,125,41,40,41,59,10])],{type:"application/javascript"}),t=URL.createObjectURL(e),r=new Worker(t);return URL.revokeObjectURL(t),r}};function bh(e,t){if(e instanceof HTMLCanvasElement){let{height:r,width:n}=e.getBoundingClientRect();if(0!==r&&0!==n)return{width:n*t,height:r*t}}return{width:e.width,height:e.height}}function yh(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)}var vh=class e{constructor(t){Um(this,"_eventManager",new th),Um(this,"_id"),Um(this,"_worker"),Um(this,"_canvas"),Um(this,"_dotLottieInstanceState",{loopCount:0,markers:[],autoplay:!1,backgroundColor:"",currentFrame:0,duration:0,loop:!1,mode:"forward",segment:[0,0],segmentDuration:0,speed:1,totalFrames:0,isLoaded:!1,isPlaying:!1,isPaused:!1,isStopped:!0,isFrozen:!1,useFrameInterpolation:!1,renderConfig:{devicePixelRatio:lh()},activeAnimationId:"",activeThemeId:"",layout:void 0,marker:void 0,isReady:!1,manifest:null}),Um(this,"_created",!1),Um(this,"_pointerUpMethod"),Um(this,"_pointerDownMethod"),Um(this,"_pointerMoveMethod"),Um(this,"_pointerEnterMethod"),Um(this,"_pointerExitMethod"),this._canvas=t.canvas,this._id=`dotlottie-${yh()}`;let r=t.workerId||"defaultWorker";this._worker=e._workerManager.getWorker(r),e._workerManager.assignAnimationToWorker(this._id,r),e._wasmUrl&&this._sendMessage("setWasmUrl",{url:e._wasmUrl}),this._create({...t,renderConfig:{...t.renderConfig,devicePixelRatio:t.renderConfig?.devicePixelRatio||lh(),freezeOnOffscreen:t.renderConfig?.freezeOnOffscreen??!0}}),this._worker.addEventListener("message",this._handleWorkerEvent.bind(this)),this._pointerUpMethod=this._onPointerUp.bind(this),this._pointerDownMethod=this._onPointerDown.bind(this),this._pointerMoveMethod=this._onPointerMove.bind(this),this._pointerEnterMethod=this._onPointerEnter.bind(this),this._pointerExitMethod=this._onPointerLeave.bind(this)}async _handleWorkerEvent(e){let t=e.data;t.id||("onLoad"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event),Gm&&this._canvas instanceof HTMLCanvasElement&&(this._dotLottieInstanceState.renderConfig.freezeOnOffscreen&&rh.observe(this._canvas,this),this._dotLottieInstanceState.renderConfig.autoResize&&nh.observe(this._canvas,this))),"onComplete"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onDestroy"===t.method&&t.result.instanceId===this._id&&this._eventManager.dispatch(t.result.event),"onUnfreeze"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._dotLottieInstanceState.isFrozen=!1,this._eventManager.dispatch(t.result.event)),"onFrame"===t.method&&t.result.instanceId===this._id&&(this._dotLottieInstanceState.currentFrame=t.result.event.currentFrame,this._eventManager.dispatch(t.result.event)),"onRender"===t.method&&t.result.instanceId===this._id&&this._eventManager.dispatch(t.result.event),"onFreeze"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onPause"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onPlay"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onStop"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onLoadError"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onRenderError"===t.method&&t.result.instanceId===this._id&&this._eventManager.dispatch(t.result.event),"onReady"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)),"onLoop"===t.method&&t.result.instanceId===this._id&&(await this._updateDotLottieInstanceState(),this._eventManager.dispatch(t.result.event)))}async _create(e){let t;t=this._canvas instanceof HTMLCanvasElement?this._canvas.transferControlToOffscreen():this._canvas;let{instanceId:r}=await this._sendMessage("create",{instanceId:this._id,config:{...e,canvas:t},...bh(this._canvas,e.renderConfig?.devicePixelRatio||lh())},[t]);if(r!==this._id)throw new Error("Instance ID mismatch");this._created=!0,await this._updateDotLottieInstanceState()}get loopCount(){return this._dotLottieInstanceState.loopCount}get isLoaded(){return this._dotLottieInstanceState.isLoaded}get isPlaying(){return this._dotLottieInstanceState.isPlaying}get isPaused(){return this._dotLottieInstanceState.isPaused}get isStopped(){return this._dotLottieInstanceState.isStopped}get currentFrame(){return this._dotLottieInstanceState.currentFrame}get isFrozen(){return this._dotLottieInstanceState.isFrozen}get segmentDuration(){return this._dotLottieInstanceState.segmentDuration}get totalFrames(){return this._dotLottieInstanceState.totalFrames}get segment(){return this._dotLottieInstanceState.segment}get speed(){return this._dotLottieInstanceState.speed}get duration(){return this._dotLottieInstanceState.duration}get isReady(){return this._dotLottieInstanceState.isReady}get mode(){return this._dotLottieInstanceState.mode}get canvas(){return this._canvas}get autoplay(){return this._dotLottieInstanceState.autoplay}get backgroundColor(){return this._dotLottieInstanceState.backgroundColor}get loop(){return this._dotLottieInstanceState.loop}get useFrameInterpolation(){return this._dotLottieInstanceState.useFrameInterpolation}get renderConfig(){return this._dotLottieInstanceState.renderConfig}get manifest(){return this._dotLottieInstanceState.manifest}get activeAnimationId(){return this._dotLottieInstanceState.activeAnimationId}get marker(){return this._dotLottieInstanceState.marker}get activeThemeId(){return this._dotLottieInstanceState.activeThemeId}get layout(){return this._dotLottieInstanceState.layout}async play(){this._created&&(await this._sendMessage("play",{instanceId:this._id}),await this._updateDotLottieInstanceState(),Gm&&this._canvas instanceof HTMLCanvasElement&&this._dotLottieInstanceState.renderConfig.freezeOnOffscreen&&!ch(this._canvas)&&await this.freeze())}async pause(){this._created&&(await this._sendMessage("pause",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async stop(){this._created&&(await this._sendMessage("stop",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSpeed(e){this._created&&(await this._sendMessage("setSpeed",{instanceId:this._id,speed:e}),await this._updateDotLottieInstanceState())}async setMode(e){this._created&&(await this._sendMessage("setMode",{instanceId:this._id,mode:e}),await this._updateDotLottieInstanceState())}async setFrame(e){this._created&&(await this._sendMessage("setFrame",{frame:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setSegment(e,t){this._created&&(await this._sendMessage("setSegment",{instanceId:this._id,segment:[e,t]}),await this._updateDotLottieInstanceState())}async setRenderConfig(e){if(!this._created)return;let{devicePixelRatio:t,freezeOnOffscreen:r,...n}=e;await this._sendMessage("setRenderConfig",{instanceId:this._id,renderConfig:{...this._dotLottieInstanceState.renderConfig,...n,devicePixelRatio:t||lh(),freezeOnOffscreen:r??!0}}),await this._updateDotLottieInstanceState(),Gm&&this._canvas instanceof HTMLCanvasElement&&(this._dotLottieInstanceState.renderConfig.autoResize?nh.observe(this._canvas,this):nh.unobserve(this._canvas),this._dotLottieInstanceState.renderConfig.freezeOnOffscreen?rh.observe(this._canvas,this):(rh.unobserve(this._canvas),this._dotLottieInstanceState.isFrozen&&await this.unfreeze()))}async setUseFrameInterpolation(e){this._created&&(await this._sendMessage("setUseFrameInterpolation",{instanceId:this._id,useFrameInterpolation:e}),await this._updateDotLottieInstanceState())}async setTheme(e){if(!this._created)return!1;let t=this._sendMessage("setTheme",{instanceId:this._id,themeId:e});return await this._updateDotLottieInstanceState(),t}async load(e){this._created&&(await this._sendMessage("load",{config:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLoop(e){this._created&&(await this._sendMessage("setLoop",{instanceId:this._id,loop:e}),await this._updateDotLottieInstanceState())}async resize(){if(!this._created)return;let{height:e,width:t}=bh(this._canvas,this._dotLottieInstanceState.renderConfig.devicePixelRatio||lh());await this._sendMessage("resize",{height:e,instanceId:this._id,width:t}),await this._updateDotLottieInstanceState()}async destroy(){this._created&&(this._created=!1,await this._sendMessage("destroy",{instanceId:this._id}),this._cleanupStateMachineListeners(),e._workerManager.unassignAnimationFromWorker(this._id),this._eventManager.removeAllEventListeners(),Gm&&this._canvas instanceof HTMLCanvasElement&&(rh.unobserve(this._canvas),nh.unobserve(this._canvas)))}async freeze(){this._created&&(await this._sendMessage("freeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async unfreeze(){this._created&&(await this._sendMessage("unfreeze",{instanceId:this._id}),await this._updateDotLottieInstanceState())}async setBackgroundColor(e){this._created&&(await this._sendMessage("setBackgroundColor",{instanceId:this._id,backgroundColor:e}),await this._updateDotLottieInstanceState())}async loadAnimation(e){this._created&&(await this._sendMessage("loadAnimation",{animationId:e,instanceId:this._id}),await this._updateDotLottieInstanceState())}async setLayout(e){this._created&&(await this._sendMessage("setLayout",{instanceId:this._id,layout:e}),await this._updateDotLottieInstanceState())}async _updateDotLottieInstanceState(){if(!this._created)return;let e=await this._sendMessage("getDotLottieInstanceState",{instanceId:this._id});this._dotLottieInstanceState=e.state}markers(){return this._dotLottieInstanceState.markers}async setMarker(e){this._created&&(await this._sendMessage("setMarker",{instanceId:this._id,marker:e}),await this._updateDotLottieInstanceState())}async setThemeData(e){if(!this._created)return!1;let t=await this._sendMessage("setThemeData",{instanceId:this._id,themeData:e});return await this._updateDotLottieInstanceState(),t}async setViewport(e,t,r,n){return!!this._created&&this._sendMessage("setViewport",{x:e,y:t,width:r,height:n,instanceId:this._id})}async animationSize(){return this._created?this._sendMessage("animationSize",{instanceId:this._id}):{height:0,width:0}}async tween(e,t){return!!this._created&&this._sendMessage("tween",{instanceId:this._id,frame:e,duration:t})}async tweenToMarker(e,t){return!!this._created&&this._sendMessage("tweenToMarker",{instanceId:this._id,marker:e,duration:t})}async _sendMessage(e,t,r){let n={id:`dotlottie-request-${yh()}`,method:e,params:t};return this._worker.postMessage(n,r||[]),new Promise((t,r)=>{let s=a=>{let i=a.data;i.id===n.id&&(this._worker.removeEventListener("message",s),i.error?r(new Error(`Failed to execute method ${e}: ${i.error}`)):t(i.result))};this._worker.addEventListener("message",s)})}addEventListener(e,t){this._eventManager.addEventListener(e,t)}removeEventListener(e,t){this._eventManager.removeEventListener(e,t)}static setWasmUrl(t){e._wasmUrl=t}async loadStateMachine(e){if(!this._created)return!1;let t=await this._sendMessage("loadStateMachine",{instanceId:this._id,stateMachineId:e});return await this._updateDotLottieInstanceState(),t}async loadStateMachineData(e){if(!this._created)return!1;let t=await this._sendMessage("loadStateMachineData",{instanceId:this._id,stateMachineData:e});return await this._updateDotLottieInstanceState(),t}async startStateMachine(){if(!this._created)return!1;this._setupStateMachineListeners();let e=await this._sendMessage("startStateMachine",{instanceId:this._id});return await this._updateDotLottieInstanceState(),e}async stopStateMachine(){return!!this._created&&(this._cleanupStateMachineListeners(),this._sendMessage("stopStateMachine",{instanceId:this._id}))}async getStateMachineListeners(){return this._created?this._sendMessage("getStateMachineListeners",{instanceId:this._id}):[]}_getPointerPosition(e){let t=this._canvas.getBoundingClientRect(),r=this._canvas.width/t.width,n=this._canvas.height/t.height,s=this._dotLottieInstanceState.renderConfig.devicePixelRatio||window.devicePixelRatio||1;return{x:(e.clientX-t.left)*r/s,y:(e.clientY-t.top)*n/s}}_onPointerUp(e){let{x:t,y:r}=this._getPointerPosition(e);this._sendMessage("postPointerUpEvent",{instanceId:this._id,x:t,y:r})}_onPointerDown(e){let{x:t,y:r}=this._getPointerPosition(e);this._sendMessage("postPointerDownEvent",{instanceId:this._id,x:t,y:r})}_onPointerMove(e){let{x:t,y:r}=this._getPointerPosition(e);this._sendMessage("postPointerMoveEvent",{instanceId:this._id,x:t,y:r})}_onPointerEnter(e){let{x:t,y:r}=this._getPointerPosition(e);this._sendMessage("postPointerEnterEvent",{instanceId:this._id,x:t,y:r})}_onPointerLeave(e){let{x:t,y:r}=this._getPointerPosition(e);this._sendMessage("postPointerExitEvent",{instanceId:this._id,x:t,y:r})}async _setupStateMachineListeners(){if(Gm&&this._canvas instanceof HTMLCanvasElement&&this.isLoaded){let e=await this._sendMessage("getStateMachineListeners",{instanceId:this._id});e.includes("PointerUp")&&this._canvas.addEventListener("pointerup",this._pointerUpMethod),e.includes("PointerDown")&&this._canvas.addEventListener("pointerdown",this._pointerDownMethod),e.includes("PointerMove")&&this._canvas.addEventListener("pointermove",this._pointerMoveMethod),e.includes("PointerEnter")&&this._canvas.addEventListener("pointerenter",this._pointerEnterMethod),e.includes("PointerExit")&&this._canvas.addEventListener("pointerleave",this._pointerExitMethod)}}_cleanupStateMachineListeners(){Gm&&this._canvas instanceof HTMLCanvasElement&&(this._canvas.removeEventListener("pointerup",this._pointerUpMethod),this._canvas.removeEventListener("pointerdown",this._pointerDownMethod),this._canvas.removeEventListener("pointermove",this._pointerMoveMethod),this._canvas.removeEventListener("pointerenter",this._pointerEnterMethod),this._canvas.removeEventListener("pointerleave",this._pointerExitMethod))}};Um(vh,"_workerManager",new class{constructor(){Um(this,"_workers",new Map),Um(this,"_animationWorkerMap",new Map)}getWorker(e){return this._workers.has(e)||this._workers.set(e,new gh),this._workers.get(e)}assignAnimationToWorker(e,t){this._animationWorkerMap.set(e,t)}unassignAnimationFromWorker(e){this._animationWorkerMap.delete(e)}sendMessage(e,t,r){this.getWorker(e).postMessage(t,r||[])}terminateWorker(e){let t=this._workers.get(e);t&&(t.terminate(),this._workers.delete(e))}}),Um(vh,"_wasmUrl","");var jh,wh,Nh,kh,Sh,Ch,Ah,Th,Eh,_h,Ph,Dh,Oh,Lh,Mh,Ih,Rh,zh,Fh,Bh,qh,$h,Uh,Wh,Vh,Hh,Gh,Kh,Yh,Xh,Jh,Qh,Zh,ep,tp,rp,np,sp,ap,ip,op,lp,cp,dp,up,mp,hp,pp,fp,xp,gp,bp,yp,vp,jp,wp,Np,kp,Sp,Cp,Ap,Tp,Ep,_p,Pp,Dp,Op,Lp,Mp,Ip,Rp,zp,Fp,Bp,qp,$p,Up,Wp,Vp,Hp,Gp,Kp,Yp,Xp,Jp,Qp,Zp,ef,tf,rf,nf,sf,af,of,lf,cf,df,uf,mf,hf,pf,ff,xf,gf,bf=({animationId:t,autoplay:r,backgroundColor:n,className:s,createDotLottie:a,data:i,dotLottieRefCallback:o,layout:l,loop:c,mode:d,playOnHover:u,renderConfig:m,segment:h,speed:p,src:f,style:x,themeData:g,themeId:b,useFrameInterpolation:y,workerId:v,...j})=>{let w=qr.useRef(null),N=qr.useRef(null),k=qr.useRef(o),S={speed:p,mode:d,loop:c,useFrameInterpolation:y,segment:h,backgroundColor:n,autoplay:r,themeId:b,workerId:v,src:f,data:i,layout:l,renderConfig:m,animationId:t},C=qr.useRef(S);k.current=o,C.current=S;let A=qr.useCallback(e=>{N.current=e,e?w.current=a({...C.current,canvas:e}):(w.current?.destroy(),w.current=null),k.current?.(w.current)},[]);return qr.useEffect(()=>{let e=e=>{u&&("mouseenter"===e.type&&w.current?.play(),"mouseleave"===e.type&&w.current?.pause())};return N.current?.addEventListener("mouseenter",e),N.current?.addEventListener("mouseleave",e),()=>{N.current?.removeEventListener("mouseenter",e),N.current?.removeEventListener("mouseleave",e)}},[u]),qr.useEffect(()=>{w.current?.setSpeed(p??1)},[p]),qr.useEffect(()=>{w.current?.setMode(d??"forward")},[d]),qr.useEffect(()=>{w.current?.setLoop(c??!1)},[c]),qr.useEffect(()=>{w.current?.setUseFrameInterpolation(y??!0)},[y]),qr.useEffect(()=>{"number"==typeof h?.[0]&&"number"==typeof h[1]&&w.current?.setSegment(h[0],h[1])},[h]),qr.useEffect(()=>{w.current?.setBackgroundColor(n??"")},[n]),qr.useEffect(()=>{w.current?.setRenderConfig(m??{})},[JSON.stringify(m)]),qr.useEffect(()=>{"string"!=typeof i&&"object"!=typeof i||w.current?.load({data:i,...C.current})},[i]),qr.useEffect(()=>{"string"==typeof f&&w.current?.load({src:f,...C.current})},[f]),qr.useEffect(()=>{w.current?.setMarker(j.marker??"")},[j.marker]),qr.useEffect(()=>{w.current?.loadAnimation(t??"")},[t]),qr.useEffect(()=>{"string"==typeof b&&w.current?.setTheme(b)},[b]),qr.useEffect(()=>{w.current?.setThemeData(g??"")},[g]),qr.useEffect(()=>{w.current?.setLayout(l??{})},[l?.fit,l?.align&&l.align[0],l?.align&&l.align[1]]),e.jsx("div",{className:s,...!s&&{style:{width:"100%",height:"100%",lineHeight:0,...x}},children:e.jsx("canvas",{ref:A,style:{width:"100%",height:"100%"},...j})})},yf=e=>new xh(e),vf=t=>e.jsx(bf,{...t,createDotLottie:yf});function jf(){if(wh)return jh;wh=1;var e=Array.isArray;return jh=e}function wf(){if(kh)return Nh;kh=1;var e="object"==typeof globalThis&&globalThis&&globalThis.Object===Object&&globalThis;return Nh=e}function Nf(){if(Ch)return Sh;Ch=1;var e=wf(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Sh=r}function kf(){if(Th)return Ah;Th=1;var e=Nf().Symbol;return Ah=e}function Sf(){if(Lh)return Oh;Lh=1;var e=kf(),t=function(){if(_h)return Eh;_h=1;var e=kf(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,s=e?e.toStringTag:void 0;return Eh=function(e){var t=r.call(e,s),a=e[s];try{e[s]=void 0;var i=!0}catch(l){}var o=n.call(e);return i&&(t?e[s]=a:delete e[s]),o}}(),r=function(){if(Dh)return Ph;Dh=1;var e=Object.prototype.toString;return Ph=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return Oh=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function Cf(){if(Ih)return Mh;return Ih=1,Mh=function(e){return null!=e&&"object"==typeof e}}function Af(){if(zh)return Rh;zh=1;var e=Sf(),t=Cf();return Rh=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function Tf(){if(Bh)return Fh;Bh=1;var e=jf(),t=Af(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return Fh=function(s,a){if(e(s))return!1;var i=typeof s;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=s&&!t(s))||(n.test(s)||!r.test(s)||null!=a&&s in Object(a))}}function Ef(){if($h)return qh;return $h=1,qh=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function _f(){if(Wh)return Uh;Wh=1;var e=Sf(),t=Ef();return Uh=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}function Pf(){if(Kh)return Gh;Kh=1;var e,t=function(){if(Hh)return Vh;Hh=1;var e=Nf()["__core-js_shared__"];return Vh=e}(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return Gh=function(e){return!!r&&r in e}}function Df(){if(Xh)return Yh;Xh=1;var e=Function.prototype.toString;return Yh=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}}function Of(){if(rp)return tp;rp=1;var e=function(){if(Qh)return Jh;Qh=1;var e=_f(),t=Pf(),r=Ef(),n=Df(),s=/^\[object .+?Constructor\]$/,a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=RegExp("^"+o.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return Jh=function(a){return!(!r(a)||t(a))&&(e(a)?c:s).test(n(a))}}(),t=ep?Zh:(ep=1,Zh=function(e,t){return null==e?void 0:e[t]});return tp=function(r,n){var s=t(r,n);return e(s)?s:void 0}}function Lf(){if(sp)return np;sp=1;var e=Of()(Object,"create");return np=e}function Mf(){if(xp)return fp;xp=1;var e=function(){if(ip)return ap;ip=1;var e=Lf();return ap=function(){this.__data__=e?e(null):{},this.size=0}}(),t=lp?op:(lp=1,op=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(dp)return cp;dp=1;var e=Lf(),t=Object.prototype.hasOwnProperty;return cp=function(r){var n=this.__data__;if(e){var s=n[r];return"__lodash_hash_undefined__"===s?void 0:s}return t.call(n,r)?n[r]:void 0}}(),n=function(){if(mp)return up;mp=1;var e=Lf(),t=Object.prototype.hasOwnProperty;return up=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)}}(),s=function(){if(pp)return hp;pp=1;var e=Lf();return hp=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,fp=a}function If(){if(vp)return yp;return vp=1,yp=function(e,t){return e===t||e!=e&&t!=t}}function Rf(){if(wp)return jp;wp=1;var e=If();return jp=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1}}function zf(){if(Dp)return Pp;Dp=1;var e=bp?gp:(bp=1,gp=function(){this.__data__=[],this.size=0}),t=function(){if(kp)return Np;kp=1;var e=Rf(),t=Array.prototype.splice;return Np=function(r){var n=this.__data__,s=e(n,r);return!(s<0||(s==n.length-1?n.pop():t.call(n,s,1),--this.size,0))}}(),r=function(){if(Cp)return Sp;Cp=1;var e=Rf();return Sp=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]}}(),n=function(){if(Tp)return Ap;Tp=1;var e=Rf();return Ap=function(t){return e(this.__data__,t)>-1}}(),s=function(){if(_p)return Ep;_p=1;var e=Rf();return Ep=function(t,r){var n=this.__data__,s=e(n,t);return s<0?(++this.size,n.push([t,r])):n[s][1]=r,this}}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,Pp=a}function Ff(){if(Lp)return Op;Lp=1;var e=Of()(Nf(),"Map");return Op=e}function Bf(){if(Bp)return Fp;Bp=1;var e=zp?Rp:(zp=1,Rp=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Fp=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map}}function qf(){if(Xp)return Yp;Xp=1;var e=function(){if(Ip)return Mp;Ip=1;var e=Mf(),t=zf(),r=Ff();return Mp=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}(),t=function(){if($p)return qp;$p=1;var e=Bf();return qp=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(Wp)return Up;Wp=1;var e=Bf();return Up=function(t){return e(this,t).get(t)}}(),n=function(){if(Hp)return Vp;Hp=1;var e=Bf();return Vp=function(t){return e(this,t).has(t)}}(),s=function(){if(Kp)return Gp;Kp=1;var e=Bf();return Gp=function(t,r){var n=e(this,t),s=n.size;return n.set(t,r),this.size+=n.size==s?0:1,this}}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=s,Yp=a}function $f(){if(Qp)return Jp;Qp=1;var e=qf();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var s=function(){var e=arguments,t=n?n.apply(this,e):e[0],a=s.cache;if(a.has(t))return a.get(t);var i=r.apply(this,e);return s.cache=a.set(t,i)||a,i};return s.cache=new(t.Cache||e),s}return t.Cache=e,Jp=t}function Uf(){if(rf)return tf;rf=1;var e=function(){if(ef)return Zp;ef=1;var e=$f();return Zp=function(t){var r=e(t,function(e){return 500===n.size&&n.clear(),e}),n=r.cache;return r}}(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(e,t,s,a){n.push(s?a.replace(r,"$1"):t||e)}),n});return tf=n}function Wf(){if(sf)return nf;return sf=1,nf=function(e,t){for(var r=-1,n=null==e?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}}function Vf(){if(cf)return lf;cf=1;var e=function(){if(of)return af;of=1;var e=kf(),t=Wf(),r=jf(),n=Af(),s=e?e.prototype:void 0,a=s?s.toString:void 0;return af=function e(s){if("string"==typeof s)return s;if(r(s))return t(s,e)+"";if(n(s))return a?a.call(s):"";var i=s+"";return"0"==i&&1/s==-1/0?"-0":i},af}();return lf=function(t){return null==t?"":e(t)}}function Hf(){if(uf)return df;uf=1;var e=jf(),t=Tf(),r=Uf(),n=Vf();return df=function(s,a){return e(s)?s:t(s,a)?[s]:r(n(s))}}function Gf(){if(hf)return mf;hf=1;var e=Af();return mf=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}function Kf(){if(ff)return pf;ff=1;var e=Hf(),t=Gf();return pf=function(r,n){for(var s=0,a=(n=e(n,r)).length;null!=r&&s<a;)r=r[t(n[s++])];return s&&s==a?r:void 0}}function Yf(){if(gf)return xf;gf=1;var e=Kf();return xf=function(t,r,n){var s=null==t?void 0:e(t,r);return void 0===s?n:s}}const Xf=Br(Yf());var Jf,Qf;const Zf=Br(Qf?Jf:(Qf=1,Jf=function(e){return null==e}));var ex,tx;const rx=Br(function(){if(tx)return ex;tx=1;var e=Sf(),t=jf(),r=Cf();return ex=function(n){return"string"==typeof n||!t(n)&&r(n)&&"[object String]"==e(n)}}());const nx=Br(_f());const sx=Br(Ef());var ax,ix,ox={exports:{}},lx={};var cx,dx,ux,mx,hx=(ix||(ix=1,ox.exports=function(){if(ax)return lx;ax=1;var e,t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen");function f(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:switch(e=e.type){case n:case a:case s:case d:case u:return e;default:switch(e=e&&e.$$typeof){case l:case o:case c:case h:case m:case i:return e;default:return p}}case r:return p}}}return e=Symbol.for("react.module.reference"),lx.ContextConsumer=o,lx.ContextProvider=i,lx.Element=t,lx.ForwardRef=c,lx.Fragment=n,lx.Lazy=h,lx.Memo=m,lx.Portal=r,lx.Profiler=a,lx.StrictMode=s,lx.Suspense=d,lx.SuspenseList=u,lx.isAsyncMode=function(){return!1},lx.isConcurrentMode=function(){return!1},lx.isContextConsumer=function(e){return f(e)===o},lx.isContextProvider=function(e){return f(e)===i},lx.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},lx.isForwardRef=function(e){return f(e)===c},lx.isFragment=function(e){return f(e)===n},lx.isLazy=function(e){return f(e)===h},lx.isMemo=function(e){return f(e)===m},lx.isPortal=function(e){return f(e)===r},lx.isProfiler=function(e){return f(e)===a},lx.isStrictMode=function(e){return f(e)===s},lx.isSuspense=function(e){return f(e)===d},lx.isSuspenseList=function(e){return f(e)===u},lx.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===n||t===a||t===s||t===d||t===u||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===h||t.$$typeof===m||t.$$typeof===i||t.$$typeof===o||t.$$typeof===c||t.$$typeof===e||void 0!==t.getModuleId)},lx.typeOf=f,lx}()),ox.exports);function px(){if(dx)return cx;dx=1;var e=Sf(),t=Cf();return cx=function(r){return"number"==typeof r||t(r)&&"[object Number]"==e(r)}}const fx=Br(function(){if(mx)return ux;mx=1;var e=px();return ux=function(t){return e(t)&&t!=+t}}());const xx=Br(px());var gx=function(e){return 0===e?0:e>0?1:-1},bx=function(e){return rx(e)&&e.indexOf("%")===e.length-1},yx=function(e){return xx(e)&&!fx(e)},vx=function(e){return yx(e)||rx(e)},jx=0,wx=function(e){var t=++jx;return"".concat(e||"").concat(t)},Nx=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!yx(e)&&!rx(e))return n;if(bx(e)){var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return fx(r)&&(r=n),s&&r>t&&(r=t),r},kx=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Sx=function(e,t){return yx(e)&&yx(t)?function(r){return e+r*(t-e)}:function(){return t}};function Cx(e,t,r){return e&&e.length?e.find(function(e){return e&&("function"==typeof t?t(e):Xf(e,t))===r}):null}var Ax=function(e,t){return yx(e)&&yx(t)?e-t:rx(e)&&rx(t)?e.localeCompare(t):e instanceof Date&&t instanceof Date?e.getTime()-t.getTime():String(e).localeCompare(String(t))};function Tx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ex(e){return(Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _x=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Px=["points","pathLength"],Dx={svg:["viewBox","children"],polygon:Px,polyline:Px},Ox=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lx=function(e,t){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(qr.isValidElement(e)&&(r=e.props),!sx(r))return null;var n={};return Object.keys(r).forEach(function(e){Ox.includes(e)&&(n[e]=t||function(t){return r[e](r,t)})}),n},Mx=function(e,t,r){if(!sx(e)||"object"!==Ex(e))return null;var n=null;return Object.keys(e).forEach(function(s){var a=e[s];Ox.includes(s)&&"function"==typeof a&&(n||(n={}),n[s]=function(e,t,r){return function(n){return e(t,r,n),null}}(a,t,r))}),n},Ix=["children"],Rx=["children"];function zx(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Fx(e){return(Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Bx={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qx=function(e){return"string"==typeof e?e:e?e.displayName||e.name||"Component":""},$x=null,Ux=null,Wx=function e(t){if(t===$x&&Array.isArray(Ux))return Ux;var r=[];return qr.Children.forEach(t,function(t){Zf(t)||(hx.isFragment(t)?r=r.concat(e(t.props.children)):r.push(t))}),Ux=r,$x=t,r};function Vx(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(function(e){return qx(e)}):[qx(t)],Wx(e).forEach(function(e){var t=Xf(e,"type.displayName")||Xf(e,"type.name");-1!==n.indexOf(t)&&r.push(e)}),r}function Hx(e,t){var r=Vx(e,t);return r&&r[0]}var Gx=function(e){if(!e||!e.props)return!1;var t=e.props,r=t.width,n=t.height;return!(!yx(r)||r<=0||!yx(n)||n<=0)},Kx=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Yx=function(e){return e&&"object"===Fx(e)&&"clipDot"in e},Xx=function(e,t,r){if(!e||"function"==typeof e||"boolean"==typeof e)return null;var n=e;if(qr.isValidElement(e)&&(n=e.props),!sx(n))return null;var s={};return Object.keys(n).forEach(function(e){var a;(function(e,t,r,n){var s,a=null!==(s=null==Dx?void 0:Dx[n])&&void 0!==s?s:[];return t.startsWith("data-")||!nx(e)&&(n&&a.includes(t)||_x.includes(t))||r&&Ox.includes(t)})(null===(a=n)||void 0===a?void 0:a[e],e,t,r)&&(s[e]=n[e])}),s},Jx=function e(t,r){if(t===r)return!0;var n=qr.Children.count(t);if(n!==qr.Children.count(r))return!1;if(0===n)return!0;if(1===n)return Qx(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],i=r[s];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!Qx(a,i))return!1}return!0},Qx=function(e,t){if(Zf(e)&&Zf(t))return!0;if(!Zf(e)&&!Zf(t)){var r=e.props||{},n=r.children,s=zx(r,Ix),a=t.props||{},i=a.children,o=zx(a,Rx);return n&&i?Tx(s,o)&&Jx(n,i):!n&&!i&&Tx(s,o)}return!1},Zx=function(e,t){var r=[],n={};return Wx(e).forEach(function(e,s){if(function(e){return e&&e.type&&rx(e.type)&&Kx.indexOf(e.type)>=0}(e))r.push(e);else if(e){var a=qx(e.type),i=t[a]||{},o=i.handler,l=i.once;if(o&&(!l||!n[a])){var c=o(e,a,s);r.push(c),n[a]=!0}}}),r},eg=["children","width","height","viewBox","className","style","title","desc"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(this,arguments)}function rg(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ng(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,i=e.style,o=e.title,l=e.desc,c=rg(e,eg),d=s||{width:r,height:n,x:0,y:0},u=P("recharts-surface",a);return Ur.createElement("svg",tg({},Xx(c,!0,"svg"),{className:u,width:r,height:n,style:i,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Ur.createElement("title",null,o),Ur.createElement("desc",null,l),t)}var sg=["children","className"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function ig(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var og,lg,cg,dg,ug,mg,hg,pg,fg,xg,gg,bg,yg,vg,jg,wg,Ng=Ur.forwardRef(function(e,t){var r=e.children,n=e.className,s=ig(e,sg),a=P("recharts-layer",n);return Ur.createElement("g",ag({className:a},Xx(s,!0),{ref:t}),r)}),kg=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s]};function Sg(){if(dg)return cg;dg=1;var e=lg?og:(lg=1,og=function(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(r=r>s?s:r)<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a});return cg=function(t,r,n){var s=t.length;return n=void 0===n?s:n,!r&&n>=s?t:e(t,r,n)}}function Cg(){if(mg)return ug;mg=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return ug=function(t){return e.test(t)}}function Ag(){if(bg)return gg;bg=1;var e=pg?hg:(pg=1,hg=function(e){return e.split("")}),t=Cg(),r=function(){if(xg)return fg;xg=1;var e="\\ud800-\\udfff",t="["+e+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",s="[^"+e+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",o="(?:"+r+"|"+n+")?",l="[\\ufe0e\\ufe0f]?",c=l+o+"(?:\\u200d(?:"+[s,a,i].join("|")+")"+l+o+")*",d="(?:"+[s+r+"?",r,a,i,t].join("|")+")",u=RegExp(n+"(?="+n+")|"+d+c,"g");return fg=function(e){return e.match(u)||[]}}();return gg=function(n){return t(n)?r(n):e(n)}}const Tg=Br(function(){if(wg)return jg;wg=1;var e=function(){if(vg)return yg;vg=1;var e=Sg(),t=Cg(),r=Ag(),n=Vf();return yg=function(s){return function(a){a=n(a);var i=t(a)?r(a):void 0,o=i?i[0]:a.charAt(0),l=i?e(i,1).join(""):a.slice(1);return o[s]()+l}}}()("toUpperCase");return jg=e}());function Eg(e){return function(){return e}}const _g=Math.cos,Pg=Math.sin,Dg=Math.sqrt,Og=Math.PI,Lg=2*Og,Mg=Math.PI,Ig=2*Mg,Rg=1e-6,zg=Ig-Rg;function Fg(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class Bg{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?Fg:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Fg;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,s,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,n,s){if(e=+e,t=+t,r=+r,n=+n,(s=+s)<0)throw new Error(`negative radius: ${s}`);let a=this._x1,i=this._y1,o=r-e,l=n-t,c=a-e,d=i-t,u=c*c+d*d;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(u>Rg)if(Math.abs(d*o-l*c)>Rg&&s){let m=r-a,h=n-i,p=o*o+l*l,f=m*m+h*h,x=Math.sqrt(p),g=Math.sqrt(u),b=s*Math.tan((Mg-Math.acos((p+u-f)/(2*x*g)))/2),y=b/g,v=b/x;Math.abs(y-1)>Rg&&this._append`L${e+y*c},${t+y*d}`,this._append`A${s},${s},0,0,${+(d*m>c*h)},${this._x1=e+v*o},${this._y1=t+v*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,s,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let i=r*Math.cos(n),o=r*Math.sin(n),l=e+i,c=t+o,d=1^a,u=a?n-s:s-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>Rg||Math.abs(this._y1-c)>Rg)&&this._append`L${l},${c}`,r&&(u<0&&(u=u%Ig+Ig),u>zg?this._append`A${r},${r},0,1,${d},${e-i},${t-o}A${r},${r},0,1,${d},${this._x1=l},${this._y1=c}`:u>Rg&&this._append`A${r},${r},0,${+(u>=Mg)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function qg(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new Bg(t)}function $g(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function Ug(e){this._context=e}function Wg(e){return new Ug(e)}function Vg(e){return e[0]}function Hg(e){return e[1]}function Gg(e,t){var r=Eg(!0),n=null,s=Wg,a=null,i=qg(o);function o(o){var l,c,d,u=(o=$g(o)).length,m=!1;for(null==n&&(a=s(d=i())),l=0;l<=u;++l)!(l<u&&r(c=o[l],l,o))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(c,l,o),+t(c,l,o));if(d)return a=null,d+""||null}return e="function"==typeof e?e:void 0===e?Vg:Eg(e),t="function"==typeof t?t:void 0===t?Hg:Eg(t),o.x=function(t){return arguments.length?(e="function"==typeof t?t:Eg(+t),o):e},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Eg(+e),o):t},o.defined=function(e){return arguments.length?(r="function"==typeof e?e:Eg(!!e),o):r},o.curve=function(e){return arguments.length?(s=e,null!=n&&(a=s(n)),o):s},o.context=function(e){return arguments.length?(null==e?n=a=null:a=s(n=e),o):n},o}function Kg(e,t,r){var n=null,s=Eg(!0),a=null,i=Wg,o=null,l=qg(c);function c(c){var d,u,m,h,p,f=(c=$g(c)).length,x=!1,g=new Array(f),b=new Array(f);for(null==a&&(o=i(p=l())),d=0;d<=f;++d){if(!(d<f&&s(h=c[d],d,c))===x)if(x=!x)u=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=d-1;m>=u;--m)o.point(g[m],b[m]);o.lineEnd(),o.areaEnd()}x&&(g[d]=+e(h,d,c),b[d]=+t(h,d,c),o.point(n?+n(h,d,c):g[d],r?+r(h,d,c):b[d]))}if(p)return o=null,p+""||null}function d(){return Gg().defined(s).curve(i).context(a)}return e="function"==typeof e?e:void 0===e?Vg:Eg(+e),t="function"==typeof t?t:Eg(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?Hg:Eg(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:Eg(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:Eg(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:Eg(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:Eg(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:Eg(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:Eg(+e),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(e){return arguments.length?(s="function"==typeof e?e:Eg(!!e),c):s},c.curve=function(e){return arguments.length?(i=e,null!=a&&(o=i(a)),c):i},c.context=function(e){return arguments.length?(null==e?a=o=null:o=i(a=e),c):a},c}Ug.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Yg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Xg={draw(e,t){const r=Dg(t/Og);e.moveTo(r,0),e.arc(0,0,r,0,Lg)}},Jg={draw(e,t){const r=Dg(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Qg=Dg(1/3),Zg=2*Qg,eb={draw(e,t){const r=Dg(t/Zg),n=r*Qg;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},tb={draw(e,t){const r=Dg(t),n=-r/2;e.rect(n,n,r,r)}},rb=Pg(Og/10)/Pg(7*Og/10),nb=Pg(Lg/10)*rb,sb=-_g(Lg/10)*rb,ab={draw(e,t){const r=Dg(.8908130915292852*t),n=nb*r,s=sb*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const t=Lg*a/5,i=_g(t),o=Pg(t);e.lineTo(o*r,-i*r),e.lineTo(i*n-o*s,o*n+i*s)}e.closePath()}},ib=Dg(3),ob={draw(e,t){const r=-Dg(t/(3*ib));e.moveTo(0,2*r),e.lineTo(-ib*r,-r),e.lineTo(ib*r,-r),e.closePath()}},lb=-.5,cb=Dg(3)/2,db=1/Dg(12),ub=3*(db/2+1),mb={draw(e,t){const r=Dg(t/ub),n=r/2,s=r*db,a=n,i=r*db+r,o=-a,l=i;e.moveTo(n,s),e.lineTo(a,i),e.lineTo(o,l),e.lineTo(lb*n-cb*s,cb*n+lb*s),e.lineTo(lb*a-cb*i,cb*a+lb*i),e.lineTo(lb*o-cb*l,cb*o+lb*l),e.lineTo(lb*n+cb*s,lb*s-cb*n),e.lineTo(lb*a+cb*i,lb*i-cb*a),e.lineTo(lb*o+cb*l,lb*l-cb*o),e.closePath()}};function hb(){}function pb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function fb(e){this._context=e}function xb(e){this._context=e}function gb(e){this._context=e}function bb(e){this._context=e}function yb(e){return e<0?-1:1}function vb(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),i=(r-e._y1)/(s||n<0&&-0),o=(a*s+i*n)/(n+s);return(yb(a)+yb(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(o))||0}function jb(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function wb(e,t,r){var n=e._x0,s=e._y0,a=e._x1,i=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,s+o*t,a-o,i-o*r,a,i)}function Nb(e){this._context=e}function kb(e){this._context=new Sb(e)}function Sb(e){this._context=e}function Cb(e){this._context=e}function Ab(e){var t,r,n=e.length-1,s=new Array(n),a=new Array(n),i=new Array(n);for(s[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/a[t-1],a[t]-=r,i[t]-=r*i[t-1];for(s[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)s[t]=(i[t]-s[t+1])/a[t];for(a[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function Tb(e,t){this._context=e,this._t=t}function Eb(e,t){if((s=e.length)>1)for(var r,n,s,a=1,i=e[t[0]],o=i.length;a<s;++a)for(n=i,i=e[t[a]],r=0;r<o;++r)i[r][1]+=i[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function _b(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Pb(e,t){return e[t]}function Db(e){const t=[];return t.key=e,t}function Ob(e){return(Ob="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}fb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},xb.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:pb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},gb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:pb(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},bb.prototype={areaStart:hb,areaEnd:hb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Nb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wb(this,this._t0,jb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wb(this,jb(this,r=vb(this,e,t)),r);break;default:wb(this,this._t0,r=vb(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(kb.prototype=Object.create(Nb.prototype)).point=function(e,t){Nb.prototype.point.call(this,t,e)},Sb.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}},Cb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=Ab(e),s=Ab(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[i],t[i]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},Tb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var Lb=["type","size","sizeType"];function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(this,arguments)}function Ib(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rb(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ib(Object(r),!0).forEach(function(t){zb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ib(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zb(e,t,r){var n;return n=function(e,t){if("object"!=Ob(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ob(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ob(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fb(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var Bb={symbolCircle:Xg,symbolCross:Jg,symbolDiamond:eb,symbolSquare:tb,symbolStar:ab,symbolTriangle:ob,symbolWye:mb},qb=Math.PI/180,$b=function(e){var t,r,n=e.type,s=void 0===n?"circle":n,a=e.size,i=void 0===a?64:a,o=e.sizeType,l=void 0===o?"area":o,c=Rb(Rb({},Fb(e,Lb)),{},{type:s,size:i,sizeType:l}),d=c.className,u=c.cx,m=c.cy,h=Xx(c,!0);return u===+u&&m===+m&&i===+i?Ur.createElement("path",Mb({},h,{className:P("recharts-symbols",d),transform:"translate(".concat(u,", ").concat(m,")"),d:(t=function(e){var t="symbol".concat(Tg(e));return Bb[t]||Xg}(s),r=function(e,t){let r=null,n=qg(s);function s(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return e="function"==typeof e?e:Eg(e||Xg),t="function"==typeof t?t:Eg(void 0===t?64:+t),s.type=function(t){return arguments.length?(e="function"==typeof t?t:Eg(t),s):e},s.size=function(e){return arguments.length?(t="function"==typeof e?e:Eg(+e),s):t},s.context=function(e){return arguments.length?(r=null==e?null:e,s):r},s}().type(t).size(function(e,t,r){if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*qb;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.pow(Math.tan(n),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(i,l,s)),r())})):null};function Ub(e){return(Ub="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(this,arguments)}function Vb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hb(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qb(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gb(e,t,r){return t=Yb(t),function(e,t){if(t&&("object"===Ub(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Kb()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function Kb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Kb=function(){return!!e})()}function Yb(e){return(Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xb(e,t){return(Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Jb(e,t,r){return(t=Qb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qb(e){var t=function(e,t){if("object"!=Ub(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Ub(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Ub(t)?t:t+""}$b.registerSymbol=function(e,t){Bb["symbol".concat(Tg(e))]=t};var Zb,ey,ty,ry,ny,sy,ay,iy,oy,ly,cy,dy,uy,my,hy,py,fy,xy,gy,by,yy,vy,jy,wy,Ny,ky,Sy,Cy,Ay,Ty,Ey,_y,Py,Dy,Oy,Ly,My,Iy,Ry,zy,Fy,By,qy,$y,Uy,Wy,Vy,Hy,Gy=32,Ky=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Gb(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xb(e,t)}(e,qr.PureComponent),Hb(e,[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,r=16,n=Gy/6,s=Gy/3,a=e.inactive?t:e.color;if("plainline"===e.type)return Ur.createElement("line",{strokeWidth:4,fill:"none",stroke:a,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:r,x2:Gy,y2:r,className:"recharts-legend-icon"});if("line"===e.type)return Ur.createElement("path",{strokeWidth:4,fill:"none",stroke:a,d:"M0,".concat(r,"h").concat(s,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(2*s,",").concat(r,"\n            H").concat(Gy,"M").concat(2*s,",").concat(r,"\n            A").concat(n,",").concat(n,",0,1,1,").concat(s,",").concat(r),className:"recharts-legend-icon"});if("rect"===e.type)return Ur.createElement("path",{stroke:"none",fill:a,d:"M0,".concat(4,"h").concat(Gy,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(Ur.isValidElement(e.legendIcon)){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(r),!0).forEach(function(t){Jb(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e);return delete i.legendIcon,Ur.cloneElement(e.legendIcon,i)}return Ur.createElement($b,{fill:a,cx:r,cy:r,size:Gy,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,r=t.payload,n=t.iconSize,s=t.layout,a=t.formatter,i=t.inactiveColor,o={x:0,y:0,width:Gy,height:Gy},l={display:"horizontal"===s?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map(function(t,r){var s=t.formatter||a,d=P(Jb(Jb({"recharts-legend-item":!0},"legend-item-".concat(r),!0),"inactive",t.inactive));if("none"===t.type)return null;var u=nx(t.value)?null:t.value;kg(!nx(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var m=t.inactive?i:t.color;return Ur.createElement("li",Wb({className:d,style:l,key:"legend-item-".concat(r)},Mx(e.props,t,r)),Ur.createElement(ng,{width:n,height:n,viewBox:o,style:c},e.renderIcon(t)),Ur.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},s?s(u,t,r):u))})}},{key:"render",value:function(){var e=this.props,t=e.payload,r=e.layout,n=e.align;if(!t||!t.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===r?n:"left"};return Ur.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}();function Yy(){if(dy)return cy;dy=1;var e=zf(),t=function(){if(ey)return Zb;ey=1;var e=zf();return Zb=function(){this.__data__=new e,this.size=0}}(),r=ry?ty:(ry=1,ty=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}),n=sy?ny:(sy=1,ny=function(e){return this.__data__.get(e)}),s=iy?ay:(iy=1,ay=function(e){return this.__data__.has(e)}),a=function(){if(ly)return oy;ly=1;var e=zf(),t=Ff(),r=qf();return oy=function(n,s){var a=this.__data__;if(a instanceof e){var i=a.__data__;if(!t||i.length<199)return i.push([n,s]),this.size=++a.size,this;a=this.__data__=new r(i)}return a.set(n,s),this.size=a.size,this}}();function i(t){var r=this.__data__=new e(t);this.size=r.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,cy=i}function Xy(){if(xy)return fy;xy=1;var e=qf(),t=my?uy:(my=1,uy=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}),r=py?hy:(py=1,hy=function(e){return this.__data__.has(e)});function n(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new e;++r<n;)this.add(t[r])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,fy=n}function Jy(){if(by)return gy;return by=1,gy=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}}function Qy(){if(vy)return yy;return vy=1,yy=function(e,t){return e.has(t)}}function Zy(){if(wy)return jy;wy=1;var e=Xy(),t=Jy(),r=Qy();return jy=function(n,s,a,i,o,l){var c=1&a,d=n.length,u=s.length;if(d!=u&&!(c&&u>d))return!1;var m=l.get(n),h=l.get(s);if(m&&h)return m==s&&h==n;var p=-1,f=!0,x=2&a?new e:void 0;for(l.set(n,s),l.set(s,n);++p<d;){var g=n[p],b=s[p];if(i)var y=c?i(b,g,p,s,n,l):i(g,b,p,n,s,l);if(void 0!==y){if(y)continue;f=!1;break}if(x){if(!t(s,function(e,t){if(!r(x,t)&&(g===e||o(g,e,a,i,l)))return x.push(t)})){f=!1;break}}else if(g!==b&&!o(g,b,a,i,l)){f=!1;break}}return l.delete(n),l.delete(s),f}}function ev(){if(Ty)return Ay;return Ty=1,Ay=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}}function tv(){if(_y)return Ey;_y=1;var e=kf(),t=function(){if(ky)return Ny;ky=1;var e=Nf().Uint8Array;return Ny=e}(),r=If(),n=Zy(),s=Cy?Sy:(Cy=1,Sy=function(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}),a=ev(),i=e?e.prototype:void 0,o=i?i.valueOf:void 0;return Ey=function(e,i,l,c,d,u,m){switch(l){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!u(new t(e),new t(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var h=s;case"[object Set]":var p=1&c;if(h||(h=a),e.size!=i.size&&!p)return!1;var f=m.get(e);if(f)return f==i;c|=2,m.set(e,i);var x=n(h(e),h(i),c,d,u,m);return m.delete(e),x;case"[object Symbol]":if(o)return o.call(e)==o.call(i)}return!1}}function rv(){if(Dy)return Py;return Dy=1,Py=function(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}}function nv(){if(By)return Fy;By=1;var e=Iy?My:(Iy=1,My=function(e,t){for(var r=-1,n=null==e?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}),t=zy?Ry:(zy=1,Ry=function(){return[]}),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;return Fy=n?function(t){return null==t?[]:(t=Object(t),e(n(t),function(e){return r.call(t,e)}))}:t}function sv(){if(Hy)return Vy;Hy=1;var e=function(){if(Wy)return Uy;Wy=1;var e=Sf(),t=Cf();return Uy=function(r){return t(r)&&"[object Arguments]"==e(r)}}(),t=Cf(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(e){return t(e)&&n.call(e,"callee")&&!s.call(e,"callee")};return Vy=a}Jb(Ky,"displayName","Legend"),Jb(Ky,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var av,iv,ov,lv,cv,dv,uv,mv,hv,pv,fv,xv={exports:{}};function gv(){return ov||(ov=1,e=xv,t=xv.exports,r=Nf(),n=iv?av:(iv=1,av=function(){return!1}),s=t&&!t.nodeType&&t,a=s&&e&&!e.nodeType&&e,i=a&&a.exports===s?r.Buffer:void 0,o=(i?i.isBuffer:void 0)||n,e.exports=o),xv.exports;var e,t,r,n,s,a,i,o}function bv(){if(cv)return lv;cv=1;var e=/^(?:0|[1-9]\d*)$/;return lv=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}}function yv(){if(uv)return dv;uv=1;return dv=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function vv(){if(fv)return pv;return fv=1,pv=function(e){return function(t){return e(t)}}}var jv,wv,Nv,kv,Sv,Cv,Av,Tv,Ev,_v,Pv,Dv,Ov,Lv,Mv,Iv,Rv,zv,Fv,Bv,qv,$v,Uv,Wv,Vv,Hv,Gv,Kv,Yv,Xv,Jv,Qv,Zv,ej,tj,rj,nj,sj,aj,ij,oj,lj,cj,dj,uj,mj,hj,pj,fj,xj,gj,bj,yj,vj,jj,wj,Nj,kj,Sj,Cj,Aj,Tj,Ej,_j,Pj,Dj,Oj,Lj,Mj,Ij,Rj,zj,Fj,Bj,qj,$j,Uj,Wj,Vj,Hj,Gj,Kj,Yj,Xj={exports:{}};function Jj(){if(Nv)return wv;Nv=1;var e=function(){if(hv)return mv;hv=1;var e=Sf(),t=yv(),r=Cf(),n={};return n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,mv=function(s){return r(s)&&t(s.length)&&!!n[e(s)]}}(),t=vv(),r=function(){return jv||(jv=1,e=Xj,t=Xj.exports,r=wf(),n=t&&!t.nodeType&&t,s=n&&e&&!e.nodeType&&e,a=s&&s.exports===n&&r.process,i=function(){try{return s&&s.require&&s.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}(),e.exports=i),Xj.exports;var e,t,r,n,s,a,i}(),n=r&&r.isTypedArray,s=n?t(n):e;return wv=s}function Qj(){if(Sv)return kv;Sv=1;var e=$y?qy:($y=1,qy=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}),t=sv(),r=jf(),n=gv(),s=bv(),a=Jj(),i=Object.prototype.hasOwnProperty;return kv=function(o,l){var c=r(o),d=!c&&t(o),u=!c&&!d&&n(o),m=!c&&!d&&!u&&a(o),h=c||d||u||m,p=h?e(o.length,String):[],f=p.length;for(var x in o)!l&&!i.call(o,x)||h&&("length"==x||u&&("offset"==x||"parent"==x)||m&&("buffer"==x||"byteLength"==x||"byteOffset"==x)||s(x,f))||p.push(x);return p}}function Zj(){if(Ev)return Tv;return Ev=1,Tv=function(e,t){return function(r){return e(t(r))}}}function ew(){if(Ov)return Dv;Ov=1;var e=function(){if(Av)return Cv;Av=1;var e=Object.prototype;return Cv=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}}(),t=function(){if(Pv)return _v;Pv=1;var e=Zj()(Object.keys,Object);return _v=e}(),r=Object.prototype.hasOwnProperty;return Dv=function(n){if(!e(n))return t(n);var s=[];for(var a in Object(n))r.call(n,a)&&"constructor"!=a&&s.push(a);return s}}function tw(){if(Mv)return Lv;Mv=1;var e=_f(),t=yv();return Lv=function(r){return null!=r&&t(r.length)&&!e(r)}}function rw(){if(Rv)return Iv;Rv=1;var e=Qj(),t=ew(),r=tw();return Iv=function(n){return r(n)?e(n):t(n)}}function nw(){if(Fv)return zv;Fv=1;var e=function(){if(Ly)return Oy;Ly=1;var e=rv(),t=jf();return Oy=function(r,n,s){var a=n(r);return t(r)?a:e(a,s(r))}}(),t=nv(),r=rw();return zv=function(n){return e(n,r,t)}}function sw(){if(Gv)return Hv;Gv=1;var e=Of()(Nf(),"Set");return Hv=e}function aw(){if(Jv)return Xv;Jv=1;var e=function(){if(Uv)return $v;Uv=1;var e=Of()(Nf(),"DataView");return $v=e}(),t=Ff(),r=function(){if(Vv)return Wv;Vv=1;var e=Of()(Nf(),"Promise");return Wv=e}(),n=sw(),s=function(){if(Yv)return Kv;Yv=1;var e=Of()(Nf(),"WeakMap");return Kv=e}(),a=Sf(),i=Df(),o="[object Map]",l="[object Promise]",c="[object Set]",d="[object WeakMap]",u="[object DataView]",m=i(e),h=i(t),p=i(r),f=i(n),x=i(s),g=a;return(e&&g(new e(new ArrayBuffer(1)))!=u||t&&g(new t)!=o||r&&g(r.resolve())!=l||n&&g(new n)!=c||s&&g(new s)!=d)&&(g=function(e){var t=a(e),r="[object Object]"==t?e.constructor:void 0,n=r?i(r):"";if(n)switch(n){case m:return u;case h:return o;case p:return l;case f:return c;case x:return d}return t}),Xv=g}function iw(){if(Zv)return Qv;Zv=1;var e=Yy(),t=Zy(),r=tv(),n=function(){if(qv)return Bv;qv=1;var e=nw(),t=Object.prototype.hasOwnProperty;return Bv=function(r,n,s,a,i,o){var l=1&s,c=e(r),d=c.length;if(d!=e(n).length&&!l)return!1;for(var u=d;u--;){var m=c[u];if(!(l?m in n:t.call(n,m)))return!1}var h=o.get(r),p=o.get(n);if(h&&p)return h==n&&p==r;var f=!0;o.set(r,n),o.set(n,r);for(var x=l;++u<d;){var g=r[m=c[u]],b=n[m];if(a)var y=l?a(b,g,m,n,r,o):a(g,b,m,r,n,o);if(!(void 0===y?g===b||i(g,b,s,a,o):y)){f=!1;break}x||(x="constructor"==m)}if(f&&!x){var v=r.constructor,j=n.constructor;v==j||!("constructor"in r)||!("constructor"in n)||"function"==typeof v&&v instanceof v&&"function"==typeof j&&j instanceof j||(f=!1)}return o.delete(r),o.delete(n),f}}(),s=aw(),a=jf(),i=gv(),o=Jj(),l="[object Arguments]",c="[object Array]",d="[object Object]",u=Object.prototype.hasOwnProperty;return Qv=function(m,h,p,f,x,g){var b=a(m),y=a(h),v=b?c:s(m),j=y?c:s(h),w=(v=v==l?d:v)==d,N=(j=j==l?d:j)==d,k=v==j;if(k&&i(m)){if(!i(h))return!1;b=!0,w=!1}if(k&&!w)return g||(g=new e),b||o(m)?t(m,h,p,f,x,g):r(m,h,v,p,f,x,g);if(!(1&p)){var S=w&&u.call(m,"__wrapped__"),C=N&&u.call(h,"__wrapped__");if(S||C){var A=S?m.value():m,T=C?h.value():h;return g||(g=new e),x(A,T,p,f,g)}}return!!k&&(g||(g=new e),n(m,h,p,f,x,g))}}function ow(){if(tj)return ej;tj=1;var e=iw(),t=Cf();return ej=function r(n,s,a,i,o){return n===s||(null==n||null==s||!t(n)&&!t(s)?n!=n&&s!=s:e(n,s,a,i,r,o))},ej}function lw(){if(aj)return sj;aj=1;var e=Ef();return sj=function(t){return t==t&&!e(t)}}function cw(){if(cj)return lj;return cj=1,lj=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}}function dw(){if(uj)return dj;uj=1;var e=function(){if(nj)return rj;nj=1;var e=Yy(),t=ow();return rj=function(r,n,s,a){var i=s.length,o=i,l=!a;if(null==r)return!o;for(r=Object(r);i--;){var c=s[i];if(l&&c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++i<o;){var d=(c=s[i])[0],u=r[d],m=c[1];if(l&&c[2]){if(void 0===u&&!(d in r))return!1}else{var h=new e;if(a)var p=a(u,m,d,r,n,h);if(!(void 0===p?t(m,u,3,a,h):p))return!1}}return!0}}(),t=function(){if(oj)return ij;oj=1;var e=lw(),t=rw();return ij=function(r){for(var n=t(r),s=n.length;s--;){var a=n[s],i=r[a];n[s]=[a,i,e(i)]}return n}}(),r=cw();return dj=function(n){var s=t(n);return 1==s.length&&s[0][2]?r(s[0][0],s[0][1]):function(t){return t===n||e(t,n,s)}}}function uw(){if(gj)return xj;gj=1;var e=hj?mj:(hj=1,mj=function(e,t){return null!=e&&t in Object(e)}),t=function(){if(fj)return pj;fj=1;var e=Hf(),t=sv(),r=jf(),n=bv(),s=yv(),a=Gf();return pj=function(i,o,l){for(var c=-1,d=(o=e(o,i)).length,u=!1;++c<d;){var m=a(o[c]);if(!(u=null!=i&&l(i,m)))break;i=i[m]}return u||++c!=d?u:!!(d=null==i?0:i.length)&&s(d)&&n(m,d)&&(r(i)||t(i))}}();return xj=function(r,n){return null!=r&&t(r,n,e)}}function mw(){if(jj)return vj;return jj=1,vj=function(e){return e}}function hw(){if(Aj)return Cj;Aj=1;var e=Nj?wj:(Nj=1,wj=function(e){return function(t){return null==t?void 0:t[e]}}),t=function(){if(Sj)return kj;Sj=1;var e=Kf();return kj=function(t){return function(r){return e(r,t)}}}(),r=Tf(),n=Gf();return Cj=function(s){return r(s)?e(n(s)):t(s)}}function pw(){if(Ej)return Tj;Ej=1;var e=dw(),t=function(){if(yj)return bj;yj=1;var e=ow(),t=Yf(),r=uw(),n=Tf(),s=lw(),a=cw(),i=Gf();return bj=function(o,l){return n(o)&&s(l)?a(i(o),l):function(n){var s=t(n,o);return void 0===s&&s===l?r(n,o):e(l,s,3)}}}(),r=mw(),n=jf(),s=hw();return Tj=function(a){return"function"==typeof a?a:null==a?r:"object"==typeof a?n(a)?t(a[0],a[1]):e(a):s(a)}}function fw(){if(Pj)return _j;return Pj=1,_j=function(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}}function xw(){if(Rj)return Ij;Rj=1;var e=fw(),t=Oj?Dj:(Oj=1,Dj=function(e){return e!=e}),r=Mj?Lj:(Mj=1,Lj=function(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1});return Ij=function(n,s,a){return s==s?r(n,s,a):e(n,t,a)}}function gw(){if(Vj)return Wj;Vj=1;var e=sw(),t=Uj?$j:(Uj=1,$j=function(){}),r=ev(),n=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return Wj=n}function bw(){if(Gj)return Hj;Gj=1;var e=Xy(),t=function(){if(Fj)return zj;Fj=1;var e=xw();return zj=function(t,r){return!(null==t||!t.length)&&e(t,r,0)>-1}}(),r=qj?Bj:(qj=1,Bj=function(e,t,r){for(var n=-1,s=null==e?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}),n=Qy(),s=gw(),a=ev();return Hj=function(i,o,l){var c=-1,d=t,u=i.length,m=!0,h=[],p=h;if(l)m=!1,d=r;else if(u>=200){var f=o?null:s(i);if(f)return a(f);m=!1,d=n,p=new e}else p=o?[]:h;e:for(;++c<u;){var x=i[c],g=o?o(x):x;if(x=l||0!==x?x:0,m&&g==g){for(var b=p.length;b--;)if(p[b]===g)continue e;o&&p.push(g),h.push(x)}else d(p,g,l)||(p!==h&&p.push(g),h.push(x))}return h}}const yw=Br(function(){if(Yj)return Kj;Yj=1;var e=pw(),t=bw();return Kj=function(r,n){return r&&r.length?t(r,e(n,2)):[]}}());function vw(e,t,r){return!0===t?yw(e,r):nx(t)?yw(e,t):e}function jw(e){return(jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ww=["ref"];function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(t){_w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pw(n.key),n)}}function Cw(e,t,r){return t=Tw(t),function(e,t){if(t&&("object"===jw(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Aw()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function Aw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Aw=function(){return!!e})()}function Tw(e){return(Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ew(e,t){return(Ew=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _w(e,t,r){return(t=Pw(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pw(e){var t=function(e,t){if("object"!=jw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=jw(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==jw(t)?t:t+""}function Dw(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ow(e){return e.value}var Lw,Mw,Iw,Rw,zw,Fw,Bw,qw,$w,Uw,Ww,Vw,Hw,Gw,Kw,Yw,Xw,Jw,Qw,Zw,eN,tN,rN,nN,sN,aN,iN,oN,lN,cN,dN,uN,mN,hN,pN,fN,xN,gN,bN,yN,vN,jN,wN,NN,kN=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return _w(t=Cw(this,e,[].concat(n)),"lastBoundingBox",{width:-1,height:-1}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ew(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getWithHeight",value:function(e,t){var r=kw(kw({},this.defaultProps),e.props).layout;return"vertical"===r&&yx(e.props.height)?{height:e.props.height}:"horizontal"===r?{width:e.props.width||t}:null}}],(r=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kw({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,r,n=this.props,s=n.layout,a=n.align,i=n.verticalAlign,o=n.margin,l=n.chartWidth,c=n.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===s?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:o&&o.right||0}:{left:o&&o.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(r="middle"===i?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===i?{bottom:o&&o.bottom||0}:{top:o&&o.top||0}),kw(kw({},t),r)}},{key:"render",value:function(){var e=this,t=this.props,r=t.content,n=t.width,s=t.height,a=t.wrapperStyle,i=t.payloadUniqBy,o=t.payload,l=kw(kw({position:"absolute",width:n||"auto",height:s||"auto"},this.getDefaultPosition(a)),a);return Ur.createElement("div",{className:"recharts-legend-wrapper",style:l,ref:function(t){e.wrapperNode=t}},function(e,t){if(Ur.isValidElement(e))return Ur.cloneElement(e,t);if("function"==typeof e)return Ur.createElement(e,t);t.ref;var r=Dw(t,ww);return Ur.createElement(Ky,r)}(r,kw(kw({},this.props),{},{payload:vw(o,i,Ow)})))}}])&&Sw(t.prototype,r),n&&Sw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function SN(){if(Rw)return Iw;Rw=1;var e=rv(),t=function(){if(Mw)return Lw;Mw=1;var e=kf(),t=sv(),r=jf(),n=e?e.isConcatSpreadable:void 0;return Lw=function(e){return r(e)||t(e)||!!(n&&e&&e[n])}}();return Iw=function r(n,s,a,i,o){var l=-1,c=n.length;for(a||(a=t),o||(o=[]);++l<c;){var d=n[l];s>0&&a(d)?s>1?r(d,s-1,a,i,o):e(o,d):i||(o[o.length]=d)}return o},Iw}function CN(){if(qw)return Bw;qw=1;var e=(Fw?zw:(Fw=1,zw=function(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),o=i.length;o--;){var l=i[e?o:++s];if(!1===r(a[l],l,a))break}return t}}))();return Bw=e}function AN(){if(Uw)return $w;Uw=1;var e=CN(),t=rw();return $w=function(r,n){return r&&e(r,n,t)}}function TN(){if(Gw)return Hw;Gw=1;var e=AN(),t=function(){if(Vw)return Ww;Vw=1;var e=tw();return Ww=function(t,r){return function(n,s){if(null==n)return n;if(!e(n))return t(n,s);for(var a=n.length,i=r?a:-1,o=Object(n);(r?i--:++i<a)&&!1!==s(o[i],i,o););return n}}}()(e);return Hw=t}function EN(){if(Yw)return Kw;Yw=1;var e=TN(),t=tw();return Kw=function(r,n){var s=-1,a=t(r)?Array(r.length):[];return e(r,function(e,t,r){a[++s]=n(e,t,r)}),a}}function _N(){if(tN)return eN;tN=1;var e=function(){if(Zw)return Qw;Zw=1;var e=Af();return Qw=function(t,r){if(t!==r){var n=void 0!==t,s=null===t,a=t==t,i=e(t),o=void 0!==r,l=null===r,c=r==r,d=e(r);if(!l&&!d&&!i&&t>r||i&&o&&c&&!l&&!d||s&&o&&c||!n&&c||!a)return 1;if(!s&&!i&&!d&&t<r||d&&n&&a&&!s&&!i||l&&n&&a||!o&&a||!c)return-1}return 0}}();return eN=function(t,r,n){for(var s=-1,a=t.criteria,i=r.criteria,o=a.length,l=n.length;++s<o;){var c=e(a[s],i[s]);if(c)return s>=l?c:c*("desc"==n[s]?-1:1)}return t.index-r.index}}function PN(){if(nN)return rN;nN=1;var e=Wf(),t=Kf(),r=pw(),n=EN(),s=Jw?Xw:(Jw=1,Xw=function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}),a=vv(),i=_N(),o=mw(),l=jf();return rN=function(c,d,u){d=d.length?e(d,function(e){return l(e)?function(r){return t(r,1===e.length?e[0]:e)}:e}):[o];var m=-1;d=e(d,a(r));var h=n(c,function(t,r,n){return{criteria:e(d,function(e){return e(t)}),index:++m,value:t}});return s(h,function(e,t){return i(e,t,u)})}}function DN(){if(oN)return iN;oN=1;var e=aN?sN:(aN=1,sN=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}),t=Math.max;return iN=function(r,n,s){return n=t(void 0===n?r.length-1:n,0),function(){for(var a=arguments,i=-1,o=t(a.length-n,0),l=Array(o);++i<o;)l[i]=a[n+i];i=-1;for(var c=Array(n+1);++i<n;)c[i]=a[i];return c[n]=s(l),e(r,this,c)}},iN}function ON(){if(uN)return dN;uN=1;var e=Of(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();return dN=t}function LN(){if(hN)return mN;hN=1;var e=cN?lN:(cN=1,lN=function(e){return function(){return e}}),t=ON(),r=mw();return mN=t?function(r,n){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:r}function MN(){if(gN)return xN;gN=1;var e=LN(),t=function(){if(fN)return pN;fN=1;var e=Date.now;return pN=function(t){var r=0,n=0;return function(){var s=e(),a=16-(s-n);if(n=s,a>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},pN}(),r=t(e);return xN=r}function IN(){if(jN)return vN;jN=1;var e=If(),t=tw(),r=bv(),n=Ef();return vN=function(s,a,i){if(!n(i))return!1;var o=typeof a;return!!("number"==o?t(i)&&r(a,i.length):"string"==o&&a in i)&&e(i[a],s)}}_w(kN,"displayName","Legend"),_w(kN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});const RN=Br(function(){if(NN)return wN;NN=1;var e=SN(),t=PN(),r=function(){if(yN)return bN;yN=1;var e=mw(),t=DN(),r=MN();return bN=function(n,s){return r(t(n,s,e),n+"")}}(),n=IN(),s=r(function(r,s){if(null==r)return[];var a=s.length;return a>1&&n(r,s[0],s[1])?s=[]:a>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),t(r,e(s,1),[])});return wN=s}());function zN(e){return(zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(this,arguments)}function BN(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function UN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(t){WN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function WN(e,t,r){var n;return n=function(e,t){if("object"!=zN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==zN(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VN(e){return Array.isArray(e)&&vx(e[0])&&vx(e[1])?e.join(" ~ "):e}var HN=function(e){var t=e.separator,r=void 0===t?" : ":t,n=e.contentStyle,s=void 0===n?{}:n,a=e.itemStyle,i=void 0===a?{}:a,o=e.labelStyle,l=void 0===o?{}:o,c=e.payload,d=e.formatter,u=e.itemSorter,m=e.wrapperClassName,h=e.labelClassName,p=e.label,f=e.labelFormatter,x=e.accessibilityLayer,g=void 0!==x&&x,b=UN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),y=UN({margin:0},l),v=!Zf(p),j=v?p:"",w=P("recharts-default-tooltip",m),N=P("recharts-tooltip-label",h);v&&f&&null!=c&&(j=f(p,c));var k=g?{role:"status","aria-live":"assertive"}:{};return Ur.createElement("div",FN({className:w,style:b},k),Ur.createElement("p",{className:N,style:y},Ur.isValidElement(j)?j:"".concat(j)),function(){if(c&&c.length){var e=(u?RN(c,u):c).map(function(e,t){if("none"===e.type)return null;var n=UN({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},i),s=e.formatter||d||VN,a=e.value,o=e.name,l=a,u=o;if(s&&null!=l&&null!=u){var m=s(a,o,e,t,c);if(Array.isArray(m)){var h=BN(m,2);l=h[0],u=h[1]}else l=m}return Ur.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:n},vx(u)?Ur.createElement("span",{className:"recharts-tooltip-item-name"},u):null,vx(u)?Ur.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Ur.createElement("span",{className:"recharts-tooltip-item-value"},l),Ur.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return Ur.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function GN(e){return(GN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KN(e,t,r){var n;return n=function(e,t){if("object"!=GN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=GN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==GN(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var YN="recharts-tooltip-wrapper",XN={visibility:"hidden"};function JN(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return P(YN,KN(KN(KN(KN({},"".concat(YN,"-right"),yx(r)&&t&&yx(t.x)&&r>=t.x),"".concat(YN,"-left"),yx(r)&&t&&yx(t.x)&&r<t.x),"".concat(YN,"-bottom"),yx(n)&&t&&yx(t.y)&&n>=t.y),"".concat(YN,"-top"),yx(n)&&t&&yx(t.y)&&n<t.y))}function QN(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&yx(a[n]))return a[n];var d=r[n]-o-s,u=r[n]+s;return t[n]?i[n]?d:u:i[n]?d<l[n]?Math.max(u,l[n]):Math.max(d,l[n]):u+o>l[n]+c?Math.max(d,l[n]):Math.max(u,l[n])}function ZN(e){return(ZN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ek(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ek(Object(r),!0).forEach(function(t){ok(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nk(e,t,r){return t=ak(t),function(e,t){if(t&&("object"===ZN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sk()?Reflect.construct(t,r||[],ak(e).constructor):t.apply(e,r))}function sk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(sk=function(){return!!e})()}function ak(e){return(ak=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ik(e,t){return(ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ok(e,t,r){return(t=lk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lk(e){var t=function(e,t){if("object"!=ZN(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=ZN(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==ZN(t)?t:t+""}var ck=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return ok(t=nk(this,e,[].concat(n)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ok(t,"handleKeyDown",function(e){var r,n,s,a;"Escape"===e.key&&t.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(r=null===(n=t.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==r?r:0,y:null!==(s=null===(a=t.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==s?s:0}})}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ik(e,t)}(e,qr.PureComponent),rk(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,i=t.children,o=t.coordinate,l=t.hasPayload,c=t.isAnimationActive,d=t.offset,u=t.position,m=t.reverseDirection,h=t.useTranslate3d,p=t.viewBox,f=t.wrapperStyle,x=function(e){var t,r,n=e.allowEscapeViewBox,s=e.coordinate,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,d=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&s?function(e){var t=e.translateX,r=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:t=QN({allowEscapeViewBox:n,coordinate:s,key:"x",offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=QN({allowEscapeViewBox:n,coordinate:s,key:"y",offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):XN,cssClasses:JN({translateX:t,translateY:r,coordinate:s})}}({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:d,position:u,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:p}),g=x.cssClasses,b=x.cssProperties,y=tk(tk({transition:c&&r?"transform ".concat(s,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&r&&l?"visible":"hidden",position:"absolute",top:0,left:0},f);return Ur.createElement("div",{tabIndex:-1,className:g,style:y,ref:function(t){e.wrapperNode=t}},i)}}])}(),dk=!("undefined"!=typeof window&&window.document&&window.document.createElement&&window.setTimeout);function uk(e){return(uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mk(Object(r),!0).forEach(function(t){yk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pk(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vk(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fk(e,t,r){return t=gk(t),function(e,t){if(t&&("object"===uk(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xk()?Reflect.construct(t,r||[],gk(e).constructor):t.apply(e,r))}function xk(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(xk=function(){return!!e})()}function gk(e){return(gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bk(e,t){return(bk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function yk(e,t,r){return(t=vk(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vk(e){var t=function(e,t){if("object"!=uk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=uk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==uk(t)?t:t+""}function jk(e){return e.dataKey}var wk,Nk,kk,Sk,Ck,Ak,Tk,Ek,_k,Pk,Dk,Ok,Lk=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fk(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bk(e,t)}(e,qr.PureComponent),pk(e,[{key:"render",value:function(){var e=this,t=this.props,r=t.active,n=t.allowEscapeViewBox,s=t.animationDuration,a=t.animationEasing,i=t.content,o=t.coordinate,l=t.filterNull,c=t.isAnimationActive,d=t.offset,u=t.payload,m=t.payloadUniqBy,h=t.position,p=t.reverseDirection,f=t.useTranslate3d,x=t.viewBox,g=t.wrapperStyle,b=null!=u?u:[];l&&b.length&&(b=vw(u.filter(function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)}),m,jk));var y=b.length>0;return Ur.createElement(ck,{allowEscapeViewBox:n,animationDuration:s,animationEasing:a,isAnimationActive:c,active:r,coordinate:o,hasPayload:y,offset:d,position:h,reverseDirection:p,useTranslate3d:f,viewBox:x,wrapperStyle:g},function(e,t){return Ur.isValidElement(e)?Ur.cloneElement(e,t):"function"==typeof e?Ur.createElement(e,t):Ur.createElement(HN,t)}(i,hk(hk({},this.props),{},{payload:b})))}}])}();function Mk(){if(Ak)return Ck;Ak=1;var e=function(){if(Sk)return kk;Sk=1;var e=/\s/;return kk=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r}}(),t=/^\s+/;return Ck=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r}}function Ik(){if(Ek)return Tk;Ek=1;var e=Mk(),t=Ef(),r=Af(),n=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,i=parseInt;return Tk=function(o){if("number"==typeof o)return o;if(r(o))return NaN;if(t(o)){var l="function"==typeof o.valueOf?o.valueOf():o;o=t(l)?l+"":l}if("string"!=typeof o)return 0===o?o:+o;o=e(o);var c=s.test(o);return c||a.test(o)?i(o.slice(2),c?2:8):n.test(o)?NaN:+o}}function Rk(){if(Pk)return _k;Pk=1;var e=Ef(),t=function(){if(Nk)return wk;Nk=1;var e=Nf();return wk=function(){return e.Date.now()}}(),r=Ik(),n=Math.max,s=Math.min;return _k=function(a,i,o){var l,c,d,u,m,h,p=0,f=!1,x=!1,g=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function b(e){var t=l,r=c;return l=c=void 0,p=e,u=a.apply(r,t)}function y(e){var t=e-h;return void 0===h||t>=i||t<0||x&&e-p>=d}function v(){var e=t();if(y(e))return j(e);m=setTimeout(v,function(e){var t=i-(e-h);return x?s(t,d-(e-p)):t}(e))}function j(e){return m=void 0,g&&l?b(e):(l=c=void 0,u)}function w(){var e=t(),r=y(e);if(l=arguments,c=this,h=e,r){if(void 0===m)return function(e){return p=e,m=setTimeout(v,i),f?b(e):u}(h);if(x)return clearTimeout(m),m=setTimeout(v,i),b(h)}return void 0===m&&(m=setTimeout(v,i)),u}return i=r(i)||0,e(o)&&(f=!!o.leading,d=(x="maxWait"in o)?n(r(o.maxWait)||0,i):d,g="trailing"in o?!!o.trailing:g),w.cancel=function(){void 0!==m&&clearTimeout(m),p=0,l=h=c=m=void 0},w.flush=function(){return void 0===m?u:j(t())},w},_k}yk(Lk,"displayName","Tooltip"),yk(Lk,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dk,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});const zk=Br(function(){if(Ok)return Dk;Ok=1;var e=Rk(),t=Ef();return Dk=function(r,n,s){var a=!0,i=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return t(s)&&(a="leading"in s?!!s.leading:a,i="trailing"in s?!!s.trailing:i),e(r,n,{leading:a,maxWait:n,trailing:i})}}());function Fk(e){return(Fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(t){$k(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $k(e,t,r){var n;return n=function(e,t){if("object"!=Fk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Fk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Fk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wk(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wk(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wk(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Vk=qr.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=void 0===n?{width:-1,height:-1}:n,a=e.width,i=void 0===a?"100%":a,o=e.height,l=void 0===o?"100%":o,c=e.minWidth,d=void 0===c?0:c,u=e.minHeight,m=e.maxHeight,h=e.children,p=e.debounce,f=void 0===p?0:p,x=e.id,g=e.className,b=e.onResize,y=e.style,v=void 0===y?{}:y,j=qr.useRef(null),w=qr.useRef();w.current=b,qr.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return j.current},configurable:!0})});var N=Uk(qr.useState({containerWidth:s.width,containerHeight:s.height}),2),k=N[0],S=N[1],C=qr.useCallback(function(e,t){S(function(r){var n=Math.round(e),s=Math.round(t);return r.containerWidth===n&&r.containerHeight===s?r:{containerWidth:n,containerHeight:s}})},[]);qr.useEffect(function(){var e=function(e){var t,r=e[0].contentRect,n=r.width,s=r.height;C(n,s),null===(t=w.current)||void 0===t||t.call(w,n,s)};f>0&&(e=zk(e,f,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),r=j.current.getBoundingClientRect(),n=r.width,s=r.height;return C(n,s),t.observe(j.current),function(){t.disconnect()}},[C,f]);var A=qr.useMemo(function(){var e=k.containerWidth,t=k.containerHeight;if(e<0||t<0)return null;kg(bx(i)||bx(l),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",i,l),kg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var n=bx(i)?e:i,s=bx(l)?t:l;r&&r>0&&(n?s=n/r:s&&(n=s*r),m&&s>m&&(s=m)),kg(n>0||s>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",n,s,i,l,d,u,r);var a=!Array.isArray(h)&&qx(h.type).endsWith("Chart");return Ur.Children.map(h,function(e){return Ur.isValidElement(e)?qr.cloneElement(e,qk({width:n,height:s},a?{style:qk({height:"100%",width:"100%",maxHeight:s,maxWidth:n},e.props.style)}:{})):e})},[r,h,l,m,u,d,k,i]);return Ur.createElement("div",{id:x?"".concat(x):void 0,className:P("recharts-responsive-container",g),style:qk(qk({},v),{},{width:i,height:l,minWidth:d,minHeight:u,maxHeight:m}),ref:j},A)}),Hk=function(e){return null};function Gk(e){return(Gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kk(Object(r),!0).forEach(function(t){Xk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xk(e,t,r){var n;return n=function(e,t){if("object"!=Gk(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Gk(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Gk(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Hk.displayName="Cell";var Jk={widthCache:{},cacheCount:0},Qk={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Zk="recharts_measurement_span";var eS=function(e){if(null==e||dk)return{width:0,height:0};var t,r=(t=Yk({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),Object.keys(t).forEach(function(e){t[e]||delete t[e]}),t),n=JSON.stringify({text:e,copyStyle:r});if(Jk.widthCache[n])return Jk.widthCache[n];try{var s=document.getElementById(Zk);s||((s=document.createElement("span")).setAttribute("id",Zk),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=Yk(Yk({},Qk),r);Object.assign(s.style,a),s.textContent="".concat(e);var i=s.getBoundingClientRect(),o={width:i.width,height:i.height};return Jk.widthCache[n]=o,++Jk.cacheCount>2e3&&(Jk.cacheCount=0,Jk.widthCache={}),o}catch(l){return{width:0,height:0}}};function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aS(n.key),n)}}function aS(e){var t=function(e,t){if("object"!=tS(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=tS(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==tS(t)?t:t+""}var iS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,oS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lS=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cS=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dS={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},uS=Object.keys(dS),mS="NaN";var hS=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),""===r||lS.test(r)||(this.num=NaN,this.unit=""),uS.includes(r)&&(this.num=function(e,t){return e*dS[t]}(t,r),this.unit="px")}return t=e,n=[{key:"parse",value:function(t){var r,n=rS(null!==(r=cS.exec(t))&&void 0!==r?r:[],3),s=n[1],a=n[2];return new e(parseFloat(s),null!=a?a:"")}}],(r=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&sS(t.prototype,r),n&&sS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function pS(e){if(e.includes(mS))return mS;for(var t=e;t.includes("*")||t.includes("/");){var r,n=rS(null!==(r=iS.exec(t))&&void 0!==r?r:[],4),s=n[1],a=n[2],i=n[3],o=hS.parse(null!=s?s:""),l=hS.parse(null!=i?i:""),c="*"===a?o.multiply(l):o.divide(l);if(c.isNaN())return mS;t=t.replace(iS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,u=rS(null!==(d=oS.exec(t))&&void 0!==d?d:[],4),m=u[1],h=u[2],p=u[3],f=hS.parse(null!=m?m:""),x=hS.parse(null!=p?p:""),g="+"===h?f.add(x):f.subtract(x);if(g.isNaN())return mS;t=t.replace(oS,g.toString())}return t}var fS=/\(([^()]*)\)/;function xS(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var r=rS(fS.exec(t),2)[1];t=t.replace(fS,pS(r))}return t}(t),t=pS(t)}function gS(e){var t=function(e){try{return xS(e)}catch(t){return mS}}(e.slice(5,-1));return t===mS?"":t}var bS=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],yS=["dx","dy","angle","className","breakAll"];function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vS.apply(this,arguments)}function jS(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function wS(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return NS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NS(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var kS=/[ \f\n\r\t\v\u2028\u2029]+/,SS=function(e){var t=e.children,r=e.breakAll,n=e.style;try{var s=[];return Zf(t)||(s=r?t.toString().split(""):t.toString().split(kS)),{wordsWithComputedWidth:s.map(function(e){return{word:e,width:eS(e,n).width}}),spaceWidth:r?0:eS("",n).width}}catch(a){return null}},CS=function(e){return[{words:Zf(e)?[]:e.toString().split(kS)}]},AS=function(e){var t=e.width,r=e.scaleToFit,n=e.children,s=e.style,a=e.breakAll,i=e.maxLines;if((t||r)&&!dk){var o=SS({breakAll:a,children:n,style:s});return o?function(e,t,r,n,s){var a=e.maxLines,i=e.children,o=e.style,l=e.breakAll,c=yx(a),d=i,u=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(e,t){var a=t.word,i=t.width,o=e[e.length-1];if(o&&(null==n||s||o.width+i+r<Number(n)))o.words.push(a),o.width+=i+r;else{var l={words:[a],width:i};e.push(l)}return e},[])},m=u(t);if(!c)return m;for(var h,p=function(e){var t=d.slice(0,e),r=SS({breakAll:l,style:o,children:t+""}).wordsWithComputedWidth,s=u(r),i=s.length>a||function(e){return e.reduce(function(e,t){return e.width>t.width?e:t})}(s).width>Number(n);return[i,s]},f=0,x=d.length-1,g=0;f<=x&&g<=d.length-1;){var b=Math.floor((f+x)/2),y=wS(p(b-1),2),v=y[0],j=y[1],w=wS(p(b),1)[0];if(v||w||(f=b+1),v&&w&&(x=b-1),!v&&w){h=j;break}g++}return h||m}({breakAll:a,children:n,maxLines:i,style:s},o.wordsWithComputedWidth,o.spaceWidth,t,r):CS(n)}return CS(n)},TS="#808080",ES=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,a=e.lineHeight,i=void 0===a?"1em":a,o=e.capHeight,l=void 0===o?"0.71em":o,c=e.scaleToFit,d=void 0!==c&&c,u=e.textAnchor,m=void 0===u?"start":u,h=e.verticalAnchor,p=void 0===h?"end":h,f=e.fill,x=void 0===f?TS:f,g=jS(e,bS),b=qr.useMemo(function(){return AS({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:d,style:g.style,width:g.width})},[g.breakAll,g.children,g.maxLines,d,g.style,g.width]),y=g.dx,v=g.dy,j=g.angle,w=g.className,N=g.breakAll,k=jS(g,yS);if(!vx(r)||!vx(s))return null;var S,C=r+(yx(y)?y:0),A=s+(yx(v)?v:0);switch(p){case"start":S=gS("calc(".concat(l,")"));break;case"middle":S=gS("calc(".concat((b.length-1)/2," * -").concat(i," + (").concat(l," / 2))"));break;default:S=gS("calc(".concat(b.length-1," * -").concat(i,")"))}var T=[];if(d){var E=b[0].width,_=g.width;T.push("scale(".concat((yx(_)?_/E:1)/E,")"))}return j&&T.push("rotate(".concat(j,", ").concat(C,", ").concat(A,")")),T.length&&(k.transform=T.join(" ")),Ur.createElement("text",vS({},Xx(k,!0),{x:C,y:A,className:P("recharts-text",w),textAnchor:m,fill:x.includes("url")?TS:x}),b.map(function(e,t){var r=e.words.join(N?"":" ");return Ur.createElement("tspan",{x:C,dy:0===t?S:i,key:"".concat(r,"-").concat(t)},r)}))};function _S(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PS(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function DS(e){let t,r,n;function s(e,n,s=0,a=e.length){if(s<a){if(0!==t(n,n))return a;do{const t=s+a>>>1;r(e[t],n)<0?s=t+1:a=t}while(s<a)}return s}return 2!==e.length?(t=_S,r=(t,r)=>_S(e(t),r),n=(t,r)=>e(t)-r):(t=e===_S||e===PS?e:OS,r=e,n=e),{left:s,center:function(e,t,r=0,a=e.length){const i=s(e,t,r,a-1);return i>r&&n(e[i-1],t)>-n(e[i],t)?i-1:i},right:function(e,n,s=0,a=e.length){if(s<a){if(0!==t(n,n))return a;do{const t=s+a>>>1;r(e[t],n)<=0?s=t+1:a=t}while(s<a)}return s}}}function OS(){return 0}function LS(e){return null===e?NaN:+e}const MS=DS(_S).right;DS(LS).center;class IS extends Map{constructor(e,t=zS){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(RS(this,e))}has(e){return super.has(RS(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function RS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function zS(e){return null!==e&&"object"==typeof e?e.valueOf():e}function FS(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const BS=Math.sqrt(50),qS=Math.sqrt(10),$S=Math.sqrt(2);function US(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),i=a>=BS?10:a>=qS?5:a>=$S?2:1;let o,l,c;return s<0?(c=Math.pow(10,-s)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?US(e,t,2*r):[o,l,c]}function WS(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[s,a,i]=n?US(t,e,r):US(e,t,r);if(!(a>=s))return[];const o=a-s+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(a-c)/-i;else for(let c=0;c<o;++c)l[c]=(a-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(s+c)/-i;else for(let c=0;c<o;++c)l[c]=(s+c)*i;return l}function VS(e,t,r){return US(e=+e,t=+t,r=+r)[2]}function HS(e,t,r){r=+r;const n=(t=+t)<(e=+e),s=n?VS(t,e,r):VS(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function GS(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function KS(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function YS(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=void 0===s?FS:function(e=_S){if(e===_S)return FS;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(s);n>r;){if(n-r>600){const a=n-r+1,i=t-r+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(i-a/2<0?-1:1);YS(e,t,Math.max(r,Math.floor(t-i*l/a+c)),Math.min(n,Math.floor(t+(a-i)*l/a+c)),s)}const a=e[t];let i=r,o=n;for(XS(e,r,t),s(e[n],a)>0&&XS(e,r,n);i<o;){for(XS(e,i,o),++i,--o;s(e[i],a)<0;)++i;for(;s(e[o],a)>0;)--o}0===s(e[r],a)?XS(e,r,o):(++o,XS(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function XS(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function JS(e,t,r=LS){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),i=+r(e[a],a,e);return i+(+r(e[a+1],a+1,e)-i)*(s-a)}}function QS(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function ZS(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const eC=Symbol("implicit");function tC(){var e=new IS,t=[],r=[],n=eC;function s(s){let a=e.get(s);if(void 0===a){if(n!==eC)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return s.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new IS;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return s},s.range=function(e){return arguments.length?(r=Array.from(e),s):r.slice()},s.unknown=function(e){return arguments.length?(n=e,s):n},s.copy=function(){return tC(t,r).unknown(n)},QS.apply(s,arguments),s}function rC(){var e,t,r=tC().unknown(void 0),n=r.domain,s=r.range,a=0,i=1,o=!1,l=0,c=0,d=.5;function u(){var r=n().length,u=i<a,m=u?i:a,h=u?a:i;e=(h-m)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),m+=(h-m-e*(r-l))*d,t=e*(1-l),o&&(m=Math.round(m),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(s);++n<s;)a[n]=e+n*r;return a}(r).map(function(t){return m+e*t});return s(u?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),u()):n()},r.range=function(e){return arguments.length?([a,i]=e,a=+a,i=+i,u()):[a,i]},r.rangeRound=function(e){return[a,i]=e,a=+a,i=+i,o=!0,u()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,u()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),u()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),u()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,u()):c},r.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),u()):d},r.copy=function(){return rC(n(),[a,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},QS.apply(u(),arguments)}function nC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nC(t())},e}function sC(){return nC(rC.apply(null,arguments).paddingInner(1))}function aC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function iC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function oC(){}var lC=.7,cC=1/lC,dC="\\s*([+-]?\\d+)\\s*",uC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hC=/^#([0-9a-f]{3,8})$/,pC=new RegExp(`^rgb\\(${dC},${dC},${dC}\\)$`),fC=new RegExp(`^rgb\\(${mC},${mC},${mC}\\)$`),xC=new RegExp(`^rgba\\(${dC},${dC},${dC},${uC}\\)$`),gC=new RegExp(`^rgba\\(${mC},${mC},${mC},${uC}\\)$`),bC=new RegExp(`^hsl\\(${uC},${mC},${mC}\\)$`),yC=new RegExp(`^hsla\\(${uC},${mC},${mC},${uC}\\)$`),vC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function jC(){return this.rgb().formatHex()}function wC(){return this.rgb().formatRgb()}function NC(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hC.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?kC(t):3===r?new AC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?SC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?SC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pC.exec(e))?new AC(t[1],t[2],t[3],1):(t=fC.exec(e))?new AC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=xC.exec(e))?SC(t[1],t[2],t[3],t[4]):(t=gC.exec(e))?SC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=bC.exec(e))?OC(t[1],t[2]/100,t[3]/100,1):(t=yC.exec(e))?OC(t[1],t[2]/100,t[3]/100,t[4]):vC.hasOwnProperty(e)?kC(vC[e]):"transparent"===e?new AC(NaN,NaN,NaN,0):null}function kC(e){return new AC(e>>16&255,e>>8&255,255&e,1)}function SC(e,t,r,n){return n<=0&&(e=t=r=NaN),new AC(e,t,r,n)}function CC(e,t,r,n){return 1===arguments.length?((s=e)instanceof oC||(s=NC(s)),s?new AC((s=s.rgb()).r,s.g,s.b,s.opacity):new AC):new AC(e,t,r,null==n?1:n);var s}function AC(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function TC(){return`#${DC(this.r)}${DC(this.g)}${DC(this.b)}`}function EC(){const e=_C(this.opacity);return`${1===e?"rgb(":"rgba("}${PC(this.r)}, ${PC(this.g)}, ${PC(this.b)}${1===e?")":`, ${e})`}`}function _C(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function PC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function DC(e){return((e=PC(e))<16?"0":"")+e.toString(16)}function OC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new MC(e,t,r,n)}function LC(e){if(e instanceof MC)return new MC(e.h,e.s,e.l,e.opacity);if(e instanceof oC||(e=NC(e)),!e)return new MC;if(e instanceof MC)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,o=a-s,l=(a+s)/2;return o?(i=t===a?(r-n)/o+6*(r<n):r===a?(n-t)/o+2:(t-r)/o+4,o/=l<.5?a+s:2-a-s,i*=60):o=l>0&&l<1?0:i,new MC(i,o,l,e.opacity)}function MC(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function IC(e){return(e=(e||0)%360)<0?e+360:e}function RC(e){return Math.max(0,Math.min(1,e||0))}function zC(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}aC(oC,NC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jC,formatHex:jC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return LC(this).formatHsl()},formatRgb:wC,toString:wC}),aC(AC,CC,iC(oC,{brighter(e){return e=null==e?cC:Math.pow(cC,e),new AC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?lC:Math.pow(lC,e),new AC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new AC(PC(this.r),PC(this.g),PC(this.b),_C(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TC,formatHex:TC,formatHex8:function(){return`#${DC(this.r)}${DC(this.g)}${DC(this.b)}${DC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:EC,toString:EC})),aC(MC,function(e,t,r,n){return 1===arguments.length?LC(e):new MC(e,t,r,null==n?1:n)},iC(oC,{brighter(e){return e=null==e?cC:Math.pow(cC,e),new MC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?lC:Math.pow(lC,e),new MC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new AC(zC(e>=240?e-240:e+120,s,n),zC(e,s,n),zC(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new MC(IC(this.h),RC(this.s),RC(this.l),_C(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_C(this.opacity);return`${1===e?"hsl(":"hsla("}${IC(this.h)}, ${100*RC(this.s)}%, ${100*RC(this.l)}%${1===e?")":`, ${e})`}`}}));const FC=e=>()=>e;function BC(e){return 1===(e=+e)?qC:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):FC(isNaN(t)?r:t)}}function qC(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):FC(isNaN(e)?t:e)}const $C=function e(t){var r=BC(t);function n(e,t){var n=r((e=CC(e)).r,(t=CC(t)).r),s=r(e.g,t.g),a=r(e.b,t.b),i=qC(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=s(t),e.b=a(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function UC(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,s=t.slice();return function(a){for(r=0;r<n;++r)s[r]=e[r]*(1-a)+t[r]*a;return s}}function WC(e,t){var r,n=t?t.length:0,s=e?Math.min(n,e.length):0,a=new Array(s),i=new Array(n);for(r=0;r<s;++r)a[r]=JC(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<s;++r)i[r]=a[r](e);return i}}function VC(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function HC(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function GC(e,t){var r,n={},s={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=JC(e[r],t[r]):s[r]=t[r];return function(e){for(r in n)s[r]=n[r](e);return s}}var KC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,YC=new RegExp(KC.source,"g");function XC(e,t){var r,n,s,a=KC.lastIndex=YC.lastIndex=0,i=-1,o=[],l=[];for(e+="",t+="";(r=KC.exec(e))&&(n=YC.exec(t));)(s=n.index)>a&&(s=t.slice(a,s),o[i]?o[i]+=s:o[++i]=s),(r=r[0])===(n=n[0])?o[i]?o[i]+=n:o[++i]=n:(o[++i]=null,l.push({i:i,x:HC(r,n)})),a=YC.lastIndex;return a<t.length&&(s=t.slice(a),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function JC(e,t){var r,n,s=typeof t;return null==t||"boolean"===s?FC(t):("number"===s?HC:"string"===s?(r=NC(t))?(t=r,$C):XC:t instanceof NC?$C:t instanceof Date?VC:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?WC:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?GC:HC:UC))(e,t)}function QC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZC(e){return+e}var eA=[0,1];function tA(e){return e}function rA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function nA(e,t,r){var n=e[0],s=e[1],a=t[0],i=t[1];return s<n?(n=rA(s,n),a=r(i,a)):(n=rA(n,s),a=r(a,i)),function(e){return a(n(e))}}function sA(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)s[i]=rA(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(t){var r=MS(e,t,1,n)-1;return a[r](s[r](t))}}function aA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function iA(){var e,t,r,n,s,a,i=eA,o=eA,l=JC,c=tA;function d(){var e,t,r,l=Math.min(i.length,o.length);return c!==tA&&(e=i[0],t=i[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?sA:nA,s=a=null,u}function u(t){return null==t||isNaN(t=+t)?r:(s||(s=n(i.map(e),o,l)))(e(c(t)))}return u.invert=function(r){return c(t((a||(a=n(o,i.map(e),HC)))(r)))},u.domain=function(e){return arguments.length?(i=Array.from(e,ZC),d()):i.slice()},u.range=function(e){return arguments.length?(o=Array.from(e),d()):o.slice()},u.rangeRound=function(e){return o=Array.from(e),l=QC,d()},u.clamp=function(e){return arguments.length?(c=!!e||tA,d()):c!==tA},u.interpolate=function(e){return arguments.length?(l=e,d()):l},u.unknown=function(e){return arguments.length?(r=e,u):r},function(r,n){return e=r,t=n,d()}}function oA(){return iA()(tA,tA)}function lA(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cA(e){return(e=lA(Math.abs(e)))?e[1]:NaN}var dA,uA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mA(e){if(!(t=uA.exec(e)))throw new Error("invalid format: "+e);var t;return new hA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function hA(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function pA(e,t){var r=lA(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}mA.prototype=hA.prototype,hA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const fA={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pA(100*e,t),r:pA,s:function(e,t){var r=lA(e,t);if(!r)return e+"";var n=r[0],s=r[1],a=s-(dA=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+lA(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function xA(e){return e}var gA,bA,yA,vA=Array.prototype.map,jA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wA(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?xA:(t=vA.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var s=e.length,a=[],i=0,o=t[0],l=0;s>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(e.substring(s-=o,s+o)),!((l+=o+1)>n));)o=t[i=(i+1)%t.length];return a.reverse().join(r)}),s=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",i=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?xA:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(vA.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"":e.minus+"",d=void 0===e.nan?"NaN":e.nan+"";function u(e){var t=(e=mA(e)).fill,r=e.align,u=e.sign,m=e.symbol,h=e.zero,p=e.width,f=e.comma,x=e.precision,g=e.trim,b=e.type;"n"===b?(f=!0,b="g"):fA[b]||(void 0===x&&(x=12),g=!0,b="g"),(h||"0"===t&&"="===r)&&(h=!0,t="0",r="=");var y="$"===m?s:"#"===m&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",v="$"===m?a:/[%p]/.test(b)?l:"",j=fA[b],w=/[defgprs%]/.test(b);function N(e){var s,a,l,m=y,N=v;if("c"===b)N=j(e)+N,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?d:j(Math.abs(e),x),g&&(e=function(e){e:for(var t,r=e.length,n=1,s=-1;n<r;++n)switch(e[n]){case".":s=t=n;break;case"0":0===s&&(s=n),t=n;break;default:if(!+e[n])break e;s>0&&(s=0)}return s>0?e.slice(0,s)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==u&&(k=!1),m=(k?"("===u?u:c:"-"===u||"("===u?"":u)+m,N=("s"===b?jA[8+dA/3]:"")+N+(k&&"("===u?")":""),w)for(s=-1,a=e.length;++s<a;)if(48>(l=e.charCodeAt(s))||l>57){N=(46===l?i+e.slice(s+1):e.slice(s))+N,e=e.slice(0,s);break}}f&&!h&&(e=n(e,1/0));var S=m.length+e.length+N.length,C=S<p?new Array(p-S+1).join(t):"";switch(f&&h&&(e=n(C+e,C.length?p-N.length:1/0),C=""),r){case"<":e=m+e+N+C;break;case"=":e=m+C+e+N;break;case"^":e=C.slice(0,S=C.length>>1)+m+e+N+C.slice(S);break;default:e=C+m+e+N}return o(e)}return x=void 0===x?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x)),N.toString=function(){return e+""},N}return{format:u,formatPrefix:function(e,t){var r=u(((e=mA(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(cA(t)/3))),s=Math.pow(10,-n),a=jA[8+n/3];return function(e){return r(s*e)+a}}}}function NA(e,t,r,n){var s,a=HS(e,t,r);switch((n=mA(null==n?",f":n)).type){case"s":var i=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(s=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(cA(t)/3)))-cA(Math.abs(e)))}(a,i))||(n.precision=s),yA(n,i);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(s=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cA(t)-cA(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=s-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(s=function(e){return Math.max(0,-cA(Math.abs(e)))}(a))||(n.precision=s-2*("%"===n.type))}return bA(n)}function kA(e){var t=e.domain;return e.ticks=function(e){var r=t();return WS(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return NA(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,s,a=t(),i=0,o=a.length-1,l=a[i],c=a[o],d=10;for(c<l&&(s=l,l=c,c=s,s=i,i=o,o=s);d-- >0;){if((s=VS(l,c,r))===n)return a[i]=l,a[o]=c,t(a);if(s>0)l=Math.floor(l/s)*s,c=Math.ceil(c/s)*s;else{if(!(s<0))break;l=Math.ceil(l*s)/s,c=Math.floor(c*s)/s}n=s}return e},e}function SA(){var e=oA();return e.copy=function(){return aA(e,SA())},QS.apply(e,arguments),kA(e)}function CA(e,t){var r,n=0,s=(e=e.slice()).length-1,a=e[n],i=e[s];return i<a&&(r=n,n=s,s=r,r=a,a=i,i=r),e[n]=t.floor(a),e[s]=t.ceil(i),e}function AA(e){return Math.log(e)}function TA(e){return Math.exp(e)}function EA(e){return-Math.log(-e)}function _A(e){return-Math.exp(-e)}function PA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DA(e){return(t,r)=>-e(-t,r)}function OA(e){const t=e(AA,TA),r=t.domain;let n,s,a=10;function i(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),s=function(e){return 10===e?PA:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=DA(n),s=DA(s),e(EA,_A)):e(AA,TA),t}return t.base=function(e){return arguments.length?(a=+e,i()):a},t.domain=function(e){return arguments.length?(r(e),i()):r()},t.ticks=e=>{const t=r();let i=t[0],o=t[t.length-1];const l=o<i;l&&([i,o]=[o,i]);let c,d,u=n(i),m=n(o);const h=null==e?10:+e;let p=[];if(!(a%1)&&m-u<h){if(u=Math.floor(u),m=Math.ceil(m),i>0){for(;u<=m;++u)for(c=1;c<a;++c)if(d=u<0?c/s(-u):c*s(u),!(d<i)){if(d>o)break;p.push(d)}}else for(;u<=m;++u)for(c=a-1;c>=1;--c)if(d=u>0?c/s(-u):c*s(u),!(d<i)){if(d>o)break;p.push(d)}2*p.length<h&&(p=WS(i,o,h))}else p=WS(u,m,Math.min(m-u,h)).map(s);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!=typeof r&&(a%1||null!=(r=mA(r)).precision||(r.trim=!0),r=bA(r)),e===1/0)return r;const i=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/s(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=i?r(e):""}},t.nice=()=>r(CA(r(),{floor:e=>s(Math.floor(n(e))),ceil:e=>s(Math.ceil(n(e)))})),t}function LA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function MA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function IA(e){var t=1,r=e(LA(t),MA(t));return r.constant=function(r){return arguments.length?e(LA(t=+r),MA(t)):t},kA(r)}function RA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function zA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FA(e){return e<0?-e*e:e*e}function BA(e){var t=e(tA,tA),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(tA,tA):.5===r?e(zA,FA):e(RA(r),RA(1/r)):r},kA(t)}function qA(){var e=BA(iA());return e.copy=function(){return aA(e,qA()).exponent(e.exponent())},QS.apply(e,arguments),e}function $A(e){return Math.sign(e)*e*e}gA=wA({thousands:",",grouping:[3],currency:["$",""]}),bA=gA.format,yA=gA.formatPrefix;const UA=new Date,WA=new Date;function VA(e,t,r,n){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=t=>(e(t=new Date(+t)),t),s.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),s.round=e=>{const t=s(e),r=s.ceil(e);return e-t<r-e?t:r},s.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),s.range=(r,n,a)=>{const i=[];if(r=s.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return i;let o;do{i.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return i},s.filter=r=>VA(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(s.count=(t,n)=>(UA.setTime(+t),WA.setTime(+n),e(UA),e(WA),Math.floor(r(UA,WA))),s.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(n?t=>n(t)%e===0:t=>s.count(0,t)%e===0):s:null)),s}const HA=VA(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);HA.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?VA(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):HA:null),HA.range;const GA=1e3,KA=6e4,YA=36e5,XA=864e5,JA=6048e5,QA=2592e6,ZA=31536e6,eT=VA(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*GA)},(e,t)=>(t-e)/GA,e=>e.getUTCSeconds());eT.range;const tT=VA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GA)},(e,t)=>{e.setTime(+e+t*KA)},(e,t)=>(t-e)/KA,e=>e.getMinutes());tT.range;const rT=VA(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*KA)},(e,t)=>(t-e)/KA,e=>e.getUTCMinutes());rT.range;const nT=VA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GA-e.getMinutes()*KA)},(e,t)=>{e.setTime(+e+t*YA)},(e,t)=>(t-e)/YA,e=>e.getHours());nT.range;const sT=VA(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*YA)},(e,t)=>(t-e)/YA,e=>e.getUTCHours());sT.range;const aT=VA(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*KA)/XA,e=>e.getDate()-1);aT.range;const iT=VA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/XA,e=>e.getUTCDate()-1);iT.range;const oT=VA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/XA,e=>Math.floor(e/XA));function lT(e){return VA(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*KA)/JA)}oT.range;const cT=lT(0),dT=lT(1),uT=lT(2),mT=lT(3),hT=lT(4),pT=lT(5),fT=lT(6);function xT(e){return VA(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/JA)}cT.range,dT.range,uT.range,mT.range,hT.range,pT.range,fT.range;const gT=xT(0),bT=xT(1),yT=xT(2),vT=xT(3),jT=xT(4),wT=xT(5),NT=xT(6);gT.range,bT.range,yT.range,vT.range,jT.range,wT.range,NT.range;const kT=VA(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());kT.range;const ST=VA(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());ST.range;const CT=VA(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());CT.every=e=>isFinite(e=Math.floor(e))&&e>0?VA(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,CT.range;const AT=VA(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function TT(e,t,r,n,s,a){const i=[[eT,1,GA],[eT,5,5e3],[eT,15,15e3],[eT,30,3e4],[a,1,KA],[a,5,3e5],[a,15,9e5],[a,30,18e5],[s,1,YA],[s,3,108e5],[s,6,216e5],[s,12,432e5],[n,1,XA],[n,2,1728e5],[r,1,JA],[t,1,QA],[t,3,7776e6],[e,1,ZA]];function o(t,r,n){const s=Math.abs(r-t)/n,a=DS(([,,e])=>e).right(i,s);if(a===i.length)return e.every(HS(t/ZA,r/ZA,n));if(0===a)return HA.every(Math.max(HS(t,r,n),1));const[o,l]=i[s/i[a-1][2]<i[a][2]/s?a-1:a];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const s=r&&"function"==typeof r.range?r:o(e,t,r),a=s?s.range(e,+t+1):[];return n?a.reverse():a},o]}AT.every=e=>isFinite(e=Math.floor(e))&&e>0?VA(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,AT.range;const[ET,_T]=TT(AT,ST,gT,oT,sT,rT),[PT,DT]=TT(CT,kT,cT,aT,nT,tT);function OT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function LT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function MT(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var IT,RT,zT,FT={"-":"",_:" ",0:"0"},BT=/^\s*\d+/,qT=/^%/,$T=/[\\^$*+?|[\]().{}]/g;function UT(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function WT(e){return e.replace($T,"\\$&")}function VT(e){return new RegExp("^(?:"+e.map(WT).join("|")+")","i")}function HT(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function GT(e,t,r){var n=BT.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function KT(e,t,r){var n=BT.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function YT(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function XT(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function JT(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function QT(e,t,r){var n=BT.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function ZT(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eE(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tE(e,t,r){var n=BT.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function rE(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function nE(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sE(e,t,r){var n=BT.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aE(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iE(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function oE(e,t,r){var n=BT.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function lE(e,t,r){var n=BT.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function cE(e,t,r){var n=BT.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dE(e,t,r){var n=qT.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uE(e,t,r){var n=BT.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mE(e,t,r){var n=BT.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hE(e,t){return UT(e.getDate(),t,2)}function pE(e,t){return UT(e.getHours(),t,2)}function fE(e,t){return UT(e.getHours()%12||12,t,2)}function xE(e,t){return UT(1+aT.count(CT(e),e),t,3)}function gE(e,t){return UT(e.getMilliseconds(),t,3)}function bE(e,t){return gE(e,t)+"000"}function yE(e,t){return UT(e.getMonth()+1,t,2)}function vE(e,t){return UT(e.getMinutes(),t,2)}function jE(e,t){return UT(e.getSeconds(),t,2)}function wE(e){var t=e.getDay();return 0===t?7:t}function NE(e,t){return UT(cT.count(CT(e)-1,e),t,2)}function kE(e){var t=e.getDay();return t>=4||0===t?hT(e):hT.ceil(e)}function SE(e,t){return e=kE(e),UT(hT.count(CT(e),e)+(4===CT(e).getDay()),t,2)}function CE(e){return e.getDay()}function AE(e,t){return UT(dT.count(CT(e)-1,e),t,2)}function TE(e,t){return UT(e.getFullYear()%100,t,2)}function EE(e,t){return UT((e=kE(e)).getFullYear()%100,t,2)}function _E(e,t){return UT(e.getFullYear()%1e4,t,4)}function PE(e,t){var r=e.getDay();return UT((e=r>=4||0===r?hT(e):hT.ceil(e)).getFullYear()%1e4,t,4)}function DE(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+UT(t/60|0,"0",2)+UT(t%60,"0",2)}function OE(e,t){return UT(e.getUTCDate(),t,2)}function LE(e,t){return UT(e.getUTCHours(),t,2)}function ME(e,t){return UT(e.getUTCHours()%12||12,t,2)}function IE(e,t){return UT(1+iT.count(AT(e),e),t,3)}function RE(e,t){return UT(e.getUTCMilliseconds(),t,3)}function zE(e,t){return RE(e,t)+"000"}function FE(e,t){return UT(e.getUTCMonth()+1,t,2)}function BE(e,t){return UT(e.getUTCMinutes(),t,2)}function qE(e,t){return UT(e.getUTCSeconds(),t,2)}function $E(e){var t=e.getUTCDay();return 0===t?7:t}function UE(e,t){return UT(gT.count(AT(e)-1,e),t,2)}function WE(e){var t=e.getUTCDay();return t>=4||0===t?jT(e):jT.ceil(e)}function VE(e,t){return e=WE(e),UT(jT.count(AT(e),e)+(4===AT(e).getUTCDay()),t,2)}function HE(e){return e.getUTCDay()}function GE(e,t){return UT(bT.count(AT(e)-1,e),t,2)}function KE(e,t){return UT(e.getUTCFullYear()%100,t,2)}function YE(e,t){return UT((e=WE(e)).getUTCFullYear()%100,t,2)}function XE(e,t){return UT(e.getUTCFullYear()%1e4,t,4)}function JE(e,t){var r=e.getUTCDay();return UT((e=r>=4||0===r?jT(e):jT.ceil(e)).getUTCFullYear()%1e4,t,4)}function QE(){return"+0000"}function ZE(){return"%"}function e_(e){return+e}function t_(e){return Math.floor(+e/1e3)}function r_(e){return new Date(e)}function n_(e){return e instanceof Date?+e:+new Date(+e)}function s_(e,t,r,n,s,a,i,o,l,c){var d=oA(),u=d.invert,m=d.domain,h=c(".%L"),p=c(":%S"),f=c("%I:%M"),x=c("%I %p"),g=c("%a %d"),b=c("%b %d"),y=c("%B"),v=c("%Y");function j(e){return(l(e)<e?h:o(e)<e?p:i(e)<e?f:a(e)<e?x:n(e)<e?s(e)<e?g:b:r(e)<e?y:v)(e)}return d.invert=function(e){return new Date(u(e))},d.domain=function(e){return arguments.length?m(Array.from(e,n_)):m().map(r_)},d.ticks=function(t){var r=m();return e(r[0],r[r.length-1],null==t?10:t)},d.tickFormat=function(e,t){return null==t?j:c(t)},d.nice=function(e){var r=m();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?m(CA(r,e)):d},d.copy=function(){return aA(d,s_(e,t,r,n,s,a,i,o,l,c))},d}function a_(){var e,t,r,n,s,a=0,i=1,o=tA,l=!1;function c(t){return null==t||isNaN(t=+t)?s:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function d(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(s){return arguments.length?([a,i]=s,e=n(a=+a),t=n(i=+i),r=e===t?0:1/(t-e),c):[a,i]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=d(JC),c.rangeRound=d(QC),c.unknown=function(e){return arguments.length?(s=e,c):s},function(s){return n=s,e=s(a),t=s(i),r=e===t?0:1/(t-e),c}}function i_(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function o_(){var e=BA(a_());return e.copy=function(){return i_(e,o_()).exponent(e.exponent())},ZS.apply(e,arguments)}function l_(){var e,t,r,n,s,a,i,o=0,l=.5,c=1,d=1,u=tA,m=!1;function h(e){return isNaN(e=+e)?i:(e=.5+((e=+a(e))-t)*(d*e<d*t?n:s),u(m?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,s;return arguments.length?([r,n,s]=t,u=function(e,t){void 0===t&&(t=e,e=JC);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,s]),h):[u(0),u(.5),u(1)]}}return h.domain=function(i){return arguments.length?([o,l,c]=i,e=a(o=+o),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),s=t===r?0:.5/(r-t),d=t<e?-1:1,h):[o,l,c]},h.clamp=function(e){return arguments.length?(m=!!e,h):m},h.interpolator=function(e){return arguments.length?(u=e,h):u},h.range=p(JC),h.rangeRound=p(QC),h.unknown=function(e){return arguments.length?(i=e,h):i},function(i){return a=i,e=i(o),t=i(l),r=i(c),n=e===t?0:.5/(t-e),s=t===r?0:.5/(r-t),d=t<e?-1:1,h}}function c_(){var e=BA(l_());return e.copy=function(){return i_(e,c_()).exponent(e.exponent())},ZS.apply(e,arguments)}!function(e){IT=function(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=VT(s),d=HT(s),u=VT(a),m=HT(a),h=VT(i),p=HT(i),f=VT(o),x=HT(o),g=VT(l),b=HT(l),y={a:function(e){return i[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:hE,e:hE,f:bE,g:EE,G:PE,H:pE,I:fE,j:xE,L:gE,m:yE,M:vE,p:function(e){return s[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:e_,s:t_,S:jE,u:wE,U:NE,V:SE,w:CE,W:AE,x:null,X:null,y:TE,Y:_E,Z:DE,"%":ZE},v={a:function(e){return i[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:OE,e:OE,f:zE,g:YE,G:JE,H:LE,I:ME,j:IE,L:RE,m:FE,M:BE,p:function(e){return s[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:e_,s:t_,S:qE,u:$E,U:UE,V:VE,w:HE,W:GE,x:null,X:null,y:KE,Y:XE,Z:QE,"%":ZE},j={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=u.exec(t.slice(r));return n?(e.w=m.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=b.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.m=x.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return k(e,t,r,n)},d:nE,e:nE,f:cE,g:ZT,G:QT,H:aE,I:aE,j:sE,L:lE,m:rE,M:iE,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=d.get(n[0].toLowerCase()),r+n[0].length):-1},q:tE,Q:uE,s:mE,S:oE,u:KT,U:YT,V:XT,w:GT,W:JT,x:function(e,t,n){return k(e,r,t,n)},X:function(e,t,r){return k(e,n,t,r)},y:ZT,Y:QT,Z:eE,"%":dE};function w(e,t){return function(r){var n,s,a,i=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(i.push(e.slice(l,o)),null!=(s=FT[n=e.charAt(++o)])?n=e.charAt(++o):s="e"===n?" ":"0",(a=t[n])&&(n=a(r,s)),i.push(n),l=o+1);return i.push(e.slice(l,o)),i.join("")}}function N(e,t){return function(r){var n,s,a=MT(1900,void 0,1);if(k(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(s=(n=LT(MT(a.y,0,1))).getUTCDay(),n=s>4||0===s?bT.ceil(n):bT(n),n=iT.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(s=(n=OT(MT(a.y,0,1))).getDay(),n=s>4||0===s?dT.ceil(n):dT(n),n=aT.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),s="Z"in a?LT(MT(a.y,0,1)).getUTCDay():OT(MT(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(s+5)%7:a.w+7*a.U-(s+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,LT(a)):OT(a)}}function k(e,t,r,n){for(var s,a,i=0,o=t.length,l=r.length;i<o;){if(n>=l)return-1;if(37===(s=t.charCodeAt(i++))){if(s=t.charAt(i++),!(a=j[s in FT?t.charAt(i++):s])||(n=a(e,r,n))<0)return-1}else if(s!=r.charCodeAt(n++))return-1}return n}return y.x=w(r,y),y.X=w(n,y),y.c=w(t,y),v.x=w(r,v),v.X=w(n,v),v.c=w(t,v),{format:function(e){var t=w(e+="",y);return t.toString=function(){return e},t},parse:function(e){var t=N(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},utcParse:function(e){var t=N(e+="",!0);return t.toString=function(){return e},t}}}(e),RT=IT.format,IT.parse,zT=IT.utcFormat,IT.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const d_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rC,scaleDiverging:function e(){var t=kA(l_()(tA));return t.copy=function(){return i_(t,e())},ZS.apply(t,arguments)},scaleDivergingLog:function e(){var t=OA(l_()).domain([.1,1,10]);return t.copy=function(){return i_(t,e()).base(t.base())},ZS.apply(t,arguments)},scaleDivergingPow:c_,scaleDivergingSqrt:function(){return c_.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=IA(l_());return t.copy=function(){return i_(t,e()).constant(t.constant())},ZS.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,ZC),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,ZC):[0,1],kA(n)},scaleImplicit:eC,scaleLinear:SA,scaleLog:function e(){const t=OA(iA()).domain([1,10]);return t.copy=()=>aA(t,e()).base(t.base()),QS.apply(t,arguments),t},scaleOrdinal:tC,scalePoint:sC,scalePow:qA,scaleQuantile:function e(){var t,r=[],n=[],s=[];function a(){var e=0,t=Math.max(1,n.length);for(s=new Array(t-1);++e<t;)s[e-1]=JS(r,e/t);return i}function i(e){return null==e||isNaN(e=+e)?t:n[MS(s,e)]}return i.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?s[t-1]:r[0],t<s.length?s[t]:r[r.length-1]]},i.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(_S),a()},i.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},i.unknown=function(e){return arguments.length?(t=e,i):t},i.quantiles=function(){return s.slice()},i.copy=function(){return e().domain(r).range(n).unknown(t)},QS.apply(i,arguments)},scaleQuantize:function e(){var t,r=0,n=1,s=1,a=[.5],i=[0,1];function o(e){return null!=e&&e<=e?i[MS(a,e,0,s)]:t}function l(){var e=-1;for(a=new Array(s);++e<s;)a[e]=((e+1)*n-(e-s)*r)/(s+1);return o}return o.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},o.range=function(e){return arguments.length?(s=(i=Array.from(e)).length-1,l()):i.slice()},o.invertExtent=function(e){var t=i.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,a[0]]:t>=s?[a[s-1],n]:[a[t-1],a[t]]},o.unknown=function(e){return arguments.length?(t=e,o):o},o.thresholds=function(){return a.slice()},o.copy=function(){return e().domain([r,n]).range(i).unknown(t)},QS.apply(kA(o),arguments)},scaleRadial:function e(){var t,r=oA(),n=[0,1],s=!1;function a(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:s?Math.round(n):n}return a.invert=function(e){return r.invert($A(e))},a.domain=function(e){return arguments.length?(r.domain(e),a):r.domain()},a.range=function(e){return arguments.length?(r.range((n=Array.from(e,ZC)).map($A)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(s=!!e,a):s},a.clamp=function(e){return arguments.length?(r.clamp(e),a):r.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e(r.domain(),n).round(s).clamp(r.clamp()).unknown(t)},QS.apply(a,arguments),kA(a)},scaleSequential:function e(){var t=kA(a_()(tA));return t.copy=function(){return i_(t,e())},ZS.apply(t,arguments)},scaleSequentialLog:function e(){var t=OA(a_()).domain([1,10]);return t.copy=function(){return i_(t,e()).base(t.base())},ZS.apply(t,arguments)},scaleSequentialPow:o_,scaleSequentialQuantile:function e(){var t=[],r=tA;function n(e){if(null!=e&&!isNaN(e=+e))return r((MS(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(_S),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return KS(e);if(t>=1)return GS(e);var r,n=(r-1)*t,s=Math.floor(n),a=GS(YS(e,s).subarray(0,s+1));return a+(KS(e.subarray(s+1))-a)*(n-s)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},ZS.apply(n,arguments)},scaleSequentialSqrt:function(){return o_.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=IA(a_());return t.copy=function(){return i_(t,e()).constant(t.constant())},ZS.apply(t,arguments)},scaleSqrt:function(){return qA.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=IA(iA());return t.copy=function(){return aA(t,e()).constant(t.constant())},QS.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],s=1;function a(e){return null!=e&&e<=e?n[MS(r,e,0,s)]:t}return a.domain=function(e){return arguments.length?(r=Array.from(e),s=Math.min(r.length,n.length-1),a):r.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),s=Math.min(r.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(r).range(n).unknown(t)},QS.apply(a,arguments)},scaleTime:function(){return QS.apply(s_(PT,DT,CT,kT,cT,aT,nT,tT,eT,RT).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return QS.apply(s_(ET,_T,AT,ST,gT,iT,sT,rT,eT,zT).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:NA},Symbol.toStringTag,{value:"Module"}));var u_,m_,h_,p_,f_,x_;function g_(){if(m_)return u_;m_=1;var e=Af();return u_=function(t,r,n){for(var s=-1,a=t.length;++s<a;){var i=t[s],o=r(i);if(null!=o&&(void 0===l?o==o&&!e(o):n(o,l)))var l=o,c=i}return c}}function b_(){if(p_)return h_;return p_=1,h_=function(e,t){return e>t}}const y_=Br(function(){if(x_)return f_;x_=1;var e=g_(),t=b_(),r=mw();return f_=function(n){return n&&n.length?e(n,r,t):void 0}}());var v_,j_,w_,N_;function k_(){if(j_)return v_;return j_=1,v_=function(e,t){return e<t}}const S_=Br(function(){if(N_)return w_;N_=1;var e=g_(),t=k_(),r=mw();return w_=function(n){return n&&n.length?e(n,r,t):void 0}}());var C_,A_,T_,E_;const __=Br(function(){if(E_)return T_;E_=1;var e=SN(),t=function(){if(A_)return C_;A_=1;var e=Wf(),t=pw(),r=EN(),n=jf();return C_=function(s,a){return(n(s)?e:r)(s,t(a,3))}}();return T_=function(r,n){return e(t(r,n),1)}}());var P_,D_;const O_=Br(function(){if(D_)return P_;D_=1;var e=ow();return P_=function(t,r){return e(t,r)}}());var L_,M_=1e9,I_=!0,R_="[DecimalError] ",z_=R_+"Invalid argument: ",F_=R_+"Exponent out of range: ",B_=Math.floor,q_=Math.pow,$_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,U_=1e7,W_=9007199254740991,V_=B_(1286742750677284.5),H_={};function G_(e,t){var r,n,s,a,i,o,l,c,d=e.constructor,u=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),I_?nP(t,u):t;if(l=e.d,c=t.d,i=e.e,s=t.e,l=l.slice(),a=i-s){for(a<0?(n=l,a=-a,o=c.length):(n=c,s=i,o=l.length),a>(o=(i=Math.ceil(u/7))>o?i+1:o+1)&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((o=l.length)-(a=c.length)<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/U_|0,l[a]%=U_;for(r&&(l.unshift(r),++s),o=l.length;0==l[--o];)l.pop();return t.d=l,t.e=s,I_?nP(t,u):t}function K_(e,t,r){if(e!==~~e||e<t||e>r)throw Error(z_+e)}function Y_(e){var t,r,n,s=e.length-1,a="",i=e[0];if(s>0){for(a+=i,t=1;t<s;t++)(r=7-(n=e[t]+"").length)&&(a+=eP(r)),a+=n;(r=7-(n=(i=e[t])+"").length)&&(a+=eP(r))}else if(0===i)return"0";for(;i%10==0;)i/=10;return a+i}H_.absoluteValue=H_.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},H_.comparedTo=H_.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(s=e.d.length)?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1},H_.decimalPlaces=H_.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},H_.dividedBy=H_.div=function(e){return X_(this,new this.constructor(e))},H_.dividedToIntegerBy=H_.idiv=function(e){var t=this.constructor;return nP(X_(this,new t(e),0,1),t.precision)},H_.equals=H_.eq=function(e){return!this.cmp(e)},H_.exponent=function(){return Q_(this)},H_.greaterThan=H_.gt=function(e){return this.cmp(e)>0},H_.greaterThanOrEqualTo=H_.gte=function(e){return this.cmp(e)>=0},H_.isInteger=H_.isint=function(){return this.e>this.d.length-2},H_.isNegative=H_.isneg=function(){return this.s<0},H_.isPositive=H_.ispos=function(){return this.s>0},H_.isZero=function(){return 0===this.s},H_.lessThan=H_.lt=function(e){return this.cmp(e)<0},H_.lessThanOrEqualTo=H_.lte=function(e){return this.cmp(e)<1},H_.logarithm=H_.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(L_))throw Error(R_+"NaN");if(r.s<1)throw Error(R_+(r.s?"NaN":"-Infinity"));return r.eq(L_)?new n(0):(I_=!1,t=X_(tP(r,a),tP(e,a),a),I_=!0,nP(t,s))},H_.minus=H_.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sP(t,e):G_(t,(e.s=-e.s,e))},H_.modulo=H_.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(!(e=new n(e)).s)throw Error(R_+"NaN");return r.s?(I_=!1,t=X_(r,e,0,1).times(e),I_=!0,r.minus(t)):nP(new n(r),s)},H_.naturalExponential=H_.exp=function(){return J_(this)},H_.naturalLogarithm=H_.ln=function(){return tP(this)},H_.negated=H_.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},H_.plus=H_.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?G_(t,e):sP(t,(e.s=-e.s,e))},H_.precision=H_.sd=function(e){var t,r,n,s=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(z_+e);if(t=Q_(s)+1,r=7*(n=s.d.length-1)+1,n=s.d[n]){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},H_.squareRoot=H_.sqrt=function(){var e,t,r,n,s,a,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(R_+"NaN")}for(e=Q_(o),I_=!1,0==(s=Math.sqrt(+o))||s==1/0?(((t=Y_(o.d)).length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=B_((e+1)/2)-(e<0||e%2),n=new l(t=s==1/0?"5e"+e:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(s.toString()),s=i=(r=l.precision)+3;;)if(n=(a=n).plus(X_(o,a,i+2)).times(.5),Y_(a.d).slice(0,i)===(t=Y_(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),s==i&&"4999"==t){if(nP(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if("9999"!=t)break;i+=4}return I_=!0,nP(n,r)},H_.times=H_.mul=function(e){var t,r,n,s,a,i,o,l,c,d=this,u=d.constructor,m=d.d,h=(e=new u(e)).d;if(!d.s||!e.s)return new u(0);for(e.s*=d.s,r=d.e+e.e,(l=m.length)<(c=h.length)&&(a=m,m=h,h=a,i=l,l=c,c=i),a=[],n=i=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,s=l+n;s>n;)o=a[s]+h[n]*m[s-n-1]+t,a[s--]=o%U_|0,t=o/U_|0;a[s]=(a[s]+t)%U_|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,I_?nP(e,u.precision):e},H_.toDecimalPlaces=H_.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(K_(e,0,M_),void 0===t?t=n.rounding:K_(t,0,8),nP(r,e+Q_(r)+1,t))},H_.toExponential=function(e,t){var r,n=this,s=n.constructor;return void 0===e?r=aP(n,!0):(K_(e,0,M_),void 0===t?t=s.rounding:K_(t,0,8),r=aP(n=nP(new s(n),e+1,t),!0,e+1)),r},H_.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return void 0===e?aP(s):(K_(e,0,M_),void 0===t?t=a.rounding:K_(t,0,8),r=aP((n=nP(new a(s),e+Q_(s)+1,t)).abs(),!1,e+Q_(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)},H_.toInteger=H_.toint=function(){var e=this,t=e.constructor;return nP(new t(e),Q_(e)+1,t.rounding)},H_.toNumber=function(){return+this},H_.toPower=H_.pow=function(e){var t,r,n,s,a,i,o=this,l=o.constructor,c=+(e=new l(e));if(!e.s)return new l(L_);if(!(o=new l(o)).s){if(e.s<1)throw Error(R_+"Infinity");return o}if(o.eq(L_))return o;if(n=l.precision,e.eq(L_))return nP(o,n);if(i=(t=e.e)>=(r=e.d.length-1),a=o.s,i){if((r=c<0?-c:c)<=W_){for(s=new l(L_),t=Math.ceil(n/7+4),I_=!1;r%2&&iP((s=s.times(o)).d,t),0!==(r=B_(r/2));)iP((o=o.times(o)).d,t);return I_=!0,e.s<0?new l(L_).div(s):nP(s,n)}}else if(a<0)throw Error(R_+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,o.s=1,I_=!1,s=e.times(tP(o,n+12)),I_=!0,(s=J_(s)).s=a,s},H_.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return void 0===e?n=aP(s,(r=Q_(s))<=a.toExpNeg||r>=a.toExpPos):(K_(e,1,M_),void 0===t?t=a.rounding:K_(t,0,8),n=aP(s=nP(new a(s),e,t),e<=(r=Q_(s))||r<=a.toExpNeg,e)),n},H_.toSignificantDigits=H_.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(K_(e,1,M_),void 0===t?t=r.rounding:K_(t,0,8)),nP(new r(this),e,t)},H_.toString=H_.valueOf=H_.val=H_.toJSON=H_[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Q_(e),r=e.constructor;return aP(e,t<=r.toExpNeg||t>=r.toExpPos)};var X_=function(){function e(e,t){var r,n=0,s=e.length;for(e=e.slice();s--;)r=e[s]*t+n,e[s]=r%U_|0,n=r/U_|0;return n&&e.unshift(n),e}function t(e,t,r,n){var s,a;if(r!=n)a=r>n?1:-1;else for(s=a=0;s<r;s++)if(e[s]!=t[s]){a=e[s]>t[s]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*U_+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,s,a,i){var o,l,c,d,u,m,h,p,f,x,g,b,y,v,j,w,N,k,S=n.constructor,C=n.s==s.s?1:-1,A=n.d,T=s.d;if(!n.s)return new S(n);if(!s.s)throw Error(R_+"Division by zero");for(l=n.e-s.e,N=T.length,j=A.length,p=(h=new S(C)).d=[],c=0;T[c]==(A[c]||0);)++c;if(T[c]>(A[c]||0)&&--l,(b=null==a?a=S.precision:i?a+(Q_(n)-Q_(s))+1:a)<0)return new S(0);if(b=b/7+2|0,c=0,1==N)for(d=0,T=T[0],b++;(c<j||d)&&b--;c++)y=d*U_+(A[c]||0),p[c]=y/T|0,d=y%T|0;else{for((d=U_/(T[0]+1)|0)>1&&(T=e(T,d),A=e(A,d),N=T.length,j=A.length),v=N,x=(f=A.slice(0,N)).length;x<N;)f[x++]=0;(k=T.slice()).unshift(0),w=T[0],T[1]>=U_/2&&++w;do{d=0,(o=t(T,f,N,x))<0?(g=f[0],N!=x&&(g=g*U_+(f[1]||0)),(d=g/w|0)>1?(d>=U_&&(d=U_-1),1==(o=t(u=e(T,d),f,m=u.length,x=f.length))&&(d--,r(u,N<m?k:T,m))):(0==d&&(o=d=1),u=T.slice()),(m=u.length)<x&&u.unshift(0),r(f,u,x),-1==o&&(o=t(T,f,N,x=f.length))<1&&(d++,r(f,N<x?k:T,x)),x=f.length):0===o&&(d++,f=[0]),p[c++]=d,o&&f[0]?f[x++]=A[v]||0:(f=[A[v]],x=1)}while((v++<j||void 0!==f[0])&&b--)}return p[0]||p.shift(),h.e=l,nP(h,i?a+Q_(h)+1:a)}}();function J_(e,t){var r,n,s,a,i,o=0,l=0,c=e.constructor,d=c.precision;if(Q_(e)>16)throw Error(F_+Q_(e));if(!e.s)return new c(L_);for(I_=!1,i=d,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(i+=Math.log(q_(2,l))/Math.LN10*2+5|0,r=n=s=new c(L_),c.precision=i;;){if(n=nP(n.times(e),i),r=r.times(++o),Y_((a=s.plus(X_(n,r,i))).d).slice(0,i)===Y_(s.d).slice(0,i)){for(;l--;)s=nP(s.times(s),i);return c.precision=d,null==t?(I_=!0,nP(s,d)):s}s=a}}function Q_(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Z_(e,t,r){if(t>e.LN10.sd())throw I_=!0,r&&(e.precision=r),Error(R_+"LN10 precision limit exceeded");return nP(new e(e.LN10),t)}function eP(e){for(var t="";e--;)t+="0";return t}function tP(e,t){var r,n,s,a,i,o,l,c,d,u=1,m=e,h=m.d,p=m.constructor,f=p.precision;if(m.s<1)throw Error(R_+(m.s?"NaN":"-Infinity"));if(m.eq(L_))return new p(0);if(null==t?(I_=!1,c=f):c=t,m.eq(10))return null==t&&(I_=!0),Z_(p,c);if(c+=10,p.precision=c,n=(r=Y_(h)).charAt(0),a=Q_(m),!(Math.abs(a)<15e14))return l=Z_(p,c+2,f).times(a+""),m=tP(new p(n+"."+r.slice(1)),c-10).plus(l),p.precision=f,null==t?(I_=!0,nP(m,f)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Y_((m=m.times(e)).d)).charAt(0),u++;for(a=Q_(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1)),o=i=m=X_(m.minus(L_),m.plus(L_),c),d=nP(m.times(m),c),s=3;;){if(i=nP(i.times(d),c),Y_((l=o.plus(X_(i,new p(s),c))).d).slice(0,c)===Y_(o.d).slice(0,c))return o=o.times(2),0!==a&&(o=o.plus(Z_(p,c+2,f).times(a+""))),o=X_(o,new p(u),c),p.precision=f,null==t?(I_=!0,nP(o,f)):o;o=l,s+=2}}function rP(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(s=t.length;48===t.charCodeAt(s-1);)--s;if(t=t.slice(n,s)){if(s-=n,r=r-n-1,e.e=B_(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=7;n<s;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),I_&&(e.e>V_||e.e<-V_))throw Error(F_+r)}else e.s=0,e.e=0,e.d=[0];return e}function nP(e,t,r){var n,s,a,i,o,l,c,d,u=e.d;for(i=1,a=u[0];a>=10;a/=10)i++;if((n=t-i)<0)n+=7,s=t,c=u[d=0];else{if((d=Math.ceil((n+1)/7))>=(a=u.length))return e;for(c=a=u[d],i=1;a>=10;a/=10)i++;s=(n%=7)-7+i}if(void 0!==r&&(o=c/(a=q_(10,i-s-1))%10|0,l=t<0||void 0!==u[d+1]||c%a,l=r<4?(o||l)&&(0==r||r==(e.s<0?3:2)):o>5||5==o&&(4==r||l||6==r&&(n>0?s>0?c/q_(10,i-s):0:u[d-1])%10&1||r==(e.s<0?8:7))),t<1||!u[0])return l?(a=Q_(e),u.length=1,t=t-a-1,u[0]=q_(10,(7-t%7)%7),e.e=B_(-t/7)||0):(u.length=1,u[0]=e.e=e.s=0),e;if(0==n?(u.length=d,a=1,d--):(u.length=d+1,a=q_(10,7-n),u[d]=s>0?(c/q_(10,i-s)%q_(10,s)|0)*a:0),l)for(;;){if(0==d){(u[0]+=a)==U_&&(u[0]=1,++e.e);break}if(u[d]+=a,u[d]!=U_)break;u[d--]=0,a=1}for(n=u.length;0===u[--n];)u.pop();if(I_&&(e.e>V_||e.e<-V_))throw Error(F_+Q_(e));return e}function sP(e,t){var r,n,s,a,i,o,l,c,d,u,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),I_?nP(t,h):t;if(l=e.d,u=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n){for((d=i<0)?(r=l,i=-i,o=u.length):(r=u,n=c,o=l.length),i>(s=Math.max(Math.ceil(h/7),o)+2)&&(i=s,r.length=1),r.reverse(),s=i;s--;)r.push(0);r.reverse()}else{for((d=(s=l.length)<(o=u.length))&&(o=s),s=0;s<o;s++)if(l[s]!=u[s]){d=l[s]<u[s];break}i=0}for(d&&(r=l,l=u,u=r,t.s=-t.s),o=l.length,s=u.length-o;s>0;--s)l[o++]=0;for(s=u.length;s>i;){if(l[--s]<u[s]){for(a=s;a&&0===l[--a];)l[a]=U_-1;--l[a],l[s]+=U_}l[s]-=u[s]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,I_?nP(t,h):t):new m(0)}function aP(e,t,r){var n,s=Q_(e),a=Y_(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+eP(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+eP(-s-1)+a,r&&(n=r-i)>0&&(a+=eP(n))):s>=i?(a+=eP(s+1-i),r&&(n=r-s-1)>0&&(a=a+"."+eP(n))):((n=s+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(s+1===i&&(a+="."),a+=eP(n))),e.s<0?"-"+a:a}function iP(e,t){if(e.length>t)return e.length=t,!0}function oP(e){if(!e||"object"!=typeof e)throw Error(R_+"Object expected");var t,r,n,s=["precision",1,M_,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if(void 0!==(n=e[r=s[t]])){if(!(B_(n)===n&&n>=s[t+1]&&n<=s[t+2]))throw Error(z_+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(z_+r+": "+n);this[r]=new this(n)}return this}var lP=function e(t){var r,n,s;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(z_+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):rP(t,e.toString())}if("string"!=typeof e)throw Error(z_+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!$_.test(e))throw Error(z_+e);rP(t,e)}if(a.prototype=H_,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=oP,void 0===t&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(n=s[r++])||(t[n]=this[n]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});L_=new lP(1);const cP=lP;function dP(e){return function(e){if(Array.isArray(e))return uP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return uP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var mP=function(e){return e},hP={},pP=function(e){return e===hP},fP=function(e){return function t(){return 0===arguments.length||1===arguments.length&&pP(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},xP=function e(t,r){return 1===t?r:fP(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var i=s.filter(function(e){return e!==hP}).length;return i>=t?r.apply(void 0,s):e(t-i,fP(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=s.map(function(e){return pP(e)?t.shift():e});return r.apply(void 0,dP(a).concat(t))}))})},gP=function(e){return xP(e.length,e)},bP=function(e,t){for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},yP=gP(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(e){return t[e]}).map(e)}),vP=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},jP=function(e){var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return t&&s.every(function(e,r){return e===t[r]})?r:(t=s,r=e.apply(void 0,s))}};var wP=gP(function(e,t,r){var n=+e;return n+r*(+t-n)});const NP={rangeStep:function(e,t,r){for(var n=new cP(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new cP(e).abs().log(10).toNumber())+1},interpolateNumber:wP,uninterpolateNumber:gP(function(e,t,r){var n=t-+e;return(r-e)/(n=n||1/0)}),uninterpolateTruncation:gP(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))})};function kP(e){return function(e){if(Array.isArray(e))return AP(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||CP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,s=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(l){s=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(s)throw a}}return r}(e,t)||CP(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function CP(e,t){if(e){if("string"==typeof e)return AP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AP(e,t):void 0}}function AP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TP(e){var t=SP(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function EP(e,t,r){if(e.lte(0))return new cP(0);var n=NP.getDigitCount(e.toNumber()),s=new cP(10).pow(n),a=e.div(s),i=1!==n?.05:.1,o=new cP(Math.ceil(a.div(i).toNumber())).add(r).mul(i).mul(s);return t?o:new cP(Math.ceil(o))}function _P(e,t,r){var n=1,s=new cP(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new cP(10).pow(NP.getDigitCount(e)-1),s=new cP(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new cP(Math.floor(e)))}else 0===e?s=new cP(Math.floor((t-1)/2)):r||(s=new cP(Math.floor(e)));var i=Math.floor((t-1)/2),o=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return mP;var n=t.reverse(),s=n[0],a=n.slice(1);return function(){return a.reduce(function(e,t){return t(e)},s.apply(void 0,arguments))}}(yP(function(e){return s.add(new cP(e-i).mul(n)).toNumber()}),bP);return o(0,t)}function PP(e,t,r,n){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new cP(0),tickMin:new cP(0),tickMax:new cP(0)};var a,i=EP(new cP(t).sub(e).div(r-1),n,s);a=e<=0&&t>=0?new cP(0):(a=new cP(e).add(t).div(2)).sub(new cP(a).mod(i));var o=Math.ceil(a.sub(e).div(i).toNumber()),l=Math.ceil(new cP(t).sub(a).div(i).toNumber()),c=o+l+1;return c>r?PP(e,t,r,n,s+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:a.sub(new cP(o).mul(i)),tickMax:a.add(new cP(l).mul(i))})}var DP=jP(function(e){var t=SP(e,2),r=t[0],n=t[1],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Math.max(s,2),o=SP(TP([r,n]),2),l=o[0],c=o[1];if(l===-1/0||c===1/0){var d=c===1/0?[l].concat(kP(bP(0,s-1).map(function(){return 1/0}))):[].concat(kP(bP(0,s-1).map(function(){return-1/0})),[c]);return r>n?vP(d):d}if(l===c)return _P(l,s,a);var u=PP(l,c,i,a),m=u.step,h=u.tickMin,p=u.tickMax,f=NP.rangeStep(h,p.add(new cP(.1).mul(m)),m);return r>n?vP(f):f}),OP=jP(function(e,t){var r=SP(e,2),n=r[0],s=r[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=SP(TP([n,s]),2),o=i[0],l=i[1];if(o===-1/0||l===1/0)return[n,s];if(o===l)return[o];var c=Math.max(t,2),d=EP(new cP(l).sub(o).div(c-1),a,0),u=[].concat(kP(NP.rangeStep(new cP(o),new cP(l).sub(new cP(.99).mul(d)),d)),[l]);return n>s?vP(u):u});function LP(e,t){throw new Error("Invariant failed")}var MP=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function IP(e){return(IP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RP(){return RP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RP.apply(this,arguments)}function zP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FP(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BP(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qP(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $P(e,t,r){return t=WP(t),function(e,t){if(t&&("object"===IP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,UP()?Reflect.construct(t,r||[],WP(e).constructor):t.apply(e,r))}function UP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(UP=function(){return!!e})()}function WP(e){return(WP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VP(e,t){return(VP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function HP(e,t,r){return(t=GP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=function(e,t){if("object"!=IP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=IP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==IP(t)?t:t+""}var KP=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$P(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VP(e,t)}(e,Ur.Component),qP(e,[{key:"render",value:function(){var e=this.props,t=e.offset,r=e.layout,n=e.width,s=e.dataKey,a=e.data,i=e.dataPointFormatter,o=e.xAxis,l=e.yAxis,c=BP(e,MP),d=Xx(c,!1);"x"===this.props.direction&&"number"!==o.type&&LP();var u=a.map(function(e){var a=i(e,s),c=a.x,u=a.y,m=a.value,h=a.errorVal;if(!h)return null;var p,f,x=[];if(Array.isArray(h)){var g=zP(h,2);p=g[0],f=g[1]}else p=f=h;if("vertical"===r){var b=o.scale,y=u+t,v=y+n,j=y-n,w=b(m-p),N=b(m+f);x.push({x1:N,y1:v,x2:N,y2:j}),x.push({x1:w,y1:y,x2:N,y2:y}),x.push({x1:w,y1:v,x2:w,y2:j})}else if("horizontal"===r){var k=l.scale,S=c+t,C=S-n,A=S+n,T=k(m-p),E=k(m+f);x.push({x1:C,y1:E,x2:A,y2:E}),x.push({x1:S,y1:T,x2:S,y2:E}),x.push({x1:C,y1:T,x2:A,y2:T})}return Ur.createElement(Ng,RP({className:"recharts-errorBar",key:"bar-".concat(x.map(function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))},d),x.map(function(e){return Ur.createElement("line",RP({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))}))});return Ur.createElement(Ng,{className:"recharts-errorBars"},u)}}])}();function YP(e){return(YP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(t){QP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QP(e,t,r){var n;return n=function(e,t){if("object"!=YP(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=YP(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YP(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}HP(KP,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),HP(KP,"displayName","ErrorBar");var ZP=function(e){var t=e.children,r=e.formattedGraphicalItems,n=e.legendWidth,s=e.legendContent,a=Hx(t,kN);if(!a)return null;var i,o=kN.defaultProps,l=void 0!==o?JP(JP({},o),a.props):{};return i=a.props&&a.props.payload?a.props&&a.props.payload:"children"===s?(r||[]).reduce(function(e,t){var r=t.item,n=t.props,s=n.sectors||n.data||[];return e.concat(s.map(function(e){return{type:a.props.iconType||r.props.legendType,value:e.name,color:e.fill,payload:e}}))},[]):(r||[]).map(function(e){var t=e.item,r=t.type.defaultProps,n=void 0!==r?JP(JP({},r),t.props):{},s=n.dataKey,a=n.name,i=n.legendType;return{inactive:n.hide,dataKey:s,type:l.iconType||i||"square",color:lD(t),value:a||s,payload:n}}),JP(JP(JP({},l),kN.getWithHeight(a,n)),{},{payload:i,item:a})};function eD(e){return(eD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tD(e){return function(e){if(Array.isArray(e))return rD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return rD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(t){aD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aD(e,t,r){var n;return n=function(e,t){if("object"!=eD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=eD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==eD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iD(e,t,r){return Zf(e)||Zf(t)?r:vx(t)?Xf(e,t,r):nx(t)?t(e):r}function oD(e,t,r,n){var s=__(e,function(e){return iD(e,t)});if("number"===r){var a=s.filter(function(e){return yx(e)||parseFloat(e)});return a.length?[S_(a),y_(a)]:[1/0,-1/0]}return(n?s.filter(function(e){return!Zf(e)}):s).map(function(e){return vx(e)||e instanceof Date?e:""})}var lD=function(e){var t,r,n=e.type.displayName,s=null!==(t=e.type)&&void 0!==t&&t.defaultProps?sD(sD({},e.type.defaultProps),e.props):e.props,a=s.stroke,i=s.fill;switch(n){case"Line":r=a;break;case"Area":case"Radar":r=a&&"none"!==a?a:i;break;default:r=i}return r},cD=function(e,t,r,n,s){var a=Vx(t.props.children,KP).filter(function(e){return function(e,t,r){return!!Zf(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===r?"xAxis"===t:"y"!==r||"yAxis"===t)}(n,s,e.props.direction)});if(a&&a.length){var i=a.map(function(e){return e.props.dataKey});return e.reduce(function(e,t){var n=iD(t,r);if(Zf(n))return e;var s=Array.isArray(n)?[S_(n),y_(n)]:[n,n],a=i.reduce(function(e,r){var n=iD(t,r,0),a=s[0]-Math.abs(Array.isArray(n)?n[0]:n),i=s[1]+Math.abs(Array.isArray(n)?n[1]:n);return[Math.min(a,e[0]),Math.max(i,e[1])]},[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]},[1/0,-1/0])}return null},dD=function(e,t,r,n,s){var a=t.map(function(t){var a=t.props.dataKey;return"number"===r&&a&&cD(e,t,a,n)||oD(e,a,r,s)});if("number"===r)return a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]);var i={};return a.reduce(function(e,t){for(var r=0,n=t.length;r<n;r++)i[t[r]]||(i[t[r]]=!0,e.push(t[r]));return e},[])},uD=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},mD=function(e,t,r,n){if(n)return e.map(function(e){return e.coordinate});var s,a,i=e.map(function(e){return e.coordinate===t&&(s=!0),e.coordinate===r&&(a=!0),e.coordinate});return s||i.push(t),a||i.push(r),i},hD=function(e,t,r){if(!e)return null;var n=e.scale,s=e.duplicateDomain,a=e.type,i=e.range,o="scaleBand"===e.realScaleType?n.bandwidth()/2:2,l=(t||r)&&"category"===a&&n.bandwidth?n.bandwidth()/o:0;return l="angleAxis"===e.axisType&&(null==i?void 0:i.length)>=2?2*gx(i[0]-i[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map(function(e){var t=s?s.indexOf(e):e;return{coordinate:n(t)+l,value:e,offset:l}}).filter(function(e){return!fx(e.coordinate)}):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(e,t){return{coordinate:n(e)+l,value:e,index:t,offset:l}}):n.ticks&&!r?n.ticks(e.tickCount).map(function(e){return{coordinate:n(e)+l,value:e,offset:l}}):n.domain().map(function(e,t){return{coordinate:n(e)+l,value:s?s[e]:e,index:t,offset:l}})},pD=new WeakMap,fD=function(e,t){if("function"!=typeof t)return e;pD.has(e)||pD.set(e,new WeakMap);var r=pD.get(e);if(r.has(t))return r.get(t);var n=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return r.set(t,n),n},xD=function(e,t,r){var n=e.scale,s=e.type,a=e.layout,i=e.axisType;if("auto"===n)return"radial"===a&&"radiusAxis"===i?{scale:rC(),realScaleType:"band"}:"radial"===a&&"angleAxis"===i?{scale:SA(),realScaleType:"linear"}:"category"===s&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!r)?{scale:sC(),realScaleType:"point"}:"category"===s?{scale:rC(),realScaleType:"band"}:{scale:SA(),realScaleType:"linear"};if(rx(n)){var o="scale".concat(Tg(n));return{scale:(d_[o]||sC)(),realScaleType:d_[o]?o:"point"}}return nx(n)?{scale:n}:{scale:sC(),realScaleType:"point"}},gD=1e-4,bD=function(e){var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-gD,a=Math.max(n[0],n[1])+gD,i=e(t[0]),o=e(t[r-1]);(i<s||i>a||o<s||o>a)&&e.domain([t[0],t[r-1]])}},yD=function(e,t){if(!e)return null;for(var r=0,n=e.length;r<n;r++)if(e[r].item===t)return e[r].position;return null},vD=function(e,t){if(!t||2!==t.length||!yx(t[0])||!yx(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!yx(e[0])||e[0]<r)&&(s[0]=r),(!yx(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},jD={sign:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,a=0,i=0;i<t;++i){var o=fx(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1]):(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1])}},expand:function(e,t){if((n=e.length)>0){for(var r,n,s,a=0,i=e[0].length;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Eb(e,t)}},none:Eb,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,s=e[t[0]],a=s.length;n<a;++n){for(var i=0,o=0;i<r;++i)o+=e[i][n][1]||0;s[n][1]+=s[n][0]=-o/2}Eb(e,t)}},wiggle:function(e,t){if((s=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,s,a=0,i=1;i<n;++i){for(var o=0,l=0,c=0;o<s;++o){for(var d=e[t[o]],u=d[i][1]||0,m=(u-(d[i-1][1]||0))/2,h=0;h<o;++h){var p=e[t[h]];m+=(p[i][1]||0)-(p[i-1][1]||0)}l+=u,c+=m*u}r[i-1][1]+=r[i-1][0]=a,l&&(a-=c/l)}r[i-1][1]+=r[i-1][0]=a,Eb(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,a=0;a<t;++a){var i=fx(e[a][r][1])?e[a][r][0]:e[a][r][1];i>=0?(e[a][r][0]=s,e[a][r][1]=s+i,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}}},wD=function(e,t,r){var n=t.map(function(e){return e.props.dataKey}),s=jD[r],a=function(){var e=Eg([]),t=_b,r=Eb,n=Pb;function s(s){var a,i,o=Array.from(e.apply(this,arguments),Db),l=o.length,c=-1;for(const e of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(e,o[a].key,c,s)]).data=e;for(a=0,i=$g(t(o));a<l;++a)o[i[a]].index=a;return r(o,i),o}return s.keys=function(t){return arguments.length?(e="function"==typeof t?t:Eg(Array.from(t)),s):e},s.value=function(e){return arguments.length?(n="function"==typeof e?e:Eg(+e),s):n},s.order=function(e){return arguments.length?(t=null==e?_b:"function"==typeof e?e:Eg(Array.from(e)),s):t},s.offset=function(e){return arguments.length?(r=null==e?Eb:e,s):r},s}().keys(n).value(function(e,t){return+iD(e,t,0)}).order(_b).offset(s);return a(e)},ND=function(e,t){var r=t.realScaleType,n=t.type,s=t.tickCount,a=t.originalDomain,i=t.allowDecimals,o=r||t.scale;if("auto"!==o&&"linear"!==o)return null;if(s&&"number"===n&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=DP(l,s,i);return e.domain([S_(c),y_(c)]),{niceTicks:c}}if(s&&"number"===n){var d=e.domain();return{niceTicks:OP(d,s,i)}}return null};function kD(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,i=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Zf(s[t.dataKey])){var o=Cx(r,"value",s[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=iD(s,Zf(i)?t.dataKey:i);return Zf(l)?null:t.scale(l)}var SD=function(e){var t=e.axis,r=e.ticks,n=e.offset,s=e.bandSize,a=e.entry,i=e.index;if("category"===t.type)return r[i]?r[i].coordinate+n:null;var o=iD(a,t.dataKey,t.domain[i]);return Zf(o)?null:t.scale(o)-s/2+n},CD=function(e){var t=e.numericAxis,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},AD=function(e,t,r){return Object.keys(e).reduce(function(n,s){var a=e[s].stackedData.reduce(function(e,n){var s=n.slice(t,r+1).reduce(function(e,t){return[S_(t.concat([e[0]]).filter(yx)),y_(t.concat([e[1]]).filter(yx))]},[1/0,-1/0]);return[Math.min(e[0],s[0]),Math.max(e[1],s[1])]},[1/0,-1/0]);return[Math.min(a[0],n[0]),Math.max(a[1],n[1])]},[1/0,-1/0]).map(function(e){return e===1/0||e===-1/0?0:e})},TD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ED=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_D=function(e,t,r){if(nx(e))return e(t,r);if(!Array.isArray(e))return t;var n=[];if(yx(e[0]))n[0]=r?e[0]:Math.min(e[0],t[0]);else if(TD.test(e[0])){var s=+TD.exec(e[0])[1];n[0]=t[0]-s}else nx(e[0])?n[0]=e[0](t[0]):n[0]=t[0];if(yx(e[1]))n[1]=r?e[1]:Math.max(e[1],t[1]);else if(ED.test(e[1])){var a=+ED.exec(e[1])[1];n[1]=t[1]+a}else nx(e[1])?n[1]=e[1](t[1]):n[1]=t[1];return n},PD=function(e,t,r){if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=RN(t,function(e){return e.coordinate}),a=1/0,i=1,o=s.length;i<o;i++){var l=s[i],c=s[i-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},DD=function(e,t,r){return e&&e.length?O_(e,Xf(r,"type.defaultProps.domain"))?t:e:t},OD=function(e,t){var r=e.type.defaultProps?sD(sD({},e.type.defaultProps),e.props):e.props,n=r.dataKey,s=r.name,a=r.unit,i=r.formatter,o=r.tooltipType,l=r.chartType,c=r.hide;return sD(sD({},Xx(e,!1)),{},{dataKey:n,unit:a,formatter:i,name:s||n,color:lD(e),value:iD(t,n),type:o,payload:t,chartType:l,hide:c})};function LD(e){return(LD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ID(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MD(Object(r),!0).forEach(function(t){RD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RD(e,t,r){var n;return n=function(e,t){if("object"!=LD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==LD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return FD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var BD=Math.PI/180,qD=function(e){return 180*e/Math.PI},$D=function(e,t,r,n){return{x:e+Math.cos(-BD*n)*r,y:t+Math.sin(-BD*n)*r}},UD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},WD=function(e,t,r,n,s){var a=e.width,i=e.height,o=e.startAngle,l=e.endAngle,c=Nx(e.cx,a,a/2),d=Nx(e.cy,i,i/2),u=UD(a,i,r),m=Nx(e.innerRadius,u,0),h=Nx(e.outerRadius,u,.8*u);return Object.keys(t).reduce(function(e,r){var a,i=t[r],u=i.domain,p=i.reversed;if(Zf(i.range))"angleAxis"===n?a=[o,l]:"radiusAxis"===n&&(a=[m,h]),p&&(a=[a[1],a[0]]);else{var f=zD(a=i.range,2);o=f[0],l=f[1]}var x=xD(i,s),g=x.realScaleType,b=x.scale;b.domain(u).range(a),bD(b);var y=ND(b,ID(ID({},i),{},{realScaleType:g})),v=ID(ID(ID({},i),y),{},{range:a,radius:h,realScaleType:g,scale:b,cx:c,cy:d,innerRadius:m,outerRadius:h,startAngle:o,endAngle:l});return ID(ID({},e),{},RD({},r,v))},{})},VD=function(e,t){var r=e.x,n=e.y,s=t.cx,a=t.cy,i=function(e,t){var r=e.x,n=e.y,s=t.x,a=t.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(n-a,2))}({x:r,y:n},{x:s,y:a});if(i<=0)return{radius:i};var o=(r-s)/i,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:i,angle:qD(l),angleInRadian:l}},HD=function(e,t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(s,a)},GD=function(e,t){var r=e.x,n=e.y,s=VD({x:r,y:n},t),a=s.radius,i=s.angle,o=t.innerRadius,l=t.outerRadius;if(a<o||a>l)return!1;if(0===a)return!0;var c,d=function(e){var t=e.startAngle,r=e.endAngle,n=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(n,s);return{startAngle:t-360*a,endAngle:r-360*a}}(t),u=d.startAngle,m=d.endAngle,h=i;if(u<=m){for(;h>m;)h-=360;for(;h<u;)h+=360;c=h>=u&&h<=m}else{for(;h>u;)h-=360;for(;h<m;)h+=360;c=h>=m&&h<=u}return c?ID(ID({},t),{},{radius:a,angle:HD(h,t)}):null},KD=function(e){return qr.isValidElement(e)||nx(e)||"boolean"==typeof e?"":e.className};function YD(e){return(YD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var XD=["offset"];function JD(e){return function(e){if(Array.isArray(e))return QD(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return QD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZD(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(t){rO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rO(e,t,r){var n;return n=function(e,t){if("object"!=YD(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=YD(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YD(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(){return nO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nO.apply(this,arguments)}var sO=function(e,t,r){var n,s,a=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,u=c.cy,m=c.innerRadius,h=c.outerRadius,p=c.startAngle,f=c.endAngle,x=c.clockWise,g=(m+h)/2,b=function(e,t){return gx(t-e)*Math.min(Math.abs(t-e),360)}(p,f),y=b>=0?1:-1;"insideStart"===a?(n=p+y*o,s=x):"insideEnd"===a?(n=f-y*o,s=!x):"end"===a&&(n=f+y*o,s=x),s=b<=0?s:!s;var v=$D(d,u,g,n),j=$D(d,u,g,n+359*(s?1:-1)),w="M".concat(v.x,",").concat(v.y,"\n    A").concat(g,",").concat(g,",0,1,").concat(s?0:1,",\n    ").concat(j.x,",").concat(j.y),N=Zf(e.id)?wx("recharts-radial-line-"):e.id;return Ur.createElement("text",nO({},r,{dominantBaseline:"central",className:P("recharts-radial-bar-label",l)}),Ur.createElement("defs",null,Ur.createElement("path",{id:N,d:w})),Ur.createElement("textPath",{xlinkHref:"#".concat(N)},t))};function aO(e){var t,r=e.offset,n=tO({offset:void 0===r?5:r},ZD(e,XD)),s=n.viewBox,a=n.position,i=n.value,o=n.children,l=n.content,c=n.className,d=void 0===c?"":c,u=n.textBreakAll;if(!s||Zf(i)&&Zf(o)&&!qr.isValidElement(l)&&!nx(l))return null;if(qr.isValidElement(l))return qr.cloneElement(l,n);if(nx(l)){if(t=qr.createElement(l,n),qr.isValidElement(t))return t}else t=function(e){var t=e.value,r=e.formatter,n=Zf(e.children)?t:e.children;return nx(r)?r(n):n}(n);var m=function(e){return"cx"in e&&yx(e.cx)}(s),h=Xx(n,!0);if(m&&("insideStart"===a||"insideEnd"===a||"end"===a))return sO(n,t,h);var p=m?function(e){var t=e.viewBox,r=e.offset,n=e.position,s=t,a=s.cx,i=s.cy,o=s.innerRadius,l=s.outerRadius,c=(s.startAngle+s.endAngle)/2;if("outside"===n){var d=$D(a,i,l+r,c),u=d.x;return{x:u,y:d.y,textAnchor:u>=a?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:a,y:i,textAnchor:"middle",verticalAnchor:"end"};var m=$D(a,i,(o+l)/2,c);return{x:m.x,y:m.y,textAnchor:"middle",verticalAnchor:"middle"}}(n):function(e){var t=e.viewBox,r=e.parentViewBox,n=e.offset,s=e.position,a=t,i=a.x,o=a.y,l=a.width,c=a.height,d=c>=0?1:-1,u=d*n,m=d>0?"end":"start",h=d>0?"start":"end",p=l>=0?1:-1,f=p*n,x=p>0?"end":"start",g=p>0?"start":"end";if("top"===s)return tO(tO({},{x:i+l/2,y:o-d*n,textAnchor:"middle",verticalAnchor:m}),r?{height:Math.max(o-r.y,0),width:l}:{});if("bottom"===s)return tO(tO({},{x:i+l/2,y:o+c+u,textAnchor:"middle",verticalAnchor:h}),r?{height:Math.max(r.y+r.height-(o+c),0),width:l}:{});if("left"===s){var b={x:i-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"};return tO(tO({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if("right"===s){var y={x:i+l+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"};return tO(tO({},y),r?{width:Math.max(r.x+r.width-y.x,0),height:c}:{})}var v=r?{width:l,height:c}:{};return"insideLeft"===s?tO({x:i+f,y:o+c/2,textAnchor:g,verticalAnchor:"middle"},v):"insideRight"===s?tO({x:i+l-f,y:o+c/2,textAnchor:x,verticalAnchor:"middle"},v):"insideTop"===s?tO({x:i+l/2,y:o+u,textAnchor:"middle",verticalAnchor:h},v):"insideBottom"===s?tO({x:i+l/2,y:o+c-u,textAnchor:"middle",verticalAnchor:m},v):"insideTopLeft"===s?tO({x:i+f,y:o+u,textAnchor:g,verticalAnchor:h},v):"insideTopRight"===s?tO({x:i+l-f,y:o+u,textAnchor:x,verticalAnchor:h},v):"insideBottomLeft"===s?tO({x:i+f,y:o+c-u,textAnchor:g,verticalAnchor:m},v):"insideBottomRight"===s?tO({x:i+l-f,y:o+c-u,textAnchor:x,verticalAnchor:m},v):sx(s)&&(yx(s.x)||bx(s.x))&&(yx(s.y)||bx(s.y))?tO({x:i+Nx(s.x,l),y:o+Nx(s.y,c),textAnchor:"end",verticalAnchor:"end"},v):tO({x:i+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},v)}(n);return Ur.createElement(ES,nO({className:P("recharts-label",d)},h,p,{breakAll:u}),t)}aO.displayName="Label";var iO,oO,lO=function(e){var t=e.cx,r=e.cy,n=e.angle,s=e.startAngle,a=e.endAngle,i=e.r,o=e.radius,l=e.innerRadius,c=e.outerRadius,d=e.x,u=e.y,m=e.top,h=e.left,p=e.width,f=e.height,x=e.clockWise,g=e.labelViewBox;if(g)return g;if(yx(p)&&yx(f)){if(yx(d)&&yx(u))return{x:d,y:u,width:p,height:f};if(yx(m)&&yx(h))return{x:m,y:h,width:p,height:f}}return yx(d)&&yx(u)?{x:d,y:u,width:0,height:0}:yx(t)&&yx(r)?{cx:t,cy:r,startAngle:s||n||0,endAngle:a||n||0,innerRadius:l||0,outerRadius:c||o||i||0,clockWise:x}:e.viewBox?e.viewBox:{}};aO.parseViewBox=lO,aO.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=lO(e),a=Vx(n,aO).map(function(e,r){return qr.cloneElement(e,{viewBox:t||s,key:"label-".concat(r)})});if(!r)return a;var i=function(e,t){return e?!0===e?Ur.createElement(aO,{key:"label-implicit",viewBox:t}):vx(e)?Ur.createElement(aO,{key:"label-implicit",viewBox:t,value:e}):qr.isValidElement(e)?e.type===aO?qr.cloneElement(e,{key:"label-implicit",viewBox:t}):Ur.createElement(aO,{key:"label-implicit",content:e,viewBox:t}):nx(e)?Ur.createElement(aO,{key:"label-implicit",content:e,viewBox:t}):sx(e)?Ur.createElement(aO,nO({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||s);return[i].concat(JD(a))};const cO=Br(oO?iO:(oO=1,iO=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}));function dO(e){return(dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var uO=["valueAccessor"],mO=["data","dataKey","clockWise","id","textBreakAll"];function hO(e){return function(e){if(Array.isArray(e))return pO(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return pO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pO(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fO(){return fO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fO.apply(this,arguments)}function xO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xO(Object(r),!0).forEach(function(t){bO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bO(e,t,r){var n;return n=function(e,t){if("object"!=dO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=dO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==dO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yO(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var vO=function(e){return Array.isArray(e.value)?cO(e.value):e.value};function jO(e){var t=e.valueAccessor,r=void 0===t?vO:t,n=yO(e,uO),s=n.data,a=n.dataKey,i=n.clockWise,o=n.id,l=n.textBreakAll,c=yO(n,mO);return s&&s.length?Ur.createElement(Ng,{className:"recharts-label-list"},s.map(function(e,t){var n=Zf(a)?r(e,t):iD(e&&e.payload,a),s=Zf(o)?{}:{id:"".concat(o,"-").concat(t)};return Ur.createElement(aO,fO({},Xx(e,!0),c,s,{parentViewBox:e.parentViewBox,value:n,textBreakAll:l,viewBox:aO.parseViewBox(Zf(i)?e:gO(gO({},e),{},{clockWise:i})),key:"label-".concat(t),index:t}))})):null}function wO(e){return(wO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NO.apply(this,arguments)}function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(t){CO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CO(e,t,r){var n;return n=function(e,t){if("object"!=wO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=wO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==wO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}jO.displayName="LabelList",jO.renderCallByParent=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&r&&!e.label)return null;var n=Vx(e.children,jO).map(function(e,r){return qr.cloneElement(e,{data:t,key:"labelList-".concat(r)})});return r?[function(e,t){return e?!0===e?Ur.createElement(jO,{key:"labelList-implicit",data:t}):Ur.isValidElement(e)||nx(e)?Ur.createElement(jO,{key:"labelList-implicit",data:t,content:e}):sx(e)?Ur.createElement(jO,fO({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t)].concat(hO(n)):n};var AO=function(e){var t=e.cx,r=e.cy,n=e.radius,s=e.angle,a=e.sign,i=e.isExternal,o=e.cornerRadius,l=e.cornerIsExternal,c=o*(i?1:-1)+n,d=Math.asin(o/c)/BD,u=l?s:s+a*d,m=l?s-a*d:s;return{center:$D(t,r,c,u),circleTangency:$D(t,r,n,u),lineTangency:$D(t,r,c*Math.cos(d*BD),m),theta:d}},TO=function(e){var t=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,a=e.startAngle,i=function(e,t){return gx(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),o=a+i,l=$D(t,r,s,a),c=$D(t,r,s,o),d="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(s,",").concat(s,",0,\n    ").concat(+(Math.abs(i)>180),",").concat(+(a>o),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(n>0){var u=$D(t,r,n,a),m=$D(t,r,n,o);d+="L ".concat(m.x,",").concat(m.y,"\n            A ").concat(n,",").concat(n,",0,\n            ").concat(+(Math.abs(i)>180),",").concat(+(a<=o),",\n            ").concat(u.x,",").concat(u.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},EO={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_O=function(e){var t=SO(SO({},EO),e),r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,d=t.endAngle,u=t.className;if(a<s||c===d)return null;var m,h=P("recharts-sector",u),p=a-s,f=Nx(i,p,0,!0);return m=f>0&&Math.abs(c-d)<360?function(e){var t=e.cx,r=e.cy,n=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,i=e.forceCornerRadius,o=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,d=gx(c-l),u=AO({cx:t,cy:r,radius:s,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),m=u.circleTangency,h=u.lineTangency,p=u.theta,f=AO({cx:t,cy:r,radius:s,angle:c,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=f.circleTangency,g=f.lineTangency,b=f.theta,y=o?Math.abs(l-c):Math.abs(l-c)-p-b;if(y<0)return i?"M ".concat(h.x,",").concat(h.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):TO({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:l,endAngle:c});var v="M ".concat(h.x,",").concat(h.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(m.x,",").concat(m.y,"\n    A").concat(s,",").concat(s,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(x.x,",").concat(x.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,"\n  ");if(n>0){var j=AO({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),w=j.circleTangency,N=j.lineTangency,k=j.theta,S=AO({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),C=S.circleTangency,A=S.lineTangency,T=S.theta,E=o?Math.abs(l-c):Math.abs(l-c)-k-T;if(E<0&&0===a)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(A.x,",").concat(A.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(C.x,",").concat(C.y,"\n      A").concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v}({cx:r,cy:n,innerRadius:s,outerRadius:a,cornerRadius:Math.min(f,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):TO({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:c,endAngle:d}),Ur.createElement("path",NO({},Xx(t,!0),{className:h,d:m,role:"img"}))};function PO(e){return(PO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DO(){return DO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DO.apply(this,arguments)}function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function LO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(t){MO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MO(e,t,r){var n;return n=function(e,t){if("object"!=PO(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=PO(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==PO(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var IO={curveBasisClosed:function(e){return new xb(e)},curveBasisOpen:function(e){return new gb(e)},curveBasis:function(e){return new fb(e)},curveBumpX:function(e){return new Yg(e,!0)},curveBumpY:function(e){return new Yg(e,!1)},curveLinearClosed:function(e){return new bb(e)},curveLinear:Wg,curveMonotoneX:function(e){return new Nb(e)},curveMonotoneY:function(e){return new kb(e)},curveNatural:function(e){return new Cb(e)},curveStep:function(e){return new Tb(e,.5)},curveStepAfter:function(e){return new Tb(e,1)},curveStepBefore:function(e){return new Tb(e,0)}},RO=function(e){return e.x===+e.x&&e.y===+e.y},zO=function(e){return e.x},FO=function(e){return e.y},BO=function(e){var t,r=e.type,n=void 0===r?"linear":r,s=e.points,a=void 0===s?[]:s,i=e.baseLine,o=e.layout,l=e.connectNulls,c=void 0!==l&&l,d=function(e,t){if(nx(e))return e;var r="curve".concat(Tg(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?IO[r]||Wg:IO["".concat(r).concat("vertical"===t?"Y":"X")]}(n,o),u=c?a.filter(function(e){return RO(e)}):a;if(Array.isArray(i)){var m=c?i.filter(function(e){return RO(e)}):i,h=u.map(function(e,t){return LO(LO({},e),{},{base:m[t]})});return t="vertical"===o?Kg().y(FO).x1(zO).x0(function(e){return e.base.x}):Kg().x(zO).y1(FO).y0(function(e){return e.base.y}),t.defined(RO).curve(d),t(h)}return(t="vertical"===o&&yx(i)?Kg().y(FO).x1(zO).x0(i):yx(i)?Kg().x(zO).y1(FO).y0(i):Gg().x(zO).y(FO)).defined(RO).curve(d),t(u)},qO=function(e){var t=e.className,r=e.points,n=e.path,s=e.pathRef;if(!(r&&r.length||n))return null;var a=r&&r.length?BO(e):n;return qr.createElement("path",DO({},Xx(e,!1),Lx(e),{className:P("recharts-curve",t),d:a,ref:s}))},$O=Object.getOwnPropertyNames,UO=Object.getOwnPropertySymbols,WO=Object.prototype.hasOwnProperty;function VO(e,t){return function(r,n,s){return e(r,n,s)&&t(r,n,s)}}function HO(e){return function(t,r,n){if(!t||!r||"object"!=typeof t||"object"!=typeof r)return e(t,r,n);var s=n.cache,a=s.get(t),i=s.get(r);if(a&&i)return a===r&&i===t;s.set(t,r),s.set(r,t);var o=e(t,r,n);return s.delete(t),s.delete(r),o}}function GO(e){return $O(e).concat(UO(e))}var KO=Object.hasOwn||function(e,t){return WO.call(e,t)};function YO(e,t){return e===t||!e&&!t&&e!=e&&t!=t}var XO=Object.getOwnPropertyDescriptor,JO=Object.keys;function QO(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ZO(e,t){return YO(e.getTime(),t.getTime())}function eL(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function tL(e,t){return e===t}function rL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s,a,i=new Array(n),o=e.entries(),l=0;(s=o.next())&&!s.done;){for(var c=t.entries(),d=!1,u=0;(a=c.next())&&!a.done;)if(i[u])u++;else{var m=s.value,h=a.value;if(r.equals(m[0],h[0],l,u,e,t,r)&&r.equals(m[1],h[1],m[0],h[0],e,t,r)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var nL=YO;function sL(e,t,r){var n=JO(e),s=n.length;if(JO(t).length!==s)return!1;for(;s-- >0;)if(!uL(e,t,r,n[s]))return!1;return!0}function aL(e,t,r){var n,s,a,i=GO(e),o=i.length;if(GO(t).length!==o)return!1;for(;o-- >0;){if(!uL(e,t,r,n=i[o]))return!1;if(s=XO(e,n),a=XO(t,n),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable))return!1}return!0}function iL(e,t){return YO(e.valueOf(),t.valueOf())}function oL(e,t){return e.source===t.source&&e.flags===t.flags}function lL(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s,a,i=new Array(n),o=e.values();(s=o.next())&&!s.done;){for(var l=t.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&r.equals(s.value,a.value,s.value,a.value,e,t,r)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function cL(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function dL(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function uL(e,t,r,n){return!("_owner"!==n&&"__o"!==n&&"__v"!==n||!e.$$typeof&&!t.$$typeof)||KO(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var mL=Array.isArray,hL="undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView:null,pL=Object.assign,fL=Object.prototype.toString.call.bind(Object.prototype.toString);function xL(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,d=e.areSetsEqual,u=e.areTypedArraysEqual,m=e.areUrlsEqual,h=e.unknownTagComparators;return function(e,p,f){if(e===p)return!0;if(null==e||null==p)return!1;var x=typeof e;if(x!==typeof p)return!1;if("object"!==x)return"number"===x?i(e,p,f):"function"===x&&s(e,p,f);var g=e.constructor;if(g!==p.constructor)return!1;if(g===Object)return o(e,p,f);if(mL(e))return t(e,p,f);if(null!=hL&&hL(e))return u(e,p,f);if(g===Date)return r(e,p,f);if(g===RegExp)return c(e,p,f);if(g===Map)return a(e,p,f);if(g===Set)return d(e,p,f);var b,y=fL(e);if("[object Date]"===y)return r(e,p,f);if("[object RegExp]"===y)return c(e,p,f);if("[object Map]"===y)return a(e,p,f);if("[object Set]"===y)return d(e,p,f);if("[object Object]"===y)return"function"!=typeof e.then&&"function"!=typeof p.then&&o(e,p,f);if("[object URL]"===y)return m(e,p,f);if("[object Error]"===y)return n(e,p,f);if("[object Arguments]"===y)return o(e,p,f);if("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)return l(e,p,f);if(h){var v=h[y];if(!v){var j=null!=(b=e)?b[Symbol.toStringTag]:void 0;j&&(v=h[j])}if(v)return v(e,p,f)}return!1}}var gL=bL();function bL(e){void 0===e&&(e={});var t,r=e.circular,n=void 0!==r&&r,s=e.createInternalComparator,a=e.createState,i=e.strict,o=void 0!==i&&i,l=function(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?aL:QO,areDatesEqual:ZO,areErrorsEqual:eL,areFunctionsEqual:tL,areMapsEqual:n?VO(rL,aL):rL,areNumbersEqual:nL,areObjectsEqual:n?aL:sL,arePrimitiveWrappersEqual:iL,areRegExpsEqual:oL,areSetsEqual:n?VO(lL,aL):lL,areTypedArraysEqual:n?aL:cL,areUrlsEqual:dL,unknownTagComparators:void 0};if(r&&(s=pL({},s,r(s))),t){var a=HO(s.areArraysEqual),i=HO(s.areMapsEqual),o=HO(s.areObjectsEqual),l=HO(s.areSetsEqual);s=pL({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}(e),c=xL(l);return function(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,a=e.strict;if(n)return function(e,i){var o=n(),l=o.cache,c=void 0===l?t?new WeakMap:void 0:l,d=o.meta;return r(e,i,{cache:c,equals:s,meta:d,strict:a})};if(t)return function(e,t){return r(e,t,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};var i={cache:void 0,equals:s,meta:void 0,strict:a};return function(e,t){return r(e,t,i)}}({circular:n,comparator:c,createState:a,equals:s?s(c):(t=c,function(e,r,n,s,a,i,o){return t(e,r,o)}),strict:o})}function yL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=-1;requestAnimationFrame(function n(s){r<0&&(r=s),s-r>t?(e(s),r=-1):function(e){"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(e)}(n)})}function vL(e){return(vL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jL(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return wL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wL(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function NL(){var e=function(){return null},t=!1,r=function r(n){if(!t){if(Array.isArray(n)){if(!n.length)return;var s=jL(n),a=s[0],i=s.slice(1);return"number"==typeof a?void yL(r.bind(null,i),a):(r(a),void yL(r.bind(null,i)))}"object"===vL(n)&&e(n),"function"==typeof n&&n()}};return{stop:function(){t=!0},start:function(e){t=!1,r(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function kL(e){return(kL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function CL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SL(Object(r),!0).forEach(function(t){AL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function AL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==kL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==kL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===kL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}bL({strict:!0}),bL({circular:!0}),bL({circular:!0,strict:!0}),bL({createInternalComparator:function(){return YO}}),bL({strict:!0,createInternalComparator:function(){return YO}}),bL({circular:!0,createInternalComparator:function(){return YO}}),bL({circular:!0,createInternalComparator:function(){return YO},strict:!0});var TL=function(e){return e},EL=function(e,t){return Object.keys(t).reduce(function(r,n){return CL(CL({},r),{},AL({},n,e(n,t[n])))},{})},_L=function(e,t,r){return e.map(function(e){return"".concat((n=e,n.replace(/([A-Z])/g,function(e){return"-".concat(e.toLowerCase())}))," ").concat(t,"ms ").concat(r);var n}).join(",")};function PL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||OL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function DL(e){return function(e){if(Array.isArray(e))return LL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||OL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function OL(e,t){if(e){if("string"==typeof e)return LL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?LL(e,t):void 0}}function LL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ML=1e-4,IL=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},RL=function(e,t){return e.map(function(e,r){return e*Math.pow(t,r)}).reduce(function(e,t){return e+t})},zL=function(e,t){return function(r){var n=IL(e,t);return RL(n,r)}},FL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],s=t[1],a=t[2],i=t[3];if(1===t.length)switch(t[0]){case"linear":n=0,s=0,a=1,i=1;break;case"ease":n=.25,s=.1,a=.25,i=1;break;case"ease-in":n=.42,s=0,a=1,i=1;break;case"ease-out":n=.42,s=0,a=.58,i=1;break;case"ease-in-out":n=0,s=0,a=.58,i=1;break;default:var o=t[0].split("(");if("cubic-bezier"===o[0]&&4===o[1].split(")")[0].split(",").length){var l=PL(o[1].split(")")[0].split(",").map(function(e){return parseFloat(e)}),4);n=l[0],s=l[1],a=l[2],i=l[3]}}var c,d,u=zL(n,a),m=zL(s,i),h=(c=n,d=a,function(e){var t=IL(c,d),r=[].concat(DL(t.map(function(e,t){return e*t}).slice(1)),[0]);return RL(r,e)}),p=function(e){return e>1?1:e<0?0:e},f=function(e){for(var t=e>1?1:e,r=t,n=0;n<8;++n){var s=u(r)-t,a=h(r);if(Math.abs(s-t)<ML||a<ML)return m(r);r=p(r-s/a)}return m(r)};return f.isStepper=!1,f},BL=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0];if("string"==typeof n)switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return FL(n);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,r=void 0===t?100:t,n=e.damping,s=void 0===n?8:n,a=e.dt,i=void 0===a?17:a,o=function(e,t,n){var a=n+(-(e-t)*r-n*s)*i/1e3,o=n*i/1e3+e;return Math.abs(o-t)<ML&&Math.abs(a)<ML?[t,0]:[o,a]};return o.isStepper=!0,o.dt=i,o}();default:if("cubic-bezier"===n.split("(")[0])return FL(n)}return"function"==typeof n?n:null};function qL(e){return(qL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $L(e){return function(e){if(Array.isArray(e))return KL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||GL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function WL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(t){VL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==qL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===qL(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||GL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function GL(e,t){if(e){if("string"==typeof e)return KL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KL(e,t):void 0}}function KL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YL=function(e,t,r){return e+(t-e)*r},XL=function(e){return e.from!==e.to},JL=function e(t,r,n){var s=EL(function(e,r){if(XL(r)){var n=HL(t(r.from,r.to,r.velocity),2),s=n[0],a=n[1];return WL(WL({},r),{},{from:s,velocity:a})}return r},r);return n<1?EL(function(e,t){return XL(t)?WL(WL({},t),{},{velocity:YL(t.velocity,s[e].velocity,n),from:YL(t.from,s[e].from,n)}):t},r):e(t,s,n-1)};const QL=function(e,t,r,n,s){var a,i,o,l,c=(a=e,i=t,[Object.keys(a),Object.keys(i)].reduce(function(e,t){return e.filter(function(e){return t.includes(e)})})),d=c.reduce(function(r,n){return WL(WL({},r),{},VL({},n,[e[n],t[n]]))},{}),u=c.reduce(function(r,n){return WL(WL({},r),{},VL({},n,{from:e[n],velocity:0,to:t[n]}))},{}),m=-1,h=function(){return null};return h=r.isStepper?function(n){o||(o=n);var a=(n-o)/r.dt;u=JL(r,u,a),s(WL(WL(WL({},e),t),EL(function(e,t){return t.from},u))),o=n,Object.values(u).filter(XL).length&&(m=requestAnimationFrame(h))}:function(a){l||(l=a);var i=(a-l)/n,o=EL(function(e,t){return YL.apply(void 0,$L(t).concat([r(i)]))},d);if(s(WL(WL(WL({},e),t),o)),i<1)m=requestAnimationFrame(h);else{var c=EL(function(e,t){return YL.apply(void 0,$L(t).concat([r(1)]))},d);s(WL(WL(WL({},e),t),c))}},function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(m)}}};function ZL(e){return(ZL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eM=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function tM(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function rM(e){return function(e){if(Array.isArray(e))return nM(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return nM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nM(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function aM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sM(Object(r),!0).forEach(function(t){iM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iM(e,t,r){return(t=lM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oM(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lM(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lM(e){var t=function(e,t){if("object"!==ZL(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==ZL(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ZL(t)?t:String(t)}function cM(e,t){return(cM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dM(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=hM(e);if(t){var s=hM(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return uM(this,r)}}function uM(e,t){if(t&&("object"===ZL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mM(e)}function mM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hM(e){return(hM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pM=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cM(e,t)}(t,qr.PureComponent);var e=dM(t);function t(r,n){var s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=(s=e.call(this,r,n)).props,i=a.isActive,o=a.attributeName,l=a.from,c=a.to,d=a.steps,u=a.children,m=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(mM(s)),s.changeStyle=s.changeStyle.bind(mM(s)),!i||m<=0)return s.state={style:{}},"function"==typeof u&&(s.state={style:c}),uM(s);if(d&&d.length)s.state={style:d[0].style};else if(l){if("function"==typeof u)return s.state={style:l},uM(s);s.state={style:o?iM({},o,l):l}}else s.state={style:{}};return s}return oM(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,r=e.canBegin;this.mounted=!0,t&&r&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,r=t.isActive,n=t.canBegin,s=t.attributeName,a=t.shouldReAnimate,i=t.to,o=t.from,l=this.state.style;if(n)if(r){if(!(gL(e.to,i)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var d=c||a?o:e.to;if(this.state&&l){var u={style:s?iM({},s,d):d};(s&&l[s]!==d||!s&&l!==d)&&this.setState(u)}this.runAnimation(aM(aM({},this.props),{},{from:d,begin:0}))}}else{var m={style:s?iM({},s,i):i};this.state&&l&&(s&&l[s]!==i||!s&&l!==i)&&this.setState(m)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,r=e.from,n=e.to,s=e.duration,a=e.easing,i=e.begin,o=e.onAnimationEnd,l=e.onAnimationStart,c=QL(r,n,BL(a),s,this.changeStyle);this.manager.start([l,i,function(){t.stopJSAnimation=c()},s,o])}},{key:"runStepAnimation",value:function(e){var t=this,r=e.steps,n=e.begin,s=e.onAnimationStart,a=r[0],i=a.style,o=a.duration,l=void 0===o?0:o;return this.manager.start([s].concat(rM(r.reduce(function(e,n,s){if(0===s)return e;var a=n.duration,i=n.easing,o=void 0===i?"ease":i,l=n.style,c=n.properties,d=n.onAnimationEnd,u=s>0?r[s-1]:n,m=c||Object.keys(l);if("function"==typeof o||"spring"===o)return[].concat(rM(e),[t.runJSAnimation.bind(t,{from:u.style,to:l,duration:a,easing:o}),a]);var h=_L(m,a,o),p=aM(aM(aM({},u.style),l),{},{transition:h});return[].concat(rM(e),[p,a,d]).filter(TL)},[i,Math.max(l,n)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=NL());var t=e.begin,r=e.duration,n=e.attributeName,s=e.to,a=e.easing,i=e.onAnimationStart,o=e.onAnimationEnd,l=e.steps,c=e.children,d=this.manager;if(this.unSubscribe=d.subscribe(this.handleStyleChange),"function"!=typeof a&&"function"!=typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var u=n?iM({},n,s):s,m=_L(Object.keys(u),r,a);d.start([i,t,aM(aM({},u),{},{transition:m}),r,o])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children;e.begin;var r=e.duration;e.attributeName,e.easing;var n=e.isActive;e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart;var s=tM(e,eM),a=qr.Children.count(t),i=this.state.style;if("function"==typeof t)return t(i);if(!n||0===a||r<=0)return t;var o=function(e){var t=e.props,r=t.style,n=void 0===r?{}:r,a=t.className;return qr.cloneElement(e,aM(aM({},s),{},{style:aM(aM({},n),i),className:a}))};return 1===a?o(qr.Children.only(t)):Ur.createElement("div",null,qr.Children.map(t,function(e){return o(e)}))}}]),t}();function fM(e){return(fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xM(){return xM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xM.apply(this,arguments)}function gM(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bM(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(t){jM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jM(e,t,r){var n;return n=function(e,t){if("object"!=fM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=fM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==fM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}pM.displayName="Animate",pM.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},pM.propTypes={from:ee.oneOfType([ee.object,ee.string]),to:ee.oneOfType([ee.object,ee.string]),attributeName:ee.string,duration:ee.number,begin:ee.number,easing:ee.oneOfType([ee.string,ee.func]),steps:ee.arrayOf(ee.shape({duration:ee.number.isRequired,style:ee.object.isRequired,easing:ee.oneOfType([ee.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ee.func]),properties:ee.arrayOf("string"),onAnimationEnd:ee.func})),children:ee.oneOfType([ee.node,ee.func]),isActive:ee.bool,canBegin:ee.bool,onAnimationEnd:ee.func,shouldReAnimate:ee.bool,onAnimationStart:ee.func,onAnimationReStart:ee.func};var wM=function(e,t,r,n,s){var a,i=Math.min(Math.abs(r)/2,Math.abs(n)/2),o=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],u=0;u<4;u++)d[u]=s[u]>i?i:s[u];a="M".concat(e,",").concat(t+o*d[0]),d[0]>0&&(a+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),a+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(a+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,",\n        ").concat(e+r,",").concat(t+o*d[1])),a+="L ".concat(e+r,",").concat(t+n-o*d[2]),d[2]>0&&(a+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,",\n        ").concat(e+r-l*d[2],",").concat(t+n)),a+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(a+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+n-o*d[3])),a+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);a="M ".concat(e,",").concat(t+o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,"\n            L ").concat(e+r-l*m,",").concat(t,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+o*m,"\n            L ").concat(e+r,",").concat(t+n-o*m,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,"\n            L ").concat(e+l*m,",").concat(t+n,"\n            A ").concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-o*m," Z")}else a="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return a},NM=function(e,t){if(!e||!t)return!1;var r=e.x,n=e.y,s=t.x,a=t.y,i=t.width,o=t.height;if(Math.abs(i)>0&&Math.abs(o)>0){var l=Math.min(s,s+i),c=Math.max(s,s+i),d=Math.min(a,a+o),u=Math.max(a,a+o);return r>=l&&r<=c&&n>=d&&n<=u}return!1},kM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SM=function(e){var t=vM(vM({},kM),e),r=qr.useRef(),n=gM(qr.useState(-1),2),s=n[0],a=n[1];qr.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.width,c=t.height,d=t.radius,u=t.className,m=t.animationEasing,h=t.animationDuration,p=t.animationBegin,f=t.isAnimationActive,x=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var g=P("recharts-rectangle",u);return x?Ur.createElement(pM,{canBegin:s>0,from:{width:l,height:c,x:i,y:o},to:{width:l,height:c,x:i,y:o},duration:h,animationEasing:m,isActive:x},function(e){var n=e.width,a=e.height,i=e.x,o=e.y;return Ur.createElement(pM,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,isActive:f,easing:m},Ur.createElement("path",xM({},Xx(t,!0),{className:g,d:wM(i,o,n,a,d),ref:r})))}):Ur.createElement("path",xM({},Xx(t,!0),{className:g,d:wM(i,o,l,c,d)}))},CM=["points","className","baseLinePoints","connectNulls"];function AM(){return AM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AM.apply(this,arguments)}function TM(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EM(e){return function(e){if(Array.isArray(e))return _M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _M(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var PM=function(e){return e&&e.x===+e.x&&e.y===+e.y},DM=function(e,t){var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach(function(e){PM(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])}),PM(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(r=[r.reduce(function(e,t){return[].concat(EM(e),EM(t))},[])]);var n=r.map(function(e){return e.reduce(function(e,t,r){return"".concat(e).concat(0===r?"M":"L").concat(t.x,",").concat(t.y)},"")}).join("");return 1===r.length?"".concat(n,"Z"):n},OM=function(e){var t=e.points,r=e.className,n=e.baseLinePoints,s=e.connectNulls,a=TM(e,CM);if(!t||!t.length)return null;var i=P("recharts-polygon",r);if(n&&n.length){var o=a.stroke&&"none"!==a.stroke,l=function(e,t,r){var n=DM(e,r);return"".concat("Z"===n.slice(-1)?n.slice(0,-1):n,"L").concat(DM(t.reverse(),r).slice(1))}(t,n,s);return Ur.createElement("g",{className:i},Ur.createElement("path",AM({},Xx(a,!0),{fill:"Z"===l.slice(-1)?a.fill:"none",stroke:"none",d:l})),o?Ur.createElement("path",AM({},Xx(a,!0),{fill:"none",d:DM(t,s)})):null,o?Ur.createElement("path",AM({},Xx(a,!0),{fill:"none",d:DM(n,s)})):null)}var c=DM(t,s);return Ur.createElement("path",AM({},Xx(a,!0),{fill:"Z"===c.slice(-1)?a.fill:"none",className:i,d:c}))};function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LM.apply(this,arguments)}var MM=function(e){var t=e.cx,r=e.cy,n=e.r,s=e.className,a=P("recharts-dot",s);return t===+t&&r===+r&&n===+n?qr.createElement("circle",LM({},Xx(e,!1),Lx(e),{className:a,cx:t,cy:r,r:n})):null};function IM(e){return(IM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var RM=["x","y","top","left","width","height","className"];function zM(){return zM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zM.apply(this,arguments)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BM(e,t,r){var n;return n=function(e,t){if("object"!=IM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=IM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==IM(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qM(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var $M,UM,WM=function(e,t,r,n,s,a){return"M".concat(e,",").concat(s,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r)},VM=function(e){var t=e.x,r=void 0===t?0:t,n=e.y,s=void 0===n?0:n,a=e.top,i=void 0===a?0:a,o=e.left,l=void 0===o?0:o,c=e.width,d=void 0===c?0:c,u=e.height,m=void 0===u?0:u,h=e.className,p=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(t){BM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:s,top:i,left:l,width:d,height:m},qM(e,RM));return yx(r)&&yx(s)&&yx(d)&&yx(m)&&yx(i)&&yx(l)?Ur.createElement("path",zM({},Xx(p,!0),{className:P("recharts-cross",h),d:WM(r,s,d,m,i,l)})):null};const HM=Br(function(){if(UM)return $M;UM=1;var e=g_(),t=b_(),r=pw();return $M=function(n,s){return n&&n.length?e(n,r(s,2),t):void 0}}());var GM,KM;const YM=Br(function(){if(KM)return GM;KM=1;var e=g_(),t=pw(),r=k_();return GM=function(n,s){return n&&n.length?e(n,t(s,2),r):void 0}}());var XM=["cx","cy","angle","ticks","axisLine"],JM=["ticks","tick","angle","tickFormatter","stroke"];function QM(e){return(QM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZM(){return ZM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZM.apply(this,arguments)}function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){lI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rI(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cI(n.key),n)}}function sI(e,t,r){return t=iI(t),function(e,t){if(t&&("object"===QM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aI()?Reflect.construct(t,r||[],iI(e).constructor):t.apply(e,r))}function aI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aI=function(){return!!e})()}function iI(e){return(iI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oI(e,t){return(oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lI(e,t,r){return(t=cI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cI(e){var t=function(e,t){if("object"!=QM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=QM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==QM(t)?t:t+""}var dI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oI(e,t)}(e,qr.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return Ur.isValidElement(e)?Ur.cloneElement(e,t):nx(e)?e(t):Ur.createElement(ES,ZM({},t,{className:"recharts-polar-radius-axis-tick-value"}),r)}}],(r=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,r=this.props,n=r.angle,s=r.cx,a=r.cy;return $D(s,a,t,n)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,s=e.ticks,a=HM(s,function(e){return e.coordinate||0});return{cx:t,cy:r,startAngle:n,endAngle:n,innerRadius:YM(s,function(e){return e.coordinate||0}).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.angle,s=e.ticks,a=e.axisLine,i=rI(e,XM),o=s.reduce(function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]},[1/0,-1/0]),l=$D(t,r,o[0],n),c=$D(t,r,o[1],n),d=tI(tI(tI({},Xx(i,!1)),{},{fill:"none"},Xx(a,!1)),{},{x1:l.x,y1:l.y,x2:c.x,y2:c.y});return Ur.createElement("line",ZM({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,s=r.tick,a=r.angle,i=r.tickFormatter,o=r.stroke,l=rI(r,JM),c=this.getTickTextAnchor(),d=Xx(l,!1),u=Xx(s,!1),m=n.map(function(r,n){var l=t.getTickValueCoord(r),m=tI(tI(tI(tI({textAnchor:c,transform:"rotate(".concat(90-a,", ").concat(l.x,", ").concat(l.y,")")},d),{},{stroke:"none",fill:o},u),{},{index:n},l),{},{payload:r});return Ur.createElement(Ng,ZM({className:P("recharts-polar-radius-axis-tick",KD(s)),key:"tick-".concat(r.coordinate)},Mx(t.props,r,n)),e.renderTickItem(s,m,i?i(r.value,n):r.value))});return Ur.createElement(Ng,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.axisLine,n=e.tick;return t&&t.length?Ur.createElement(Ng,{className:P("recharts-polar-radius-axis",this.props.className)},r&&this.renderAxisLine(),n&&this.renderTicks(),aO.renderCallByParent(this.props,this.getViewBox())):null}}])&&nI(t.prototype,r),n&&nI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function uI(e){return(uI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mI(){return mI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mI.apply(this,arguments)}function hI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hI(Object(r),!0).forEach(function(t){vI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jI(n.key),n)}}function xI(e,t,r){return t=bI(t),function(e,t){if(t&&("object"===uI(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gI()?Reflect.construct(t,r||[],bI(e).constructor):t.apply(e,r))}function gI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gI=function(){return!!e})()}function bI(e){return(bI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yI(e,t){return(yI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vI(e,t,r){return(t=jI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jI(e){var t=function(e,t){if("object"!=uI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=uI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==uI(t)?t:t+""}lI(dI,"displayName","PolarRadiusAxis"),lI(dI,"axisType","radiusAxis"),lI(dI,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var wI,NI,kI,SI,CI=Math.PI/180,AI=1e-5,TI=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xI(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yI(e,t)}(e,qr.PureComponent),t=e,n=[{key:"renderTickItem",value:function(e,t,r){return Ur.isValidElement(e)?Ur.cloneElement(e,t):nx(e)?e(t):Ur.createElement(ES,mI({},t,{className:"recharts-polar-angle-axis-tick-value"}),r)}}],(r=[{key:"getTickLineCoord",value:function(e){var t=this.props,r=t.cx,n=t.cy,s=t.radius,a=t.orientation,i=t.tickSize||8,o=$D(r,n,s,e.coordinate),l=$D(r,n,s+("inner"===a?-1:1)*i,e.coordinate);return{x1:o.x,y1:o.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,r=Math.cos(-e.coordinate*CI);return r>AI?"outer"===t?"start":"end":r<-AI?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,r=e.cy,n=e.radius,s=e.axisLine,a=e.axisLineType,i=pI(pI({},Xx(this.props,!1)),{},{fill:"none"},Xx(s,!1));if("circle"===a)return Ur.createElement(MM,mI({className:"recharts-polar-angle-axis-line"},i,{cx:t,cy:r,r:n}));var o=this.props.ticks.map(function(e){return $D(t,r,n,e.coordinate)});return Ur.createElement(OM,mI({className:"recharts-polar-angle-axis-line"},i,{points:o}))}},{key:"renderTicks",value:function(){var t=this,r=this.props,n=r.ticks,s=r.tick,a=r.tickLine,i=r.tickFormatter,o=r.stroke,l=Xx(this.props,!1),c=Xx(s,!1),d=pI(pI({},l),{},{fill:"none"},Xx(a,!1)),u=n.map(function(r,n){var u=t.getTickLineCoord(r),m=pI(pI(pI({textAnchor:t.getTickTextAnchor(r)},l),{},{stroke:"none",fill:o},c),{},{index:n,payload:r,x:u.x2,y:u.y2});return Ur.createElement(Ng,mI({className:P("recharts-polar-angle-axis-tick",KD(s)),key:"tick-".concat(r.coordinate)},Mx(t.props,r,n)),a&&Ur.createElement("line",mI({className:"recharts-polar-angle-axis-tick-line"},d,u)),s&&e.renderTickItem(s,m,i?i(r.value,n):r.value))});return Ur.createElement(Ng,{className:"recharts-polar-angle-axis-ticks"},u)}},{key:"render",value:function(){var e=this.props,t=e.ticks,r=e.radius,n=e.axisLine;return r<=0||!t||!t.length?null:Ur.createElement(Ng,{className:P("recharts-polar-angle-axis",this.props.className)},n&&this.renderAxisLine(),this.renderTicks())}}])&&fI(t.prototype,r),n&&fI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();vI(TI,"displayName","PolarAngleAxis"),vI(TI,"axisType","angleAxis"),vI(TI,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});const EI=Br(function(){if(SI)return kI;SI=1;var e=Sf(),t=function(){if(NI)return wI;NI=1;var e=Zj()(Object.getPrototypeOf,Object);return wI=e}(),r=Cf(),n=Function.prototype,s=Object.prototype,a=n.toString,i=s.hasOwnProperty,o=a.call(Object);return kI=function(n){if(!r(n)||"[object Object]"!=e(n))return!1;var s=t(n);if(null===s)return!0;var l=i.call(s,"constructor")&&s.constructor;return"function"==typeof l&&l instanceof l&&a.call(l)==o}}());var _I,PI;const DI=Br(function(){if(PI)return _I;PI=1;var e=Sf(),t=Cf();return _I=function(r){return!0===r||!1===r||t(r)&&"[object Boolean]"==e(r)}}());function OI(e){return(OI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LI(){return LI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LI.apply(this,arguments)}function MI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return II(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return II(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function II(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RI(Object(r),!0).forEach(function(t){FI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FI(e,t,r){var n;return n=function(e,t){if("object"!=OI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=OI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==OI(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var BI,qI=function(e,t,r,n,s){var a,i=r-n;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-i/2,",").concat(t+s),a+="L ".concat(e+r-i/2-n,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z")},$I={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UI=function(e){var t=zI(zI({},$I),e),r=qr.useRef(),n=MI(qr.useState(-1),2),s=n[0],a=n[1];qr.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&a(e)}catch(t){}},[]);var i=t.x,o=t.y,l=t.upperWidth,c=t.lowerWidth,d=t.height,u=t.className,m=t.animationEasing,h=t.animationDuration,p=t.animationBegin,f=t.isUpdateAnimationActive;if(i!==+i||o!==+o||l!==+l||c!==+c||d!==+d||0===l&&0===c||0===d)return null;var x=P("recharts-trapezoid",u);return f?Ur.createElement(pM,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:d,x:i,y:o},to:{upperWidth:l,lowerWidth:c,height:d,x:i,y:o},duration:h,animationEasing:m,isActive:f},function(e){var n=e.upperWidth,a=e.lowerWidth,i=e.height,o=e.x,l=e.y;return Ur.createElement(pM,{canBegin:s>0,from:"0px ".concat(-1===s?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:p,duration:h,easing:m},Ur.createElement("path",LI({},Xx(t,!0),{className:x,d:qI(o,l,n,a,i),ref:r})))}):Ur.createElement("g",null,Ur.createElement("path",LI({},Xx(t,!0),{className:x,d:qI(i,o,l,c,d)})))},WI=["option","shapeType","propTransformer","activeClassName","isActive"];function VI(e){return(VI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HI(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(t){YI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YI(e,t,r){var n;return n=function(e,t){if("object"!=VI(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=VI(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==VI(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XI(e,t){return KI(KI({},t),e)}function JI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ur.createElement(SM,r);case"trapezoid":return Ur.createElement(UI,r);case"sector":return Ur.createElement(_O,r);case"symbols":if(function(e){return"symbols"===e}(t))return Ur.createElement($b,r);break;default:return null}}function QI(e){var t,r=e.option,n=e.shapeType,s=e.propTransformer,a=void 0===s?XI:s,i=e.activeClassName,o=void 0===i?"recharts-active-shape":i,l=e.isActive,c=HI(e,WI);if(qr.isValidElement(r))t=qr.cloneElement(r,KI(KI({},c),function(e){return qr.isValidElement(e)?e.props:e}(r)));else if(nx(r))t=r(c);else if(EI(r)&&!DI(r)){var d=a(r,c);t=Ur.createElement(JI,{shapeType:n,elementProps:d})}else{var u=c;t=Ur.createElement(JI,{shapeType:n,elementProps:u})}return l?Ur.createElement(Ng,{className:o},t):t}function ZI(e,t){return null!=t&&"trapezoids"in e.props}function eR(e,t){return null!=t&&"sectors"in e.props}function tR(e,t){return null!=t&&"points"in e.props}function rR(e,t){var r,n,s=e.x===(null==t||null===(r=t.labelViewBox)||void 0===r?void 0:r.x)||e.x===t.x,a=e.y===(null==t||null===(n=t.labelViewBox)||void 0===n?void 0:n.y)||e.y===t.y;return s&&a}function nR(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function sR(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function aR(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=function(e,t){var r;return ZI(e,t)?r="trapezoids":eR(e,t)?r="sectors":tR(e,t)&&(r="points"),r}(r,t),a=function(e,t){var r,n;return ZI(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:eR(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:tR(e,t)?t.payload:{}}(r,t),i=n.filter(function(e,n){var i=O_(a,e),o=r.props[s].filter(function(e){var n=function(e,t){var r;return ZI(e,t)?r=rR:eR(e,t)?r=nR:tR(e,t)&&(r=sR),r}(r,t);return n(e,t)}),l=r.props[s].indexOf(o[o.length-1]);return i&&n===l});return n.indexOf(i[i.length-1])}function iR(e){return(iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oR(){return oR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oR.apply(this,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(t){fR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xR(n.key),n)}}function uR(e,t,r){return t=hR(t),function(e,t){if(t&&("object"===iR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mR()?Reflect.construct(t,r||[],hR(e).constructor):t.apply(e,r))}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mR=function(){return!!e})()}function hR(e){return(hR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pR(e,t){return(pR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fR(e,t,r){return(t=xR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xR(e){var t=function(e,t){if("object"!=iR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=iR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==iR(t)?t:t+""}var gR=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fR(r=uR(this,e,[t]),"pieRef",null),fR(r,"sectorRefs",[]),fR(r,"id",wx("recharts-pie-")),fR(r,"handleAnimationEnd",function(){var e=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nx(e)&&e()}),fR(r,"handleAnimationStart",function(){var e=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nx(e)&&e()}),r.state={isAnimationFinished:!t.isAnimationActive,prevIsAnimationActive:t.isAnimationActive,prevAnimationId:t.animationId,sectorToFocus:0},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pR(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,r){if(Ur.isValidElement(e))return Ur.cloneElement(e,t);if(nx(e))return e(t);var n=P("recharts-pie-label-line","boolean"!=typeof e?e.className:"");return Ur.createElement(qO,oR({},t,{key:r,type:"linear",className:n}))}},{key:"renderLabelItem",value:function(e,t,r){if(Ur.isValidElement(e))return Ur.cloneElement(e,t);var n=r;if(nx(e)&&(n=e(t),Ur.isValidElement(n)))return n;var s=P("recharts-pie-label-text","boolean"==typeof e||nx(e)?"":e.className);return Ur.createElement(ES,oR({},t,{alignmentBaseline:"middle",className:s}),n)}}],(r=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.label,s=r.labelLine,a=r.dataKey,i=r.valueKey,o=Xx(this.props,!1),l=Xx(n,!1),c=Xx(s,!1),d=n&&n.offsetRadius||20,u=t.map(function(t,r){var u=(t.startAngle+t.endAngle)/2,m=$D(t.cx,t.cy,t.outerRadius+d,u),h=cR(cR(cR(cR({},o),t),{},{stroke:"none"},l),{},{index:r,textAnchor:e.getTextAnchor(m.x,t.cx)},m),p=cR(cR(cR(cR({},o),t),{},{fill:"none",stroke:t.fill},c),{},{index:r,points:[$D(t.cx,t.cy,t.outerRadius,u),m]}),f=a;return Zf(a)&&Zf(i)?f="value":Zf(a)&&(f=i),Ur.createElement(Ng,{key:"label-".concat(t.startAngle,"-").concat(t.endAngle,"-").concat(t.midAngle,"-").concat(r)},s&&e.renderLabelLineItem(s,p,"line"),e.renderLabelItem(n,h,iD(t,f)))});return Ur.createElement(Ng,{className:"recharts-pie-labels"},u)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.activeShape,s=r.blendStroke,a=r.inactiveShape;return e.map(function(r,i){if(0===(null==r?void 0:r.startAngle)&&0===(null==r?void 0:r.endAngle)&&1!==e.length)return null;var o=t.isActiveIndex(i),l=a&&t.hasActiveIndex()?a:null,c=o?n:l,d=cR(cR({},r),{},{stroke:s?r.fill:r.stroke,tabIndex:-1});return Ur.createElement(Ng,oR({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},Mx(t.props,r,i),{key:"sector-".concat(null==r?void 0:r.startAngle,"-").concat(null==r?void 0:r.endAngle,"-").concat(r.midAngle,"-").concat(i)}),Ur.createElement(QI,oR({option:c,isActive:o,shapeType:"sector"},d)))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.sectors,n=t.isAnimationActive,s=t.animationBegin,a=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state,c=l.prevSectors,d=l.prevIsAnimationActive;return Ur.createElement(pM,{begin:s,duration:a,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(o,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,s=[],a=(r&&r[0]).startAngle;return r.forEach(function(e,t){var r=c&&c[t],i=t>0?Xf(e,"paddingAngle",0):0;if(r){var o=Sx(r.endAngle-r.startAngle,e.endAngle-e.startAngle),l=cR(cR({},e),{},{startAngle:a+i,endAngle:a+o(n)+i});s.push(l),a=l.endAngle}else{var d=e.endAngle,u=e.startAngle,m=Sx(0,d-u)(n),h=cR(cR({},e),{},{startAngle:a+i,endAngle:a+m+i});s.push(h),a=h.endAngle}}),Ur.createElement(Ng,null,e.renderSectorsStatically(s))})}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var r=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"ArrowRight":var n=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,r=e.isAnimationActive,n=this.state.prevSectors;return!(r&&t&&t.length)||n&&O_(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,r=t.hide,n=t.sectors,s=t.className,a=t.label,i=t.cx,o=t.cy,l=t.innerRadius,c=t.outerRadius,d=t.isAnimationActive,u=this.state.isAnimationFinished;if(r||!n||!n.length||!yx(i)||!yx(o)||!yx(l)||!yx(c))return null;var m=P("recharts-pie",s);return Ur.createElement(Ng,{tabIndex:this.props.rootTabIndex,className:m,ref:function(t){e.pieRef=t}},this.renderSectors(),a&&this.renderLabels(n),aO.renderCallByParent(this.props,null,!1),(!d||u)&&jO.renderCallByParent(this.props,n,!1))}}])&&dR(t.prototype,r),n&&dR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function bR(e){return(bR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yR(){return yR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yR.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(t){wR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wR(e,t,r){var n;return n=function(e,t){if("object"!=bR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=bR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==bR(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NR(e){return"string"==typeof e?parseInt(e,10):e}function kR(e,t){var r="".concat(t.cx||e.cx),n=Number(r),s="".concat(t.cy||e.cy),a=Number(s);return jR(jR(jR({},t),e),{},{cx:n,cy:a})}function SR(e){return Ur.createElement(QI,yR({shapeType:"sector",propTransformer:kR},e))}BI=gR,fR(gR,"displayName","Pie"),fR(gR,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dk,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),fR(gR,"parseDeltaAngle",function(e,t){return gx(t-e)*Math.min(Math.abs(t-e),360)}),fR(gR,"getRealPieData",function(e){var t=e.data,r=e.children,n=Xx(e,!1),s=Vx(r,Hk);return t&&t.length?t.map(function(e,t){return cR(cR(cR({payload:e},n),e),s&&s[t]&&s[t].props)}):s&&s.length?s.map(function(e){return cR(cR({},n),e.props)}):[]}),fR(gR,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,a=t.height,i=UD(s,a);return{cx:n+Nx(e.cx,s,s/2),cy:r+Nx(e.cy,a,a/2),innerRadius:Nx(e.innerRadius,i,0),outerRadius:Nx(e.outerRadius,i,.8*i),maxRadius:e.maxRadius||Math.sqrt(s*s+a*a)/2}}),fR(gR,"getComposedData",function(e){var t=e.item,r=e.offset,n=void 0!==t.type.defaultProps?cR(cR({},t.type.defaultProps),t.props):t.props,s=BI.getRealPieData(n);if(!s||!s.length)return null;var a=n.cornerRadius,i=n.startAngle,o=n.endAngle,l=n.paddingAngle,c=n.dataKey,d=n.nameKey,u=n.valueKey,m=n.tooltipType,h=Math.abs(n.minAngle),p=BI.parseCoordinateOfPie(n,r),f=BI.parseDeltaAngle(i,o),x=Math.abs(f),g=c;Zf(c)&&Zf(u)?(kg(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g="value"):Zf(c)&&(kg(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),g=u);var b,y,v=s.filter(function(e){return 0!==iD(e,g,0)}).length,j=x-v*h-(x>=360?v:v-1)*l,w=s.reduce(function(e,t){var r=iD(t,g,0);return e+(yx(r)?r:0)},0);w>0&&(b=s.map(function(e,t){var r,n=iD(e,g,0),s=iD(e,d,t),o=(yx(n)?n:0)/w,c=(r=t?y.endAngle+gx(f)*l*(0!==n?1:0):i)+gx(f)*((0!==n?h:0)+o*j),u=(r+c)/2,x=(p.innerRadius+p.outerRadius)/2,b=[{name:s,value:n,payload:e,dataKey:g,type:m}],v=$D(p.cx,p.cy,x,u);return y=cR(cR(cR({percent:o,cornerRadius:a,name:s,tooltipPayload:b,midAngle:u,middleRadius:x,tooltipPosition:v},e),p),{},{value:iD(e,g),startAngle:r,endAngle:c,payload:e,paddingAngle:gx(f)*l})}));return cR(cR({},p),{},{sectors:b,data:s})});var CR=["shape","activeShape","activeIndex","cornerRadius"],AR=["value","background"];function TR(e){return(TR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ER(){return ER=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ER.apply(this,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(t){zR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function DR(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FR(n.key),n)}}function LR(e,t,r){return t=IR(t),function(e,t){if(t&&("object"===TR(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MR()?Reflect.construct(t,r||[],IR(e).constructor):t.apply(e,r))}function MR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(MR=function(){return!!e})()}function IR(e){return(IR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RR(e,t){return(RR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zR(e,t,r){return(t=FR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FR(e){var t=function(e,t){if("object"!=TR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=TR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==TR(t)?t:t+""}var BR,qR,$R,UR,WR,VR,HR,GR,KR=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return zR(t=LR(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),zR(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),nx(e)&&e()}),zR(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),nx(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RR(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"getDeltaAngle",value:function(){var e=this.props,t=e.startAngle,r=e.endAngle;return gx(r-t)*Math.min(Math.abs(r-t),360)}},{key:"renderSectorsStatically",value:function(e){var t=this,r=this.props,n=r.shape,s=r.activeShape,a=r.activeIndex,i=r.cornerRadius,o=DR(r,CR),l=Xx(o,!1);return e.map(function(e,r){var c=r===a,d=PR(PR(PR(PR({},l),{},{cornerRadius:NR(i)},e),Mx(t.props,e,r)),{},{className:"recharts-radial-bar-sector ".concat(e.className),forceCornerRadius:o.forceCornerRadius,cornerIsExternal:o.cornerIsExternal,isActive:c,option:c?s:n});return Ur.createElement(SR,ER({},d,{key:"sector-".concat(r)}))})}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.isAnimationActive,s=t.animationBegin,a=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state.prevData;return Ur.createElement(pM,{begin:s,duration:a,isActive:n,easing:i,from:{t:0},to:{t:1},key:"radialBar-".concat(o),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(t){var n=t.t,s=r.map(function(e,t){var r=l&&l[t];if(r){var s=Sx(r.startAngle,e.startAngle),a=Sx(r.endAngle,e.endAngle);return PR(PR({},e),{},{startAngle:s(n),endAngle:a(n)})}var i=e.endAngle,o=e.startAngle,c=Sx(o,i);return PR(PR({},e),{},{endAngle:c(n)})});return Ur.createElement(Ng,null,e.renderSectorsStatically(s))})}},{key:"renderSectors",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&O_(n,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"renderBackground",value:function(e){var t=this,r=this.props.cornerRadius,n=Xx(this.props.background,!1);return e.map(function(e,s){e.value;var a=e.background,i=DR(e,AR);if(!a)return null;var o=PR(PR(PR(PR(PR({cornerRadius:NR(r)},i),{},{fill:"#eee"},a),n),Mx(t.props,e,s)),{},{index:s,className:P("recharts-radial-bar-background-sector",null==n?void 0:n.className),option:a,isActive:!1});return Ur.createElement(SR,ER({},o,{key:"sector-".concat(s)}))})}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,s=e.background,a=e.isAnimationActive;if(t||!r||!r.length)return null;var i=this.state.isAnimationFinished,o=P("recharts-area",n);return Ur.createElement(Ng,{className:o},s&&Ur.createElement(Ng,{className:"recharts-radial-bar-background"},this.renderBackground(r)),Ur.createElement(Ng,{className:"recharts-radial-bar-sectors"},this.renderSectors()),(!a||i)&&jO.renderCallByParent(PR({},this.props),r))}}])&&OR(t.prototype,r),n&&OR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function YR(){if(UR)return $R;UR=1;var e=Ik(),t=1/0;return $R=function(r){return r?(r=e(r))===t||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function XR(){if(VR)return WR;VR=1;var e=function(){if(qR)return BR;qR=1;var e=Math.ceil,t=Math.max;return BR=function(r,n,s,a){for(var i=-1,o=t(e((n-r)/(s||1)),0),l=Array(o);o--;)l[a?o:++i]=r,r+=s;return l}}(),t=IN(),r=YR();return WR=function(n){return function(s,a,i){return i&&"number"!=typeof i&&t(s,a,i)&&(a=i=void 0),s=r(s),void 0===a?(a=s,s=0):a=r(a),i=void 0===i?s<a?1:-1:r(i),e(s,a,i,n)}}}zR(KR,"displayName","RadialBar"),zR(KR,"defaultProps",{angleAxisId:0,radiusAxisId:0,minPointSize:0,hide:!1,legendType:"rect",data:[],isAnimationActive:!dk,animationBegin:0,animationDuration:1500,animationEasing:"ease",forceCornerRadius:!1,cornerIsExternal:!1}),zR(KR,"getComposedData",function(e){var t=e.item,r=e.props,n=e.radiusAxis,s=e.radiusAxisTicks,a=e.angleAxis,i=e.angleAxisTicks,o=e.displayedData,l=e.dataKey,c=e.stackedData,d=e.barPosition,u=e.bandSize,m=e.dataStartIndex,h=yD(d,t);if(!h)return null;var p=a.cx,f=a.cy,x=r.layout,g=t.props,b=g.children,y=g.minPointSize,v="radial"===x?a:n,j=c?v.scale.domain():null,w=CD({numericAxis:v}),N=Vx(b,Hk);return{data:o.map(function(e,o){var d,g,b,v,k,S;if(c?d=vD(c[m+o],j):(d=iD(e,l),Array.isArray(d)||(d=[w,d])),"radial"===x){g=SD({axis:n,ticks:s,bandSize:u,offset:h.offset,entry:e,index:o}),k=a.scale(d[1]),v=a.scale(d[0]),b=g+h.size;var C=k-v;if(Math.abs(y)>0&&Math.abs(C)<Math.abs(y))k+=gx(C||y)*(Math.abs(y)-Math.abs(C));S={background:{cx:p,cy:f,innerRadius:g,outerRadius:b,startAngle:r.startAngle,endAngle:r.endAngle}}}else{g=n.scale(d[0]),b=n.scale(d[1]),k=(v=SD({axis:a,ticks:i,bandSize:u,offset:h.offset,entry:e,index:o}))+h.size;var A=b-g;if(Math.abs(y)>0&&Math.abs(A)<Math.abs(y))b+=gx(A||y)*(Math.abs(y)-Math.abs(A))}return PR(PR(PR(PR({},e),S),{},{payload:e,value:c?d:d[1],cx:p,cy:f,innerRadius:g,outerRadius:b,startAngle:v,endAngle:k},N&&N[o]&&N[o].props),{},{tooltipPayload:[OD(t,e)],tooltipPosition:$D(p,f,(g+b)/2,(v+k)/2)})}),layout:x}});const JR=Br(function(){if(GR)return HR;GR=1;var e=XR()();return HR=e}());function QR(e){return(QR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(t){tz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tz(e,t,r){var n;return n=function(e,t){if("object"!=QR(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=QR(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==QR(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rz=["Webkit","Moz","O","ms"];function nz(e){return(nz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sz(){return sz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sz.apply(this,arguments)}function az(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?az(Object(r),!0).forEach(function(t){mz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):az(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hz(n.key),n)}}function lz(e,t,r){return t=dz(t),function(e,t){if(t&&("object"===nz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,cz()?Reflect.construct(t,r||[],dz(e).constructor):t.apply(e,r))}function cz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cz=function(){return!!e})()}function dz(e){return(dz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function uz(e,t){return(uz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function mz(e,t,r){return(t=hz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hz(e){var t=function(e,t){if("object"!=nz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=nz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==nz(t)?t:t+""}var pz,fz,xz,gz,bz=function(e){return e.changedTouches&&!!e.changedTouches.length},yz=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mz(r=lz(this,e,[t]),"handleDrag",function(e){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(e):r.state.isSlideMoving&&r.handleSlideDrag(e)}),mz(r,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&r.handleDrag(e.changedTouches[0])}),mz(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var e=r.props,t=e.endIndex,n=e.onDragEnd,s=e.startIndex;null==n||n({endIndex:t,startIndex:s})}),r.detachDragEndListener()}),mz(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),mz(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),mz(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),mz(r,"handleSlideDragStart",function(e){var t=bz(e)?e.changedTouches[0]:e;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uz(e,t)}(e,qr.PureComponent),t=e,n=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,r=e.y,n=e.width,s=e.height,a=e.stroke,i=Math.floor(r+s/2)-1;return Ur.createElement(Ur.Fragment,null,Ur.createElement("rect",{x:t,y:r,width:n,height:s,fill:a,stroke:"none"}),Ur.createElement("line",{x1:t+1,y1:i,x2:t+n-1,y2:i,fill:"none",stroke:"#fff"}),Ur.createElement("line",{x1:t+1,y1:i+2,x2:t+n-1,y2:i+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(t,r){return Ur.isValidElement(t)?Ur.cloneElement(t,r):nx(t)?t(r):e.renderDefaultTraveller(r)}},{key:"getDerivedStateFromProps",value:function(e,t){var r=e.data,n=e.width,s=e.x,a=e.travellerWidth,i=e.updateId,o=e.startIndex,l=e.endIndex;if(r!==t.prevData||i!==t.prevUpdateId)return iz({prevData:r,prevTravellerWidth:a,prevUpdateId:i,prevX:s,prevWidth:n},r&&r.length?function(e){var t=e.data,r=e.startIndex,n=e.endIndex,s=e.x,a=e.width,i=e.travellerWidth;if(!t||!t.length)return{};var o=t.length,l=sC().domain(JR(0,o)).range([s,s+a-i]),c=l.domain().map(function(e){return l(e)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(r),endX:l(n),scale:l,scaleValues:c}}({data:r,width:n,x:s,travellerWidth:a,startIndex:o,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(n!==t.prevWidth||s!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([s,s+n-a]);var c=t.scale.domain().map(function(e){return t.scale(e)});return{prevData:r,prevTravellerWidth:a,prevUpdateId:i,prevX:s,prevWidth:n,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var r=0,n=e.length-1;n-r>1;){var s=Math.floor((r+n)/2);e[s]>t?n=s:r=s}return t>=e[n]?n:r}}],(r=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(t){var r=t.startX,n=t.endX,s=this.state.scaleValues,a=this.props,i=a.gap,o=a.data.length-1,l=Math.min(r,n),c=Math.max(r,n),d=e.getIndexInRange(s,l),u=e.getIndexInRange(s,c);return{startIndex:d-d%i,endIndex:u===o?o:u-u%i}}},{key:"getTextOfTick",value:function(e){var t=this.props,r=t.data,n=t.tickFormatter,s=t.dataKey,a=iD(r[e],s,e);return nx(n)?n(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,r=t.slideMoveStartX,n=t.startX,s=t.endX,a=this.props,i=a.x,o=a.width,l=a.travellerWidth,c=a.startIndex,d=a.endIndex,u=a.onChange,m=e.pageX-r;m>0?m=Math.min(m,i+o-l-s,i+o-l-n):m<0&&(m=Math.max(m,i-n,i-s));var h=this.getIndex({startX:n+m,endX:s+m});h.startIndex===c&&h.endIndex===d||!u||u(h),this.setState({startX:n+m,endX:s+m,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var r=bz(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:r.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,r=t.brushMoveStartX,n=t.movingTravellerId,s=t.endX,a=t.startX,i=this.state[n],o=this.props,l=o.x,c=o.width,d=o.travellerWidth,u=o.onChange,m=o.gap,h=o.data,p={startX:this.state.startX,endX:this.state.endX},f=e.pageX-r;f>0?f=Math.min(f,l+c-d-i):f<0&&(f=Math.max(f,l-i)),p[n]=i+f;var x=this.getIndex(p),g=x.startIndex,b=x.endIndex;this.setState(mz(mz({},n,i+f),"brushMoveStartX",e.pageX),function(){var e;u&&(e=h.length-1,("startX"===n&&(s>a?g%m===0:b%m===0)||s<a&&b===e||"endX"===n&&(s>a?b%m===0:g%m===0)||s>a&&b===e)&&u(x))})}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var r=this,n=this.state,s=n.scaleValues,a=n.startX,i=n.endX,o=this.state[t],l=s.indexOf(o);if(-1!==l){var c=l+e;if(!(-1===c||c>=s.length)){var d=s[c];"startX"===t&&d>=i||"endX"===t&&d<=a||this.setState(mz({},t,d),function(){r.props.onChange(r.getIndex({startX:r.state.startX,endX:r.state.endX}))})}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,a=e.fill,i=e.stroke;return Ur.createElement("rect",{stroke:i,fill:a,x:t,y:r,width:n,height:s})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,a=e.data,i=e.children,o=e.padding,l=qr.Children.only(i);return l?Ur.cloneElement(l,{x:t,y:r,width:n,height:s,margin:o,compact:!0,data:a}):null}},{key:"renderTravellerLayer",value:function(t,r){var n,s,a=this,i=this.props,o=i.y,l=i.travellerWidth,c=i.height,d=i.traveller,u=i.ariaLabel,m=i.data,h=i.startIndex,p=i.endIndex,f=Math.max(t,this.props.x),x=iz(iz({},Xx(this.props,!1)),{},{x:f,y:o,width:l,height:c}),g=u||"Min value: ".concat(null===(n=m[h])||void 0===n?void 0:n.name,", Max value: ").concat(null===(s=m[p])||void 0===s?void 0:s.name);return Ur.createElement(Ng,{tabIndex:0,role:"slider","aria-label":g,"aria-valuenow":t,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[r],onTouchStart:this.travellerDragStartHandlers[r],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),a.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,r))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,x))}},{key:"renderSlide",value:function(e,t){var r=this.props,n=r.y,s=r.height,a=r.stroke,i=r.travellerWidth,o=Math.min(e,t)+i,l=Math.max(Math.abs(t-e)-i,0);return Ur.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:a,fillOpacity:.2,x:o,y:n,width:l,height:s})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,r=e.endIndex,n=e.y,s=e.height,a=e.travellerWidth,i=e.stroke,o=this.state,l=o.startX,c=o.endX,d={pointerEvents:"none",fill:i};return Ur.createElement(Ng,{className:"recharts-brush-texts"},Ur.createElement(ES,sz({textAnchor:"end",verticalAnchor:"middle",x:Math.min(l,c)-5,y:n+s/2},d),this.getTextOfTick(t)),Ur.createElement(ES,sz({textAnchor:"start",verticalAnchor:"middle",x:Math.max(l,c)+a+5,y:n+s/2},d),this.getTextOfTick(r)))}},{key:"render",value:function(){var e=this.props,t=e.data,r=e.className,n=e.children,s=e.x,a=e.y,i=e.width,o=e.height,l=e.alwaysShowText,c=this.state,d=c.startX,u=c.endX,m=c.isTextActive,h=c.isSlideMoving,p=c.isTravellerMoving,f=c.isTravellerFocused;if(!t||!t.length||!yx(s)||!yx(a)||!yx(i)||!yx(o)||i<=0||o<=0)return null;var x,g,b,y,v=P("recharts-brush",r),j=1===Ur.Children.count(n),w=(g="none",b=(x="userSelect").replace(/(\w)/,function(e){return e.toUpperCase()}),(y=rz.reduce(function(e,t){return ez(ez({},e),{},tz({},t+b,g))},{}))[x]=g,y);return Ur.createElement(Ng,{className:v,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(d,u),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(u,"endX"),(m||h||p||f||l)&&this.renderText())}}])&&oz(t.prototype,r),n&&oz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();mz(yz,"displayName","Brush"),mz(yz,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});const vz=Br(function(){if(gz)return xz;gz=1;var e=Jy(),t=pw(),r=function(){if(fz)return pz;fz=1;var e=TN();return pz=function(t,r){var n;return e(t,function(e,t,s){return!(n=r(e,t,s))}),!!n}}(),n=jf(),s=IN();return xz=function(a,i,o){var l=n(a)?e:r;return o&&s(a,i,o)&&(i=void 0),l(a,t(i,3))}}());var jz,wz,Nz,kz,Sz=function(e,t){var r=e.alwaysShow,n=e.ifOverflow;return r&&(n="extendDomain"),n===t};const Cz=Br(function(){if(kz)return Nz;kz=1;var e=function(){if(wz)return jz;wz=1;var e=ON();return jz=function(t,r,n){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n}}(),t=AN(),r=pw();return Nz=function(n,s){var a={};return s=r(s,3),t(n,function(t,r,n){e(a,r,s(t,r,n))}),a}}());var Az,Tz,Ez,_z,Pz,Dz;const Oz=Br(function(){if(Dz)return Pz;Dz=1;var e=Tz?Az:(Tz=1,Az=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}),t=function(){if(_z)return Ez;_z=1;var e=TN();return Ez=function(t,r){var n=!0;return e(t,function(e,t,s){return n=!!r(e,t,s)}),n}}(),r=pw(),n=jf(),s=IN();return Pz=function(a,i,o){var l=n(a)?e:t;return o&&s(a,i,o)&&(i=void 0),l(a,r(i,3))}}());var Lz=["x","y"];function Mz(e){return(Mz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iz(){return Iz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iz.apply(this,arguments)}function Rz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rz(Object(r),!0).forEach(function(t){Fz(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fz(e,t,r){var n;return n=function(e,t){if("object"!=Mz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Mz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Mz(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bz(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function qz(e,t){var r=e.x,n=e.y,s=Bz(e,Lz),a="".concat(r),i=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||s.height),d=parseInt(c,10),u="".concat(t.width||s.width),m=parseInt(u,10);return zz(zz(zz(zz(zz({},t),s),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function $z(e){return Ur.createElement(QI,Iz({shapeType:"rectangle",propTransformer:qz,activeClassName:"recharts-active-bar"},e))}var Uz,Wz=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r,n){if("number"==typeof e)return e;var s=yx(r)||function(e){return Zf(e)}(r);return s?e(r,n):(s||LP(),t)}},Vz=["value","background"];function Hz(e){return(Hz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gz(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Kz(){return Kz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kz.apply(this,arguments)}function Yz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yz(Object(r),!0).forEach(function(t){rF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yz(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nF(n.key),n)}}function Qz(e,t,r){return t=eF(t),function(e,t){if(t&&("object"===Hz(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Zz()?Reflect.construct(t,r||[],eF(e).constructor):t.apply(e,r))}function Zz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Zz=function(){return!!e})()}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tF(e,t){return(tF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rF(e,t,r){return(t=nF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nF(e){var t=function(e,t){if("object"!=Hz(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Hz(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Hz(t)?t:t+""}var sF=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return rF(t=Qz(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),rF(t,"id",wx("recharts-bar-")),rF(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),e&&e()}),rF(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),e&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tF(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],(r=[{key:"renderRectanglesStatically",value:function(e){var t=this,r=this.props,n=r.shape,s=r.dataKey,a=r.activeIndex,i=r.activeBar,o=Xx(this.props,!1);return e&&e.map(function(e,r){var l=r===a,c=l?i:n,d=Xz(Xz(Xz({},o),e),{},{isActive:l,option:c,index:r,dataKey:s,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return Ur.createElement(Ng,Kz({className:"recharts-bar-rectangle"},Mx(t.props,e,r),{key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(r)}),Ur.createElement($z,d))})}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,r=t.data,n=t.layout,s=t.isAnimationActive,a=t.animationBegin,i=t.animationDuration,o=t.animationEasing,l=t.animationId,c=this.state.prevData;return Ur.createElement(pM,{begin:a,duration:i,isActive:s,easing:o,from:{t:0},to:{t:1},key:"bar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var s=t.t,a=r.map(function(e,t){var r=c&&c[t];if(r){var a=Sx(r.x,e.x),i=Sx(r.y,e.y),o=Sx(r.width,e.width),l=Sx(r.height,e.height);return Xz(Xz({},e),{},{x:a(s),y:i(s),width:o(s),height:l(s)})}if("horizontal"===n){var d=Sx(0,e.height)(s);return Xz(Xz({},e),{},{y:e.y+e.height-d,height:d})}var u=Sx(0,e.width)(s);return Xz(Xz({},e),{},{width:u})});return Ur.createElement(Ng,null,e.renderRectanglesStatically(a))})}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,r=e.isAnimationActive,n=this.state.prevData;return!(r&&t&&t.length)||n&&O_(n,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,r=t.data,n=t.dataKey,s=t.activeIndex,a=Xx(this.props.background,!1);return r.map(function(t,r){t.value;var i=t.background,o=Gz(t,Vz);if(!i)return null;var l=Xz(Xz(Xz(Xz(Xz({},o),{},{fill:"#eee"},i),a),Mx(e.props,t,r)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:n,index:r,className:"recharts-bar-background-rectangle"});return Ur.createElement($z,Kz({key:"background-bar-".concat(r),option:e.props.background,isActive:r===s},l))})}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.data,s=r.xAxis,a=r.yAxis,i=r.layout,o=Vx(r.children,KP);if(!o)return null;var l="vertical"===i?n[0].height/2:n[0].width/2,c=function(e,t){var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:iD(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Ur.createElement(Ng,d,o.map(function(e){return Ur.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:n,xAxis:s,yAxis:a,layout:i,offset:l,dataPointFormatter:c})}))}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.data,n=e.className,s=e.xAxis,a=e.yAxis,i=e.left,o=e.top,l=e.width,c=e.height,d=e.isAnimationActive,u=e.background,m=e.id;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,p=P("recharts-bar",n),f=s&&s.allowDataOverflow,x=a&&a.allowDataOverflow,g=f||x,b=Zf(m)?this.id:m;return Ur.createElement(Ng,{className:p},f||x?Ur.createElement("defs",null,Ur.createElement("clipPath",{id:"clipPath-".concat(b)},Ur.createElement("rect",{x:f?i:i-l/2,y:x?o:o-c/2,width:f?l:2*l,height:x?c:2*c}))):null,Ur.createElement(Ng,{className:"recharts-bar-rectangles",clipPath:g?"url(#clipPath-".concat(b,")"):null},u?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(g,b),(!d||h)&&jO.renderCallByParent(this.props,r))}}])&&Jz(t.prototype,r),n&&Jz(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function aF(e){return(aF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dF(n.key),n)}}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(t){cF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cF(e,t,r){return(t=dF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dF(e){var t=function(e,t){if("object"!=aF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=aF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aF(t)?t:t+""}Uz=sF,rF(sF,"displayName","Bar"),rF(sF,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dk,animationBegin:0,animationDuration:400,animationEasing:"ease"}),rF(sF,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,i=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,d=e.dataStartIndex,u=e.displayedData,m=e.offset,h=yD(n,r);if(!h)return null;var p=t.layout,f=r.type.defaultProps,x=void 0!==f?Xz(Xz({},f),r.props):r.props,g=x.dataKey,b=x.children,y=x.minPointSize,v="horizontal"===p?i:a,j=c?v.scale.domain():null,w=CD({numericAxis:v}),N=Vx(b,Hk),k=u.map(function(e,t){var n,u,m,f,x,b;c?n=vD(c[d+t],j):(n=iD(e,g),Array.isArray(n)||(n=[w,n]));var v=Wz(y,Uz.defaultProps.minPointSize)(n[1],t);if("horizontal"===p){var k,S=[i.scale(n[0]),i.scale(n[1])],C=S[0],A=S[1];u=SD({axis:a,ticks:o,bandSize:s,offset:h.offset,entry:e,index:t}),m=null!==(k=null!=A?A:C)&&void 0!==k?k:void 0,f=h.size;var T=C-A;if(x=Number.isNaN(T)?0:T,b={x:u,y:i.y,width:f,height:i.height},Math.abs(v)>0&&Math.abs(x)<Math.abs(v)){var E=gx(x||v)*(Math.abs(v)-Math.abs(x));m-=E,x+=E}}else{var _=[a.scale(n[0]),a.scale(n[1])],P=_[0],D=_[1];if(u=P,m=SD({axis:i,ticks:l,bandSize:s,offset:h.offset,entry:e,index:t}),f=D-P,x=h.size,b={x:a.x,y:m,width:a.width,height:x},Math.abs(v)>0&&Math.abs(f)<Math.abs(v))f+=gx(f||v)*(Math.abs(v)-Math.abs(f))}return Xz(Xz(Xz({},e),{},{x:u,y:m,width:f,height:x,value:c?n:n[1],payload:e,background:b},N&&N[t]&&N[t].props),{},{tooltipPayload:[OD(r,e)],tooltipPosition:{x:u+f/2,y:m+x/2}})});return Xz({data:k,layout:p},m)});var uF=function(e,t,r,n,s){var a=e.width,i=e.height,o=e.layout,l=e.children,c=Object.keys(t),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:i-r.bottom,bottomMirror:i-r.bottom},u=!!Hx(l,sF);return c.reduce(function(a,i){var l,c,m,h,p,f=t[i],x=f.orientation,g=f.domain,b=f.padding,y=void 0===b?{}:b,v=f.mirror,j=f.reversed,w="".concat(x).concat(v?"Mirror":"");if("number"===f.type&&("gap"===f.padding||"no-gap"===f.padding)){var N=g[1]-g[0],k=1/0,S=f.categoricalDomain.sort(Ax);if(S.forEach(function(e,t){t>0&&(k=Math.min((e||0)-(S[t-1]||0),k))}),Number.isFinite(k)){var C=k/N,A="vertical"===f.layout?r.height:r.width;if("gap"===f.padding&&(l=C*A/2),"no-gap"===f.padding){var T=Nx(e.barCategoryGap,C*A),E=C*A/2;l=E-T-(E-T)/A*T}}}c="xAxis"===n?[r.left+(y.left||0)+(l||0),r.left+r.width-(y.right||0)-(l||0)]:"yAxis"===n?"horizontal"===o?[r.top+r.height-(y.bottom||0),r.top+(y.top||0)]:[r.top+(y.top||0)+(l||0),r.top+r.height-(y.bottom||0)-(l||0)]:f.range,j&&(c=[c[1],c[0]]);var _=xD(f,s,u),P=_.scale,D=_.realScaleType;P.domain(g).range(c),bD(P);var O=ND(P,lF(lF({},f),{},{realScaleType:D}));"xAxis"===n?(p="top"===x&&!v||"bottom"===x&&v,m=r.left,h=d[w]-p*f.height):"yAxis"===n&&(p="left"===x&&!v||"right"===x&&v,m=d[w]-p*f.width,h=r.top);var L=lF(lF(lF({},f),O),{},{realScaleType:D,x:m,y:h,scale:P,width:"xAxis"===n?r.width:f.width,height:"yAxis"===n?r.height:f.height});return L.bandSize=PD(L,O),f.hide||"xAxis"!==n?f.hide||(d[w]+=(p?-1:1)*L.width):d[w]+=(p?-1:1)*L.height,lF(lF({},a),{},cF({},i,L))},{})},mF=function(e,t){var r=e.x,n=e.y,s=t.x,a=t.y;return{x:Math.min(r,s),y:Math.min(n,a),width:Math.abs(s-r),height:Math.abs(a-n)}},hF=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,r=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.bandAware,n=t.position;if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+s;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}],n=[{key:"create",value:function(t){return new e(t)}}],r&&iF(t.prototype,r),n&&iF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();cF(hF,"EPS",1e-4);var pF=function(e){var t=Object.keys(e).reduce(function(t,r){return lF(lF({},t),{},cF({},r,hF.create(e[r])))},{});return lF(lF({},t),{},{apply:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.bandAware,s=r.position;return Cz(e,function(e,r){return t[r].apply(e,{bandAware:n,position:s})})},isInRange:function(e){return Oz(e,function(e,r){return t[r].isInRange(e)})}})};var fF,xF,gF,bF,yF,vF,jF,wF;function NF(){if(vF)return yF;vF=1;var e=fw(),t=pw(),r=function(){if(bF)return gF;bF=1;var e=YR();return gF=function(t){var r=e(t),n=r%1;return r==r?n?r-n:r:0}}(),n=Math.max;return yF=function(s,a,i){var o=null==s?0:s.length;if(!o)return-1;var l=null==i?0:r(i);return l<0&&(l=n(o+l,0)),e(s,t(a,3),l)}}const kF=Br(function(){if(wF)return jF;wF=1;var e=function(){if(xF)return fF;xF=1;var e=pw(),t=tw(),r=rw();return fF=function(n){return function(s,a,i){var o=Object(s);if(!t(s)){var l=e(a,3);s=r(s),a=function(e){return l(o[e],e,o)}}var c=n(s,a,i);return c>-1?o[l?s[c]:c]:void 0}}}()(NF());return jF=e}());var SF=Br($f())(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),CF=qr.createContext(void 0),AF=qr.createContext(void 0),TF=qr.createContext(void 0),EF=qr.createContext({}),_F=qr.createContext(void 0),PF=qr.createContext(0),DF=qr.createContext(0),OF=function(e){var t=e.state,r=t.xAxisMap,n=t.yAxisMap,s=t.offset,a=e.clipPathId,i=e.children,o=e.width,l=e.height,c=SF(s);return Ur.createElement(CF.Provider,{value:r},Ur.createElement(AF.Provider,{value:n},Ur.createElement(EF.Provider,{value:s},Ur.createElement(TF.Provider,{value:c},Ur.createElement(_F.Provider,{value:a},Ur.createElement(PF.Provider,{value:l},Ur.createElement(DF.Provider,{value:o},i)))))))},LF=function(e){var t=qr.useContext(CF);null==t&&LP();var r=t[e];return null==r&&LP(),r},MF=function(e){var t=qr.useContext(AF);null==t&&LP();var r=t[e];return null==r&&LP(),r},IF=function(){return qr.useContext(DF)},RF=function(){return qr.useContext(PF)};function zF(e){return(zF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FF(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GF(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BF(e,t,r){return t=$F(t),function(e,t){if(t&&("object"===zF(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qF()?Reflect.construct(t,r||[],$F(e).constructor):t.apply(e,r))}function qF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qF=function(){return!!e})()}function $F(e){return($F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UF(e,t){return(UF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function WF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function VF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WF(Object(r),!0).forEach(function(t){HF(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=function(e,t){if("object"!=zF(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=zF(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==zF(t)?t:t+""}function KF(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return YF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YF(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function YF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XF(){return XF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XF.apply(this,arguments)}function JF(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,i=e.shape,o=e.className,l=e.alwaysShow,c=qr.useContext(_F),d=LF(s),u=MF(a),m=qr.useContext(TF);if(!c||!m)return null;kg(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=function(e,t,r,n,s,a,i,o,l){var c=s.x,d=s.y,u=s.width,m=s.height;if(r){var h=l.y,p=e.y.apply(h,{position:a});if(Sz(l,"discard")&&!e.y.isInRange(p))return null;var f=[{x:c+u,y:p},{x:c,y:p}];return"left"===o?f.reverse():f}if(t){var x=l.x,g=e.x.apply(x,{position:a});if(Sz(l,"discard")&&!e.x.isInRange(g))return null;var b=[{x:g,y:d+m},{x:g,y:d}];return"top"===i?b.reverse():b}if(n){var y=l.segment.map(function(t){return e.apply(t,{position:a})});return Sz(l,"discard")&&vz(y,function(t){return!e.isInRange(t)})?null:y}return null}(pF({x:d.scale,y:u.scale}),vx(t),vx(r),n&&2===n.length,m,e.position,d.orientation,u.orientation,e);if(!h)return null;var p=KF(h,2),f=p[0],x=f.x,g=f.y,b=p[1],y=b.x,v=b.y,j=VF(VF({clipPath:Sz(e,"hidden")?"url(#".concat(c,")"):void 0},Xx(e,!0)),{},{x1:x,y1:g,x2:y,y2:v});return Ur.createElement(Ng,{className:P("recharts-reference-line",o)},function(e,t){return Ur.isValidElement(e)?Ur.cloneElement(e,t):nx(e)?e(t):Ur.createElement("line",XF({},t,{className:"recharts-reference-line-line"}))}(i,j),aO.renderCallByParent(e,function(e){var t=e.x1,r=e.y1,n=e.x2,s=e.y2;return mF({x:t,y:r},{x:n,y:s})}({x1:x,y1:g,x2:y,y2:v})))}var QF=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),BF(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UF(e,t)}(e,Ur.Component),FF(e,[{key:"render",value:function(){return Ur.createElement(JF,this.props)}}])}();function ZF(){return ZF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZF.apply(this,arguments)}function eB(e){return(eB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function rB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tB(Object(r),!0).forEach(function(t){lB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function nB(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cB(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sB(e,t,r){return t=iB(t),function(e,t){if(t&&("object"===eB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aB()?Reflect.construct(t,r||[],iB(e).constructor):t.apply(e,r))}function aB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(aB=function(){return!!e})()}function iB(e){return(iB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oB(e,t){return(oB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lB(e,t,r){return(t=cB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){var t=function(e,t){if("object"!=eB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=eB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==eB(t)?t:t+""}HF(QF,"displayName","ReferenceLine"),HF(QF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var dB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),sB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oB(e,t)}(e,Ur.Component),nB(e,[{key:"render",value:function(){var t=this.props,r=t.x,n=t.y,s=t.r,a=t.alwaysShow,i=t.clipPathId,o=vx(r),l=vx(n);if(kg(void 0===a,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!o||!l)return null;var c=function(e){var t=e.x,r=e.y,n=e.xAxis,s=e.yAxis,a=pF({x:n.scale,y:s.scale}),i=a.apply({x:t,y:r},{bandAware:!0});return Sz(e,"discard")&&!a.isInRange(i)?null:i}(this.props);if(!c)return null;var d=c.x,u=c.y,m=this.props,h=m.shape,p=m.className,f=rB(rB({clipPath:Sz(this.props,"hidden")?"url(#".concat(i,")"):void 0},Xx(this.props,!0)),{},{cx:d,cy:u});return Ur.createElement(Ng,{className:P("recharts-reference-dot",p)},e.renderDot(h,f),aO.renderCallByParent(this.props,{x:d-s,y:u-s,width:2*s,height:2*s}))}}])}();function uB(){return uB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uB.apply(this,arguments)}function mB(e){return(mB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(r),!0).forEach(function(t){vB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fB(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jB(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xB(e,t,r){return t=bB(t),function(e,t){if(t&&("object"===mB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,gB()?Reflect.construct(t,r||[],bB(e).constructor):t.apply(e,r))}function gB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(gB=function(){return!!e})()}function bB(e){return(bB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yB(e,t){return(yB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function vB(e,t,r){return(t=jB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=function(e,t){if("object"!=mB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=mB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==mB(t)?t:t+""}lB(dB,"displayName","ReferenceDot"),lB(dB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),lB(dB,"renderDot",function(e,t){return Ur.isValidElement(e)?Ur.cloneElement(e,t):nx(e)?e(t):Ur.createElement(MM,ZF({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))});var wB=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),xB(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yB(e,t)}(e,Ur.Component),fB(e,[{key:"render",value:function(){var t=this.props,r=t.x1,n=t.x2,s=t.y1,a=t.y2,i=t.className,o=t.alwaysShow,l=t.clipPathId;kg(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=vx(r),d=vx(n),u=vx(s),m=vx(a),h=this.props.shape;if(!(c||d||u||m||h))return null;var p=function(e,t,r,n,s){var a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.xAxis,d=s.yAxis;if(!c||!d)return null;var u=pF({x:c.scale,y:d.scale}),m={x:e?u.x.apply(a,{position:"start"}):u.x.rangeMin,y:r?u.y.apply(o,{position:"start"}):u.y.rangeMin},h={x:t?u.x.apply(i,{position:"end"}):u.x.rangeMax,y:n?u.y.apply(l,{position:"end"}):u.y.rangeMax};return!Sz(s,"discard")||u.isInRange(m)&&u.isInRange(h)?mF(m,h):null}(c,d,u,m,this.props);if(!p&&!h)return null;var f=Sz(this.props,"hidden")?"url(#".concat(l,")"):void 0;return Ur.createElement(Ng,{className:P("recharts-reference-area",i)},e.renderRect(h,pB(pB({clipPath:f},Xx(this.props,!0)),p)),aO.renderCallByParent(this.props,p))}}])}();function NB(e,t,r){if(t<1)return[];if(1===t&&void 0===r)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function kB(e,t,r){return function(e){var t=e.width,r=e.height,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),s=n*Math.PI/180,a=Math.atan(r/t),i=s>a&&s<Math.PI-a?r/Math.sin(s):t/Math.cos(s);return Math.abs(i)}({width:e.width+t.width,height:e.height+t.height},r)}function SB(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function CB(e){return(CB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AB(Object(r),!0).forEach(function(t){EB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function EB(e,t,r){var n;return n=function(e,t){if("object"!=CB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=CB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==CB(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _B(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,i=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,d=e.unit,u=e.angle;if(!s||!s.length||!n)return[];if(yx(l)||dk)return function(e,t){return NB(e,t+1)}(s,"number"==typeof l&&yx(l)?l:0);var m=[],h="top"===o||"bottom"===o?"width":"height",p=d&&"width"===h?eS(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},f=function(e,n){var s=nx(c)?c(e.value,n):e.value;return"width"===h?kB(eS(s,{fontSize:t,letterSpacing:r}),p,u):eS(s,{fontSize:t,letterSpacing:r})[h]},x=s.length>=2?gx(s[1].coordinate-s[0].coordinate):1,g=function(e,t,r){var n="width"===r,s=e.x,a=e.y,i=e.width,o=e.height;return 1===t?{start:n?s:a,end:n?s+i:a+o}:{start:n?s+i:a+o,end:n?s:a}}(a,x,h);return"equidistantPreserveStart"===l?function(e,t,r,n,s){for(var a,i=(n||[]).slice(),o=t.start,l=t.end,c=0,d=1,u=o,m=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:NB(n,d)};var a,i=c,m=function(){return void 0===a&&(a=r(t,i)),a},h=t.coordinate,p=0===c||SB(e,h,m,u,l);p||(c=0,u=o,d+=1),p&&(u=h+e*(m()/2+s),c+=d)};d<=i.length;)if(a=m())return a.v;return[]}(x,g,f,s,i):(m="preserveStart"===l||"preserveStartEnd"===l?function(e,t,r,n,s,a){var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end;if(a){var d=n[o-1],u=r(d,o-1),m=e*(d.coordinate+e*u/2-c);i[o-1]=d=TB(TB({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate}),SB(e,d.tickCoord,function(){return u},l,c)&&(c=d.tickCoord-e*(u/2+s),i[o-1]=TB(TB({},d),{},{isShow:!0}))}for(var h=a?o-1:o,p=function(t){var n,a=i[t],o=function(){return void 0===n&&(n=r(a,t)),n};if(0===t){var d=e*(a.coordinate-e*o()/2-l);i[t]=a=TB(TB({},a),{},{tickCoord:d<0?a.coordinate-d*e:a.coordinate})}else i[t]=a=TB(TB({},a),{},{tickCoord:a.coordinate});SB(e,a.tickCoord,o,l,c)&&(l=a.tickCoord+e*(o()/2+s),i[t]=TB(TB({},a),{},{isShow:!0}))},f=0;f<h;f++)p(f);return i}(x,g,f,s,i,"preserveStartEnd"===l):function(e,t,r,n,s){for(var a=(n||[]).slice(),i=a.length,o=t.start,l=t.end,c=function(t){var n,c=a[t],d=function(){return void 0===n&&(n=r(c,t)),n};if(t===i-1){var u=e*(c.coordinate+e*d()/2-l);a[t]=c=TB(TB({},c),{},{tickCoord:u>0?c.coordinate-u*e:c.coordinate})}else a[t]=c=TB(TB({},c),{},{tickCoord:c.coordinate});SB(e,c.tickCoord,d,o,l)&&(l=c.tickCoord-e*(d()/2+s),a[t]=TB(TB({},c),{},{isShow:!0}))},d=i-1;d>=0;d--)c(d);return a}(x,g,f,s,i),m.filter(function(e){return e.isShow}))}vB(wB,"displayName","ReferenceArea"),vB(wB,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),vB(wB,"renderRect",function(e,t){return Ur.isValidElement(e)?Ur.cloneElement(e,t):nx(e)?e(t):Ur.createElement(SM,uB({},t,{className:"recharts-reference-area-rect"}))});var PB=["viewBox"],DB=["viewBox"],OB=["ticks"];function LB(e){return(LB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MB(){return MB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MB.apply(this,arguments)}function IB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function RB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IB(Object(r),!0).forEach(function(t){WB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zB(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FB(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VB(n.key),n)}}function BB(e,t,r){return t=$B(t),function(e,t){if(t&&("object"===LB(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,qB()?Reflect.construct(t,r||[],$B(e).constructor):t.apply(e,r))}function qB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(qB=function(){return!!e})()}function $B(e){return($B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function UB(e,t){return(UB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function WB(e,t,r){return(t=VB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VB(e){var t=function(e,t){if("object"!=LB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=LB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==LB(t)?t:t+""}var HB=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=BB(this,e,[t])).state={fontSize:"",letterSpacing:""},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UB(e,t)}(e,qr.Component),t=e,n=[{key:"renderTickItem",value:function(e,t,r){var n=P(t.className,"recharts-cartesian-axis-tick-value");return Ur.isValidElement(e)?Ur.cloneElement(e,RB(RB({},t),{},{className:n})):nx(e)?e(RB(RB({},t),{},{className:n})):Ur.createElement(ES,MB({},t,{className:"recharts-cartesian-axis-tick-value"}),r)}}],(r=[{key:"shouldComponentUpdate",value:function(e,t){var r=e.viewBox,n=zB(e,PB),s=this.props,a=s.viewBox,i=zB(s,DB);return!Tx(r,a)||!Tx(n,i)||!Tx(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,r,n,s,a,i,o=this.props,l=o.x,c=o.y,d=o.width,u=o.height,m=o.orientation,h=o.tickSize,p=o.mirror,f=o.tickMargin,x=p?-1:1,g=e.tickSize||h,b=yx(e.tickCoord)?e.tickCoord:e.coordinate;switch(m){case"top":t=r=e.coordinate,i=(n=(s=c+ +!p*u)-x*g)-x*f,a=b;break;case"left":n=s=e.coordinate,a=(t=(r=l+ +!p*d)-x*g)-x*f,i=b;break;case"right":n=s=e.coordinate,a=(t=(r=l+ +p*d)+x*g)+x*f,i=b;break;default:t=r=e.coordinate,i=(n=(s=c+ +p*u)+x*g)+x*f,a=b}return{line:{x1:t,y1:n,x2:r,y2:s},tick:{x:a,y:i}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,r=t.orientation,n=t.mirror;switch(r){case"left":e=n?"start":"end";break;case"right":e=n?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,r=e.mirror,n="end";switch(t){case"left":case"right":n="middle";break;case"top":n=r?"start":"end";break;default:n=r?"end":"start"}return n}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,r=e.y,n=e.width,s=e.height,a=e.orientation,i=e.mirror,o=e.axisLine,l=RB(RB(RB({},Xx(this.props,!1)),Xx(o,!1)),{},{fill:"none"});if("top"===a||"bottom"===a){var c=+("top"===a&&!i||"bottom"===a&&i);l=RB(RB({},l),{},{x1:t,y1:r+c*s,x2:t+n,y2:r+c*s})}else{var d=+("left"===a&&!i||"right"===a&&i);l=RB(RB({},l),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return Ur.createElement("line",MB({},l,{className:P("recharts-cartesian-axis-line",Xf(o,"className"))}))}},{key:"renderTicks",value:function(t,r,n){var s=this,a=this.props,i=a.tickLine,o=a.stroke,l=a.tick,c=a.tickFormatter,d=a.unit,u=_B(RB(RB({},this.props),{},{ticks:t}),r,n),m=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),p=Xx(this.props,!1),f=Xx(l,!1),x=RB(RB({},p),{},{fill:"none"},Xx(i,!1)),g=u.map(function(t,r){var n=s.getTickLineCoord(t),a=n.line,g=n.tick,b=RB(RB(RB(RB({textAnchor:m,verticalAnchor:h},p),{},{stroke:"none",fill:o},f),g),{},{index:r,payload:t,visibleTicksCount:u.length,tickFormatter:c});return Ur.createElement(Ng,MB({className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},Mx(s.props,t,r)),i&&Ur.createElement("line",MB({},x,a,{className:P("recharts-cartesian-axis-tick-line",Xf(i,"className"))})),l&&e.renderTickItem(l,b,"".concat(nx(c)?c(t.value,r):t.value).concat(d||"")))});return Ur.createElement("g",{className:"recharts-cartesian-axis-ticks"},g)}},{key:"render",value:function(){var e=this,t=this.props,r=t.axisLine,n=t.width,s=t.height,a=t.ticksGenerator,i=t.className;if(t.hide)return null;var o=this.props,l=o.ticks,c=zB(o,OB),d=l;return nx(a)&&(d=l&&l.length>0?a(this.props):a(c)),n<=0||s<=0||!d||!d.length?null:Ur.createElement(Ng,{className:P("recharts-cartesian-axis",i),ref:function(t){e.layerReference=t}},r&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),aO.renderCallByParent(this.props))}}])&&FB(t.prototype,r),n&&FB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();WB(HB,"displayName","CartesianAxis"),WB(HB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var GB=["x1","y1","x2","y2","key"],KB=["offset"];function YB(e){return(YB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XB(Object(r),!0).forEach(function(t){QB(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function QB(e,t,r){var n;return n=function(e,t){if("object"!=YB(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=YB(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==YB(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZB(){return ZB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZB.apply(this,arguments)}function eq(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var tq=function(e){var t=e.fill;if(!t||"none"===t)return null;var r=e.fillOpacity,n=e.x,s=e.y,a=e.width,i=e.height,o=e.ry;return Ur.createElement("rect",{x:n,y:s,ry:o,width:a,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rq(e,t){var r;if(Ur.isValidElement(e))r=Ur.cloneElement(e,t);else if(nx(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,i=t.y2,o=t.key,l=eq(t,GB),c=Xx(l,!1);c.offset;var d=eq(c,KB);r=Ur.createElement("line",ZB({},d,{x1:n,y1:s,x2:a,y2:i,fill:"none",key:o}))}return r}function nq(e){var t=e.x,r=e.width,n=e.horizontal,s=void 0===n||n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(n,a){var i=JB(JB({},e),{},{x1:t,y1:n,x2:t+r,y2:n,key:"line-".concat(a),index:a});return rq(s,i)});return Ur.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function sq(e){var t=e.y,r=e.height,n=e.vertical,s=void 0===n||n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var i=a.map(function(n,a){var i=JB(JB({},e),{},{x1:n,y1:t,x2:n,y2:t+r,key:"line-".concat(a),index:a});return rq(s,i)});return Ur.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function aq(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,i=e.height,o=e.horizontalPoints,l=e.horizontal;if(!(void 0===l||l)||!t||!t.length)return null;var c=o.map(function(e){return Math.round(e+s-s)}).sort(function(e,t){return e-t});s!==c[0]&&c.unshift(0);var d=c.map(function(e,o){var l=!c[o+1]?s+i-e:c[o+1]-e;if(l<=0)return null;var d=o%t.length;return Ur.createElement("rect",{key:"react-".concat(o),y:e,x:n,height:l,width:a,stroke:"none",fill:t[d],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ur.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function iq(e){var t=e.vertical,r=void 0===t||t,n=e.verticalFill,s=e.fillOpacity,a=e.x,i=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var d=c.map(function(e){return Math.round(e+a-a)}).sort(function(e,t){return e-t});a!==d[0]&&d.unshift(0);var u=d.map(function(e,t){var r=!d[t+1]?a+o-e:d[t+1]-e;if(r<=0)return null;var c=t%n.length;return Ur.createElement("rect",{key:"react-".concat(t),x:e,y:i,width:r,height:l,stroke:"none",fill:n[c],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Ur.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var oq=function(e,t){var r=e.xAxis,n=e.width,s=e.height,a=e.offset;return mD(_B(JB(JB(JB({},HB.defaultProps),r),{},{ticks:hD(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),a.left,a.left+a.width,t)},lq=function(e,t){var r=e.yAxis,n=e.width,s=e.height,a=e.offset;return mD(_B(JB(JB(JB({},HB.defaultProps),r),{},{ticks:hD(r,!0),viewBox:{x:0,y:0,width:n,height:s}})),a.top,a.top+a.height,t)},cq={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function dq(e){var t,r,n,s,a,i,o,l,c=IF(),d=RF(),u=qr.useContext(EF),m=JB(JB({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:cq.stroke,fill:null!==(r=e.fill)&&void 0!==r?r:cq.fill,horizontal:null!==(n=e.horizontal)&&void 0!==n?n:cq.horizontal,horizontalFill:null!==(s=e.horizontalFill)&&void 0!==s?s:cq.horizontalFill,vertical:null!==(a=e.vertical)&&void 0!==a?a:cq.vertical,verticalFill:null!==(i=e.verticalFill)&&void 0!==i?i:cq.verticalFill,x:yx(e.x)?e.x:u.left,y:yx(e.y)?e.y:u.top,width:yx(e.width)?e.width:u.width,height:yx(e.height)?e.height:u.height}),h=m.x,p=m.y,f=m.width,x=m.height,g=m.syncWithTicks,b=m.horizontalValues,y=m.verticalValues,v=(o=qr.useContext(CF),kx(o)),j=(l=qr.useContext(AF),kF(l,function(e){return Oz(e.domain,Number.isFinite)})||kx(l));if(!yx(f)||f<=0||!yx(x)||x<=0||!yx(h)||h!==+h||!yx(p)||p!==+p)return null;var w=m.verticalCoordinatesGenerator||oq,N=m.horizontalCoordinatesGenerator||lq,k=m.horizontalPoints,S=m.verticalPoints;if((!k||!k.length)&&nx(N)){var C=b&&b.length,A=N({yAxis:j?JB(JB({},j),{},{ticks:C?b:j.ticks}):void 0,width:c,height:d,offset:u},!!C||g);kg(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(YB(A),"]")),Array.isArray(A)&&(k=A)}if((!S||!S.length)&&nx(w)){var T=y&&y.length,E=w({xAxis:v?JB(JB({},v),{},{ticks:T?y:v.ticks}):void 0,width:c,height:d,offset:u},!!T||g);kg(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(YB(E),"]")),Array.isArray(E)&&(S=E)}return Ur.createElement("g",{className:"recharts-cartesian-grid"},Ur.createElement(tq,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),Ur.createElement(nq,ZB({},m,{offset:u,horizontalPoints:k,xAxis:v,yAxis:j})),Ur.createElement(sq,ZB({},m,{offset:u,verticalPoints:S,xAxis:v,yAxis:j})),Ur.createElement(aq,ZB({},m,{horizontalPoints:k})),Ur.createElement(iq,ZB({},m,{verticalPoints:S})))}dq.displayName="CartesianGrid";var uq=["type","layout","connectNulls","ref"],mq=["key"];function hq(e){return(hq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pq(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function fq(){return fq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fq.apply(this,arguments)}function xq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xq(Object(r),!0).forEach(function(t){Sq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bq(e){return function(e){if(Array.isArray(e))return yq(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return yq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yq(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function jq(e,t,r){return t=Nq(t),function(e,t){if(t&&("object"===hq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wq()?Reflect.construct(t,r||[],Nq(e).constructor):t.apply(e,r))}function wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(wq=function(){return!!e})()}function Nq(e){return(Nq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kq(e,t){return(kq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Sq(e,t,r){return(t=Cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=function(e,t){if("object"!=hq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=hq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==hq(t)?t:t+""}var Aq=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return Sq(t=jq(this,e,[].concat(n)),"state",{isAnimationFinished:!0,totalLength:0}),Sq(t,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),Sq(t,"getStrokeDasharray",function(r,n,s){var a=s.reduce(function(e,t){return e+t});if(!a)return t.generateSimpleStrokeDasharray(n,r);for(var i=Math.floor(r/a),o=r%a,l=n-r,c=[],d=0,u=0;d<s.length;u+=s[d],++d)if(u+s[d]>o){c=[].concat(bq(s.slice(0,d)),[o-u]);break}var m=c.length%2==0?[0,l]:[l];return[].concat(bq(e.repeat(s,i)),bq(c),m).map(function(e){return"".concat(e,"px")}).join(", ")}),Sq(t,"id",wx("recharts-line-")),Sq(t,"pathRef",function(e){t.mainCurve=e}),Sq(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0}),t.props.onAnimationEnd&&t.props.onAnimationEnd()}),Sq(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1}),t.props.onAnimationStart&&t.props.onAnimationStart()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kq(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(bq(e),[0]):e,n=[],s=0;s<t;++s)n=[].concat(bq(n),bq(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(Ur.isValidElement(e))r=Ur.cloneElement(e,t);else if(nx(e))r=e(t);else{var n=t.key,s=pq(t,mq),a=P("recharts-line-dot","boolean"!=typeof e?e.className:"");r=Ur.createElement(MM,fq({key:n},s,{className:a}))}return r}}],(r=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,s=r.xAxis,a=r.yAxis,i=r.layout,o=Vx(r.children,KP);if(!o)return null;var l=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:iD(e.payload,t)}},c={clipPath:e?"url(#clipPath-".concat(t,")"):null};return Ur.createElement(Ng,c,o.map(function(e){return Ur.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:s,yAxis:a,layout:i,dataPointFormatter:l})}))}},{key:"renderDots",value:function(t,r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.dot,i=s.points,o=s.dataKey,l=Xx(this.props,!1),c=Xx(a,!0),d=i.map(function(t,r){var n=gq(gq(gq({key:"dot-".concat(r),r:3},l),c),{},{index:r,cx:t.x,cy:t.y,value:t.value,dataKey:o,payload:t.payload,points:i});return e.renderDotItem(a,n)}),u={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return Ur.createElement(Ng,fq({className:"recharts-line-dots",key:"dots"},u),d)}},{key:"renderCurveStatically",value:function(e,t,r,n){var s=this.props,a=s.type,i=s.layout,o=s.connectNulls;s.ref;var l=pq(s,uq),c=gq(gq(gq({},Xx(l,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:a,layout:i,connectNulls:o});return Ur.createElement(qO,fq({},c,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,a=n.strokeDasharray,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,d=n.animationId,u=n.animateNewValues,m=n.width,h=n.height,p=this.state,f=p.prevPoints,x=p.totalLength;return Ur.createElement(pM,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(f){var o=f.length/s.length,l=s.map(function(e,t){var r=Math.floor(t*o);if(f[r]){var n=f[r],s=Sx(n.x,e.x),a=Sx(n.y,e.y);return gq(gq({},e),{},{x:s(i),y:a(i)})}if(u){var l=Sx(2*m,e.x),c=Sx(h/2,e.y);return gq(gq({},e),{},{x:l(i),y:c(i)})}return gq(gq({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(l,e,t)}var c,d=Sx(0,x)(i);if(a){var p="".concat(a).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});c=r.getStrokeDasharray(d,x,p)}else c=r.generateSimpleStrokeDasharray(x,d);return r.renderCurveStatically(s,e,t,{strokeDasharray:c})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,s=r.isAnimationActive,a=this.state,i=a.prevPoints,o=a.totalLength;return s&&n&&n.length&&(!i&&o>0||!O_(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,a=t.className,i=t.xAxis,o=t.yAxis,l=t.top,c=t.left,d=t.width,u=t.height,m=t.isAnimationActive,h=t.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,f=1===s.length,x=P("recharts-line",a),g=i&&i.allowDataOverflow,b=o&&o.allowDataOverflow,y=g||b,v=Zf(h)?this.id:h,j=null!==(e=Xx(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,k=j.strokeWidth,S=void 0===k?2:k,C=(Yx(n)?n:{}).clipDot,A=void 0===C||C,T=2*N+S;return Ur.createElement(Ng,{className:x},g||b?Ur.createElement("defs",null,Ur.createElement("clipPath",{id:"clipPath-".concat(v)},Ur.createElement("rect",{x:g?c:c-d/2,y:b?l:l-u/2,width:g?d:2*d,height:b?u:2*u})),!A&&Ur.createElement("clipPath",{id:"clipPath-dots-".concat(v)},Ur.createElement("rect",{x:c-T/2,y:l-T/2,width:d+T,height:u+T}))):null,!f&&this.renderCurve(y,v),this.renderErrorBar(y,v),(f||n)&&this.renderDots(y,A,v),(!m||p)&&jO.renderCallByParent(this.props,s))}}])&&vq(t.prototype,r),n&&vq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();Sq(Aq,"displayName","Line"),Sq(Aq,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dk,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Sq(Aq,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,a=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return gq({points:l.map(function(e,t){var l=iD(e,i);return"horizontal"===d?{x:kD({axis:r,ticks:s,bandSize:o,entry:e,index:t}),y:Zf(l)?null:n.scale(l),value:l,payload:e}:{x:Zf(l)?null:r.scale(l),y:kD({axis:n,ticks:a,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var Tq,Eq=["layout","type","stroke","connectNulls","isRange","ref"],_q=["key"];function Pq(e){return(Pq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dq(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oq(){return Oq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oq.apply(this,arguments)}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Mq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(t){qq(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Iq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function Rq(e,t,r){return t=Fq(t),function(e,t){if(t&&("object"===Pq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,zq()?Reflect.construct(t,r||[],Fq(e).constructor):t.apply(e,r))}function zq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(zq=function(){return!!e})()}function Fq(e){return(Fq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bq(e,t){return(Bq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=function(e,t){if("object"!=Pq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Pq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Pq(t)?t:t+""}var Uq=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return qq(t=Rq(this,e,[].concat(n)),"state",{isAnimationFinished:!0}),qq(t,"id",wx("recharts-area-")),qq(t,"handleAnimationEnd",function(){var e=t.props.onAnimationEnd;t.setState({isAnimationFinished:!0}),nx(e)&&e()}),qq(t,"handleAnimationStart",function(){var e=t.props.onAnimationStart;t.setState({isAnimationFinished:!1}),nx(e)&&e()}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bq(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],(r=[{key:"renderDots",value:function(t,r,n){var s=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(s&&!a)return null;var i=this.props,o=i.dot,l=i.points,c=i.dataKey,d=Xx(this.props,!1),u=Xx(o,!0),m=l.map(function(t,r){var n=Mq(Mq(Mq({key:"dot-".concat(r),r:3},d),u),{},{index:r,cx:t.x,cy:t.y,dataKey:c,value:t.value,payload:t.payload,points:l});return e.renderDotItem(o,n)}),h={clipPath:t?"url(#clipPath-".concat(r?"":"dots-").concat(n,")"):null};return Ur.createElement(Ng,Oq({className:"recharts-area-dots"},h),m)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,s=t.strokeWidth,a=n[0].x,i=n[n.length-1].x,o=e*Math.abs(a-i),l=y_(n.map(function(e){return e.y||0}));return yx(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(y_(r.map(function(e){return e.y||0})),l)),yx(l)?Ur.createElement("rect",{x:a<i?a:a-o,y:0,width:o,height:Math.floor(l+(s?parseInt("".concat(s),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,r=t.baseLine,n=t.points,s=t.strokeWidth,a=n[0].y,i=n[n.length-1].y,o=e*Math.abs(a-i),l=y_(n.map(function(e){return e.x||0}));return yx(r)&&"number"==typeof r?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(y_(r.map(function(e){return e.x||0})),l)),yx(l)?Ur.createElement("rect",{x:0,y:a<i?a:a-o,width:l+(s?parseInt("".concat(s),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,r,n){var s=this.props,a=s.layout,i=s.type,o=s.stroke,l=s.connectNulls,c=s.isRange;s.ref;var d=Dq(s,Eq);return Ur.createElement(Ng,{clipPath:r?"url(#clipPath-".concat(n,")"):null},Ur.createElement(qO,Oq({},Xx(d,!0),{points:e,connectNulls:l,type:i,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),"none"!==o&&Ur.createElement(qO,Oq({},Xx(this.props,!1),{className:"recharts-area-curve",layout:a,type:i,connectNulls:l,fill:"none",points:e})),"none"!==o&&c&&Ur.createElement(qO,Oq({},Xx(this.props,!1),{className:"recharts-area-curve",layout:a,type:i,connectNulls:l,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var r=this,n=this.props,s=n.points,a=n.baseLine,i=n.isAnimationActive,o=n.animationBegin,l=n.animationDuration,c=n.animationEasing,d=n.animationId,u=this.state,m=u.prevPoints,h=u.prevBaseLine;return Ur.createElement(pM,{begin:o,duration:l,isActive:i,easing:c,from:{t:0},to:{t:1},key:"area-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i=n.t;if(m){var o,l=m.length/s.length,c=s.map(function(e,t){var r=Math.floor(t*l);if(m[r]){var n=m[r],s=Sx(n.x,e.x),a=Sx(n.y,e.y);return Mq(Mq({},e),{},{x:s(i),y:a(i)})}return e});return o=yx(a)&&"number"==typeof a?Sx(h,a)(i):Zf(a)||fx(a)?Sx(h,0)(i):a.map(function(e,t){var r=Math.floor(t*l);if(h[r]){var n=h[r],s=Sx(n.x,e.x),a=Sx(n.y,e.y);return Mq(Mq({},e),{},{x:s(i),y:a(i)})}return e}),r.renderAreaStatically(c,o,e,t)}return Ur.createElement(Ng,null,Ur.createElement("defs",null,Ur.createElement("clipPath",{id:"animationClipPath-".concat(t)},r.renderClipRect(i))),Ur.createElement(Ng,{clipPath:"url(#animationClipPath-".concat(t,")")},r.renderAreaStatically(s,a,e,t)))})}},{key:"renderArea",value:function(e,t){var r=this.props,n=r.points,s=r.baseLine,a=r.isAnimationActive,i=this.state,o=i.prevPoints,l=i.prevBaseLine,c=i.totalLength;return a&&n&&n.length&&(!o&&c>0||!O_(o,n)||!O_(l,s))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(n,s,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,s=t.points,a=t.className,i=t.top,o=t.left,l=t.xAxis,c=t.yAxis,d=t.width,u=t.height,m=t.isAnimationActive,h=t.id;if(r||!s||!s.length)return null;var p=this.state.isAnimationFinished,f=1===s.length,x=P("recharts-area",a),g=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,y=g||b,v=Zf(h)?this.id:h,j=null!==(e=Xx(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=j.r,N=void 0===w?3:w,k=j.strokeWidth,S=void 0===k?2:k,C=(Yx(n)?n:{}).clipDot,A=void 0===C||C,T=2*N+S;return Ur.createElement(Ng,{className:x},g||b?Ur.createElement("defs",null,Ur.createElement("clipPath",{id:"clipPath-".concat(v)},Ur.createElement("rect",{x:g?o:o-d/2,y:b?i:i-u/2,width:g?d:2*d,height:b?u:2*u})),!A&&Ur.createElement("clipPath",{id:"clipPath-dots-".concat(v)},Ur.createElement("rect",{x:o-T/2,y:i-T/2,width:d+T,height:u+T}))):null,f?null:this.renderArea(y,v),(n||f)&&this.renderDots(y,A,v),(!m||p)&&jO.renderCallByParent(this.props,s))}}])&&Iq(t.prototype,r),n&&Iq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function Wq(e){return(Wq="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vq(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jq(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hq(e,t,r){return t=Kq(t),function(e,t){if(t&&("object"===Wq(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gq()?Reflect.construct(t,r||[],Kq(e).constructor):t.apply(e,r))}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Gq=function(){return!!e})()}function Kq(e){return(Kq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yq(e,t){return(Yq=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=function(e,t){if("object"!=Wq(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=Wq(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==Wq(t)?t:t+""}Tq=Uq,qq(Uq,"displayName","Area"),qq(Uq,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!dk,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),qq(Uq,"getBaseValue",function(e,t,r,n){var s=e.layout,a=e.baseValue,i=t.props.baseValue,o=null!=i?i:a;if(yx(o)&&"number"==typeof o)return o;var l="horizontal"===s?n:r,c=l.scale.domain();if("number"===l.type){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return"dataMin"===o?u:"dataMax"===o||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),qq(Uq,"getComposedData",function(e){var t,r=e.props,n=e.item,s=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,d=e.stackedData,u=e.dataStartIndex,m=e.displayedData,h=e.offset,p=r.layout,f=d&&d.length,x=Tq.getBaseValue(r,n,s,a),g="horizontal"===p,b=!1,y=m.map(function(e,t){var r;f?r=d[u+t]:(r=iD(e,c),Array.isArray(r)?b=!0:r=[x,r]);var n=null==r[1]||f&&null==iD(e,c);return g?{x:kD({axis:s,ticks:i,bandSize:l,entry:e,index:t}),y:n?null:a.scale(r[1]),value:r,payload:e}:{x:n?null:s.scale(r[1]),y:kD({axis:a,ticks:o,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=f||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return g?{x:e.x,y:null!=t&&null!=e.y?a.scale(t):null}:{x:null!=t?s.scale(t):null,y:e.y}}):g?a.scale(x):s.scale(x),Mq({points:y,baseLine:t,layout:p,isRange:b},h)}),qq(Uq,"renderDotItem",function(e,t){var r;if(Ur.isValidElement(e))r=Ur.cloneElement(e,t);else if(nx(e))r=e(t);else{var n=P("recharts-area-dot","boolean"!=typeof e?e.className:""),s=t.key,a=Dq(t,_q);r=Ur.createElement(MM,Oq({},a,{key:s,className:n}))}return r});var Qq=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hq(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yq(e,t)}(e,qr.Component),Vq(e,[{key:"render",value:function(){return null}}])}();Xq(Qq,"displayName","ZAxis"),Xq(Qq,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Zq=["option","isActive"];function e$(){return e$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e$.apply(this,arguments)}function t$(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function r$(e){var t=e.option,r=e.isActive,n=t$(e,Zq);return"string"==typeof t?qr.createElement(QI,e$({option:qr.createElement($b,e$({type:t},n)),isActive:r,shapeType:"symbols"},n)):qr.createElement(QI,e$({option:t,isActive:r,shapeType:"symbols"},n))}function n$(e){return(n$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s$(){return s$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s$.apply(this,arguments)}function a$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a$(Object(r),!0).forEach(function(t){m$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h$(n.key),n)}}function l$(e,t,r){return t=d$(t),function(e,t){if(t&&("object"===n$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c$()?Reflect.construct(t,r||[],d$(e).constructor):t.apply(e,r))}function c$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(c$=function(){return!!e})()}function d$(e){return(d$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u$(e,t){return(u$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function m$(e,t,r){return(t=h$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h$(e){var t=function(e,t){if("object"!=n$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=n$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==n$(t)?t:t+""}var p$=function(){function e(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return m$(t=l$(this,e,[].concat(n)),"state",{isAnimationFinished:!1}),m$(t,"handleAnimationEnd",function(){t.setState({isAnimationFinished:!0})}),m$(t,"handleAnimationStart",function(){t.setState({isAnimationFinished:!1})}),m$(t,"id",wx("recharts-scatter-")),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u$(e,t)}(e,qr.PureComponent),t=e,n=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],(r=[{key:"renderSymbolsStatically",value:function(e){var t=this,r=this.props,n=r.shape,s=r.activeShape,a=r.activeIndex,i=Xx(this.props,!1);return e.map(function(e,r){var o=a===r,l=o?s:n,c=i$(i$({},i),e);return Ur.createElement(Ng,s$({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(r)},Mx(t.props,e,r),{role:"img"}),Ur.createElement(r$,s$({option:l,isActive:o,key:"symbol-".concat(r)},c)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,r=t.points,n=t.isAnimationActive,s=t.animationBegin,a=t.animationDuration,i=t.animationEasing,o=t.animationId,l=this.state.prevPoints;return Ur.createElement(pM,{begin:s,duration:a,isActive:n,easing:i,from:{t:0},to:{t:1},key:"pie-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var n=t.t,s=r.map(function(e,t){var r=l&&l[t];if(r){var s=Sx(r.cx,e.cx),a=Sx(r.cy,e.cy),i=Sx(r.size,e.size);return i$(i$({},e),{},{cx:s(n),cy:a(n),size:i(n)})}var o=Sx(0,e.size);return i$(i$({},e),{},{size:o(n)})});return Ur.createElement(Ng,null,e.renderSymbolsStatically(s))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,r=e.isAnimationActive,n=this.state.prevPoints;return!(r&&t&&t.length)||n&&O_(n,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,r=e.xAxis,n=e.yAxis,s=Vx(e.children,KP);return s?s.map(function(e,s){var a=e.props,i=a.direction,o=a.dataKey;return Ur.cloneElement(e,{key:"".concat(i,"-").concat(o,"-").concat(t[s]),data:t,xAxis:r,yAxis:n,layout:"x"===i?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===i?+e.node.x:+e.node.y,errorVal:iD(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,r=this.props,n=r.points,s=r.line,a=r.lineType,i=r.lineJointType,o=Xx(this.props,!1),l=Xx(s,!1);if("joint"===a)e=n.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===a){var c=function(e){if(!e||!e.length)return null;for(var t=e.length,r=0,n=0,s=0,a=0,i=1/0,o=-1/0,l=0,c=0,d=0;d<t;d++)r+=l=e[d].cx||0,n+=c=e[d].cy||0,s+=l*c,a+=l*l,i=Math.min(i,l),o=Math.max(o,l);var u=t*a!==r*r?(t*s-r*n)/(t*a-r*r):0;return{xmin:i,xmax:o,a:u,b:(n-u*r)/t}}(n),d=c.xmin,u=c.xmax,m=c.a,h=c.b,p=function(e){return m*e+h};e=[{x:d,y:p(d)},{x:u,y:p(u)}]}var f=i$(i$(i$({},o),{},{fill:"none",stroke:o&&o.fill},l),{},{points:e});return t=Ur.isValidElement(s)?Ur.cloneElement(s,f):nx(s)?s(f):Ur.createElement(qO,s$({},f,{type:i})),Ur.createElement(Ng,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,r=e.points,n=e.line,s=e.className,a=e.xAxis,i=e.yAxis,o=e.left,l=e.top,c=e.width,d=e.height,u=e.id,m=e.isAnimationActive;if(t||!r||!r.length)return null;var h=this.state.isAnimationFinished,p=P("recharts-scatter",s),f=a&&a.allowDataOverflow,x=i&&i.allowDataOverflow,g=f||x,b=Zf(u)?this.id:u;return Ur.createElement(Ng,{className:p,clipPath:g?"url(#clipPath-".concat(b,")"):null},f||x?Ur.createElement("defs",null,Ur.createElement("clipPath",{id:"clipPath-".concat(b)},Ur.createElement("rect",{x:f?o:o-c/2,y:x?l:l-d/2,width:f?c:2*c,height:x?d:2*d}))):null,n&&this.renderLine(),this.renderErrorBar(),Ur.createElement(Ng,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||h)&&jO.renderCallByParent(this.props,r))}}])&&o$(t.prototype,r),n&&o$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,n}();function f$(e){return(f$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x$(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w$(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function g$(e,t,r){return t=y$(t),function(e,t){if(t&&("object"===f$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,b$()?Reflect.construct(t,r||[],y$(e).constructor):t.apply(e,r))}function b$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(b$=function(){return!!e})()}function y$(e){return(y$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v$(e,t){return(v$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j$(e,t,r){return(t=w$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w$(e){var t=function(e,t){if("object"!=f$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=f$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==f$(t)?t:t+""}function N$(){return N$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N$.apply(this,arguments)}function k$(e){var t=e.xAxisId,r=IF(),n=RF(),s=LF(t);return null==s?null:qr.createElement(HB,N$({},s,{className:P("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return hD(e,!0)}}))}m$(p$,"displayName","Scatter"),m$(p$,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!dk,animationBegin:0,animationDuration:400,animationEasing:"linear"}),m$(p$,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,s=e.item,a=e.displayedData,i=e.xAxisTicks,o=e.yAxisTicks,l=e.offset,c=s.props.tooltipType,d=Vx(s.props.children,Hk),u=Zf(t.dataKey)?s.props.dataKey:t.dataKey,m=Zf(r.dataKey)?s.props.dataKey:r.dataKey,h=n&&n.dataKey,p=n?n.range:Qq.defaultProps.range,f=p&&p[0],x=t.scale.bandwidth?t.scale.bandwidth():0,g=r.scale.bandwidth?r.scale.bandwidth():0,b=a.map(function(e,a){var l=iD(e,u),p=iD(e,m),b=!Zf(h)&&iD(e,h)||"-",y=[{name:Zf(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:u,type:c},{name:Zf(r.dataKey)?s.props.name:r.name||r.dataKey,unit:r.unit||"",value:p,payload:e,dataKey:m,type:c}];"-"!==b&&y.push({name:n.name||n.dataKey,unit:n.unit||"",value:b,payload:e,dataKey:h,type:c});var v=kD({axis:t,ticks:i,bandSize:x,entry:e,index:a,dataKey:u}),j=kD({axis:r,ticks:o,bandSize:g,entry:e,index:a,dataKey:m}),w="-"!==b?n.scale(b):f,N=Math.sqrt(Math.max(w,0)/Math.PI);return i$(i$({},e),{},{cx:v,cy:j,x:v-N,y:j-N,xAxis:t,yAxis:r,zAxis:n,width:2*N,height:2*N,size:w,node:{x:l,y:p,z:b},tooltipPayload:y,tooltipPosition:{x:v,y:j},payload:e},d&&d[a]&&d[a].props)});return i$({points:b},l)});var S$=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g$(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v$(e,t)}(e,qr.Component),x$(e,[{key:"render",value:function(){return qr.createElement(k$,this.props)}}])}();function C$(e){return(C$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A$(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,O$(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$(e,t,r){return t=_$(t),function(e,t){if(t&&("object"===C$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,E$()?Reflect.construct(t,r||[],_$(e).constructor):t.apply(e,r))}function E$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(E$=function(){return!!e})()}function _$(e){return(_$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P$(e,t){return(P$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D$(e,t,r){return(t=O$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O$(e){var t=function(e,t){if("object"!=C$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=C$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==C$(t)?t:t+""}function L$(){return L$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L$.apply(this,arguments)}j$(S$,"displayName","XAxis"),j$(S$,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var M$=function(e){var t=e.yAxisId,r=IF(),n=RF(),s=MF(t);return null==s?null:qr.createElement(HB,L$({},s,{className:P("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(e){return hD(e,!0)}}))},I$=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),T$(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P$(e,t)}(e,qr.Component),A$(e,[{key:"render",value:function(){return qr.createElement(M$,this.props)}}])}();function R$(e){return function(e){if(Array.isArray(e))return z$(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z$(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z$(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z$(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}D$(I$,"displayName","YAxis"),D$(I$,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var F$,B$=function(e,t,r,n,s){var a=Vx(e,QF),i=Vx(e,dB),o=[].concat(R$(a),R$(i)),l=Vx(e,wB),c="".concat(n,"Id"),d=n[0],u=t;if(o.length&&(u=o.reduce(function(e,t){if(t.props[c]===r&&Sz(t.props,"extendDomain")&&yx(t.props[d])){var n=t.props[d];return[Math.min(e[0],n),Math.max(e[1],n)]}return e},u)),l.length){var m="".concat(d,"1"),h="".concat(d,"2");u=l.reduce(function(e,t){if(t.props[c]===r&&Sz(t.props,"extendDomain")&&yx(t.props[m])&&yx(t.props[h])){var n=t.props[m],s=t.props[h];return[Math.min(e[0],n,s),Math.max(e[1],n,s)]}return e},u)}return s&&s.length&&(u=s.reduce(function(e,t){return yx(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e},u)),u},q$={exports:{}};var $$=new(Br((F$||(F$=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var o=new s(n,a||e,i),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function i(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,s=[];if(0===this._eventsCount)return s;for(n in e=this._events)t.call(e,n)&&s.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?s.concat(Object.getOwnPropertySymbols(e)):s},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,a=n.length,i=new Array(a);s<a;s++)i[s]=n[s].fn;return i},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,s,a,i){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,d=this._events[o],u=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),u){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,s),!0;case 5:return d.fn.call(d.context,t,n,s,a),!0;case 6:return d.fn.call(d.context,t,n,s,a,i),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];d.fn.apply(d.context,l)}else{var m,h=d.length;for(c=0;c<h;c++)switch(d[c].once&&this.removeListener(e,d[c].fn,void 0,!0),u){case 1:d[c].fn.call(d[c].context);break;case 2:d[c].fn.call(d[c].context,t);break;case 3:d[c].fn.call(d[c].context,t,n);break;case 4:d[c].fn.call(d[c].context,t,n,s);break;default:if(!l)for(m=1,l=new Array(u-1);m<u;m++)l[m-1]=arguments[m];d[c].fn.apply(d[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,s){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return i(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||s&&!o.once||n&&o.context!==n||i(this,a);else{for(var l=0,c=[],d=o.length;l<d;l++)(o[l].fn!==t||s&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:i(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&i(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o}(q$)),q$.exports))),U$="recharts.syncMouseEvents";function W$(e){return(W$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V$(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G$(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H$(e,t,r){return(t=G$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G$(e){var t=function(e,t){if("object"!=W$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=W$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==W$(t)?t:t+""}var K$=function(){return V$(function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),H$(this,"activeIndex",0),H$(this,"coordinateList",[]),H$(this,"layout","horizontal")},[{key:"setDetails",value:function(e){var t,r=e.coordinateList,n=void 0===r?null:r,s=e.container,a=void 0===s?null:s,i=e.layout,o=void 0===i?null:i,l=e.offset,c=void 0===l?null:l,d=e.mouseHandlerCallback,u=void 0===d?null:d;this.coordinateList=null!==(t=null!=n?n:this.coordinateList)&&void 0!==t?t:[],this.container=null!=a?a:this.container,this.layout=null!=o?o:this.layout,this.offset=null!=c?c:this.offset,this.mouseHandlerCallback=null!=u?u:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var r=this.container.getBoundingClientRect(),n=r.x,s=r.y,a=r.height,i=this.coordinateList[this.activeIndex].coordinate,o=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=n+i+o,d=s+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:d})}}}])}();function Y$(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle;return{points:[$D(t,r,n,s),$D(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function X$(e,t,r){var n,s,a,i;if("horizontal"===e)a=n=t.x,s=r.top,i=r.top+r.height;else if("vertical"===e)i=s=t.y,n=r.left,a=r.left+r.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return Y$(t);var o=t.cx,l=t.cy,c=t.innerRadius,d=t.outerRadius,u=t.angle,m=$D(o,l,c,u),h=$D(o,l,d,u);n=m.x,s=m.y,a=h.x,i=h.y}return[{x:n,y:s},{x:a,y:i}]}function J$(e){return(J$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q$(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z$(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q$(Object(r),!0).forEach(function(t){eU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eU(e,t,r){var n;return n=function(e,t){if("object"!=J$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=J$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==J$(n)?n:n+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tU(e){var t,r,n,s=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,d=e.activeTooltipIndex,u=e.tooltipAxisBandSize,m=e.layout,h=e.chartName,p=null!==(t=s.props.cursor)&&void 0!==t?t:null===(r=s.type.defaultProps)||void 0===r?void 0:r.cursor;if(!s||!p||!i||!o||"ScatterChart"!==h&&"axis"!==a)return null;var f=qO;if("ScatterChart"===h)n=o,f=VM;else if("BarChart"===h)n=function(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-s:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-s,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(m,o,c,u),f=SM;else if("radial"===m){var x=Y$(o),g=x.cx,b=x.cy,y=x.radius;n={cx:g,cy:b,startAngle:x.startAngle,endAngle:x.endAngle,innerRadius:y,outerRadius:y},f=_O}else n={points:X$(m,o,c)},f=qO;var v=Z$(Z$(Z$(Z$({stroke:"#ccc",pointerEvents:"none"},c),n),Xx(p,!1)),{},{payload:l,payloadIndex:d,className:P("recharts-tooltip-cursor",p.className)});return qr.isValidElement(p)?qr.cloneElement(p,v):qr.createElement(f,v)}var rU=["item"],nU=["children","className","width","height","style","compact","title","desc"];function sU(e){return(sU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aU(){return aU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aU.apply(this,arguments)}function iU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||pU(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oU(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lU(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yU(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cU(e,t,r){return t=uU(t),function(e,t){if(t&&("object"===sU(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,dU()?Reflect.construct(t,r||[],uU(e).constructor):t.apply(e,r))}function dU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dU=function(){return!!e})()}function uU(e){return(uU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mU(e,t){return(mU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function hU(e){return function(e){if(Array.isArray(e))return fU(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||pU(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pU(e,t){if(e){if("string"==typeof e)return fU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fU(e,t):void 0}}function fU(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(t){bU(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bU(e,t,r){return(t=yU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=function(e,t){if("object"!=sU(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=sU(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sU(t)?t:t+""}var vU={xAxis:["bottom","top"],yAxis:["left","right"]},jU={width:"100%",height:"100%"},wU={x:0,y:0};function NU(e){return e}var kU=function(e,t){var r=t.graphicalItems,n=t.dataStartIndex,s=t.dataEndIndex,a=(null!=r?r:[]).reduce(function(e,t){var r=t.props.data;return r&&r.length?[].concat(hU(e),hU(r)):e},[]);return a.length>0?a:e&&e.length&&yx(n)&&yx(s)?e.slice(n,s+1):[]};function SU(e){return"number"===e?[0,"auto"]:void 0}var CU=function(e,t,r,n){var s=e.graphicalItems,a=e.tooltipAxis,i=kU(t,e);return r<0||!s||!s.length||r>=i.length?null:s.reduce(function(s,o){var l,c,d=null!==(l=o.props.data)&&void 0!==l?l:t;(d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=Cx(void 0===d?i:d,a.dataKey,n):c=d&&d[r]||i[r];return c?[].concat(hU(s),[OD(o,c)]):s},[])},AU=function(e,t,r,n){var s=n||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(s,r),i=e.orderedTooltipTicks,o=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,i=null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0;if(i<=1)return 0;if(s&&"angleAxis"===s.axisType&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var o=s.range,l=0;l<i;l++){var c=l>0?n[l-1].coordinate:n[i-1].coordinate,d=n[l].coordinate,u=l>=i-1?n[0].coordinate:n[l+1].coordinate,m=void 0;if(gx(d-c)!==gx(u-d)){var h=[];if(gx(u-d)===gx(o[1]-o[0])){m=u;var p=d+o[1]-o[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{m=c;var f=u+o[1]-o[0];h[0]=Math.min(d,(f+d)/2),h[1]=Math.max(d,(f+d)/2)}var x=[Math.min(d,(m+d)/2),Math.max(d,(m+d)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){a=n[l].index;break}}else{var g=Math.min(c,u),b=Math.max(c,u);if(e>(g+d)/2&&e<=(b+d)/2){a=n[l].index;break}}}else for(var y=0;y<i;y++)if(0===y&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y>0&&y<i-1&&e>(r[y].coordinate+r[y-1].coordinate)/2&&e<=(r[y].coordinate+r[y+1].coordinate)/2||y===i-1&&e>(r[y].coordinate+r[y-1].coordinate)/2){a=r[y].index;break}return a}(a,i,l,o);if(c>=0&&l){var d=l[c]&&l[c].value,u=CU(e,t,c,d),m=function(e,t,r,n){var s=t.find(function(e){return e&&e.index===r});if(s){if("horizontal"===e)return{x:s.coordinate,y:n.y};if("vertical"===e)return{x:n.x,y:s.coordinate};if("centric"===e){var a=s.coordinate,i=n.radius;return gU(gU(gU({},n),$D(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var o=s.coordinate,l=n.angle;return gU(gU(gU({},n),$D(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return wU}(r,i,c,s);return{activeTooltipIndex:c,activeLabel:d,activePayload:u,activeCoordinate:m}}return null},TU=function(e,t){var r=t.axes,n=t.graphicalItems,s=t.axisType,a=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=e.stackOffset,m=uD(c,s);return r.reduce(function(t,r){var h,p=void 0!==r.type.defaultProps?gU(gU({},r.type.defaultProps),r.props):r.props,f=p.type,x=p.dataKey,g=p.allowDataOverflow,b=p.allowDuplicatedCategory,y=p.scale,v=p.ticks,j=p.includeHidden,w=p[a];if(t[w])return t;var N,k,S,C=kU(e.data,{graphicalItems:n.filter(function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===w}),dataStartIndex:o,dataEndIndex:l}),A=C.length;(function(e,t,r){if("number"===r&&!0===t&&Array.isArray(e)){var n=null==e?void 0:e[0],s=null==e?void 0:e[1];if(n&&s&&yx(n)&&yx(s))return!0}return!1})(p.domain,g,f)&&(N=_D(p.domain,null,g),!m||"number"!==f&&"auto"===y||(S=oD(C,x,"category")));var T=SU(f);if(!N||0===N.length){var E,_=null!==(E=p.domain)&&void 0!==E?E:T;if(x){if(N=oD(C,x,f),"category"===f&&m){var P=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[e[n]])return!0;r[e[n]]=!0}return!1}(N);b&&P?(k=N,N=JR(0,A)):b||(N=DD(_,N,r).reduce(function(e,t){return e.indexOf(t)>=0?e:[].concat(hU(e),[t])},[]))}else if("category"===f)N=b?N.filter(function(e){return""!==e&&!Zf(e)}):DD(_,N,r).reduce(function(e,t){return e.indexOf(t)>=0||""===t||Zf(t)?e:[].concat(hU(e),[t])},[]);else if("number"===f){var D=function(e,t,r,n,s){var a=t.map(function(t){return cD(e,t,r,s,n)}).filter(function(e){return!Zf(e)});return a&&a.length?a.reduce(function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]},[1/0,-1/0]):null}(C,n.filter(function(e){var t,r,n=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],s="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===w&&(j||!s)}),x,s,c);D&&(N=D)}!m||"number"!==f&&"auto"===y||(S=oD(C,x,"category"))}else N=m?JR(0,A):i&&i[w]&&i[w].hasStack&&"number"===f?"expand"===u?[0,1]:AD(i[w].stackGroups,o,l):dD(C,n.filter(function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],r="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===w&&(j||!r)}),f,c,!0);if("number"===f)N=B$(d,N,w,s,v),_&&(N=_D(_,N,g));else if("category"===f&&_){var O=_;N.every(function(e){return O.indexOf(e)>=0})&&(N=O)}}return gU(gU({},t),{},bU({},w,gU(gU({},p),{},{axisType:s,domain:N,categoricalDomain:S,duplicateDomain:k,originalDomain:null!==(h=p.domain)&&void 0!==h?h:T,isCategorical:m,layout:c})))},{})},EU=function(e,t){var r=t.axisType,n=void 0===r?"xAxis":r,s=t.AxisComp,a=t.graphicalItems,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.children,d="".concat(n,"Id"),u=Vx(c,s),m={};return u&&u.length?m=TU(e,{axes:u,graphicalItems:a,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l}):a&&a.length&&(m=function(e,t){var r=t.graphicalItems,n=t.Axis,s=t.axisType,a=t.axisIdKey,i=t.stackGroups,o=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,d=e.children,u=kU(e.data,{graphicalItems:r,dataStartIndex:o,dataEndIndex:l}),m=u.length,h=uD(c,s),p=-1;return r.reduce(function(e,t){var f,x=(void 0!==t.type.defaultProps?gU(gU({},t.type.defaultProps),t.props):t.props)[a],g=SU("number");return e[x]?e:(p++,h?f=JR(0,m):i&&i[x]&&i[x].hasStack?(f=AD(i[x].stackGroups,o,l),f=B$(d,f,x,s)):(f=_D(g,dD(u,r.filter(function(e){var t,r,n=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],s="hide"in e.props?e.props.hide:null===(r=e.type.defaultProps)||void 0===r?void 0:r.hide;return n===x&&!s}),"number",c),n.defaultProps.allowDataOverflow),f=B$(d,f,x,s)),gU(gU({},e),{},bU({},x,gU(gU({axisType:s},n.defaultProps),{},{hide:!0,orientation:Xf(vU,"".concat(s,".").concat(p%2),null),domain:f,originalDomain:g,isCategorical:h,layout:c}))))},{})}(e,{Axis:s,graphicalItems:a,axisType:n,axisIdKey:d,stackGroups:i,dataStartIndex:o,dataEndIndex:l})),m},_U=function(e){var t=e.children,r=e.defaultShowTooltip,n=Hx(t,yz),s=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),n&&n.props&&(n.props.startIndex>=0&&(s=n.props.startIndex),n.props.endIndex>=0&&(a=n.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(r)}},PU=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},DU=function(e,t){var r=e.props,n=(e.graphicalItems,e.xAxisMap),s=void 0===n?{}:n,a=e.yAxisMap,i=void 0===a?{}:a,o=r.width,l=r.height,c=r.children,d=r.margin||{},u=Hx(c,yz),m=Hx(c,kN),h=Object.keys(i).reduce(function(e,t){var r=i[t],n=r.orientation;return r.mirror||r.hide?e:gU(gU({},e),{},bU({},n,e[n]+r.width))},{left:d.left||0,right:d.right||0}),p=Object.keys(s).reduce(function(e,t){var r=s[t],n=r.orientation;return r.mirror||r.hide?e:gU(gU({},e),{},bU({},n,Xf(e,"".concat(n))+r.height))},{top:d.top||0,bottom:d.bottom||0}),f=gU(gU({},p),h),x=f.bottom;u&&(f.bottom+=u.props.height||yz.defaultProps.height),m&&t&&(f=function(e,t,r,n){var s=r.children,a=r.width,i=r.margin,o=a-(i.left||0)-(i.right||0),l=ZP({children:s,legendWidth:o});if(l){var c=n||{},d=c.width,u=c.height,m=l.align,h=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===h)&&"center"!==m&&yx(e[m]))return sD(sD({},e),{},aD({},m,e[m]+(d||0)));if(("horizontal"===p||"vertical"===p&&"center"===m)&&"middle"!==h&&yx(e[h]))return sD(sD({},e),{},aD({},h,e[h]+(u||0)))}return e}(f,0,r,t));var g=o-f.left-f.right,b=l-f.top-f.bottom;return gU(gU({brushBottom:x},f),{},{width:Math.max(g,0),height:Math.max(b,0)})},OU=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},LU=function(e){var t=e.chartName,r=e.GraphicalChild,n=e.defaultTooltipEventType,s=void 0===n?"axis":n,a=e.validateTooltipEventTypes,i=void 0===a?["axis"]:a,o=e.axisComponents,l=e.legendContent,c=e.formatAxisMap,d=e.defaultProps,u=function(e,t){var r=t.graphicalItems,n=t.stackGroups,s=t.offset,a=t.updateId,i=t.dataStartIndex,l=t.dataEndIndex,c=e.barSize,d=e.layout,u=e.barGap,m=e.barCategoryGap,h=e.maxBarSize,p=PU(d),f=p.numericAxisName,x=p.cateAxisName,g=function(e){return!(!e||!e.length)&&e.some(function(e){var t=qx(e&&e.type);return t&&t.indexOf("Bar")>=0})}(r),b=[];return r.forEach(function(r,p){var y=kU(e.data,{graphicalItems:[r],dataStartIndex:i,dataEndIndex:l}),v=void 0!==r.type.defaultProps?gU(gU({},r.type.defaultProps),r.props):r.props,j=v.dataKey,w=v.maxBarSize,N=v["".concat(f,"Id")],k=v["".concat(x,"Id")],S=o.reduce(function(e,r){var n=t["".concat(r.axisType,"Map")],s=v["".concat(r.axisType,"Id")];n&&n[s]||"zAxis"===r.axisType||LP();var a=n[s];return gU(gU({},e),{},bU(bU({},r.axisType,a),"".concat(r.axisType,"Ticks"),hD(a)))},{}),C=S[x],A=S["".concat(x,"Ticks")],T=n&&n[N]&&n[N].hasStack&&function(e,t){var r,n=(null!==(r=e.type)&&void 0!==r&&r.defaultProps?sD(sD({},e.type.defaultProps),e.props):e.props).stackId;if(vx(n)){var s=t[n];if(s){var a=s.items.indexOf(e);return a>=0?s.stackedData[a]:null}}return null}(r,n[N].stackGroups),E=qx(r.type).indexOf("Bar")>=0,_=PD(C,A),P=[],D=g&&function(e){var t=e.barSize,r=e.totalSize,n=e.stackGroups,s=void 0===n?{}:n;if(!s)return{};for(var a={},i=Object.keys(s),o=0,l=i.length;o<l;o++)for(var c=s[i[o]].stackGroups,d=Object.keys(c),u=0,m=d.length;u<m;u++){var h=c[d[u]],p=h.items,f=h.cateAxisId,x=p.filter(function(e){return qx(e.type).indexOf("Bar")>=0});if(x&&x.length){var g=x[0].type.defaultProps,b=void 0!==g?sD(sD({},g),x[0].props):x[0].props,y=b.barSize,v=b[f];a[v]||(a[v]=[]);var j=Zf(y)?t:y;a[v].push({item:x[0],stackList:x.slice(1),barSize:Zf(j)?void 0:Nx(j,r,0)})}}return a}({barSize:c,stackGroups:n,totalSize:OU(S,x)});if(E){var O,L,M=Zf(w)?h:w,I=null!==(O=null!==(L=PD(C,A,!0))&&void 0!==L?L:M)&&void 0!==O?O:0;P=function(e){var t=e.barGap,r=e.barCategoryGap,n=e.bandSize,s=e.sizeList,a=void 0===s?[]:s,i=e.maxBarSize,o=a.length;if(o<1)return null;var l,c=Nx(t,n,0,!0),d=[];if(a[0].barSize===+a[0].barSize){var u=!1,m=n/o,h=a.reduce(function(e,t){return e+t.barSize||0},0);(h+=(o-1)*c)>=n&&(h-=(o-1)*c,c=0),h>=n&&m>0&&(u=!0,h=o*(m*=.9));var p={offset:((n-h)/2|0)-c,size:0};l=a.reduce(function(e,t){var r={item:t.item,position:{offset:p.offset+p.size+c,size:u?m:t.barSize}},n=[].concat(tD(e),[r]);return p=n[n.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:p})}),n},d)}else{var f=Nx(r,n,0,!0);n-2*f-(o-1)*c<=0&&(c=0);var x=(n-2*f-(o-1)*c)/o;x>1&&(x>>=0);var g=i===+i?Math.min(x,i):x;l=a.reduce(function(e,t,r){var n=[].concat(tD(e),[{item:t.item,position:{offset:f+(x+c)*r+(x-g)/2,size:g}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach(function(e){n.push({item:e,position:n[n.length-1].position})}),n},d)}return l}({barGap:u,barCategoryGap:m,bandSize:I!==_?I:_,sizeList:D[k],maxBarSize:M}),I!==_&&(P=P.map(function(e){return gU(gU({},e),{},{position:gU(gU({},e.position),{},{offset:e.position.offset-I/2})})}))}var R,z,F=r&&r.type&&r.type.getComposedData;F&&b.push({props:gU(gU({},F(gU(gU({},S),{},{displayedData:y,props:e,dataKey:j,item:r,bandSize:_,barPosition:P,offset:s,stackedData:T,layout:d,dataStartIndex:i,dataEndIndex:l}))),{},bU(bU(bU({key:r.key||"item-".concat(p)},f,S[f]),x,S[x]),"animationId",a)),childIndex:(R=r,z=e.children,Wx(z).indexOf(R)),item:r})}),b},m=function(e,n){var s=e.props,a=e.dataStartIndex,i=e.dataEndIndex,l=e.updateId;if(!Gx({props:s}))return null;var d=s.children,m=s.layout,h=s.stackOffset,p=s.data,f=s.reverseStackOrder,x=PU(m),g=x.numericAxisName,b=x.cateAxisName,y=Vx(d,r),v=function(e,t,r,n,s,a){if(!e)return null;var i=(a?t.reverse():t).reduce(function(e,t){var s,a=null!==(s=t.type)&&void 0!==s&&s.defaultProps?sD(sD({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(a.hide)return e;var o=a[r],l=e[o]||{hasStack:!1,stackGroups:{}};if(vx(i)){var c=l.stackGroups[i]||{numericAxisId:r,cateAxisId:n,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[i]=c}else l.stackGroups[wx("_stackId_")]={numericAxisId:r,cateAxisId:n,items:[t]};return sD(sD({},e),{},aD({},o,l))},{});return Object.keys(i).reduce(function(t,a){var o=i[a];return o.hasStack&&(o.stackGroups=Object.keys(o.stackGroups).reduce(function(t,a){var i=o.stackGroups[a];return sD(sD({},t),{},aD({},a,{numericAxisId:r,cateAxisId:n,items:i.items,stackedData:wD(e,i.items,s)}))},{})),sD(sD({},t),{},aD({},a,o))},{})}(p,y,"".concat(g,"Id"),"".concat(b,"Id"),h,f),j=o.reduce(function(e,t){var r="".concat(t.axisType,"Map");return gU(gU({},e),{},bU({},r,EU(s,gU(gU({},t),{},{graphicalItems:y,stackGroups:t.axisType===g&&v,dataStartIndex:a,dataEndIndex:i}))))},{}),w=DU(gU(gU({},j),{},{props:s,graphicalItems:y}),null==n?void 0:n.legendBBox);Object.keys(j).forEach(function(e){j[e]=c(s,j[e],w,e.replace("Map",""),t)});var N,k,S=j["".concat(b,"Map")],C=(N=kx(S),{tooltipTicks:k=hD(N,!1,!0),orderedTooltipTicks:RN(k,function(e){return e.coordinate}),tooltipAxis:N,tooltipAxisBandSize:PD(N,k)}),A=u(s,gU(gU({},j),{},{dataStartIndex:a,dataEndIndex:i,updateId:l,graphicalItems:y,stackGroups:v,offset:w}));return gU(gU({formattedGraphicalItems:A,graphicalItems:y,offset:w,stackGroups:v},C),j)},h=function(){function e(r){var n,s,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),bU(a=cU(this,e,[r]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),bU(a,"accessibilityManager",new K$),bU(a,"handleLegendBBoxUpdate",function(e){if(e){var t=a.state,r=t.dataStartIndex,n=t.dataEndIndex,s=t.updateId;a.setState(gU({legendBBox:e},m({props:a.props,dataStartIndex:r,dataEndIndex:n,updateId:s},gU(gU({},a.state),{},{legendBBox:e}))))}}),bU(a,"handleReceiveSyncEvent",function(e,t,r){if(a.props.syncId===e){if(r===a.eventEmitterSymbol&&"function"!=typeof a.props.syncMethod)return;a.applySyncEvent(t)}}),bU(a,"handleBrushChange",function(e){var t=e.startIndex,r=e.endIndex;if(t!==a.state.dataStartIndex||r!==a.state.dataEndIndex){var n=a.state.updateId;a.setState(function(){return gU({dataStartIndex:t,dataEndIndex:r},m({props:a.props,dataStartIndex:t,dataEndIndex:r,updateId:n},a.state))}),a.triggerSyncEvent({dataStartIndex:t,dataEndIndex:r})}}),bU(a,"handleMouseEnter",function(e){var t=a.getMouseInfo(e);if(t){var r=gU(gU({},t),{},{isTooltipActive:!0});a.setState(r),a.triggerSyncEvent(r);var n=a.props.onMouseEnter;nx(n)&&n(r,e)}}),bU(a,"triggeredAfterMouseMove",function(e){var t=a.getMouseInfo(e),r=t?gU(gU({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};a.setState(r),a.triggerSyncEvent(r);var n=a.props.onMouseMove;nx(n)&&n(r,e)}),bU(a,"handleItemMouseEnter",function(e){a.setState(function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}})}),bU(a,"handleItemMouseLeave",function(){a.setState(function(){return{isTooltipActive:!1}})}),bU(a,"handleMouseMove",function(e){e.persist(),a.throttleTriggeredAfterMouseMove(e)}),bU(a,"handleMouseLeave",function(e){a.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};a.setState(t),a.triggerSyncEvent(t);var r=a.props.onMouseLeave;nx(r)&&r(t,e)}),bU(a,"handleOuterEvent",function(e){var t,r=function(e){var t=e&&e.type;return t&&Bx[t]?Bx[t]:null}(e),n=Xf(a.props,"".concat(r));r&&nx(n)&&n(null!==(t=/.*touch.*/i.test(r)?a.getMouseInfo(e.changedTouches[0]):a.getMouseInfo(e))&&void 0!==t?t:{},e)}),bU(a,"handleClick",function(e){var t=a.getMouseInfo(e);if(t){var r=gU(gU({},t),{},{isTooltipActive:!0});a.setState(r),a.triggerSyncEvent(r);var n=a.props.onClick;nx(n)&&n(r,e)}}),bU(a,"handleMouseDown",function(e){var t=a.props.onMouseDown;nx(t)&&t(a.getMouseInfo(e),e)}),bU(a,"handleMouseUp",function(e){var t=a.props.onMouseUp;nx(t)&&t(a.getMouseInfo(e),e)}),bU(a,"handleTouchMove",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.throttleTriggeredAfterMouseMove(e.changedTouches[0])}),bU(a,"handleTouchStart",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseDown(e.changedTouches[0])}),bU(a,"handleTouchEnd",function(e){null!=e.changedTouches&&e.changedTouches.length>0&&a.handleMouseUp(e.changedTouches[0])}),bU(a,"handleDoubleClick",function(e){var t=a.props.onDoubleClick;nx(t)&&t(a.getMouseInfo(e),e)}),bU(a,"handleContextMenu",function(e){var t=a.props.onContextMenu;nx(t)&&t(a.getMouseInfo(e),e)}),bU(a,"triggerSyncEvent",function(e){void 0!==a.props.syncId&&$$.emit(U$,a.props.syncId,e,a.eventEmitterSymbol)}),bU(a,"applySyncEvent",function(e){var t=a.props,r=t.layout,n=t.syncMethod,s=a.state.updateId,i=e.dataStartIndex,o=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)a.setState(gU({dataStartIndex:i,dataEndIndex:o},m({props:a.props,dataStartIndex:i,dataEndIndex:o,updateId:s},a.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,d=e.activeTooltipIndex,u=a.state,h=u.offset,p=u.tooltipTicks;if(!h)return;if("function"==typeof n)d=n(p,e);else if("value"===n){d=-1;for(var f=0;f<p.length;f++)if(p[f].value===e.activeLabel){d=f;break}}var x=gU(gU({},h),{},{x:h.left,y:h.top}),g=Math.min(l,x.x+x.width),b=Math.min(c,x.y+x.height),y=p[d]&&p[d].value,v=CU(a.state,a.props.data,d),j=p[d]?{x:"horizontal"===r?p[d].coordinate:g,y:"horizontal"===r?b:p[d].coordinate}:wU;a.setState(gU(gU({},e),{},{activeLabel:y,activeCoordinate:j,activePayload:v,activeTooltipIndex:d}))}else a.setState(e)}),bU(a,"renderCursor",function(e){var r,n=a.state,s=n.isTooltipActive,i=n.activeCoordinate,o=n.activePayload,l=n.offset,c=n.activeTooltipIndex,d=n.tooltipAxisBandSize,u=a.getTooltipEventType(),m=null!==(r=e.props.active)&&void 0!==r?r:s,h=a.props.layout,p=e.key||"_recharts-cursor";return Ur.createElement(tU,{key:p,activeCoordinate:i,activePayload:o,activeTooltipIndex:c,chartName:t,element:e,isActive:m,layout:h,offset:l,tooltipAxisBandSize:d,tooltipEventType:u})}),bU(a,"renderPolarAxis",function(e,t,r){var n=Xf(e,"type.axisType"),s=Xf(a.state,"".concat(n,"Map")),i=e.type.defaultProps,o=void 0!==i?gU(gU({},i),e.props):e.props,l=s&&s[o["".concat(n,"Id")]];return qr.cloneElement(e,gU(gU({},l),{},{className:P(n,l.className),key:e.key||"".concat(t,"-").concat(r),ticks:hD(l,!0)}))}),bU(a,"renderPolarGrid",function(e){var t=e.props,r=t.radialLines,n=t.polarAngles,s=t.polarRadius,i=a.state,o=i.radiusAxisMap,l=i.angleAxisMap,c=kx(o),d=kx(l),u=d.cx,m=d.cy,h=d.innerRadius,p=d.outerRadius;return qr.cloneElement(e,{polarAngles:Array.isArray(n)?n:hD(d,!0).map(function(e){return e.coordinate}),polarRadius:Array.isArray(s)?s:hD(c,!0).map(function(e){return e.coordinate}),cx:u,cy:m,innerRadius:h,outerRadius:p,key:e.key||"polar-grid",radialLines:r})}),bU(a,"renderLegend",function(){var e=a.state.formattedGraphicalItems,t=a.props,r=t.children,n=t.width,s=t.height,i=a.props.margin||{},o=n-(i.left||0)-(i.right||0),c=ZP({children:r,formattedGraphicalItems:e,legendWidth:o,legendContent:l});if(!c)return null;var d=c.item,u=oU(c,rU);return qr.cloneElement(d,gU(gU({},u),{},{chartWidth:n,chartHeight:s,margin:i,onBBoxUpdate:a.handleLegendBBoxUpdate}))}),bU(a,"renderTooltip",function(){var e,t=a.props,r=t.children,n=t.accessibilityLayer,s=Hx(r,Lk);if(!s)return null;var i=a.state,o=i.isTooltipActive,l=i.activeCoordinate,c=i.activePayload,d=i.activeLabel,u=i.offset,m=null!==(e=s.props.active)&&void 0!==e?e:o;return qr.cloneElement(s,{viewBox:gU(gU({},u),{},{x:u.left,y:u.top}),active:m,label:d,payload:m?c:[],coordinate:l,accessibilityLayer:n})}),bU(a,"renderBrush",function(e){var t=a.props,r=t.margin,n=t.data,s=a.state,i=s.offset,o=s.dataStartIndex,l=s.dataEndIndex,c=s.updateId;return qr.cloneElement(e,{key:e.key||"_recharts-brush",onChange:fD(a.handleBrushChange,e.props.onChange),data:n,x:yx(e.props.x)?e.props.x:i.left,y:yx(e.props.y)?e.props.y:i.top+i.height+i.brushBottom-(r.bottom||0),width:yx(e.props.width)?e.props.width:i.width,startIndex:o,endIndex:l,updateId:"brush-".concat(c)})}),bU(a,"renderReferenceElement",function(e,t,r){if(!e)return null;var n=a.clipPathId,s=a.state,i=s.xAxisMap,o=s.yAxisMap,l=s.offset,c=e.type.defaultProps||{},d=e.props,u=d.xAxisId,m=void 0===u?c.xAxisId:u,h=d.yAxisId,p=void 0===h?c.yAxisId:h;return qr.cloneElement(e,{key:e.key||"".concat(t,"-").concat(r),xAxis:i[m],yAxis:o[p],viewBox:{x:l.left,y:l.top,width:l.width,height:l.height},clipPathId:n})}),bU(a,"renderActivePoints",function(t){var r=t.item,n=t.activePoint,s=t.basePoint,a=t.childIndex,i=t.isRange,o=[],l=r.props.key,c=void 0!==r.item.type.defaultProps?gU(gU({},r.item.type.defaultProps),r.item.props):r.item.props,d=c.activeDot,u=gU(gU({index:a,dataKey:c.dataKey,cx:n.x,cy:n.y,r:4,fill:lD(r.item),strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},Xx(d,!1)),Lx(d));return o.push(e.renderActiveDot(d,u,"".concat(l,"-activePoint-").concat(a))),s?o.push(e.renderActiveDot(d,gU(gU({},u),{},{cx:s.x,cy:s.y}),"".concat(l,"-basePoint-").concat(a))):i&&o.push(null),o}),bU(a,"renderGraphicChild",function(e,t,r){var n=a.filterFormatItem(e,t,r);if(!n)return null;var s=a.getTooltipEventType(),i=a.state,o=i.isTooltipActive,l=i.tooltipAxis,c=i.activeTooltipIndex,d=i.activeLabel,u=Hx(a.props.children,Lk),m=n.props,h=m.points,p=m.isRange,f=m.baseLine,x=void 0!==n.item.type.defaultProps?gU(gU({},n.item.type.defaultProps),n.item.props):n.item.props,g=x.activeDot,b=x.hide,y=x.activeBar,v=x.activeShape,j=Boolean(!b&&o&&u&&(g||y||v)),w={};"axis"!==s&&u&&"click"===u.props.trigger?w={onClick:fD(a.handleItemMouseEnter,e.props.onClick)}:"axis"!==s&&(w={onMouseLeave:fD(a.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:fD(a.handleItemMouseEnter,e.props.onMouseEnter)});var N=qr.cloneElement(e,gU(gU({},n.props),w));if(j){if(!(c>=0)){var k,S=(null!==(k=a.getItemByXY(a.state.activeCoordinate))&&void 0!==k?k:{graphicalItem:N}).graphicalItem,C=S.item,A=void 0===C?e:C,T=S.childIndex,E=gU(gU(gU({},n.props),w),{},{activeIndex:T});return[qr.cloneElement(A,E),null,null]}var _,P;if(l.dataKey&&!l.allowDuplicatedCategory){var D="function"==typeof l.dataKey?function(e){return"function"==typeof l.dataKey?l.dataKey(e.payload):null}:"payload.".concat(l.dataKey.toString());_=Cx(h,D,d),P=p&&f&&Cx(f,D,d)}else _=null==h?void 0:h[c],P=p&&f&&f[c];if(v||y){var O=void 0!==e.props.activeIndex?e.props.activeIndex:c;return[qr.cloneElement(e,gU(gU(gU({},n.props),w),{},{activeIndex:O})),null,null]}if(!Zf(_))return[N].concat(hU(a.renderActivePoints({item:n,activePoint:_,basePoint:P,childIndex:c,isRange:p})))}return p?[N,null,null]:[N,null]}),bU(a,"renderCustomized",function(e,t,r){return qr.cloneElement(e,gU(gU({key:"recharts-customized-".concat(r)},a.props),a.state))}),bU(a,"renderMap",{CartesianGrid:{handler:NU,once:!0},ReferenceArea:{handler:a.renderReferenceElement},ReferenceLine:{handler:NU},ReferenceDot:{handler:a.renderReferenceElement},XAxis:{handler:NU},YAxis:{handler:NU},Brush:{handler:a.renderBrush,once:!0},Bar:{handler:a.renderGraphicChild},Line:{handler:a.renderGraphicChild},Area:{handler:a.renderGraphicChild},Radar:{handler:a.renderGraphicChild},RadialBar:{handler:a.renderGraphicChild},Scatter:{handler:a.renderGraphicChild},Pie:{handler:a.renderGraphicChild},Funnel:{handler:a.renderGraphicChild},Tooltip:{handler:a.renderCursor,once:!0},PolarGrid:{handler:a.renderPolarGrid,once:!0},PolarAngleAxis:{handler:a.renderPolarAxis},PolarRadiusAxis:{handler:a.renderPolarAxis},Customized:{handler:a.renderCustomized}}),a.clipPathId="".concat(null!==(n=r.id)&&void 0!==n?n:wx("recharts"),"-clip"),a.throttleTriggeredAfterMouseMove=zk(a.triggeredAfterMouseMove,null!==(s=r.throttleDelay)&&void 0!==s?s:1e3/60),a.state={},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mU(e,t)}(e,qr.Component),lU(e,[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,r=e.data,n=e.height,s=e.layout,a=Hx(t,Lk);if(a){var i=a.props.defaultIndex;if(!("number"!=typeof i||i<0||i>this.state.tooltipTicks.length-1)){var o=this.state.tooltipTicks[i]&&this.state.tooltipTicks[i].value,l=CU(this.state,r,i,o),c=this.state.tooltipTicks[i].coordinate,d=(this.state.offset.top+n)/2,u="horizontal"===s?{x:c,y:d}:{y:c,x:d},m=this.state.formattedGraphicalItems.find(function(e){return"Scatter"===e.item.type.name});m&&(u=gU(gU({},u),m.props.points[i].tooltipPosition),l=m.props.points[i].tooltipPayload);var h={activeTooltipIndex:i,isTooltipActive:!0,activeLabel:o,activePayload:l,activeCoordinate:u};this.setState(h),this.renderCursor(a),this.accessibilityManager.setIndex(i)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){if(!this.props.accessibilityLayer)return null;var r,n;(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin)&&this.accessibilityManager.setDetails({offset:{left:null!==(r=this.props.margin.left)&&void 0!==r?r:0,top:null!==(n=this.props.margin.top)&&void 0!==n?n:0}});return null}},{key:"componentDidUpdate",value:function(e){Jx([Hx(e.children,Lk)],[Hx(this.props.children,Lk)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=Hx(this.props.children,Lk);if(e&&"boolean"==typeof e.props.shared){var t=e.props.shared?"axis":"item";return i.indexOf(t)>=0?t:s}return s}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,r=this.container,n=r.getBoundingClientRect(),s={top:(t=n).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-s.left),chartY:Math.round(e.pageY-s.top)},i=n.width/r.offsetWidth||1,o=this.inRange(a.chartX,a.chartY,i);if(!o)return null;var l=this.state,c=l.xAxisMap,d=l.yAxisMap,u=this.getTooltipEventType(),m=AU(this.state,this.props.data,this.props.layout,o);if("axis"!==u&&c&&d){var h=kx(c).scale,p=kx(d).scale,f=h&&h.invert?h.invert(a.chartX):null,x=p&&p.invert?p.invert(a.chartY):null;return gU(gU({},a),{},{xValue:f,yValue:x},m)}return m?gU(gU({},a),m):null}},{key:"inRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=this.props.layout,s=e/r,a=t/r;if("horizontal"===n||"vertical"===n){var i=this.state.offset;return s>=i.left&&s<=i.left+i.width&&a>=i.top&&a<=i.top+i.height?{x:s,y:a}:null}var o=this.state,l=o.angleAxisMap,c=o.radiusAxisMap;if(l&&c){var d=kx(l);return GD({x:s,y:a},d)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),r=Hx(e,Lk),n={};return r&&"axis"===t&&(n="click"===r.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),gU(gU({},Lx(this.props,this.handleOuterEvent)),n)}},{key:"addListener",value:function(){$$.on(U$,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$$.removeListener(U$,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,r){for(var n=this.state.formattedGraphicalItems,s=0,a=n.length;s<a;s++){var i=n[s];if(i.item===e||i.props.key===e.key||t===qx(i.item.type)&&r===i.childIndex)return i}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,r=t.left,n=t.top,s=t.height,a=t.width;return Ur.createElement("defs",null,Ur.createElement("clipPath",{id:e},Ur.createElement("rect",{x:r,y:n,height:s,width:a})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=iU(t,2),n=r[0],s=r[1];return gU(gU({},e),{},bU({},n,s.scale))},{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce(function(e,t){var r=iU(t,2),n=r[0],s=r[1];return gU(gU({},e),{},bU({},n,s.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,r=t.formattedGraphicalItems,n=t.activeItem;if(r&&r.length)for(var s=0,a=r.length;s<a;s++){var i=r[s],o=i.props,l=i.item,c=void 0!==l.type.defaultProps?gU(gU({},l.type.defaultProps),l.props):l.props,d=qx(l.type);if("Bar"===d){var u=(o.data||[]).find(function(t){return NM(e,t)});if(u)return{graphicalItem:i,payload:u}}else if("RadialBar"===d){var m=(o.data||[]).find(function(t){return GD(e,t)});if(m)return{graphicalItem:i,payload:m}}else if(ZI(i,n)||eR(i,n)||tR(i,n)){var h=aR({graphicalItem:i,activeTooltipItem:n,itemData:c.data}),p=void 0===c.activeIndex?h:c.activeIndex;return{graphicalItem:gU(gU({},i),{},{childIndex:p}),payload:tR(i,n)?c.data[h]:i.props.data[h]}}}return null}},{key:"render",value:function(){var e=this;if(!Gx(this))return null;var t,r,n=this.props,s=n.children,a=n.className,i=n.width,o=n.height,l=n.style,c=n.compact,d=n.title,u=n.desc,m=oU(n,nU),h=Xx(m,!1);if(c)return Ur.createElement(OF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ur.createElement(ng,aU({},h,{width:i,height:o,title:d,desc:u}),this.renderClipPath(),Zx(s,this.renderMap)));this.props.accessibilityLayer&&(h.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,h.role=null!==(r=this.props.role)&&void 0!==r?r:"application",h.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},h.onFocus=function(){e.accessibilityManager.focus()});var p=this.parseEventsOfWrapper();return Ur.createElement(OF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ur.createElement("div",aU({className:P("recharts-wrapper",a),style:gU({position:"relative",cursor:"default",width:i,height:o},l)},p,{ref:function(t){e.container=t}}),Ur.createElement(ng,aU({},h,{width:i,height:o,title:d,desc:u,style:jU}),this.renderClipPath(),Zx(s,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}();bU(h,"displayName",t),bU(h,"defaultProps",gU({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),bU(h,"getDerivedStateFromProps",function(e,t){var r=e.dataKey,n=e.data,s=e.children,a=e.width,i=e.height,o=e.layout,l=e.stackOffset,c=e.margin,d=t.dataStartIndex,u=t.dataEndIndex;if(void 0===t.updateId){var h=_U(e);return gU(gU(gU({},h),{},{updateId:0},m(gU(gU({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:r,prevData:n,prevWidth:a,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:s})}if(r!==t.prevDataKey||n!==t.prevData||a!==t.prevWidth||i!==t.prevHeight||o!==t.prevLayout||l!==t.prevStackOffset||!Tx(c,t.prevMargin)){var p=_U(e),f={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},x=gU(gU({},AU(t,n,o)),{},{updateId:t.updateId+1}),g=gU(gU(gU({},p),f),x);return gU(gU(gU({},g),m(gU({props:e},g),t)),{},{prevDataKey:r,prevData:n,prevWidth:a,prevHeight:i,prevLayout:o,prevStackOffset:l,prevMargin:c,prevChildren:s})}if(!Jx(s,t.prevChildren)){var b,y,v,j,w=Hx(s,yz),N=w&&null!==(b=null===(y=w.props)||void 0===y?void 0:y.startIndex)&&void 0!==b?b:d,k=w&&null!==(v=null===(j=w.props)||void 0===j?void 0:j.endIndex)&&void 0!==v?v:u,S=N!==d||k!==u,C=!Zf(n)&&!S?t.updateId:t.updateId+1;return gU(gU({updateId:C},m(gU(gU({props:e},t),{},{updateId:C,dataStartIndex:N,dataEndIndex:k}),t)),{},{prevChildren:s,dataStartIndex:N,dataEndIndex:k})}return null}),bU(h,"renderActiveDot",function(e,t,r){var n;return n=qr.isValidElement(e)?qr.cloneElement(e,t):nx(e)?e(t):Ur.createElement(MM,t),Ur.createElement(Ng,{className:"recharts-active-dot",key:r},n)});var p=qr.forwardRef(function(e,t){return Ur.createElement(h,aU({},e,{ref:t}))});return p.displayName=h.displayName,p},MU=LU({chartName:"LineChart",GraphicalChild:Aq,axisComponents:[{axisType:"xAxis",AxisComp:S$},{axisType:"yAxis",AxisComp:I$}],formatAxisMap:uF}),IU=LU({chartName:"BarChart",GraphicalChild:sF,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:S$},{axisType:"yAxis",AxisComp:I$}],formatAxisMap:uF}),RU=LU({chartName:"PieChart",GraphicalChild:gR,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:TI},{axisType:"radiusAxis",AxisComp:dI}],formatAxisMap:WD,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),zU=LU({chartName:"AreaChart",GraphicalChild:Uq,axisComponents:[{axisType:"xAxis",AxisComp:S$},{axisType:"yAxis",AxisComp:I$}],formatAxisMap:uF}),FU=LU({chartName:"RadialBarChart",GraphicalChild:KR,legendContent:"children",defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"angleAxis",AxisComp:TI},{axisType:"radiusAxis",AxisComp:dI}],formatAxisMap:WD,defaultProps:{layout:"radial",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),BU=LU({chartName:"ComposedChart",GraphicalChild:[Aq,Uq,sF,p$],axisComponents:[{axisType:"xAxis",AxisComp:S$},{axisType:"yAxis",AxisComp:I$},{axisType:"zAxis",AxisComp:Qq}],formatAxisMap:uF});const qU="https://backend.nexusmwi.com";class $U{static async getTravelExpenseAnalytics(e={}){try{const t=new URLSearchParams;e.period&&t.append("period",e.period),e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate);const r=`${qU}/api/travel-requests/analytics?${t.toString()}`,n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){throw new Error("Failed to fetch analytics data: "+t.message)}}static async exportTravelExpenseData(e={}){try{const t=new URLSearchParams;e.startDate&&t.append("startDate",e.startDate),e.endDate&&t.append("endDate",e.endDate),e.format&&t.append("format",e.format);const r=`${qU}/api/travel-requests/export?${t.toString()}`,n=await fetch(r,{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return"csv"===e.format?await n.blob():await n.json()}catch(t){throw new Error("Failed to export data: "+t.message)}}static async getTravelRequestById(e){try{if(!e||"string"!=typeof e||!/^[0-9a-fA-F]{24}$/.test(e))throw new Error("Invalid travel request ID format");const t=await fetch(`${qU}/api/travel-requests/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw new Error("Failed to fetch travel request: "+t.message)}}static async getAllTravelRequests(e={}){try{const t=new URLSearchParams;e.page&&t.append("page",e.page),e.limit&&t.append("limit",e.limit),e.status&&t.append("status",e.status);const r=`${qU}/api/travel-requests?${t.toString()}`,n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}catch(t){throw new Error("Failed to fetch travel requests: "+t.message)}}}const UU=({salesData:t=[],revenueBreakdown:r=[]})=>{const[n,s]=qr.useState("bar"),[a,i]=qr.useState("Monthly"),[l,c]=qr.useState(!0),[d,u]=qr.useState(null),[h,p]=qr.useState(null),f=async(e="monthly")=>{try{c(!0),p(null);const t={Monthly:"monthly",Quarterly:"quarterly",Yearly:"yearly"},r=await $U.getTravelExpenseAnalytics({period:t[e]||"monthly",startDate:"2024-01-01",endDate:"2024-12-31"});u(r)}catch(t){p(t.message||"Failed to load analytics data")}finally{c(!1)}};qr.useEffect(()=>{f(a)},[a]);const{chartData:x,pieData:b,metricsData:y,metadata:j}=d?(e=>{if(!e||!e.data||!e.data.travel_expenses)return{chartData:[],pieData:[],metricsData:[]};const{time_series_data:t,breakdown_data:r,metrics:n}=e.data.travel_expenses;return{chartData:t.map(e=>({month:e.period,revenue:e.revenue,target:e.target,growth:e.growth})),pieData:r.map(e=>({name:e.category,value:e.value,amount:e.amount,color:e.color,description:e.description})),metricsData:[{title:"Current Month",value:n.current_month.value.toLocaleString(),change:`${n.current_month.change_percentage>0?"+":""}${n.current_month.change_percentage}%`,trend:n.current_month.change_percentage,icon:m,color:"blue"},{title:"Previous Month",value:n.previous_month.value.toLocaleString(),change:`${n.previous_month.change_percentage>0?"+":""}${n.previous_month.change_percentage}%`,trend:n.previous_month.change_percentage,icon:v,color:"green"},{title:"YTD Expenses",value:n.year_to_date.value.toLocaleString(),change:`${n.year_to_date.change_percentage>0?"+":""}${n.year_to_date.change_percentage}%`,trend:n.year_to_date.change_percentage,icon:g,color:"purple"},{title:"Projected Q2",value:n.projected_quarter.value.toLocaleString(),change:`${n.projected_quarter.change_percentage>0?"+":""}${n.projected_quarter.change_percentage}%`,trend:n.projected_quarter.change_percentage,icon:o,color:"orange"}],metadata:e.data.travel_expenses.metadata}})(d):{chartData:[],pieData:[],metricsData:[],metadata:{last_updated:(new Date).toISOString()}};if(h)return e.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4 text-center p-8",children:[e.jsx("div",{className:"text-red-500 text-xl",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Failed to load data"}),e.jsx("p",{className:"text-sm text-gray-600",children:h}),e.jsx("button",{onClick:()=>f(a),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-sm",children:"Retry"})]});const w=x.length>0?x:[{month:"Jan",revenue:65e3,target:6e4,growth:8},{month:"Feb",revenue:59e3,target:65e3,growth:-5},{month:"Mar",revenue:8e4,target:7e4,growth:12},{month:"Apr",revenue:81e3,target:75e3,growth:10},{month:"May",revenue:56e3,target:8e4,growth:-15},{month:"Jun",revenue:95e3,target:85e3,growth:20}],N=b.length>0?b:[{name:"Domestic Travel",value:65,color:"#3B82F6"},{name:"International Travel",value:35,color:"#10B981"}];y.length;const S=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n}),r.map((t,r)=>e.jsxs("p",{className:"text-sm",style:{color:t.color},children:[t.name,": MWK ",t.value?.toLocaleString()]},r))]}):null,C=()=>e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded-lg w-1/4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-1/6"}),e.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"}),e.jsx("div",{className:"grid grid-cols-4 gap-4",children:[...Array(4)].map((t,r)=>e.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},r))})]}),A=e=>{s(e)};return l?e.jsxs("div",{className:"h-full flex flex-col space-y-4 w-full max-w-full overflow-hidden",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded-lg w-64 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded-lg w-32 mt-2 animate-pulse"})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 flex-1",children:e.jsx(C,{})})]}):e.jsxs("div",{className:"h-full flex flex-col space-y-4 w-full max-w-full overflow-hidden",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900 truncate",children:"Travel Request Expenses"})})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-5 flex-1 flex flex-col min-h-0 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Revenue Analysis"}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>A("bar"),className:"p-2 rounded-lg transition-all "+("bar"===n?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(k,{size:16})}),e.jsx("button",{onClick:()=>A("line"),className:"p-2 rounded-lg transition-all "+("line"===n?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(te,{size:16})}),e.jsx("button",{onClick:()=>A("pie"),className:"p-2 rounded-lg transition-all "+("pie"===n?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(re,{size:16})})]})]}),e.jsx("div",{className:"border-b border-gray-200 mb-4 overflow-x-auto",children:e.jsx("div",{className:"flex space-x-4 lg:space-x-8 min-w-max pb-2",children:["Monthly","Quarterly","Yearly"].map(t=>e.jsx("button",{onClick:()=>{i(t)},className:"pb-2 px-1 text-sm font-medium transition-colors border-b-2 whitespace-nowrap "+(a===t?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:t},t))})}),e.jsxs("div",{className:"flex-1 mb-4 min-h-0",children:[e.jsxs(Vk,{width:"100%",height:300,children:["line"===n&&e.jsxs(zU,{data:w,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorTarget",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(S,{})}),e.jsx(Uq,{type:"monotone",dataKey:"revenue",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorRevenue)",name:"Revenue"}),e.jsx(Uq,{type:"monotone",dataKey:"target",stroke:"#10B981",fillOpacity:1,fill:"url(#colorTarget)",name:"Target"})]}),"bar"===n&&e.jsxs(IU,{data:w,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(S,{})}),e.jsx(sF,{dataKey:"revenue",fill:"#3B82F6",name:"Revenue",radius:[4,4,0,0]}),e.jsx(sF,{dataKey:"target",fill:"#10B981",name:"Target",radius:[4,4,0,0]})]}),"pie"===n&&e.jsxs(RU,{children:[e.jsx(gR,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:N.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(S,{})})]})]}),"pie"===n&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mt-4",children:N.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm min-w-0",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:t.color}}),e.jsxs("span",{className:"text-gray-600 truncate",children:[t.name,": ",t.value,"%"]})]},r))})]})]})]})},WU=({summaryData:t=[],allData:r=[],activeIndex:n=null,onPieEnter:s,onPieLeave:a,stats:i={}})=>{const[o,l]=qr.useState("pie"),[c,d]=qr.useState("Overall"),u={pending:"#F59E0B",approved:"#10B981",rejected:"#EF4444",open:"#3B82F6",closed:"#8B5CF6",paid:"#10B981"},m=["Overall","Requisitions","RFQs","Purchase Orders","Invoices"],h=t.length>0?t:[{name:"Pending",value:23,status:"pending"},{name:"Approved",value:45,status:"approved"},{name:"Rejected",value:12,status:"rejected"},{name:"Open",value:32,status:"open"},{name:"Closed",value:28,status:"closed"}],p=r.length>0?r:[{category:"Requisitions",name:"Pending Requisitions",value:18,status:"pending"},{category:"Requisitions",name:"Approved Requisitions",value:35,status:"approved"},{category:"Requisitions",name:"Rejected Requisitions",value:8,status:"rejected"},{category:"RFQs",name:"Open RFQs",value:22,status:"open"},{category:"RFQs",name:"Closed RFQs",value:15,status:"closed"},{category:"Purchase Orders",name:"Pending POs",value:14,status:"pending"},{category:"Purchase Orders",name:"Approved POs",value:28,status:"approved"},{category:"Purchase Orders",name:"Rejected POs",value:5,status:"rejected"},{category:"Invoices",name:"Pending Invoices",value:12,status:"pending"},{category:"Invoices",name:"Paid Invoices",value:32,status:"paid"}],f="Overall"===c?h:p.filter(e=>e.category===c).map(e=>({name:e.name.split(" ")[0],value:e.value,status:e.status})),x=f.reduce((e,t)=>e+t.value,0);(()=>{const e={Requisitions:i?.requisitions?.counts?.total||61,RFQs:i?.rfqs?.counts?.total||37,"Purchase Orders":i?.purchaseOrders?.counts?.total||47,Invoices:i?.invoices?.counts?.total||44};Object.entries(e).map(([e,t])=>({title:e,value:t,change:Math.floor(20*Math.random())-5+"%",trend:Math.random()>.3?"up":"down"}))})();const g=({active:t,payload:r,label:n})=>{if(t&&r&&r.length){const t=r[0].payload;return e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-xl shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Count: ",e.jsx("span",{className:"font-medium",children:t.value})]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(t.value/x*100),"% of total"]})]})}return null};return e.jsxs("div",{className:"h-full flex flex-col space-y-4 w-full max-w-full overflow-hidden",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:e.jsx("div",{className:"min-w-0 flex-1",children:e.jsx("h1",{className:"text-xl lg:text-2xl font-bold text-gray-900 truncate",children:"Procurement Status"})})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 lg:p-5 flex-1 flex flex-col min-h-0 shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:"Status Overview"}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 p-1 rounded-xl self-start sm:self-auto",children:[e.jsx("button",{onClick:()=>l("pie"),className:"p-2 rounded-lg transition-all "+("pie"===o?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(re,{size:16})}),e.jsx("button",{onClick:()=>l("line"),className:"p-2 rounded-lg transition-all "+("line"===o?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(te,{size:16})}),e.jsx("button",{onClick:()=>l("bar"),className:"p-2 rounded-lg transition-all "+("bar"===o?"bg-blue-500 text-white shadow-sm":"bg-transparent text-gray-600 hover:bg-gray-100"),children:e.jsx(k,{size:16})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>{const e=(m.indexOf(c)-1+m.length)%m.length;d(m[e])},className:"p-2 rounded-xl bg-gray-50 text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0 shadow-sm",children:e.jsx(ne,{size:16})}),e.jsxs("div",{className:"text-center min-w-0 flex-1 mx-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:c}),e.jsx("div",{className:"flex justify-center mt-2 space-x-1",children:m.map((t,r)=>e.jsx("div",{className:"h-2 w-2 rounded-full transition-colors cursor-pointer "+(c===t?"bg-blue-600":"bg-gray-300"),onClick:()=>d(t)},`dot-${r}`))})]}),e.jsx("button",{onClick:()=>{const e=(m.indexOf(c)+1)%m.length;d(m[e])},className:"p-2 rounded-xl bg-gray-50 text-gray-600 hover:bg-gray-100 transition-colors flex-shrink-0 shadow-sm",children:e.jsx(se,{size:16})})]}),e.jsxs("div",{className:"flex-1 mb-4 min-h-0",children:[e.jsxs(Vk,{width:"100%",height:300,children:["pie"===o&&e.jsxs(RU,{children:[e.jsx(gR,{data:f,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",onMouseEnter:s,onMouseLeave:a,children:f.map((t,r)=>e.jsx(Hk,{fill:u[t.status?.toLowerCase()]||"#3B82F6"},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(g,{})})]}),"line"===o&&e.jsxs(zU,{data:f,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorArea",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"name",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(g,{})}),e.jsx(Uq,{type:"monotone",dataKey:"value",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorArea)"})]}),"bar"===o&&e.jsxs(IU,{data:f,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"name",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(g,{})}),e.jsx(sF,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})]}),"pie"===o&&e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 mt-4",children:f.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm min-w-0",children:[e.jsx("div",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:u[t.status?.toLowerCase()]||"#3B82F6"}}),e.jsxs("span",{className:"text-gray-600 truncate",children:[t.name,": ",Math.round(t.value/x*100),"%"]})]},r))})]})]})]})},VU=()=>{const t={avg_rating:4.2,ratings_distribution:{5:45,4:30,3:15,2:7,1:3},feedback_topics:[{name:"Product Quality",sentiment:"positive",percentage:85},{name:"User Experience",sentiment:"positive",percentage:78},{name:"Value for Money",sentiment:"neutral",percentage:62},{name:"Customer Service",sentiment:"positive",percentage:73},{name:"Shipping Speed",sentiment:"negative",percentage:45}]},r={positive:"#10b981",neutral:"#3B82F6",negative:"#dc2626",amber:"#f59e0b",border:"#e5e7eb"};return qr.useEffect(()=>{const e=document.querySelectorAll(".topic-item");e.length&&e.forEach((e,t)=>{setTimeout(()=>{e.classList.add("visible")},100*t)})},[]),e.jsxs("div",{className:"report-card",children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{children:"Product Reviews Analysis"}),e.jsx("div",{className:"card-actions",children:e.jsx("button",{className:"btn-text",children:"View Detailed Report"})})]}),e.jsx("div",{className:"card-content",children:e.jsxs("div",{className:"reviews-analysis",children:[e.jsxs("div",{className:"ratings-overview",children:[e.jsxs("div",{className:"rating-score",children:[e.jsxs("div",{className:"score-circle",children:[e.jsxs("svg",{viewBox:"0 0 36 36",children:[e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",stroke:"#eee",strokeWidth:"3",fill:"none"}),e.jsx("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",stroke:r.amber,strokeWidth:"3",fill:"none",strokeDasharray:100*t.avg_rating/5+", 100",strokeLinecap:"round"})]}),e.jsx("div",{className:"score-value",children:t.avg_rating})]}),e.jsx("div",{className:"score-label",children:"Overall Rating"})]}),e.jsx("div",{className:"ratings-breakdown",children:Object.entries(t.ratings_distribution).sort((e,t)=>t[0]-e[0]).map(([t,n])=>e.jsxs("div",{className:"rating-item",children:[e.jsx("div",{className:"stars",children:[...Array(5)].map((n,s)=>e.jsx("svg",{className:"star "+(s<t?"filled":""),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:s<parseInt(t)?r.amber:"none",stroke:s<parseInt(t)?r.amber:r.border,strokeWidth:s<parseInt(t)?"0":"2",width:"14",height:"14",children:e.jsx("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})},s))}),e.jsx("div",{className:"rating-bar",style:{backgroundColor:"rgba(229, 231, 235, 0.3)"},children:e.jsx("div",{className:"progress-bar",style:{width:`${n}%`,backgroundColor:r.amber,height:"100%",borderRadius:"4px"}})}),e.jsxs("div",{className:"rating-percentage",children:[n,"%"]})]},t))})]}),e.jsxs("div",{className:"feedback-topics",children:[e.jsx("h4",{children:"Common Feedback Topics"}),e.jsx("div",{className:"topics-list",children:t.feedback_topics.map((t,n)=>e.jsxs("div",{className:"topic-item",children:[e.jsx("div",{className:"topic-name",children:t.name}),e.jsx("div",{className:"topic-bar",style:{backgroundColor:"rgba(229, 231, 235, 0.3)"},children:e.jsx("div",{className:`progress-bar ${t.sentiment}`,style:{width:`${t.percentage}%`,backgroundColor:r[t.sentiment],height:"100%",borderRadius:"4px"}})}),e.jsxs("div",{className:"topic-percentage",style:{color:r[t.sentiment],fontWeight:600},children:[t.percentage,"%"]})]},n))})]})]})})]})},HU=({title:t,value:r,description:n,trend:s,trendDirection:a,icon:i,color:o="primary",emphasizeWithArrow:l=!1,testId:c})=>{const d={primary:{main:"#3366FF",light:"#EBF0FF",dark:"#1939B7",gradient:"linear-gradient(135deg, #3366FF 0%, #5B8DEF 100%)",soft:"rgba(51, 102, 255, 0.08)"},info:{main:"#00B8D9",light:"#E6FCFF",dark:"#006C9C",gradient:"linear-gradient(135deg, #00B8D9 0%, #36C5F0 100%)",soft:"rgba(0, 184, 217, 0.08)"},secondary:{main:"#6E56CF",light:"#F4F0FF",dark:"#4D399E",gradient:"linear-gradient(135deg, #6E56CF 0%, #9F85F0 100%)",soft:"rgba(110, 86, 207, 0.08)"},error:{main:"#E5484D",light:"#FEF0F0",dark:"#B42B2B",gradient:"linear-gradient(135deg, #E5484D 0%, #FF6A6A 100%)",soft:"rgba(229, 72, 77, 0.08)"},success:{main:"#30A46C",light:"#ECFDF3",dark:"#18794E",gradient:"linear-gradient(135deg, #30A46C 0%, #4CC38A 100%)",soft:"rgba(48, 164, 108, 0.08)"}},u=d[o]||d.primary;return e.jsxs(ae,{sx:{position:"relative",height:70,background:"#FFFFFF",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(0, 0, 0, 0.02)",borderRadius:5,p:2.5,pl:3.2,display:"flex",flexDirection:"column",justifyContent:"center",transition:"all 0.25s ease",overflow:"hidden","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.02)",transform:"translateY(-2px)"},"&::before":{content:'""',position:"absolute",left:0,top:10,bottom:10,width:"4px",background:u.gradient,borderRadius:4,boxShadow:`0 0 8px ${ie(u.main,.2)}`,transition:"all 0.3s ease"},"&:hover::before":{top:6,bottom:6},"&::after":{content:'""',position:"absolute",right:0,bottom:0,width:"40%",height:"60%",background:`radial-gradient(circle at bottom right, ${ie(u.light,.7)}, transparent 70%)`,opacity:.5,zIndex:0,transition:"opacity 0.3s ease"},"&:hover::after":{opacity:.8}},"data-testid":c,children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,position:"relative",zIndex:1},children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(oe,{variant:"h6",component:"div",sx:{fontWeight:700,fontSize:"1.25rem",color:"#1A1A1A",letterSpacing:"-0.02em"},"data-testid":c?`${c}-value`:void 0,children:r}),(()=>{if(l)return e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"center",ml:1,width:24,height:24,borderRadius:"50%",background:d.error.gradient,boxShadow:`0 2px 4px ${ie(d.error.main,.25)}`,transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)",boxShadow:`0 3px 6px ${ie(d.error.main,.3)}`}},"data-testid":c?`${c}-arrow`:void 0,children:e.jsx(bs,{sx:{fontSize:14,color:"#fff"}})});if(s){const t="up"===a?d.success:d.error;return e.jsxs(ae,{sx:{display:"inline-flex",alignItems:"center",ml:1,px:.8,py:.3,borderRadius:1.5,background:t.soft,color:t.main,fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.01em"},"data-testid":c?`${c}-trend`:void 0,children:["up"===a?e.jsx(vs,{sx:{fontSize:11,mr:.3}}):e.jsx(gs,{sx:{fontSize:11,mr:.3}}),s]})}return null})()]}),i&&e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"center",background:u.soft,color:u.main,width:32,height:32,borderRadius:"50%",transition:"all 0.2s ease","&:hover":{background:ie(u.main,.12),transform:"scale(1.05)"}},"data-testid":c?`${c}-icon`:void 0,children:Ur.cloneElement(i,{sx:{fontSize:16}})})]}),e.jsx(oe,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.8125rem",fontWeight:600,position:"relative",zIndex:1,letterSpacing:"-0.01em"},"data-testid":c?`${c}-title`:void 0,children:t}),n&&e.jsx(oe,{variant:"caption",sx:{color:"#6B7280",fontSize:"0.6875rem",display:"block",fontWeight:500,position:"relative",zIndex:1,mt:.3},"data-testid":c?`${c}-description`:void 0,children:n})]})},GU=({stats:t,testId:r})=>e.jsxs(ae,{sx:{display:"flex",gap:3.5,pt:0,pb:2,px:1.5,width:"100%",marginTop:-1,"& > div":{transition:"all 0.3s ease","&:hover":{transform:"translateZ(0)",zIndex:1}}},"data-testid":r||"stats-cards-grid",children:[e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(HU,{title:"Approve",value:t.requisitions.counts.total,color:"primary",icon:e.jsx(Ds,{}),testId:"approve-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(HU,{title:"PO from Requisitions",value:t.rfqs.counts.total,icon:e.jsx(Es,{}),color:"info",testId:"po-requisitions-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(HU,{title:"Send to supplier",value:t.purchaseOrders.counts.total,icon:e.jsx(As,{}),color:"secondary",testId:"supplier-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(HU,{title:"To be paid",value:t.invoices.counts.total,icon:e.jsx(Ss,{}),color:"error",testId:"to-be-paid-card"})})]}),KU=()=>{const t=[{name:"Product",value:376e5,percentage:38,color:"#4361EE"},{name:"Business Development",value:18149600,percentage:27,color:"#5C7CFA"},{name:"Marketing",value:10152e3,percentage:23,color:"#8896EB"},{name:"HR",value:4096400,percentage:12,color:"#C2C9F0"}],r=[{name:"Travel expenses",value:424e5,percentage:45,color:"#4361EE"},{name:"Services",value:31092600,percentage:23,color:"#7C4DFF"},{name:"Utilities",value:17901e3,percentage:19,color:"#B39DDB"},{name:"Transportation",value:2826700,percentage:13,color:"#D1C4E9"}],n=e=>new Intl.NumberFormat("en-MW",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),s=t=>{const{x:r,y:n,width:s,height:a,fill:i,value:o}=t;return e.jsxs("g",{children:[e.jsx("defs",{children:e.jsx("filter",{id:`dot-shadow-${o}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:e.jsx("feDropShadow",{dx:"0",dy:"1",stdDeviation:"2",floodOpacity:"0.15"})})}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:`barGradient-${o}`,x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:i,stopOpacity:.9}),e.jsx("stop",{offset:"100%",stopColor:i,stopOpacity:1})]})}),e.jsx("rect",{x:r,y:n,width:s,height:a,fill:`url(#barGradient-${o})`,rx:3,ry:3,filter:"url(#softShadow)"}),e.jsx("circle",{cx:r+s,cy:n+a/2,r:4,fill:"#4361EE",filter:`url(#dot-shadow-${o})`}),e.jsxs("text",{x:r+s+10,y:n+a/2+4,fontSize:"12",fontWeight:"600",fill:"#4361EE",children:[o,"%"]})]})};return e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"flex flex-col lg:flex-row w-full gap-4 lg:gap-6 mt-4 lg:mt-14 px-2 lg:px-0",children:[e.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 xl:p-7 w-full lg:w-1/3 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 lg:mb-5 gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-800 font-bold text-base lg:text-lg",children:"By Department"}),e.jsx("div",{className:"ml-2 text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-full font-medium",children:"This Week"})]}),e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsxs("select",{className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pl-3 pr-8 text-gray-700 text-xs lg:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer hover:bg-gray-50 transition-colors duration-150 shadow-sm",children:[e.jsx("option",{children:"Department"}),e.jsx("option",{children:"By Value"}),e.jsx("option",{children:"By Percentage"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:e.jsx("svg",{className:"fill-current h-3 w-3 lg:h-4 lg:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsx("div",{className:"text-gray-500 text-xs font-medium mb-1",children:"Total"}),e.jsxs("div",{className:"text-gray-800 font-bold text-xl lg:text-2xl mb-6 lg:mb-8 flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs("span",{children:[n(98956800)," MWK"]}),e.jsx("span",{className:"text-xs px-2 py-1 bg-emerald-50 text-emerald-600 rounded-full font-medium w-fit",children:"+4.3%"})]}),e.jsx("div",{className:"h-40 lg:h-48 mb-4",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(IU,{data:t,barSize:28,barGap:6,children:[e.jsx("defs",{children:t.map((t,r)=>e.jsxs("linearGradient",{id:`gradient-${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:t.color,stopOpacity:1}),e.jsx("stop",{offset:"95%",stopColor:t.color,stopOpacity:.9})]},`gradient-${r}`))}),e.jsx(dq,{vertical:!1,strokeDasharray:"3 3",stroke:"#F1F5F9"}),e.jsx(S$,{tick:!1,axisLine:!1}),e.jsx(I$,{tickFormatter:e=>e/1e6+"M",axisLine:!1,tickLine:!1,tick:{fill:"#94A3B8",fontSize:11,fontWeight:500},domain:[0,6e7],ticks:[0,3e7,6e7],width:35}),e.jsx(Lk,{cursor:!1,contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"none",padding:"8px 12px",fontSize:"12px"},formatter:e=>[`${n(e)} MWK`,""]}),e.jsxs(sF,{dataKey:"value",radius:[8,8,8,8],isAnimationActive:!1,children:[t.map((t,r)=>e.jsx(Hk,{fill:`url(#gradient-${r})`},`cell-${r}`)),e.jsx(jO,{dataKey:"percentage",content:t=>{const{x:r,y:n,width:s,value:a}=t;return e.jsxs("text",{x:r+s/2,y:n-10,fill:"#6B7280",textAnchor:"middle",fontSize:12,fontWeight:"600",children:[a,"%"]})}})]})]})})}),e.jsx("div",{className:"mt-4 lg:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4",children:t.map((t,r)=>e.jsxs("div",{className:"flex items-center group p-2 lg:p-3 rounded-lg hover:bg-blue-50 transition-all duration-200",children:[e.jsx("div",{className:"h-3 w-3 rounded-full mr-3 shadow-sm flex-shrink-0",style:{backgroundColor:t.color}}),e.jsxs("div",{className:"text-xs min-w-0 flex-1",children:[e.jsxs("div",{className:"font-bold text-gray-800 truncate",children:[t.percentage,"% - ",t.name]}),e.jsxs("div",{className:"text-gray-500 mt-0.5 font-medium truncate",children:[n(t.value)," MWK"]})]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 xl:p-7 w-full lg:w-1/3 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 lg:mb-5 gap-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-800 font-bold text-base lg:text-lg",children:"By Chart of Accounts"}),e.jsx("div",{className:"ml-2 text-xs px-2 py-1 bg-violet-50 text-violet-600 rounded-full font-medium",children:"This Month"})]}),e.jsxs("div",{className:"relative min-w-[140px]",children:[e.jsxs("select",{className:"w-full appearance-none bg-white border border-gray-200 rounded-lg px-3 py-2 pl-3 pr-8 text-gray-700 text-xs lg:text-sm font-medium focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent cursor-pointer hover:bg-gray-50 transition-colors duration-150 shadow-sm",children:[e.jsx("option",{children:"Chart of Accounts"}),e.jsx("option",{children:"By Type"}),e.jsx("option",{children:"By Category"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:e.jsx("svg",{className:"fill-current h-3 w-3 lg:h-4 lg:w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsx("div",{className:"text-gray-500 text-xs font-medium mb-1",children:"Total"}),e.jsxs("div",{className:"text-gray-800 font-bold text-xl lg:text-2xl mb-6 lg:mb-8 flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsxs("span",{children:[n(94220300)," MWK"]}),e.jsx("span",{className:"text-xs px-2 py-1 bg-amber-50 text-amber-600 rounded-full font-medium w-fit",children:"-1.2%"})]}),e.jsx("div",{className:"h-40 lg:h-48 flex justify-center mb-4",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(RU,{children:[e.jsx("defs",{children:r.map((t,r)=>e.jsxs("linearGradient",{id:`pieGradient-${r}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:t.color,stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:t.color,stopOpacity:.8})]},`pieGradient-${r}`))}),e.jsx(gR,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:65,paddingAngle:1,dataKey:"value",isAnimationActive:!1,strokeWidth:1,stroke:"#fff",children:r.map((t,r)=>e.jsx(Hk,{fill:`url(#pieGradient-${r})`},`cell-${r}`))}),e.jsx(Lk,{contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"none",padding:"8px 12px",fontSize:"12px",fontWeight:500},formatter:(e,t,r)=>[`${Math.round(e/94220300*100)}% - ${n(e)} MWK`,""]})]})})}),e.jsx("div",{className:"mt-4 lg:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3 lg:gap-4",children:r.map((t,r)=>e.jsxs("div",{className:"flex items-center group p-2 lg:p-3 rounded-lg hover:bg-violet-50 transition-all duration-200",children:[e.jsx("div",{className:"h-3 w-3 rounded-full mr-3 shadow-sm flex-shrink-0",style:{backgroundColor:t.color}}),e.jsxs("div",{className:"text-xs min-w-0 flex-1",children:[e.jsxs("div",{className:"font-bold text-gray-800 truncate",children:[t.percentage,"% - ",t.name]}),e.jsxs("div",{className:"text-gray-500 mt-0.5 font-medium truncate",children:[n(t.value)," MWK"]})]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 lg:p-6 xl:p-7 w-full lg:w-1/3 shadow-lg border border-gray-100 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4 lg:mb-5 gap-3",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-800 font-bold text-base lg:text-lg",children:"User Transactions"}),e.jsx("div",{className:"ml-2 text-xs px-2 py-1 bg-blue-50 text-blue-600 rounded-full font-medium",children:"Last 30 Days"})]})}),e.jsx("div",{className:"text-gray-500 text-xs font-medium mb-1",children:"Overall Transactions Amount"}),e.jsxs("div",{className:"text-gray-800 font-bold text-xl lg:text-2xl mb-6 lg:mb-8 flex flex-col sm:flex-row sm:items-center gap-2",children:[e.jsx("span",{children:"152"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-emerald-50 text-emerald-600 rounded-full font-medium w-fit",children:"+12.5%"})]}),e.jsx("div",{className:"h-44 lg:h-52",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(IU,{layout:"vertical",data:[{name:"Chisomo M.",value:72,color:"#4361EE"},{name:"Takondwa C.",value:44,color:"#4361EE"},{name:"Mayamiko N.",value:19,color:"#4361EE"},{name:"Chimwemwe B.",value:16,color:"#4361EE"},{name:"Other",value:11,color:"#4361EE"}],margin:{top:5,right:30,bottom:5,left:0},barSize:6,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"barGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[e.jsx("stop",{offset:"0%",stopColor:"#4361EE",stopOpacity:.8}),e.jsx("stop",{offset:"100%",stopColor:"#4361EE",stopOpacity:1})]})}),e.jsx(S$,{type:"number",domain:[0,288],axisLine:!1,tickLine:!1,tick:!1,hide:!0}),e.jsx(I$,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11,fontWeight:600},width:70}),e.jsx(dq,{horizontal:!0,vertical:!1,stroke:"#F1F5F9",strokeDasharray:"3 3"}),e.jsx(sF,{dataKey:"value",fill:"url(#barGradient)",isAnimationActive:!1,shape:e.jsx(s,{})}),e.jsx(Lk,{cursor:!1,contentStyle:{backgroundColor:"white",borderRadius:"8px",boxShadow:"0 4px 16px rgba(0,0,0,0.1)",border:"none",padding:"8px 12px",fontSize:"12px"},formatter:e=>[`${e}%`,""]})]})})}),e.jsx("div",{className:"flex justify-between text-xs text-gray-500 mt-6 lg:mt-8 px-1 font-medium",children:[0,18,36,72,144,288].map((t,r)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-1 w-1 bg-gray-300 rounded-full mb-1"}),e.jsx("span",{className:"text-[10px] lg:text-xs",children:t})]},r))}),e.jsxs("div",{className:"mt-4 lg:mt-6 flex flex-col sm:flex-row sm:justify-between gap-3",children:[e.jsxs("button",{className:"text-sm bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg font-medium flex items-center justify-center hover:bg-blue-100 transition-colors duration-150",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsx("span",{children:"Filter"})]}),e.jsxs("button",{className:"text-sm text-blue-600 font-medium flex items-center justify-center hover:text-blue-800 transition-colors duration-150",children:[e.jsx("span",{children:"View All Transactions"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]})})},YU="#141b2d",XU="rgba(145, 158, 171, 0.08)",JU="rgba(85, 105, 255, 0.16)",QU="#5569ff",ZU="rgba(85, 105, 255, 0.24)",eW="#e0e0e0",tW="rgba(224, 224, 224, 0.6)",rW="#90a0b7",nW="#5569ff",sW="rgba(145, 158, 171, 0.16)",aW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),e.jsx("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]}),iW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),oW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z"}),e.jsx("path",{d:"M6 12H4a2 2 0 0 0-2 2v8h20v-8a2 2 0 0 0-2-2h-2"}),e.jsx("path",{d:"M10 6h4"}),e.jsx("path",{d:"M10 10h4"}),e.jsx("path",{d:"M10 14h4"}),e.jsx("path",{d:"M10 18h4"})]}),lW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M2 3h6l2 12h10"}),e.jsx("path",{d:"M9 8h12l-1 8H10"}),e.jsx("circle",{cx:"9",cy:"19",r:"1"}),e.jsx("circle",{cx:"20",cy:"19",r:"1"}),e.jsx("path",{d:"M7 8L5.5 3H2"})]}),cW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),dW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("path",{d:"M14 2v6h6"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),uW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),mW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),e.jsx("path",{d:"M7 15h0M2 9.5h20"}),e.jsx("path",{d:"M12 15h5"})]}),hW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M15 11h.01M11 15h.01M16 16h.01M10 12h.01M3 7l2.5 3 4-5 2.5 3 3-4 2.5 3L20.5 5"}),e.jsx("path",{d:"M20 22h-2a2 2 0 0 1-2-2v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20h3a1 1 0 0 1 1 1v0a1 1 0 0 1-1 1ZM15.4 22H8.6c-.5 0-.9-.4-.9-.9V10.1c0-.5.4-.9.9-.9h6.8c.5 0 .9.4.9.9v10.9c0 .6-.4 1-.9 1Z"}),e.jsx("path",{d:"M4 22H2a1 1 0 0 1-1-1v0a1 1 0 0 1 1-1h3v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20a2 2 0 0 1-2 2Z"})]}),pW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("polyline",{points:"9 11 12 14 22 4"}),e.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]}),fW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"}),e.jsx("path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"}),e.jsx("circle",{cx:"7",cy:"18",r:"2"}),e.jsx("path",{d:"M15 18H9"}),e.jsx("circle",{cx:"17",cy:"18",r:"2"})]}),xW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"2",y:"5",width:"20",height:"14",rx:"2"}),e.jsx("line",{x1:"2",y1:"10",x2:"22",y2:"10"}),e.jsx("line",{x1:"7",y1:"15",x2:"7",y2:"15"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"15"}),e.jsx("line",{x1:"17",y1:"15",x2:"17",y2:"15"})]}),gW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.5 10-10 10Z"}),e.jsx("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"})]}),bW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]}),yW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"m4.93 10.93 2.83-2.83"}),e.jsx("path",{d:"M16.24 16.24 19.07 19.07"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"m10.93 4.93-2.83 2.83"}),e.jsx("path",{d:"M16.24 7.76 19.07 4.93"})]}),vW=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("path",{d:"M14 2v6h6"}),e.jsx("path",{d:"m9 15 2 2 4-4"}),e.jsx("path",{d:"M16 13h0"})]}),jW=le(ce)(({theme:e,ismobile:t})=>({color:eW,margin:"2px 8px",padding:"10px 12px",minHeight:44,borderRadius:"6px",transition:"all 0.15s ease-in-out","&.Mui-selected":{backgroundColor:JU,color:QU,"&:hover":{backgroundColor:ZU},"& .MuiListItemIcon-root":{color:QU},"& .MuiTypography-root":{fontWeight:500}},"&:hover":{backgroundColor:XU},[e.breakpoints.down("md")]:{padding:t?"12px 16px":"12px",minHeight:48,margin:"2px 6px",justifyContent:"flex-start !important"}})),wW=le(oe)(({theme:e,open:t})=>({color:tW,fontSize:"0.6875rem",fontWeight:500,textTransform:"uppercase",padding:t?"16px 20px 6px":"8px 0",letterSpacing:"0.6px",textAlign:t?"left":"center",opacity:t?1:0,height:t?"auto":0,marginBottom:t?"4px":0,transition:"opacity 0.2s ease, height 0.2s ease, margin 0.2s ease",[e.breakpoints.down("md")]:{fontSize:"0.75rem",padding:t?"12px 16px 4px":"6px 0",textAlign:"left",opacity:1,height:"auto"}})),NW=le(de,{shouldForwardProp:e=>"open"!==e&&"isMobile"!==e})(({theme:e,open:t,isMobile:r})=>({width:r?"auto":t?256:64,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",overflowX:"hidden","& .MuiDrawer-paper":{backgroundColor:YU,borderRight:"none",width:r?"280px":t?256:64,overflowX:"hidden",transition:e.transitions.create(["width","transform"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard}),...r&&{position:"fixed",height:"100%",zIndex:1300}}})),kW=le(ue)(({theme:e,selected:t,ismobile:r})=>({minWidth:r?40:0,marginRight:r||t?16:0,justifyContent:r?"flex-start":"center",color:t?nW:rW,transition:"color 0.15s ease, transform 0.2s ease","&:hover":{transform:"scale(1.05)"},[e.breakpoints.down("md")]:{marginRight:16,justifyContent:"flex-start",minWidth:40,"& svg":{width:20,height:20}}})),SW=le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"16px 8px 8px",backgroundColor:"transparent",minHeight:56,[e.breakpoints.down("md")]:{padding:"16px 20px 12px",minHeight:60,justifyContent:"space-between"}})),CW=le(ae)(({theme:e,open:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:t?"space-between":"center",transition:"all 0.3s ease",[e.breakpoints.down("md")]:{justifyContent:"space-between"}})),AW=le(me)(({theme:e})=>({color:tW,"&:hover":{backgroundColor:"transparent"},transition:"all 0.15s ease",padding:8,minWidth:40,minHeight:40,[e.breakpoints.down("md")]:{minWidth:36,minHeight:36}})),TW=le(he)(({theme:e})=>({"& .MuiBadge-badge":{right:-4,top:4,minWidth:16,height:16,fontSize:"0.6rem",fontWeight:600,padding:"0 4px",borderRadius:8,backgroundColor:"#ef4444",color:"white"},[e.breakpoints.down("md")]:{"& .MuiBadge-badge":{minWidth:14,height:14,fontSize:"0.55rem"}}})),EW=le("span")(({theme:e})=>({position:"absolute",top:6,right:6,width:6,height:6,borderRadius:"50%",backgroundColor:"#ef4444","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"pulse 2s infinite",backgroundColor:"rgba(239, 68, 68, 0.7)"},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(2)",opacity:0},"100%":{transform:"scale(2.5)",opacity:0}}})),_W=le(me)(({theme:e})=>({position:"fixed",top:12,left:12,zIndex:1200,backdropFilter:"blur(8px)",borderRadius:"8px",width:44,height:44,"&:hover":{backgroundColor:ie(YU,.95),transform:"scale(1.05)"},transition:"all 0.2s ease-in-out"})),PW=({stats:t=DW,activeSection:r,handleSectionChange:n,onSidebarToggle:s,user:a})=>{const i=pe();$r(),Wr();const o=fe(i.breakpoints.down("md")),[l,c]=qr.useState(!o),[d,u]=qr.useState(!1),[m,h]=qr.useState(""),[p,f]=qr.useState(!1);qr.useEffect(()=>{const e=localStorage.getItem("sidebarOpen");if(null!==e&&!o){const t=JSON.parse(e);c(t),s?.(t)}},[o,s]);const x=()=>{if(!p)if(f(!0),o)u(!d),setTimeout(()=>f(!1),300);else{const e=!l;c(e),localStorage.setItem("sidebarOpen",JSON.stringify(e)),s?.(e),window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{open:e}})),setTimeout(()=>f(!1),300)}},g=[{id:"main",label:"Main",items:[{id:"dashboard",label:"Dashboard",icon:e.jsx(aW,{}),badge:null},{id:"departments",label:"Departments",icon:e.jsx(oW,{})},{id:"employees",label:"Employees",icon:e.jsx(iW,{}),badge:t.employees?.counts?.pending||null},{id:"vendors",label:"Vendors",icon:e.jsx(lW,{}),badge:t.vendors?.counts?.open||null},{id:"requisitions",label:"Requisitions",icon:e.jsx(cW,{}),badge:t.requisitions?.counts?.pending||null},{id:"tenders",label:"Tenders",icon:e.jsx(vW,{}),badge:t.tenders?.counts?.open||null},{id:"rfqs",label:"RFQs",icon:e.jsx(dW,{}),badge:t.rfqs?.counts?.open||null},{id:"purchase-orders",label:"Purchase Orders",icon:e.jsx(uW,{}),badge:t.purchaseOrders?.counts?.pending||null},{id:"invoices",label:"Invoices",icon:e.jsx(mW,{}),badge:t.invoices?.counts?.pending||null}]},{id:"travel",label:"Travel Management",items:[{id:"travel-requests",label:"Travel Requests",icon:e.jsx(hW,{}),badge:null},{id:"final-approval",label:"Final Approval",icon:e.jsx(pW,{}),badge:null},{id:"fleet-management",label:"Fleet Management",icon:e.jsx(fW,{}),badge:null}]},{id:"finance",label:"Finance Processing",items:[{id:"invoice-payment",label:"Invoice Payment",icon:e.jsx(xW,{}),badge:null},{id:"finance-processing",label:"Processing",icon:e.jsx(xW,{}),badge:null},{id:"reconciliation",label:"Reconciliation",icon:e.jsx(gW,{}),badge:null},{id:"budget",label:"Budgeting",icon:e.jsx(mW,{}),badge:t.invoices?.counts?.pending||null},{id:"budgeting",label:"Budget Code",icon:e.jsx(mW,{}),badge:t.invoices?.counts?.pending||null}]},{id:"reports",label:"Reports",items:[{id:"analytics",label:"Analytics",icon:e.jsx(bW,{}),badge:null},{id:"reports",label:"Reports",icon:e.jsx(yW,{}),badge:null}]}],b=t=>{const s=r===t.id,a=m===t.id,i=e.jsxs(jW,{selected:s,onClick:()=>{return e=t.id,n(e),void(o&&setTimeout(()=>u(!1),150));var e},onMouseEnter:()=>h(t.id),onMouseLeave:()=>h(""),ismobile:o?1:0,sx:{justifyContent:l||o?"flex-start":"center",px:l||o?2:1,position:"relative",overflow:"hidden","&::after":s?{content:'""',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"3px",height:"50%",backgroundColor:QU,borderRadius:"0 3px 3px 0"}:{}},children:[e.jsx(kW,{selected:s,ismobile:o?1:0,sx:{marginRight:l||o?2:0,minWidth:l||o?40:"auto"},children:Ur.cloneElement(t.icon,{style:{transform:a&&!s?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),(l||o)&&e.jsxs(e.Fragment,{children:[e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",fontWeight:s?500:400,color:"inherit",transition:"font-weight 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:l||o?1:0,ml:.5}}),t.badge&&e.jsx(TW,{badgeContent:t.badge})]}),!l&&!o&&t.badge&&e.jsx(EW,{})]},t.id);return l||o?i:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(YU,.9),color:eW,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(sW,.5)}`}},arrow:{sx:{color:ie(YU,.9)}}},children:i},t.id)},y=e.jsxs(e.Fragment,{children:[e.jsx(SW,{children:e.jsxs(CW,{open:l||o,children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1,paddingLeft:o?0:"12px"},children:[e.jsx("img",{src:"/hrms-logo11.png",alt:"Company Logo",style:{height:o?"24px":"20px",width:o?"24px":"20px",objectFit:"contain"}}),(l||o)&&e.jsx(oe,{variant:"h6",sx:{color:eW,fontSize:"1.1rem",fontWeight:600,marginLeft:2,display:{xs:"block",md:l?"block":"none"}},children:"NEXUSMWI"})]}),e.jsx(AW,{onClick:x,disabled:p,"aria-label":o?"close menu":"toggle sidebar",sx:{"& img":{filter:"brightness(0) invert(1)"}},children:o?e.jsx(ks,{sx:{fontSize:20,color:eW}}):e.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"16px",height:"16px",objectFit:"contain"}})})]})}),e.jsx(ae,{sx:{overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 80px)","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:ie(tW,.3),borderRadius:2,"&:hover":{backgroundColor:ie(tW,.5)}},padding:"8px 0",WebkitOverflowScrolling:"touch"},children:g.map((t,r)=>((t,r)=>e.jsxs(Ur.Fragment,{children:[r>0&&(l||o)&&e.jsx(ge,{sx:{borderColor:sW,margin:"12px 16px 8px",opacity:.4}}),(l||o)&&e.jsx(wW,{open:l||o,children:t.label}),e.jsx(be,{disablePadding:!0,sx:{mb:l||o?1:0},children:t.items.map(e=>b(e))})]},t.id))(t,r))})]});return e.jsxs(e.Fragment,{children:[o&&!d&&e.jsx(_W,{color:"inherit","aria-label":"open drawer",onClick:x,edge:"start",disabled:p,children:e.jsx("img",{src:"/sidebar1.svg",alt:"Open sidebar",style:{width:"20px",height:"20px",objectFit:"contain"}})}),o?e.jsx(xe,{variant:"temporary",open:d,onClose:x,onOpen:()=>u(!0),disableBackdropTransition:!o,disableDiscovery:o,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:"280px",backgroundColor:YU,borderRight:"none",boxShadow:"2px 0 20px rgba(0, 0, 0, 0.3)"}},children:y}):e.jsx(NW,{variant:"permanent",open:l,isMobile:o,children:y})]})},DW={employees:{counts:{pending:0}},vendors:{counts:{open:0}},requisitions:{counts:{pending:0}},rfqs:{counts:{open:0}},purchaseOrders:{counts:{pending:0}},invoices:{counts:{pending:0}},tenders:{counts:{open:0}}};PW.propTypes={stats:ee.shape({employees:ee.object,vendors:ee.object,requisitions:ee.object,rfqs:ee.object,purchaseOrders:ee.object,invoices:ee.object,tenders:ee.object}),activeSection:ee.string.isRequired,handleSectionChange:ee.func.isRequired,onSidebarToggle:ee.func,user:ee.object};const OW=({user:t,notificationCount:r=3,onNotificationClick:i,onHelpClick:o,onAssistantClick:u,onPreferencesClick:m,onProfileClick:h,onSettingsClick:p,onSignOutClick:f,onMobileMenuToggle:g,scrollPosition:b=0,importantDates:y=[],sidebarOpen:j=!0,sidebarWidth:w=256,collapsedSidebarWidth:N=70})=>{const[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[T,E]=qr.useState(!1),[_,P]=qr.useState(new Date),[D,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(new Date),[F,B]=qr.useState(null),[q,$]=qr.useState(!0),U=$r(),[W]=Vr(),V=pe(),G=fe(V.breakpoints.down("md")),K=fe(V.breakpoints.down("sm")),[Y,X]=qr.useState(()=>W.get("section")||"dashboard");qr.useEffect(()=>{J()},[]);const J=async()=>{try{const e=localStorage.getItem("token");if(!e)return void $(!1);const t=await fetch("https://backend.nexusmwi.com/api/billing/subscription",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();B(e)}}catch(e){}finally{$(!1)}},Q=(()=>{if(!t||!F)return null;const e=F.subscription,r=F.trial;return e&&["active","trialing"].includes(e.status)&&"trial"!==e.plan?{type:"paid",plan:e.plan,status:e.status}:r&&r.isActive&&r.remainingDays>0?{type:"trial",remainingDays:r.remainingDays,endDate:r.endDate}:!e||"trial"!==e.plan||r&&r.isActive?{type:"free",message:"Free plan"}:{type:"expired",message:"Trial expired"}})();qr.useEffect(()=>{q||"expired"!==Q?.type||window.location.pathname.startsWith("/billing")||U("/billing",{state:{subscriptionExpired:!0,from:window.location.pathname}})},[Q,q,U]);const Z=Math.min(b/100,.95),ee=Math.min(b/10,20),te=(y.length>0?y:[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for Q2 IT equipment",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals",location:"Conference Room A",time:"10:00 AM",priority:"medium"}]).filter(e=>nn(e.date,new Date)&&sn(e.date,an(new Date,7))).sort((e,t)=>e.date-t.date);qr.useEffect(()=>{const e=()=>{A(!1),E(!1),S(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const re=e=>{switch(e){case"deadline":return"bg-red-100 text-red-700 border-red-200";case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"contract":return"bg-purple-100 text-purple-700 border-purple-200";case"review":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approval":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},ne=t=>{switch(t){case"deadline":return e.jsx(Ae,{size:14});case"meeting":return e.jsx(l,{size:14});case"contract":return e.jsx(c,{size:14});case"review":return e.jsx(d,{size:14});case"approval":return e.jsx(n,{size:14});default:return e.jsx(v,{size:14})}};qr.useEffect(()=>{const e=()=>{S(!1),A(!1),E(!1)},t=()=>{S(!1),A(!1),E(!1)};return window.addEventListener("resize",e),window.addEventListener("sidebarToggle",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarToggle",t)}},[j]);return e.jsxs(e.Fragment,{children:[e.jsxs(Rm.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 z-50 transition-all duration-300",style:{left:G?0:j?w:N,width:(()=>{if(G)return"100%";return`calc(100% - ${j?w:N}px)`})(),backgroundColor:`rgba(255, 255, 255, ${Z})`,backdropFilter:`blur(${ee}px)`,borderBottom:Z>.1?"1px solid rgba(229, 231, 235, 0.8)":"none"},children:[e.jsx("div",{className:"mx-auto "+(G?"px-2":"px-4 sm:px-6 lg:px-8"),children:e.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{S(!k),g?.(!k)},className:"md:hidden p-1.5 sm:p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 mobile-button",children:k?e.jsx(s,{size:18}):e.jsx(a,{size:18})}),!K&&e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>{e.stopPropagation(),E(!T)},className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-3 py-1.5 sm:py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-200 border border-blue-200 mobile-button",children:[e.jsx(v,{size:K?14:16}),e.jsx("span",{className:"text-xs sm:text-sm font-medium hidden xs:inline",children:on(new Date,"MMM d")}),e.jsx(je,{size:12,className:"transition-transform duration-200 "+(T?"rotate-180":"")})]}),e.jsx(Bl,{children:T&&e.jsxs(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:`absolute top-full left-0 mt-2 ${G?"w-[90vw] max-w-[320px]":"w-80"} bg-white rounded-xl shadow-xl border border-gray-200 z-50`,onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm sm:text-base",children:[e.jsx(v,{size:G?16:18}),"Calendar"]}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:on(new Date,"MMM yyyy")})]})}),e.jsxs("div",{className:"p-3 sm:p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2 text-sm",children:[e.jsx(l,{size:14,className:"text-blue-600"}),"Upcoming Events"]}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:te.length})]}),e.jsx("div",{className:"space-y-2 max-h-48 sm:max-h-64 overflow-y-auto custom-scrollbar",children:te.length>0?te.map((t,r)=>e.jsxs(Rm.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-start gap-2 p-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer",onClick:()=>{I(t),L(!0),E(!1)},children:[e.jsx("div",{className:`p-1 rounded-lg ${re(t.type)} flex-shrink-0`,children:ne(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-600",children:on(t.date,"MMM d")}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-600",children:t.time})]})]})]}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full flex-shrink-0 "+("high"===t.priority?"bg-red-100 text-red-700":"medium"===t.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:t.priority.charAt(0)})]},r)):e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx(v,{size:20,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-xs sm:text-sm",children:"No upcoming events"})]})})]}),e.jsx("div",{className:"p-2 sm:p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600 hidden xs:inline",children:"Deadline"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600 hidden xs:inline",children:"Meeting"})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"text-xs sm:text-sm text-gray-600 hover:text-gray-900 transition-colors duration-200",children:"Close"})]})})]})})]}),e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"relative p-1.5 sm:p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 mobile-button",children:[e.jsx(we,{size:18}),r>0&&e.jsx(Rm.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:r>9?"9+":r})]})]}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:(()=>{if(q)return e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 px-2 py-1 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg animate-pulse",children:e.jsx("div",{className:(K?"w-8":"w-16")+" h-4 bg-gray-600 rounded"})});if(!Q)return null;return e.jsx(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:(()=>{const e="flex items-center gap-1 backdrop-blur-sm rounded-lg border shadow-lg hover:shadow-xl transition-all duration-300 group cursor-pointer relative";switch(Q.type){case"paid":return`${e} px-2 py-1 bg-gray-800/90 border-gray-600/50 hover:shadow-green-500/20`;case"trial":default:return`${e} px-2 py-1 bg-gray-800/90 border-gray-600/50 hover:shadow-blue-500/20`;case"expired":return`${e} px-2 py-1 bg-red-600/90 border-red-700 hover:shadow-red-500/20`}})(),whileHover:{scale:1.02,backgroundColor:"expired"===Q.type?"rgba(220, 38, 38, 0.95)":"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:(()=>{if(K)switch(Q.type){case"paid":return e.jsxs(e.Fragment,{children:[e.jsx(Te,{size:12,className:"text-yellow-400"}),e.jsx("span",{className:"text-xs text-green-400 font-semibold",children:"Active"})]});case"trial":return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-blue-400 font-semibold",children:"Trial"}),e.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs px-1 rounded-full",children:Q.remainingDays})]});case"expired":return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white font-semibold",children:"Expired"})]});default:return e.jsx("span",{className:"text-xs text-blue-400 font-semibold",children:"Free"})}switch(Q.type){case"paid":return e.jsxs(e.Fragment,{children:[e.jsx(Te,{size:14,className:"text-yellow-400"}),e.jsxs("span",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",children:[Q.plan.charAt(0).toUpperCase()+Q.plan.slice(1)," plan"]}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx("span",{className:"text-sm font-semibold text-green-400 group-hover:text-green-300 transition-all duration-200",children:"Active"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-1"})]});case"trial":return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",children:"Free trial"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx("span",{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",children:"Upgrade"}),e.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:[Q.remainingDays,"d"]})]});case"expired":return e.jsxs(e.Fragment,{children:[e.jsx(Ce,{size:14,className:"text-white"}),e.jsx("span",{className:"text-sm font-medium text-white group-hover:text-white transition-colors duration-200",children:"Trial expired"}),e.jsx("span",{className:"text-white/50 mx-1",children:""}),e.jsx("span",{className:"text-sm font-semibold text-white group-hover:text-white transition-all duration-200",children:"Renew now"})]});default:return e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",children:"Free plan"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx("span",{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",children:"Upgrade"})]})}})()})})()}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-3",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:o,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 mobile-button",title:"Help Center",children:e.jsx(Ne,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:u,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200 mobile-button",title:"AI Assistant",children:e.jsx(H,{size:18})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>{e.stopPropagation(),A(!C)},className:"flex items-center gap-1 p-1 hover:bg-gray-100 rounded-lg transition-all duration-200 mobile-button",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-xs sm:text-sm",children:t?.firstName&&t?.lastName?`${t.firstName.charAt(0).toUpperCase()}${t.lastName.charAt(0).toUpperCase()}`:t?.firstName?t.firstName.charAt(0).toUpperCase():t?.lastName?t.lastName.charAt(0).toUpperCase():"G"}),e.jsx(je,{size:12,className:`transition-transform duration-200 ${C?"rotate-180":""} hidden sm:block`})]}),e.jsx(Bl,{children:C&&e.jsx(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:`absolute top-full right-0 mt-2 ${G?"w-48":"w-56"} bg-white rounded-lg shadow-xl border border-gray-200 z-50`,onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"p-2",children:[e.jsxs("div",{className:"px-3 py-2 border-b border-gray-100",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm truncate",children:t?.firstName&&t?.lastName?`${t.firstName} ${t.lastName}`:t?.firstName?t.firstName:t?.lastName?t.lastName:"Guest User"}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t?.email})]}),e.jsxs("button",{onClick:()=>{var e;h?.(),A(!1),X(e="user-profile"),U(`?section=${e}`,{replace:!0})},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm",children:[e.jsx(O,{size:16}),e.jsx("span",{children:"Profile"})]}),e.jsxs("button",{onClick:()=>{p?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm",children:[e.jsx(x,{size:16}),e.jsx("span",{children:"Settings"})]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:()=>{f?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200 text-sm",children:[e.jsx(ke,{size:16}),e.jsx("span",{children:"Sign Out"})]})]})})})]})]})]})}),e.jsx(Bl,{children:k&&e.jsx(Rm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"px-3 py-2 space-y-1",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm mobile-button",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"Help Center"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm mobile-button",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"AI Assistant"})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm mobile-button",children:[e.jsx(x,{size:18}),e.jsx("span",{children:"Preferences"})]})]})})})]}),e.jsx(Bl,{children:D&&M&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-2 sm:p-4",onClick:()=>L(!1),children:e.jsxs(Rm.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-4 sm:p-6 text-white "+("deadline"===M.type?"bg-gradient-to-r from-red-600 to-red-700":"meeting"===M.type?"bg-gradient-to-r from-blue-600 to-blue-700":"contract"===M.type?"bg-gradient-to-r from-purple-600 to-purple-700":"review"===M.type?"bg-gradient-to-r from-yellow-600 to-yellow-700":"approval"===M.type?"bg-gradient-to-r from-green-600 to-green-700":"bg-gradient-to-r from-gray-600 to-gray-700"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 rounded-full text-xs font-medium mb-2",children:M.type?.toUpperCase()}),e.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate",children:M.title}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[e.jsx(v,{size:14}),e.jsxs("span",{className:"text-xs sm:text-sm",children:[on(M.date,"EEE, MMM d, yyyy"),M.time&&`  ${M.time}`]})]})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors duration-200 flex-shrink-0 ml-2",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-4",children:[M.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Se,{size:16,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Location"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:M.location})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c,{size:16,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Description"}),e.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:M.description})]})]}),M.priority&&e.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 rounded-lg "+("high"===M.priority?"bg-red-50 border border-red-200":"medium"===M.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[e.jsx(Ce,{size:14,className:"high"===M.priority?"text-red-600":"medium"===M.priority?"text-yellow-600":"text-blue-600"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium "+("high"===M.priority?"text-red-700":"medium"===M.priority?"text-yellow-700":"text-blue-700"),children:"high"===M.priority?"High Priority":"medium"===M.priority?"Medium Priority":"Low Priority"})]})]}),e.jsxs("div",{className:"p-4 sm:p-6 pt-0 flex items-center justify-end gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200 text-sm mobile-button",children:"Close"}),e.jsx("button",{onClick:()=>L(!1),className:"px-3 sm:px-4 py-1.5 sm:py-2 text-white rounded-lg transition-all duration-200 text-sm mobile-button "+("deadline"===M.type?"bg-red-600 hover:bg-red-700":"meeting"===M.type?"bg-blue-600 hover:bg-blue-700":"contract"===M.type?"bg-purple-600 hover:bg-purple-700":"review"===M.type?"bg-yellow-600 hover:bg-yellow-700":"approval"===M.type?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:"View Details"})]})]})})}),e.jsx("div",{className:"h-14 sm:h-16"})]})},LW=()=>e.jsx("style",{jsx:!0,global:!0,children:"\n    /* Mobile-first responsive design */\n    @media (max-width: 640px) {\n      .mobile-button {\n        min-height: 44px;\n        min-width: 44px;\n      }\n      \n      .mobile-text {\n        font-size: 0.875rem;\n      }\n    }\n\n    @media (max-width: 480px) {\n      .mobile-optimized {\n        padding: 0.5rem;\n      }\n    }\n\n    /* Custom scrollbar for dropdown menus */\n    .custom-scrollbar::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-track {\n      background: #f1f5f9;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb {\n      background: #cbd5e1;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: #94a3b8;\n    }\n\n    /* Responsive breakpoint for extra small screens */\n    @media (min-width: 475px) {\n      .xs\\:inline {\n        display: inline !important;\n      }\n    }\n\n    /* Touch-friendly interactions */\n    @media (hover: none) and (pointer: coarse) {\n      .hover-effect:hover {\n        transform: none;\n      }\n    }\n\n    /* Reduced motion support */\n    @media (prefers-reduced-motion: reduce) {\n      .transition-all,\n      .transition-colors,\n      .transition-transform {\n        transition-duration: 0.01ms !important;\n      }\n      \n      .animate-pulse {\n        animation: none !important;\n      }\n    }\n\n    /* High contrast mode support */\n    @media (prefers-contrast: high) {\n      .border-gray-200 {\n        border-color: #000 !important;\n      }\n      \n      .text-gray-600 {\n        color: #000 !important;\n      }\n    }\n  "}),MW=({user:t,onMobileMenuToggle:r,scrollPosition:n,sidebarOpen:s=!0,sidebarWidth:a=256,collapsedSidebarWidth:i=70})=>{const o=pe(),l=fe(o.breakpoints.down("md")),c=fe(o.breakpoints.down("sm")),d=[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for the Q2 IT equipment procurement",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals and make selections",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Annual renewal of office supplies contract with OfficeMax",location:"Legal Department",priority:"medium"},{date:new Date(2025,4,24),title:"Quarterly Review",type:"review",description:"Financial review of procurement spending for Q1",location:"Executive Boardroom",time:"2:00 PM",priority:"high"},{date:new Date(2025,4,28),title:"Budget Approval",type:"approval",description:"Final approval for Q3 procurement budget",location:"Finance Department",priority:"high"},{date:new Date(2025,4,14),title:"Vendor Evaluation",type:"meeting",description:"Evaluate new potential suppliers for hardware components",location:"Meeting Room B",time:"11:30 AM",priority:"medium"},{date:new Date(2025,4,18),title:"Contract Draft Review",type:"contract",description:"Legal team review of new vendor contracts",location:"Legal Office",time:"9:00 AM",priority:"medium"},{date:new Date(2025,4,22),title:"Procurement Training",type:"meeting",description:"New system training for procurement team",location:"Training Center",time:"1:00 PM",priority:"low"}],[u,m]=qr.useState(d),h=$r(),[p]=Vr(),[f,x]=qr.useState(()=>p.get("section")||"dashboard"),[g,b]=qr.useState(3),y=qr.useCallback(()=>{l&&h("/notifications")},[l,h]),v=qr.useCallback(e=>{x(e),h(`?section=${e}`,{replace:!0}),l&&r?.(!1)},[h,l,r]),j=qr.useCallback(()=>{l&&h("/help-center")},[l,h]),w=qr.useCallback(()=>{l&&h("/ai-assistant")},[l,h]),N=qr.useCallback(()=>{l&&h("/preferences")},[l,h]),k=qr.useCallback(()=>{v("user-profile")},[v]),S=qr.useCallback(()=>{l?h("/settings"):v("settings")},[l,h,v]),C=qr.useCallback(()=>{l&&window.confirm("Are you sure you want to sign out?")},[l]);qr.useEffect(()=>{c&&g>9&&b(9)},[c,g]),qr.useEffect(()=>{(async()=>{try{const e=l?5:d.length,t=d.slice(0,e);m(t)}catch(e){m(d.slice(0,l?3:5))}})()},[l]);const A=qr.useCallback(e=>{r?.(e),document.body.style.overflow=e&&l?"hidden":""},[r,l]);return qr.useEffect(()=>()=>{document.body.style.overflow=""},[]),e.jsxs(e.Fragment,{children:[e.jsx(LW,{}),e.jsx(OW,{user:t,notificationCount:g,onNotificationClick:y,onHelpClick:j,onAssistantClick:w,onPreferencesClick:N,onProfileClick:k,onSettingsClick:S,onSignOutClick:C,onMobileMenuToggle:A,scrollPosition:n,importantDates:u,sidebarOpen:s,sidebarWidth:a,collapsedSidebarWidth:i})]})},IW="https://backend.nexusmwi.com",RW=()=>{const e=localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},zW=()=>{const e=localStorage.getItem("token");return{...e&&{Authorization:`Bearer ${e}`}}},FW=async()=>{const e=await fetch(`${IW}/api/auth/payment-methods`,{method:"GET",headers:RW()});if(!e.ok)throw new Error("Failed to fetch payment methods");return e.json()},BW=async e=>{const t=await fetch(`${IW}/api/auth/payment-methods`,{method:"POST",headers:RW(),body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to add payment method")}return t.json()},qW=async e=>{const t=await fetch(`${IW}/api/auth/payment-methods/${e}`,{method:"DELETE",headers:RW()});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to delete payment method")}return t.json()},$W=async()=>{const e=await fetch(`${IW}/api/auth/profile`,{method:"GET",headers:RW()});if(!e.ok)throw new Error("Failed to fetch profile");return e.json()},UW=async e=>{const t=await fetch(`${IW}/api/auth/profile`,{method:"PUT",headers:RW(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update profile");return t.json()},WW=async e=>{const t=await fetch(`${IW}/api/auth/security`,{method:"PUT",headers:RW(),body:JSON.stringify(e)});if(!t.ok)throw new Error("Failed to update security settings");return t.json()},VW=async e=>{const t=await fetch(`${IW}/api/auth/change-password`,{method:"PUT",headers:RW(),body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to change password")}return t.json()},HW=async()=>{const e=await fetch(`${IW}/api/auth/stats`,{method:"GET",headers:RW()});if(!e.ok)throw new Error("Failed to fetch user statistics");return e.json()},GW=async e=>{const t=new FormData;t.append("avatar",e);const r=await fetch(`${IW}/api/auth/upload-avatar`,{method:"POST",headers:zW(),body:t});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to upload avatar")}return r.json()};function KW(){const{user:t,logout:a}=An();$r();const i=qr.useRef(null),[l,c]=qr.useState({firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||"",phone:t?.phone||"",address:t?.address||"",city:t?.city||"",state:t?.state||"",zipCode:t?.zipCode||"",country:t?.country||"",company:t?.company||"",jobTitle:t?.jobTitle||"",bio:t?.bio||"",website:t?.website||"",linkedin:t?.linkedin||"",twitter:t?.twitter||"",avatar:t?.avatar||null}),[p,f]=qr.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:t?.twoFactorEnabled||!1,loginNotifications:t?.loginNotifications||!0,activityNotifications:t?.activityNotifications||!0}),[x,b]=qr.useState([{id:1,type:"visa",lastFour:"4242",expiryMonth:"12",expiryYear:"2025",cardHolder:"John Banda",isDefault:!0,nickname:"Business Card"},{id:2,type:"mastercard",lastFour:"8888",expiryMonth:"06",expiryYear:"2026",cardHolder:"John Banda",isDefault:!1,nickname:"Personal Card"}]),[y,v]=qr.useState("profile"),[j,w]=qr.useState(!1),[S,C]=qr.useState(!1),[A,P]=qr.useState(!1),[M,I]=qr.useState(!1),[R,z]=qr.useState(!1),[F,q]=qr.useState({show:!1,message:"",type:"success"}),[$,W]=qr.useState(!1),[V,H]=qr.useState({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:""}),[G,K]=qr.useState(!1),[Y,X]=qr.useState({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:"",isDefault:!1}),[J,Q]=qr.useState({totalTransactions:247,totalSpent:125420,averageTransactionValue:508,accountAge:18,completedProjects:32,successRate:98.5,currentStreak:45,achievementPoints:2840}),Z="https://backend.nexusmwi.com",ee=(e,t="success")=>{q({show:!0,message:e,type:t}),setTimeout(()=>q({show:!1,message:"",type:"success"}),5e3)},te=e=>{const{name:t,value:r}=e.target;X(e=>({...e,[t]:r}))},ne=async(e,t)=>{try{const r={[e]:t};(await WW(r)).success&&(f(r=>({...r,[e]:t})),ee("Settings updated successfully!"))}catch(r){ee(r.message||"Failed to update settings","error")}},se=async()=>{try{const e=await FW();e.success&&b(e.paymentMethods)}catch(e){ee("Failed to load payment methods","error")}};qr.useEffect(()=>{(async()=>{try{const e=await $W();if(e.success){const t=e.user,r={firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||t.phoneNumber||"",address:t.address||"",city:t.city||"",state:t.state||"",zipCode:t.zipCode||"",country:t.country||"",company:t.company||t.companyName||"",jobTitle:t.jobTitle||"",bio:t.bio||"",website:t.website||"",linkedin:t.linkedin||"",twitter:t.twitter||"",avatar:t.avatar?`${Z.replace("/api","")}${t.avatar}`:null};c(r),f(e=>({...e,twoFactorEnabled:t.twoFactorEnabled||!1,loginNotifications:t.loginNotifications||!0,activityNotifications:t.activityNotifications||!0}))}}catch(e){ee("Failed to load profile data","error")}})(),(async()=>{try{const e=await HW();e.success&&Q(e.stats)}catch(e){}})(),se()},[]),qr.useEffect(()=>{},[]);const ae=[{id:"profile",label:"Profile",icon:O},{id:"security",label:"Security",icon:u},{id:"payments",label:"Payment Methods",icon:N},{id:"notifications",label:"Notifications",icon:we},{id:"analytics",label:"Analytics",icon:k}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 shadow-xl sticky top-24",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg overflow-hidden",children:l.avatar&&!$?e.jsx("img",{src:l.avatar,alt:"Avatar",className:"w-full h-full object-cover",onError:e=>{c(e=>({...e,avatar:null}))}}):e.jsx("span",{children:`${l.firstName?.[0]||"U"}${l.lastName?.[0]||"S"}`})}),j&&e.jsx("button",{onClick:()=>i.current?.click(),className:"absolute -bottom-1 -right-1 p-2 bg-white rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200",children:e.jsx(Ee,{size:14,className:"text-gray-600"})}),e.jsx("input",{ref:i,type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(!t)return;if(t.size>2097152)return void ee("File size must be less than 2MB","error");if(["image/jpeg","image/png","image/gif","image/webp"].includes(t.type))try{C(!0);const e=await GW(t);if(e.success){const t=`${Z.replace("/api","")}${e.data.avatarUrl}`;c(e=>({...e,avatar:t})),W(!1),ee("Avatar uploaded successfully!")}}catch(r){ee(r.message||"Failed to upload avatar","error")}finally{C(!1)}else ee("Please upload a valid image file (JPEG, PNG, GIF, WebP)","error")}})]}),e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mt-4",children:[l.firstName," ",l.lastName]})]}),e.jsx("div",{className:"mt-6 space-y-2",children:ae.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>v(t.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 "+(y===t.id?"bg-purple-50 text-purple-700 border border-purple-200":"text-gray-600 hover:bg-gray-50 border border-transparent"),children:[e.jsx(r,{size:18}),e.jsx("span",{className:"font-medium",children:t.label})]},t.id)})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:["profile"===y&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Update your personal details and contact information"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("button",{onClick:()=>w(!j),className:"px-4 py-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[e.jsx(_e,{size:16}),j?"Cancel":"Edit Profile"]})}),j&&e.jsx("button",{onClick:async()=>{C(!0);try{const e=await UW(l);e.success&&(ee("Profile updated successfully!"),w(!1),c(t=>({...t,...e.user})))}catch(e){ee(e.message||"Failed to update profile","error")}finally{C(!1)}},disabled:S,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:transform-none flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:16}),"Save Changes"]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:l.firstName,onChange:e=>c(t=>({...t,firstName:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:l.lastName,onChange:e=>c(t=>({...t,lastName:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("input",{type:"email",value:l.email,onChange:e=>c(t=>({...t,email:e.target.value})),disabled:!j,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("input",{type:"tel",value:l.phone,onChange:e=>c(t=>({...t,phone:e.target.value})),disabled:!j,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Job Title"}),e.jsx("input",{type:"text",value:l.jobTitle,onChange:e=>c(t=>({...t,jobTitle:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",value:l.company,onChange:e=>c(t=>({...t,company:e.target.value})),disabled:!j,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("input",{type:"text",value:l.address,onChange:e=>c(t=>({...t,address:e.target.value})),disabled:!j,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:l.city,onChange:e=>c(t=>({...t,city:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),e.jsx("input",{type:"text",value:l.state,onChange:e=>c(t=>({...t,state:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",value:l.zipCode,onChange:e=>c(t=>({...t,zipCode:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",value:l.country,onChange:e=>c(t=>({...t,country:e.target.value})),disabled:!j,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("input",{type:"url",value:l.website,onChange:e=>c(t=>({...t,website:e.target.value})),disabled:!j,placeholder:"https://your-website.com",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),e.jsx("textarea",{value:l.bio,onChange:e=>c(t=>({...t,bio:e.target.value})),disabled:!j,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500 resize-none"})]})]})]})]}),"security"===y&&e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account security and privacy settings"})]})}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(U,{size:20}),"Password"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Last changed 3 months ago"})]}),e.jsx("button",{onClick:()=>P(!A),className:"px-4 py-2 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-colors duration-200 font-medium border border-purple-200",children:"Change Password"})]}),e.jsx(Bl,{children:A&&e.jsxs(Rm.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"grid md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-100",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:R?"text":"password",value:p.currentPassword,onChange:e=>f(t=>({...t,currentPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"}),e.jsx("button",{type:"button",onClick:()=>z(!R),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:R?e.jsx(E,{size:18}):e.jsx(_,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:R?"text":"password",value:p.newPassword,onChange:e=>f(t=>({...t,newPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),e.jsx("input",{type:R?"text":"password",value:p.confirmPassword,onChange:e=>f(t=>({...t,confirmPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"})]}),e.jsxs("div",{className:"md:col-span-3 flex justify-end gap-3 pt-4",children:[e.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(p.newPassword===p.confirmPassword)if(p.newPassword.length<8)ee("Password must be at least 8 characters long","error");else{C(!0);try{(await VW({currentPassword:p.currentPassword,newPassword:p.newPassword})).success&&(ee("Password changed successfully!"),P(!1),f(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""})))}catch(e){ee(e.message||"Failed to change password","error")}finally{C(!1)}}else ee("Passwords don't match","error")},disabled:S,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Updating..."]}):"Update Password"})]})]})})]}),e.jsx("div",{className:"border border-gray-200 rounded-2xl p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Oe,{size:20}),"Two-Factor Authentication"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Add an extra layer of security to your account"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.twoFactorEnabled,onChange:e=>{return t=e.target.checked,void ne("twoFactorEnabled",t);var t},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[e.jsx(o,{size:20}),"Active Sessions"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(n,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-green-900",children:"Current Session"}),e.jsx("div",{className:"text-sm text-green-700",children:"Chrome on MacOS  New York, US"})]})]}),e.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Active Now"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-400 rounded-full flex items-center justify-center",children:e.jsx(B,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Mobile App"}),e.jsx("div",{className:"text-sm text-gray-600",children:"iPhone  2 hours ago"})]})]}),e.jsx("button",{className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})]})]})]})]})]}),"payments"===y&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Methods"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your saved payment methods for quick checkout"})]}),e.jsxs("button",{onClick:()=>K(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[e.jsx(Le,{size:16}),"Add New Card"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[x.map(t=>{return e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 text-white shadow-xl border border-gray-700",children:[t.isDefault&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Default"})}),e.jsx("div",{className:"flex justify-between items-start mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[(r=t.type,{visa:e.jsx("div",{className:"text-blue-600 font-bold text-xs",children:"VISA"}),mastercard:e.jsx("div",{className:"text-red-600 font-bold text-xs",children:"MC"}),amex:e.jsx("div",{className:"text-green-600 font-bold text-xs",children:"AMEX"})}[r]||e.jsx(N,{size:16,className:"text-gray-400"})),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold",children:t.nickname}),e.jsx("div",{className:"text-gray-300 text-sm",children:t.type.toUpperCase()})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"text-2xl font-mono tracking-wider mb-2",children:["   ",t.lastFour]}),e.jsx("div",{className:"text-gray-300 text-sm",children:t.cardHolder})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-300",children:["Expires ",t.expiryMonth,"/",t.expiryYear]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors duration-200",children:e.jsx(_e,{size:16})}),e.jsx("button",{onClick:()=>(async e=>{try{(await qW(e)).success&&(await se(),ee("Payment method deleted successfully!"))}catch(t){ee(t.message||"Failed to delete payment method","error")}})(t.id),className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors duration-200",children:e.jsx(Me,{size:16})})]})]})]},t.id);var r}),0===x.length&&e.jsxs("div",{className:"md:col-span-2 flex flex-col items-center justify-center py-16 text-gray-500",children:[e.jsx(N,{size:48,className:"mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No payment methods yet"}),e.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Add your first payment method to get started with quick and secure checkout"}),e.jsxs("button",{onClick:()=>I(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[e.jsx(Le,{size:16}),"Add Your First Card"]})]})]})]}),"notifications"===y&&e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choose how you want to be notified about important events"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Notifications"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Login Notifications"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Get notified when someone logs into your account"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.loginNotifications,onChange:e=>{return t=e.target.checked,void ne("loginNotifications",t);var t},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Account Activity"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Get notified about important account changes"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p.activityNotifications,onChange:e=>{return t=e.target.checked,void ne("activityNotifications",t);var t},className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Marketing Emails"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Receive updates about new features and promotions"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Weekly Summary"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Get a weekly summary of your account activity"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})]})]}),"analytics"===y&&e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Analytics"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View your account performance and usage statistics"})]}),e.jsxs("button",{className:"px-4 py-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[e.jsx(Ie,{size:16}),"Export Report"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(m,{size:24}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:(ie=J.totalSpent,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(ie))}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Total Spent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(d,{size:16}),e.jsx("span",{className:"text-sm",children:"+12.5% from last month"})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(o,{size:24}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:J.totalTransactions}),e.jsx("div",{className:"text-green-100 text-sm",children:"Transactions"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-green-100",children:[e.jsx(d,{size:16}),e.jsx("span",{className:"text-sm",children:"+8.2% from last month"})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(g,{size:24}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[J.successRate,"%"]}),e.jsx("div",{className:"text-purple-100 text-sm",children:"Success Rate"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-purple-100",children:[e.jsx(d,{size:16}),e.jsx("span",{className:"text-sm",children:"+2.1% from last month"})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(h,{size:24}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:J.currentStreak}),e.jsx("div",{className:"text-orange-100 text-sm",children:"Day Streak"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-orange-100",children:[e.jsx(r,{size:16}),e.jsx("span",{className:"text-sm",children:"Personal best!"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(re,{size:20}),"Spending by Category"]}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(k,{size:40,className:"mx-auto mb-2"}),e.jsx("p",{children:"Chart visualization would be here"})]})})]}),e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(o,{size:20}),"Monthly Activity"]}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-xl flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(d,{size:40,className:"mx-auto mb-2"}),e.jsx("p",{children:"Activity chart would be here"})]})})]})]})]})]},y)})]}),e.jsx(Bl,{children:G&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>K(!1),children:e.jsxs(Rm.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),e.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),e.jsx("input",{type:"text",name:"cardNumber",value:Y.cardNumber,onChange:e=>{const{value:t}=e.target,r=t.replace(/\D/g,"").replace(/(\d{4})/g,"$1 ").trim().substring(0,19);X(e=>({...e,cardNumber:r}))},placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),e.jsx("input",{type:"text",name:"expiryDate",value:Y.expiryDate,onChange:e=>{const{value:t}=e.target,r=t.replace(/\D/g,"").replace(/^(\d{2})/,"$1/").substring(0,5);X(e=>({...e,expiryDate:r}))},placeholder:"MM/YY",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),e.jsx("input",{type:"text",name:"cvv",value:Y.cvv,onChange:te,placeholder:"123",maxLength:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),e.jsx("input",{type:"text",name:"cardHolder",value:Y.cardHolder,onChange:te,placeholder:"JOHN BANDA",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 uppercase"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Nickname"}),e.jsx("input",{type:"text",name:"nickname",value:Y.nickname,onChange:te,placeholder:"Personal Card",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"defaultCard",name:"isDefault",checked:Y.isDefault,onChange:e=>X(t=>({...t,isDefault:e.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"defaultCard",className:"ml-2 block text-sm text-gray-700",children:"Set as default payment method"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>K(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"}),e.jsx("button",{onClick:async()=>{try{if(!(Y.cardNumber&&Y.expiryDate&&Y.cvv&&Y.cardHolder))return void ee("Please fill in all required fields","error");if(!/^\d{2}\/\d{2}$/.test(Y.expiryDate))return void ee("Please enter a valid expiry date (MM/YY)","error");C(!0);const e=Y.cardNumber.replace(/\s/g,"").slice(-4),[t,r]=Y.expiryDate.split("/"),n=(e=>{const t=e.replace(/\s/g,"");return/^4/.test(t)?"visa":/^5[1-5]/.test(t)?"mastercard":/^3[47]/.test(t)?"amex":"visa"})(Y.cardNumber),s={cardNumber:Y.cardNumber.replace(/\s/g,""),expiryDate:Y.expiryDate,cvv:Y.cvv,cardHolder:Y.cardHolder,nickname:Y.nickname||`${n} ending in ${e}`,isDefault:Y.isDefault};(await BW(s)).success&&(ee("Payment method added successfully!"),K(!1),X({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:"",isDefault:!1}),await se())}catch(e){ee(e.message||"Failed to add payment method","error")}finally{C(!1)}},disabled:S,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Adding..."]}):"Add Card"})]})]})})})]}),e.jsx(Bl,{children:F.show&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border backdrop-blur-sm "+("success"===F.type?"bg-green-50/90 text-green-800 border-green-200":"bg-red-50/90 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===F.type?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(n,{size:16,className:"text-white"})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(T,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-medium",children:F.message}),e.jsx("button",{onClick:()=>q({show:!1,message:"",type:"success"}),className:"ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(s,{size:18})})]})})})})]});var ie}var YW={version:"0.18.5"},XW=1252,JW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],QW={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},ZW=function(e){-1!=JW.indexOf(e)&&(XW=QW[0]=e)};var eV=function(e){ZW(e)};function tV(){eV(1200),ZW(1252)}function rV(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function nV(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var sV,aV=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return 255==t&&254==r?function(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}(e.slice(2)):254==t&&255==r?nV(e.slice(2)):65279==t?e.slice(1):e},iV=function(e){return String.fromCharCode(e)},oV=function(e){return String.fromCharCode(e)},lV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cV(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0,l=0,c=0;c<e.length;)a=(r=e.charCodeAt(c++))>>2,i=(3&r)<<4|(n=e.charCodeAt(c++))>>4,o=(15&n)<<2|(s=e.charCodeAt(c++))>>6,l=63&s,isNaN(n)?o=l=64:isNaN(s)&&(l=64),t+=lV.charAt(a)+lV.charAt(i)+lV.charAt(o)+lV.charAt(l);return t}function dV(e){var t="",r=0,n=0,s=0,a=0,i=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)r=lV.indexOf(e.charAt(l++))<<2|(a=lV.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(r),n=(15&a)<<4|(i=lV.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(n)),s=(3&i)<<6|(o=lV.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(s));return t}var uV=function(){return void 0!==rn&&void 0!==Fr&&void 0!==Fr.versions&&!!Fr.versions.node}(),mV=function(){if(void 0!==rn){var e=!rn.from;if(!e)try{rn.from("foo","utf8")}catch(t){e=!0}return e?function(e,t){return t?new rn(e,t):new rn(e)}:rn.from.bind(rn)}return function(){}}();function hV(e){return uV?rn.alloc?rn.alloc(e):new rn(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function pV(e){return uV?rn.allocUnsafe?rn.allocUnsafe(e):new rn(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var fV=function(e){return uV?mV(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function xV(e){if("undefined"==typeof ArrayBuffer)return fV(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=255&e.charCodeAt(n);return t}function gV(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function bV(e){if("undefined"==typeof ArrayBuffer)throw new Error("Unsupported");if(e instanceof ArrayBuffer)return bV(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var yV=uV?function(e){return rn.concat(e.map(function(e){return rn.isBuffer(e)?e:mV(e)}))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),s=0;for(t=0,r=0;t<e.length;r+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if("string"==typeof e[t])throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var vV=/\u0000/g,jV=/[\u0001-\u0006]/g;function wV(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function NV(e,t){var r=""+e;return r.length>=t?r:IH("0",t-r.length)+r}function kV(e,t){var r=""+e;return r.length>=t?r:IH(" ",t-r.length)+r}function SV(e,t){var r=""+e;return r.length>=t?r:r+IH(" ",t-r.length)}var CV=Math.pow(2,32);function AV(e,t){return e>CV||e<-CV?function(e,t){var r=""+Math.round(e);return r.length>=t?r:IH("0",t-r.length)+r}(e,t):function(e,t){var r=""+e;return r.length>=t?r:IH("0",t-r.length)+r}(Math.round(e),t)}function TV(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var EV=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],_V=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var PV={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},DV={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},OV={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function LV(e,t,r){for(var n=e<0?-1:1,s=e*n,a=0,i=1,o=0,l=1,c=0,d=0,u=Math.floor(s);c<t&&(o=(u=Math.floor(s))*i+a,d=u*c+l,!(s-u<5e-8));)s=1/(s-u),a=i,i=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=a):(d=c,o=i)),!r)return[0,n*o,d];var m=Math.floor(n*o/d);return[m,n*o-m*d,d]}function MV(e,t,r){if(e>2958465||e<0)return null;var n=0|e,s=Math.floor(86400*(e-n)),a=0,i=[],o={D:n,T:s,u:86400*(e-n)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,86400==++s&&(o.T=s=0,++n,++o.D)),60===n)i=r?[1317,10,29]:[1900,2,29],a=3;else if(0===n)i=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=function(e,t){t[0]-=581;var r=e.getDay();e<60&&(r=(r+6)%7);return r}(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var IV=new Date(1899,11,31,0,0,0),RV=IV.getTime(),zV=new Date(1900,2,1,0,0,0);function FV(e,t){var r=e.getTime();return t?r-=1262304e5:e>=zV&&(r+=864e5),(r-(RV+6e4*(e.getTimezoneOffset()-IV.getTimezoneOffset())))/864e5}function BV(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function qV(e){var t,r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=r>=-4&&r<=-1?e.toPrecision(10+r):Math.abs(r)<=9?function(e){var t=e<0?12:11,r=BV(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10)).length<=t?r:e.toExponential(5)}(e):10===r?e.toFixed(10).substr(0,12):function(e){var t=BV(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),BV(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function $V(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):qV(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return cH(14,FV(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function UV(e,t,r,n){var s,a="",i=0,o=0,l=r.y,c=0;switch(e){case 98:l=r.y+543;case 121:switch(t.length){case 1:case 2:s=l%100,c=2;break;default:s=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:s=r.m,c=t.length;break;case 3:return _V[r.m-1][1];case 5:return _V[r.m-1][0];default:return _V[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=r.d,c=t.length;break;case 3:return EV[r.q][0];default:return EV[r.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==r.u||"s"!=t&&"ss"!=t?(o=n>=2?3===n?1e3:100:1===n?10:1,(i=Math.round(o*(r.S+r.u)))>=60*o&&(i=0),"s"===t?0===i?"0":""+i/o:(a=NV(i,2+n),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):NV(r.S,t.length);case 90:switch(t){case"[h]":case"[hh]":s=24*r.D+r.H;break;case"[m]":case"[mm]":s=60*(24*r.D+r.H)+r.M;break;case"[s]":case"[ss]":s=60*(60*(24*r.D+r.H)+r.M)+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:s=l,c=1}return c>0?NV(s,c):""}function WV(e){if(e.length<=3)return e;for(var t=e.length%3,r=e.substr(0,t);t!=e.length;t+=3)r+=(r.length>0?",":"")+e.substr(t,3);return r}var VV=/%/g;function HV(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+HV(e,-t);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),-1===(r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a);"0."===r.substr(0,2);)r=(r=r.charAt(0)+r.substr(2,s)+"."+r.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(s+a)%s)+"."+n.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var GV=/# (\?+)( ?)\/( ?)(\d+)/;var KV=/^#*0*\.([0#]+)/,YV=/\).*[0#]/,XV=/\(###\) ###\\?-####/;function JV(e){for(var t,r="",n=0;n!=e.length;++n)switch(t=e.charCodeAt(n)){case 35:break;case 63:r+=" ";break;case 48:r+="0";break;default:r+=String.fromCharCode(t)}return r}function QV(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ZV(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function eH(e,t,r){if(40===e.charCodeAt(0)&&!t.match(YV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eH("n",n,r):"("+eH("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return nH(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(VV,""),s=t.length-n.length;return nH(e,n,r*Math.pow(10,2*s))+IH("%",s)}(e,t,r);if(-1!==t.indexOf("E"))return HV(t,r);if(36===t.charCodeAt(0))return"$"+eH(e,t.substr(" "==t.charAt(1)?2:1),r);var s,a,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+AV(l,t.length);if(t.match(/^[#?]+$/))return"0"===(s=AV(r,0))&&(s=""),s.length>t.length?s:JV(t.substr(0,t.length-s.length))+s;if(a=t.match(GV))return function(e,t,r){var n=parseInt(e[4],10),s=Math.round(t*n),a=Math.floor(s/n),i=s-a*n,o=n;return r+(0===a?"":""+a)+" "+(0===i?IH(" ",e[1].length+1+e[4].length):kV(i,e[1].length)+e[2]+"/"+e[3]+NV(o,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+AV(l,t.length-t.indexOf("0"));if(a=t.match(KV))return s=QV(r,a[1].length).replace(/^([^\.]+)$/,"$1."+JV(a[1])).replace(/\.$/,"."+JV(a[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+IH("0",JV(a[1]).length-t.length)}),-1!==t.indexOf("0.")?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+QV(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+WV(AV(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eH(e,t,-r):WV(""+(Math.floor(r)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(r,a[1].length)))+"."+NV(ZV(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return eH(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=wV(eH(e,t.replace(/[\\-]/g,""),r)),i=0,wV(wV(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<s.length?s.charAt(i++):"0"===e?"0":""}));if(t.match(XV))return"("+(s=eH(e,"##########",r)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=LV(l,Math.pow(10,i)-1,!1),s=""+c," "==(d=nH("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],(d=SV(o[2],i)).length<a[4].length&&(d=JV(a[4].substr(a[4].length-d.length))+d),s+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=LV(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?kV(o[1],i)+a[2]+"/"+a[3]+SV(o[2],i):IH(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=AV(r,0),t.length<=s.length?s:JV(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var u=t.indexOf(".")-i,m=t.length-s.length-u;return JV(t.substr(0,u)+s+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=ZV(r,a[1].length),r<0?"-"+eH(e,t,-r):WV(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?NV(0,3-e.length):"")+e})+"."+NV(i,a[1].length);switch(t){case"###,##0.00":return eH(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=WV(AV(l,0));return"0"!==h?c+h:"";case"###,###.00":return eH(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return eH(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function tH(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+tH(e,-t);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),!(r=(t/Math.pow(10,a)).toPrecision(n+1+(s+a)%s)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===r.indexOf(".")?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+a):r+="E+"+(i-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,r,n){return t+r+n.substr(0,(s+a)%s)+"."+n.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function rH(e,t,r){if(40===e.charCodeAt(0)&&!t.match(YV)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?rH("n",n,r):"("+rH("n",n,-r)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,r){for(var n=t.length-1;44===t.charCodeAt(n-1);)--n;return nH(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}(e,t,r);if(-1!==t.indexOf("%"))return function(e,t,r){var n=t.replace(VV,""),s=t.length-n.length;return nH(e,n,r*Math.pow(10,2*s))+IH("%",s)}(e,t,r);if(-1!==t.indexOf("E"))return tH(t,r);if(36===t.charCodeAt(0))return"$"+rH(e,t.substr(" "==t.charAt(1)?2:1),r);var s,a,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+NV(l,t.length);if(t.match(/^[#?]+$/))return s=""+r,0===r&&(s=""),s.length>t.length?s:JV(t.substr(0,t.length-s.length))+s;if(a=t.match(GV))return function(e,t,r){return r+(0===t?"":""+t)+IH(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+NV(l,t.length-t.indexOf("0"));if(a=t.match(KV))return s=(s=(""+r).replace(/^([^\.]+)$/,"$1."+JV(a[1])).replace(/\.$/,"."+JV(a[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+IH("0",JV(a[1]).length-t.length)}),-1!==t.indexOf("0.")?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+WV(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+rH(e,t,-r):WV(""+r)+"."+IH("0",a[1].length);if(a=t.match(/^#,#*,#0/))return rH(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=wV(rH(e,t.replace(/[\\-]/g,""),r)),i=0,wV(wV(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<s.length?s.charAt(i++):"0"===e?"0":""}));if(t.match(XV))return"("+(s=rH(e,"##########",r)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=LV(l,Math.pow(10,i)-1,!1),s=""+c," "==(d=nH("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],(d=SV(o[2],i)).length<a[4].length&&(d=JV(a[4].substr(a[4].length-d.length))+d),s+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=LV(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?kV(o[1],i)+a[2]+"/"+a[3]+SV(o[2],i):IH(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+r,t.length<=s.length?s:JV(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var u=t.indexOf(".")-i,m=t.length-s.length-u;return JV(t.substr(0,u)+s+t.substr(t.length-m))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+rH(e,t,-r):WV(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?NV(0,3-e.length):"")+e})+"."+NV(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=WV(""+l);return"0"!==h?c+h:"";default:if(t.match(/\.[0#?]*$/))return rH(e,t.slice(0,t.lastIndexOf(".")),r)+JV(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function nH(e,t,r){return(0|r)===r?rH(e,t,r):eH(e,t,r)}var sH=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function aH(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":TV(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(n=r;"]"!==e.charAt(t++)&&t<e.length;)n+=e.charAt(t);if(n.match(sH))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||"\\"==r&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var iH=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function oH(e,t){if(null==t)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0}return!1}function lH(e,t){var r=function(e){for(var t=[],r=!1,n=0,s=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(s,n-s),s=n+1}if(t[t.length]=e.substr(s),!0===r)throw new Error("Format |"+e+"| unterminated string ");return t}(e),n=r.length,s=r[n-1].indexOf("@");if(n<4&&s>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if("number"!=typeof t)return[4,4===r.length||s>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=s>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=s>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=s>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"]}var a=t>0?r[0]:t<0?r[1]:r[2];if(-1===r[0].indexOf("[")&&-1===r[1].indexOf("["))return[n,a];if(null!=r[0].match(/\[[=<>]/)||null!=r[1].match(/\[[=<>]/)){var i=r[0].match(iH),o=r[1].match(iH);return oH(t,i)?[n,r[0]]:oH(t,o)?[n,r[1]]:[n,r[null!=i&&null!=o?2:1]]}return[n,a]}function cH(e,t,r){null==r&&(r={});var n="";switch(typeof e){case"string":n="m/d/yy"==e&&r.dateNF?r.dateNF:e;break;case"number":null==(n=14==e&&r.dateNF?r.dateNF:(null!=r.table?r.table:PV)[e])&&(n=r.table&&r.table[DV[e]]||PV[DV[e]]),null==n&&(n=OV[e]||"General")}if(TV(n,0))return $V(t,r);t instanceof Date&&(t=FV(t,r.date1904));var s=lH(n,t);if(TV(s[1]))return $V(t,r);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,r,n){for(var s,a,i,o=[],l="",c=0,d="",u="t",m="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!TV(e,c))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);o[o.length]={t:"t",v:l},++c;break;case"\\":var h=e.charAt(++c),p="("===h||")"===h?h:"t";o[o.length]={t:p,v:h},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==s&&null==(s=MV(t,r,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==s&&null==(s=MV(t,r)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=m),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"":var f={t:d,v:d};if(null==s&&(s=MV(t,r)),"A/P"===e.substr(c,3).toUpperCase()?(null!=s&&(f.v=s.H>=12?"P":"A"),f.t="T",m="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=s&&(f.v=s.H>=12?"PM":"AM"),f.t="T",c+=5,m="h"):"/"===e.substr(c,5).toUpperCase()?(null!=s&&(f.v=s.H>=12?"":""),f.t="T",c+=5,m="h"):(f.t="t",++c),null==s&&"T"===f.t)return"";o[o.length]=f,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(sH)){if(null==s&&null==(s=MV(t,r)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",aH(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=s){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===n?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var x,g=0,b=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=m,u="h",g<1&&(g=1);break;case"s":(x=o[c].v.match(/\.0+$/))&&(b=Math.max(b,x[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&o[c].v.match(/[Hh]/)&&(g=1),g<2&&o[c].v.match(/[Mm]/)&&(g=2),g<3&&o[c].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M),s.M>=60&&(s.M=0,++s.H);break;case 2:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M)}var y,v="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=UV(o[c].t.charCodeAt(0),o[c].v,s,b),o[c].t="t";break;case"n":case"?":for(y=c+1;null!=o[y]&&("?"===(d=o[y].t)||"D"===d||(" "===d||"t"===d)&&null!=o[y+1]&&("?"===o[y+1].t||"t"===o[y+1].t&&"/"===o[y+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[y].v||" "===o[y].v&&null!=o[y+1]&&"?"==o[y+1].t));)o[c].v+=o[y].v,o[y]={v:"",t:";"},++y;v+=o[c].v,c=y-1;break;case"G":o[c].t="t",o[c].v=$V(t,r)}var j,w,N="";if(v.length>0){40==v.charCodeAt(0)?(j=t<0&&45===v.charCodeAt(0)?-t:t,w=nH("n",v,j)):(w=nH("n",v,j=t<0&&n>1?-t:t),j<0&&o[0]&&"t"==o[0].t&&(w=w.substr(1),o[0].v="-"+o[0].v)),y=w.length-1;var k=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){k=c;break}var S=o.length;if(k===o.length&&-1===w.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(y>=o[c].v.length-1?(y-=o[c].v.length,o[c].v=w.substr(y+1,o[c].v.length)):y<0?o[c].v="":(o[c].v=w.substr(0,y+1),y=-1),o[c].t="t",S=c);y>=0&&S<o.length&&(o[S].v=w.substr(0,y+1)+o[S].v)}else if(k!==o.length&&-1===w.indexOf("E")){for(y=w.indexOf(".")-1,c=k;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(a=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")-1:o[c].v.length-1,N=o[c].v.substr(a+1);a>=0;--a)y>=0&&("0"===o[c].v.charAt(a)||"#"===o[c].v.charAt(a))&&(N=w.charAt(y--)+N);o[c].v=N,o[c].t="t",S=c}for(y>=0&&S<o.length&&(o[S].v=w.substr(0,y+1)+o[S].v),y=w.indexOf(".")+1,c=k;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===k)){for(a=o[c].v.indexOf(".")>-1&&c===k?o[c].v.indexOf(".")+1:0,N=o[c].v.substr(0,a);a<o[c].v.length;++a)y<w.length&&(N+=w.charAt(y++));o[c].v=N,o[c].t="t",S=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(j=n>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=nH(o[c].t,o[c].v,j),o[c].t="t");var C="";for(c=0;c!==o.length;++c)null!=o[c]&&(C+=o[c].v);return C}(s[1],t,r,s[0])}function dH(e,t){if("number"!=typeof t){t=+t||-1;for(var r=0;r<392;++r)if(null!=PV[r]){if(PV[r]==e){t=r;break}}else t<0&&(t=r);t<0&&(t=391)}return PV[t]=e,t}function uH(e){for(var t=0;392!=t;++t)void 0!==e[t]&&dH(e[t],t)}function mH(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',PV=e}var hH={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},pH=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var fH=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var r=function(e){var t=0,r=0,n=0,s="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(n=0;256!=n;++n)s[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=s[t]=r>>>8^e[255&r];var a=[];for(n=1;16!=n;++n)a[n-1]="undefined"!=typeof Int32Array?s.subarray(256*n,256*n+256):s.slice(256*n,256*n+256);return a}(t),n=r[0],s=r[1],a=r[2],i=r[3],o=r[4],l=r[5],c=r[6],d=r[7],u=r[8],m=r[9],h=r[10],p=r[11],f=r[12],x=r[13],g=r[14];return e.table=t,e.bstr=function(e,r){for(var n=-1^r,s=0,a=e.length;s<a;)n=n>>>8^t[255&(n^e.charCodeAt(s++))];return~n},e.buf=function(e,r){for(var b=-1^r,y=e.length-15,v=0;v<y;)b=g[e[v++]^255&b]^x[e[v++]^b>>8&255]^f[e[v++]^b>>16&255]^p[e[v++]^b>>>24]^h[e[v++]]^m[e[v++]]^u[e[v++]]^d[e[v++]]^c[e[v++]]^l[e[v++]]^o[e[v++]]^i[e[v++]]^a[e[v++]]^s[e[v++]]^n[e[v++]]^t[e[v++]];for(y+=15;v<y;)b=b>>>8^t[255&(b^e[v++])];return~b},e.str=function(e,r){for(var n=-1^r,s=0,a=e.length,i=0,o=0;s<a;)(i=e.charCodeAt(s++))<128?n=n>>>8^t[255&(n^i)]:i<2048?n=(n=n>>>8^t[255&(n^(192|i>>6&31))])>>>8^t[255&(n^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),o=1023&e.charCodeAt(s++),n=(n=(n=(n=n>>>8^t[255&(n^(240|i>>8&7))])>>>8^t[255&(n^(128|i>>2&63))])>>>8^t[255&(n^(128|o>>6&15|(3&i)<<4))])>>>8^t[255&(n^(128|63&o))]):n=(n=(n=n>>>8^t[255&(n^(224|i>>12&15))])>>>8^t[255&(n^(128|i>>6&63))])>>>8^t[255&(n^(128|63&i))];return~n},e}(),xH=function(){var e,t={};function r(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function n(e){if("/"==e.charAt(e.length-1))return n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function s(e,t){"string"==typeof t&&(t=new Date(t));var r=t.getHours();r=(r=r<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,r);var n=t.getFullYear()-1980;n=(n=n<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,n)}function a(e){IK(e,0);for(var t={},r=0;e.l<=e.length-4;){var n=e.read_shift(2),s=e.read_shift(2),a=e.l+s,i={};if(21589===n)1&(r=e.read_shift(1))&&(i.mtime=e.read_shift(4)),s>5&&(2&r&&(i.atime=e.read_shift(4)),4&r&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=a,t[n]=i}return t}function i(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return ne(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var r=t&&t.root||"",n=(uV&&rn.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),s=0,a="";for(s=0;s<n.length;++s)if(a=n[s],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),r||(r=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,r.length)!=r))for(;r.length>0&&(r=(r=r.slice(0,r.length-1)).slice(0,r.lastIndexOf("/")+1),a.slice(0,r.length)!=r););var i=(n[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var o="--"+(i[1]||""),l=[],c=[],d={FileIndex:l,FullPaths:c};m(d);var u,h=0;for(s=0;s<n.length;++s){var p=n[s];p!==o&&p!==o+"--"||(h++&&ce(d,n.slice(u,s),r),u=s)}return d}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var r,n,s,a,i,o,h=512,p=[],f=e.slice(0,512);IK(f,0);var x=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(b,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(f);switch(r=x[0]){case 3:h=512;break;case 4:h=4096;break;case 0:if(0==x[1])return ne(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+r)}512!==h&&IK(f=e.slice(0,h),28);var y=e.slice(0,h);!function(e,t){var r=9;switch(e.l+=2,r=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+r);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+r);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+r)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(f,r);var v=f.read_shift(4,"i");if(3===r&&0!==v)throw new Error("# Directory Sectors: Expected 0 saw "+v);f.l+=4,a=f.read_shift(4,"i"),f.l+=4,f.chk("00100000","Mini Stream Cutoff Size: "),i=f.read_shift(4,"i"),n=f.read_shift(4,"i"),o=f.read_shift(4,"i"),s=f.read_shift(4,"i");for(var j=-1,N=0;N<109&&!((j=f.read_shift(4,"i"))<0);++N)p[N]=j;var k=function(e,t){for(var r=Math.ceil(e.length/t)-1,n=[],s=1;s<r;++s)n[s-1]=e.slice(s*t,(s+1)*t);return n[r-1]=e.slice(r*t),n}(e,h);c(o,s,k,h,p);var S=function(e,t,r,n){var s=e.length,a=[],i=[],o=[],l=[],c=n-1,d=0,u=0,m=0,h=0;for(d=0;d<s;++d)if(o=[],(m=d+t)>=s&&(m-=s),!i[m]){l=[];var p=[];for(u=m;u>=0;){p[u]=!0,i[u]=!0,o[o.length]=u,l.push(e[u]);var f=r[Math.floor(4*u/n)];if(n<4+(h=4*u&c))throw new Error("FAT boundary crossed: "+u+" 4 "+n);if(!e[f])break;if(p[u=TK(e[f],h)])break}a[m]={nodes:o,data:sK([l])}}return a}(k,a,p,h);S[a].name="!Directory",n>0&&i!==g&&(S[i].name="!MiniFAT"),S[p[0]].name="!FAT",S.fat_addrs=p,S.ssz=h;var C=[],A=[],T=[];!function(e,t,r,n,s,a,i,o){for(var c,m=0,h=n.length?2:0,p=t[e].data,f=0,x=0;f<p.length;f+=128){var b=p.slice(f,f+128);IK(b,64),x=b.read_shift(2),c=iK(b,0,x-h),n.push(c);var y={name:c,type:b.read_shift(1),color:b.read_shift(1),L:b.read_shift(4,"i"),R:b.read_shift(4,"i"),C:b.read_shift(4,"i"),clsid:b.read_shift(16),state:b.read_shift(4,"i"),start:0,size:0};0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(y.ct=u(b,b.l-8)),0!==b.read_shift(2)+b.read_shift(2)+b.read_shift(2)+b.read_shift(2)&&(y.mt=u(b,b.l-8)),y.start=b.read_shift(4,"i"),y.size=b.read_shift(4,"i"),y.size<0&&y.start<0&&(y.size=y.type=0,y.start=g,y.name=""),5===y.type?(m=y.start,s>0&&m!==g&&(t[m].name="!StreamData")):y.size>=4096?(y.storage="fat",void 0===t[y.start]&&(t[y.start]=d(r,y.start,t.fat_addrs,t.ssz)),t[y.start].name=y.name,y.content=t[y.start].data.slice(0,y.size)):(y.storage="minifat",y.size<0?y.size=0:m!==g&&y.start!==g&&t[m]&&(y.content=l(y,t[m].data,(t[o]||{}).data))),y.content&&IK(y.content,0),a[c]=y,i.push(y)}}(a,S,k,C,n,{},A,i),function(e,t,r){for(var n=0,s=0,a=0,i=0,o=0,l=r.length,c=[],d=[];n<l;++n)c[n]=d[n]=n,t[n]=r[n];for(;o<d.length;++o)s=e[n=d[o]].L,a=e[n].R,i=e[n].C,c[n]===n&&(-1!==s&&c[s]!==s&&(c[n]=c[s]),-1!==a&&c[a]!==a&&(c[n]=c[a])),-1!==i&&(c[i]=n),-1!==s&&n!=c[n]&&(c[s]=c[n],d.lastIndexOf(s)<o&&d.push(s)),-1!==a&&n!=c[n]&&(c[a]=c[n],d.lastIndexOf(a)<o&&d.push(a));for(n=1;n<l;++n)c[n]===n&&(-1!==a&&c[a]!==a?c[n]=c[a]:-1!==s&&c[s]!==s&&(c[n]=c[s]));for(n=1;n<l;++n)if(0!==e[n].type){if((o=n)!=c[o])do{o=c[o],t[n]=t[o]+"/"+t[n]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[n]=-1}for(t[0]+="/",n=1;n<l;++n)2!==e[n].type&&(t[n]+="/")}(A,T,C),C.shift();var E={FileIndex:A,FullPaths:T};return t&&t.raw&&(E.raw={header:y,sectors:k}),E}function l(e,t,r){for(var n=e.start,s=e.size,a=[],i=n;r&&s>0&&i>=0;)a.push(t.slice(i*x,i*x+x)),s-=x,i=TK(r,4*i);return 0===a.length?zK(0):yV(a).slice(0,e.size)}function c(e,t,r,n,s){var a=g;if(e===g){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=r[e],o=(n>>>2)-1;if(!i)return;for(var l=0;l<o&&(a=TK(i,4*l))!==g;++l)s.push(a);c(TK(i,n-4),t-1,r,n,s)}}function d(e,t,r,n,s){var a=[],i=[];s||(s=[]);var o=n-1,l=0,c=0;for(l=t;l>=0;){s[l]=!0,a[a.length]=l,i.push(e[l]);var d=r[Math.floor(4*l/n)];if(n<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+n);if(!e[d])break;l=TK(e[d],c)}return{nodes:a,data:sK([i])}}function u(e,t){return new Date(1e3*(AK(e,t+4)/1e7*Math.pow(2,32)+AK(e,t)/1e7-11644473600))}function m(e,t){var r=t||{},n=r.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=n+"/",e.FileIndex[0]={name:n,type:5}),r.CLSID&&(e.FileIndex[0].clsid=r.CLSID),function(e){var t="Sh33tJ5";if(xH.find(e,"/"+t))return;var r=zK(4);r[0]=55,r[1]=r[3]=50,r[2]=54,e.FileIndex.push({name:t,type:2,content:r,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),h(e)}(e)}function h(e,t){m(e);for(var s=!1,a=!1,i=e.FullPaths.length-1;i>=0;--i){var o=e.FileIndex[i];switch(o.type){case 0:a?s=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(o.R*o.L*o.C)&&(s=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(s=!0);break;default:s=!0}}if(s||t){var l=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},u=[];for(i=0;i<e.FullPaths.length;++i)d[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&u.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<u.length;++i){var h=r(u[i][0]);(a=d[h])||(u.push([h,{name:n(h).replace("/",""),type:1,clsid:v,ct:l,mt:l,content:null}]),d[h]=!0)}for(u.sort(function(e,t){return function(e,t){for(var r=e.split("/"),n=t.split("/"),s=0,a=0,i=Math.min(r.length,n.length);s<i;++s){if(a=r[s].length-n[s].length)return a;if(r[s]!=n[s])return r[s]<n[s]?-1:1}return r.length-n.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],i=0;i<u.length;++i)e.FullPaths[i]=u[i][0],e.FileIndex[i]=u[i][1];for(i=0;i<u.length;++i){var p=e.FileIndex[i],f=e.FullPaths[i];if(p.name=n(f).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||v,0===i)p.C=u.length>1?1:-1,p.size=0,p.type=5;else if("/"==f.slice(-1)){for(c=i+1;c<u.length&&r(e.FullPaths[c])!=f;++c);for(p.C=c>=u.length?-1:c,c=i+1;c<u.length&&r(e.FullPaths[c])!=r(f);++c);p.R=c>=u.length?-1:c,p.type=1}else r(e.FullPaths[i+1]||"")==r(f)&&(p.R=i+1),p.type=2}}}function p(e,t){var r=t||{};if("mad"==r.fileType)return function(e,t){for(var r=t||{},n=r.boundary||"SheetJS",s=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(n="------="+n).slice(2)+'"',"","",""],a=e.FullPaths[0],i=a,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(a.length),(o=e.FileIndex[l]).size&&o.content&&"Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,d=uV&&rn.isBuffer(c)?c.toString("binary"):w(c),u=0,m=Math.min(1024,d.length),h=0,p=0;p<=m;++p)(h=d.charCodeAt(p))>=32&&h<128&&++u;var f=u>=4*m/5;s.push(n),s.push("Content-Location: "+(r.root||"file:///C:/SheetJS/")+i),s.push("Content-Transfer-Encoding: "+(f?"quoted-printable":"base64")),s.push("Content-Type: "+ie(o,i)),s.push(""),s.push(f?le(d):oe(d))}return s.push(n+"--\r\n"),s.join("\r\n")}(e,r);if(h(e),"zip"===r.fileType)return function(e,t){var r=t||{},n=[],a=[],i=zK(1),o=r.compression?8:0,l=0,c=0,d=0,u=0,m=0,h=e.FullPaths[0],p=h,f=e.FileIndex[0],x=[],g=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(h.length),(f=e.FileIndex[c]).size&&f.content&&"Sh33tJ5"!=p){var b=u,y=zK(p.length);for(d=0;d<p.length;++d)y.write_shift(1,127&p.charCodeAt(d));y=y.slice(0,y.l),x[m]=fH.buf(f.content,0);var v=f.content;8==o&&(v=N(v)),(i=zK(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),f.mt?s(i,f.mt):i.write_shift(4,0),i.write_shift(-4,x[m]),i.write_shift(4,v.length),i.write_shift(4,f.content.length),i.write_shift(2,y.length),i.write_shift(2,0),u+=i.length,n.push(i),u+=y.length,n.push(y),u+=v.length,n.push(v),(i=zK(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),i.write_shift(4,0),i.write_shift(-4,x[m]),i.write_shift(4,v.length),i.write_shift(4,f.content.length),i.write_shift(2,y.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,b),g+=i.l,a.push(i),g+=y.length,a.push(y),++m}return i=zK(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,m),i.write_shift(2,m),i.write_shift(4,g),i.write_shift(4,u),i.write_shift(2,0),yV([yV(n),yV(a),i])}(e,r);var n=function(e){for(var t=0,r=0,n=0;n<e.FileIndex.length;++n){var s=e.FileIndex[n];if(s.content){var a=s.content.length;a>0&&(a<4096?t+=a+63>>6:r+=a+511>>9)}}for(var i=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+r+i+o,c=l+127>>7,d=c<=109?0:Math.ceil((c-109)/127);l+c+d+127>>7>c;)d=++c<=109?0:Math.ceil((c-109)/127);var u=[1,d,c,o,i,r,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),a=zK(n[7]<<9),i=0,o=0;for(i=0;i<8;++i)a.write_shift(1,y[i]);for(i=0;i<8;++i)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),i=0;i<3;++i)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,n[2]),a.write_shift(4,n[0]+n[1]+n[2]+n[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,n[3]?n[0]+n[1]+n[2]-1:g),a.write_shift(4,n[3]),a.write_shift(-4,n[1]?n[0]-1:g),a.write_shift(4,n[1]),i=0;i<109;++i)a.write_shift(-4,i<n[2]?n[1]+i:-1);if(n[1])for(o=0;o<n[1];++o){for(;i<236+127*o;++i)a.write_shift(-4,i<n[2]?n[1]+i:-1);a.write_shift(-4,o===n[1]-1?g:o+1)}var l=function(e){for(o+=e;i<o-1;++i)a.write_shift(-4,i+1);e&&(++i,a.write_shift(-4,g))};for(o=i=0,o+=n[1];i<o;++i)a.write_shift(-4,j.DIFSECT);for(o+=n[2];i<o;++i)a.write_shift(-4,j.FATSECT);l(n[3]),l(n[4]);for(var c=0,d=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&((d=u.content.length)<4096||(u.start=o,l(d+511>>9)));for(l(n[6]+7>>3);511&a.l;)a.write_shift(-4,j.ENDOFCHAIN);for(o=i=0,c=0;c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&(!(d=u.content.length)||d>=4096||(u.start=o,l(d+63>>6)));for(;511&a.l;)a.write_shift(-4,j.ENDOFCHAIN);for(i=0;i<n[4]<<2;++i){var m=e.FullPaths[i];if(m&&0!==m.length){u=e.FileIndex[i],0===i&&(u.start=u.size?u.start-1:g);var p=0===i&&r.root||u.name;if(d=2*(p.length+1),a.write_shift(64,p,"utf16le"),a.write_shift(2,d),a.write_shift(1,u.type),a.write_shift(1,u.color),a.write_shift(-4,u.L),a.write_shift(-4,u.R),a.write_shift(-4,u.C),u.clsid)a.write_shift(16,u.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,u.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,u.start),a.write_shift(4,u.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>=4096)if(a.l=u.start+1<<9,uV&&rn.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>0&&u.size<4096)if(uV&&rn.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(uV)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var f,x=64,g=-2,b="d0cf11e0a1b11ae1",y=[208,207,17,224,161,177,26,225],v="00000000000000000000000000000000",j={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:g,FREESECT:-1,HEADER_SIGNATURE:b,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:v,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function N(e){return f?f.deflateRawSync(e):K(e)}var k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function A(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var T="undefined"!=typeof Uint8Array,E=T?new Uint8Array(256):[],_=0;_<256;++_)E[_]=A(_);function P(e,t){var r=E[255&e];return t<=8?r>>>8-t:(r=r<<8|E[e>>8&255],t<=16?r>>>16-t:(r=r<<8|E[e>>16&255])>>>24-t)}function D(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=6?0:e[n+1]<<8))>>>r&3}function O(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=5?0:e[n+1]<<8))>>>r&7}function L(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=3?0:e[n+1]<<8))>>>r&31}function M(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=1?0:e[n+1]<<8))>>>r&127}function I(e,t,r){var n=7&t,s=t>>>3,a=(1<<r)-1,i=e[s]>>>n;return r<8-n?i&a:(i|=e[s+1]<<8-n,r<16-n?i&a:(i|=e[s+2]<<16-n,r<24-n?i&a:(i|=e[s+3]<<24-n)&a))}function R(e,t,r){var n=7&t,s=t>>>3;return n<=5?e[s]|=(7&r)<<n:(e[s]|=r<<n&255,e[s+1]=(7&r)>>8-n),t+3}function z(e,t,r){return r=(1&r)<<(7&t),e[t>>>3]|=r,t+1}function F(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=r,t+8}function B(e,t,r){var n=t>>>3;return r<<=7&t,e[n]|=255&r,r>>>=8,e[n+1]=255&r,e[n+2]=r>>>8,t+16}function q(e,t){var r=e.length,n=2*r>t?2*r:t+5,s=0;if(r>=t)return e;if(uV){var a=pV(n);if(e.copy)e.copy(a);else for(;s<e.length;++s)a[s]=e[s];return a}if(T){var i=new Uint8Array(n);if(i.set)i.set(e);else for(;s<r;++s)i[s]=e[s];return i}return e.length=n,e}function $(e){for(var t=new Array(e),r=0;r<e;++r)t[r]=0;return t}function U(e,t,r){var n=1,s=0,a=0,i=0,o=0,l=e.length,c=T?new Uint16Array(32):$(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<r;++a)e[a]=0;l=e.length;var d=T?new Uint16Array(l):$(l);for(a=0;a<l;++a)c[s=e[a]]++,n<s&&(n=s),d[a]=0;for(c[0]=0,a=1;a<=n;++a)c[a+16]=o=o+c[a-1]<<1;for(a=0;a<l;++a)0!=(o=e[a])&&(d[a]=c[o+16]++);var u=0;for(a=0;a<l;++a)if(0!=(u=e[a]))for(o=P(d[a],n)>>n-u,i=(1<<n+4-u)-1;i>=0;--i)t[o|i<<u]=15&u|a<<4;return n}var W=T?new Uint16Array(512):$(512),V=T?new Uint16Array(32):$(32);if(!T){for(var H=0;H<512;++H)W[H]=0;for(H=0;H<32;++H)V[H]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);U(e,V,32);var r=[];for(t=0;t<=143;t++)r.push(8);for(;t<=255;t++)r.push(9);for(;t<=279;t++)r.push(7);for(;t<=287;t++)r.push(8);U(r,W,288)}();var G=function(){for(var e=T?new Uint8Array(32768):[],t=0,r=0;t<C.length-1;++t)for(;r<C[t+1];++r)e[r]=t;for(;r<32768;++r)e[r]=29;var n=T?new Uint8Array(259):[];for(t=0,r=0;t<S.length-1;++t)for(;r<S[t+1];++r)n[r]=t;return function(t,r){return t.length<8?function(e,t){for(var r=0;r<e.length;){var n=Math.min(65535,e.length-r),s=r+n==e.length;for(t.write_shift(1,+s),t.write_shift(2,n),t.write_shift(2,65535&~n);n-- >0;)t[t.l++]=e[r++]}return t.l}(t,r):function(t,r){for(var s=0,a=0,i=T?new Uint16Array(32768):[];a<t.length;){var o=Math.min(65535,t.length-a);if(o<10){for(7&(s=R(r,s,+!(a+o!=t.length)))&&(s+=8-(7&s)),r.l=s/8|0,r.write_shift(2,o),r.write_shift(2,65535&~o);o-- >0;)r[r.l++]=t[a++];s=8*r.l}else{s=R(r,s,+!(a+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[a],d=-1,u=0;if((d=i[l=32767&(l<<5^c)])&&((d|=-32768&a)>a&&(d-=32768),d<a))for(;t[d+u]==t[a+u]&&u<250;)++u;if(u>2){(c=n[u])<=22?s=F(r,s,E[c+1]>>1)-1:(F(r,s,3),F(r,s+=5,E[c-23]>>5),s+=3);var m=c<8?0:c-4>>2;m>0&&(B(r,s,u-S[c]),s+=m),c=e[a-d],s=F(r,s,E[c]>>3),s-=3;var h=c<4?0:c-2>>1;h>0&&(B(r,s,a-d-C[c]),s+=h);for(var p=0;p<u;++p)i[l]=32767&a,l=32767&(l<<5^t[a]),++a;o-=u-1}else c<=143?c+=48:s=z(r,s,1),s=F(r,s,E[c]),i[l]=32767&a,++a}s=F(r,s,0)-1}}return r.l=(s+7)/8|0,r.l}(t,r)}}();function K(e){var t=zK(50+Math.floor(1.1*e.length)),r=G(e,t);return t.slice(0,r)}var Y=T?new Uint16Array(32768):$(32768),X=T?new Uint16Array(32768):$(32768),J=T?new Uint16Array(128):$(128),Q=1,Z=1;function ee(e,t){var r=L(e,t)+257,n=L(e,t+=5)+1,s=function(e,t){var r=7&t,n=t>>>3;return(e[n]|(r<=4?0:e[n+1]<<8))>>>r&15}(e,t+=5)+4;t+=4;for(var a=0,i=T?new Uint8Array(19):$(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=T?new Uint8Array(8):$(8),d=T?new Uint8Array(8):$(8),u=i.length,m=0;m<s;++m)i[k[m]]=a=O(e,t),l<a&&(l=a),c[a]++,t+=3;var h=0;for(c[0]=0,m=1;m<=l;++m)d[m]=h=h+c[m-1]<<1;for(m=0;m<u;++m)0!=(h=i[m])&&(o[m]=d[h]++);var p=0;for(m=0;m<u;++m)if(0!=(p=i[m])){h=E[o[m]]>>8-p;for(var f=(1<<7-p)-1;f>=0;--f)J[h|f<<p]=7&p|m<<3}var x=[];for(l=1;x.length<r+n;)switch(t+=7&(h=J[M(e,t)]),h>>>=3){case 16:for(a=3+D(e,t),t+=2,h=x[x.length-1];a-- >0;)x.push(h);break;case 17:for(a=3+O(e,t),t+=3;a-- >0;)x.push(0);break;case 18:for(a=11+M(e,t),t+=7;a-- >0;)x.push(0);break;default:x.push(h),l<h&&(l=h)}var g=x.slice(0,r),b=x.slice(r);for(m=r;m<286;++m)g[m]=0;for(m=n;m<30;++m)b[m]=0;return Q=U(g,Y,286),Z=U(b,X,30),t}function te(e,t){var r=function(e,t){if(3==e[0]&&!(3&e[1]))return[hV(t),2];for(var r=0,n=0,s=pV(t||1<<18),a=0,i=s.length>>>0,o=0,l=0;!(1&n);)if(n=O(e,r),r+=3,n>>>1!=0)for(n>>1==1?(o=9,l=5):(r=ee(e,r),o=Q,l=Z);;){!t&&i<a+32767&&(i=(s=q(s,a+32767)).length);var c=I(e,r,o),d=n>>>1==1?W[c]:Y[c];if(r+=15&d,(d>>>=4)>>>8&255){if(256==d)break;var u=(d-=257)<8?0:d-4>>2;u>5&&(u=0);var m=a+S[d];u>0&&(m+=I(e,r,u),r+=u),c=I(e,r,l),r+=15&(d=n>>>1==1?V[c]:X[c]);var h=(d>>>=4)<4?0:d-2>>1,p=C[d];for(h>0&&(p+=I(e,r,h),r+=h),!t&&i<m&&(i=(s=q(s,m+100)).length);a<m;)s[a]=s[a-p],++a}else s[a++]=d}else{7&r&&(r+=8-(7&r));var f=e[r>>>3]|e[(r>>>3)+1]<<8;if(r+=32,f>0)for(!t&&i<a+f&&(i=(s=q(s,a+f)).length);f-- >0;)s[a++]=e[r>>>3],r+=8}return t?[s,r+7>>>3]:[s.slice(0,a),r+7>>>3]}(e.slice(e.l||0),t);return e.l+=r[1],r[0]}function re(e,t){if(!e)throw new Error(t)}function ne(e,t){var r=e;IK(r,0);var n={FileIndex:[],FullPaths:[]};m(n,{root:t.root});for(var s=r.length-4;(80!=r[s]||75!=r[s+1]||5!=r[s+2]||6!=r[s+3])&&s>=0;)--s;r.l=s+4,r.l+=4;var i=r.read_shift(2);r.l+=6;var o=r.read_shift(4);for(r.l=o,s=0;s<i;++s){r.l+=20;var l=r.read_shift(4),c=r.read_shift(4),d=r.read_shift(2),u=r.read_shift(2),h=r.read_shift(2);r.l+=8;var p=r.read_shift(4),f=a(r.slice(r.l+d,r.l+d+u));r.l+=d+u+h;var x=r.l;r.l=p+4,se(r,l,c,n,f),r.l=x}return n}function se(e,t,r,n,s){e.l+=2;var i=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),r=65535&e.read_shift(2),n=new Date,s=31&r,a=15&(r>>>=5);r>>>=4,n.setMilliseconds(0),n.setFullYear(r+1980),n.setMonth(a-1),n.setDate(s);var i=31&t,o=63&(t>>>=5);return t>>>=6,n.setHours(t),n.setMinutes(o),n.setSeconds(i<<1),n}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),m=e.read_shift(2),h="",p=0;p<u;++p)h+=String.fromCharCode(e[e.l++]);if(m){var x=a(e.slice(e.l,e.l+m));(x[21589]||{}).mt&&(l=x[21589].mt),((s||{})[21589]||{}).mt&&(l=s[21589].mt)}e.l+=m;var g=e.slice(e.l,e.l+c);switch(o){case 8:g=function(e,t){if(!f)return te(e,t);var r=new(0,f.InflateRaw),n=r._processChunk(e.slice(e.l),r._finishFlushFlag);return e.l+=r.bytesRead,n}(e,d);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var b=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),b=!0),c=e.read_shift(4),d=e.read_shift(4)),c!=t&&re(b,"Bad compressed size: "+t+" != "+c),d!=r&&re(b,"Bad uncompressed size: "+r+" != "+d),de(n,h,g,{unsafe:!0,mt:l})}var ae={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(e,t){if(e.ctype)return e.ctype;var r=e.name||"",n=r.match(/\.([^\.]+)$/);return n&&ae[n[1]]||t&&(n=(r=t).match(/[\.\\]([^\.\\])+$/))&&ae[n[1]]?ae[n[1]]:"application/octet-stream"}function oe(e){for(var t=cV(e),r=[],n=0;n<t.length;n+=76)r.push(t.slice(n,n+76));return r.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var r=[],n=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),s=0;s<n.length;++s){var a=n[s];if(0!=a.length)for(var i=0;i<a.length;){var o=76,l=a.slice(i,i+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=a.slice(i,i+o),(i+=o)<a.length&&(l+="="),r.push(l)}else r.push("")}return r.join("\r\n")}function ce(e,t,r){for(var n,s="",a="",i="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":s=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++o,a.toLowerCase()){case"base64":n=fV(dV(t.slice(o).join("")));break;case"quoted-printable":n=function(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r];r<=e.length&&"="==n.charAt(n.length-1);)n=n.slice(0,n.length-1)+e[++r];t.push(n)}for(var s=0;s<t.length;++s)t[s]=t[s].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return fV(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var d=de(e,s.slice(r.length),n,{unsafe:!0});i&&(d.ctype=i)}function de(e,t,r,s){var a=s&&s.unsafe;a||m(e);var i=!a&&xH.find(e,t);if(!i){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),i={name:n(t),type:2},e.FileIndex.push(i),e.FullPaths.push(o),a||xH.utils.cfb_gc(e)}return i.content=r,i.size=r?r.length:0,s&&(s.CLSID&&(i.clsid=s.CLSID),s.mt&&(i.mt=s.mt),s.ct&&(i.ct=s.ct)),i}return t.find=function(e,t){var r=e.FullPaths.map(function(e){return e.toUpperCase()}),n=r.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),s=!1;47===t.charCodeAt(0)?(s=!0,t=r[0].slice(0,-1)+t):s=-1!==t.indexOf("/");var a=t.toUpperCase(),i=!0===s?r.indexOf(a):n.indexOf(a);if(-1!==i)return e.FileIndex[i];var o=!a.match(jV);for(a=a.replace(vV,""),o&&(a=a.replace(jV,"!")),i=0;i<r.length;++i){if((o?r[i].replace(jV,"!"):r[i]).replace(vV,"")==a)return e.FileIndex[i];if((o?n[i].replace(jV,"!"):n[i]).replace(vV,"")==a)return e.FileIndex[i]}return null},t.read=function(t,r){var n=r&&r.type;switch(n||uV&&rn.isBuffer(t)&&(n="buffer"),n||"base64"){case"file":return function(t,r){return i(),o(e.readFileSync(t),r)}(t,r);case"base64":return o(fV(dV(t)),r);case"binary":return o(fV(t),r)}return o(t,r)},t.parse=o,t.write=function(t,r){var n=p(t,r);switch(r&&r.type||"buffer"){case"file":return i(),e.writeFileSync(r.filename,n),n;case"binary":return"string"==typeof n?n:w(n);case"base64":return cV("string"==typeof n?n:w(n));case"buffer":if(uV)return rn.isBuffer(n)?n:mV(n);case"array":return"string"==typeof n?fV(n):n}return n},t.writeFile=function(t,r,n){i();var s=p(t,n);e.writeFileSync(r,s)},t.utils={cfb_new:function(e){var t={};return m(t,e),t},cfb_add:de,cfb_del:function(e,t){m(e);var r=xH.find(e,t);if(r)for(var n=0;n<e.FileIndex.length;++n)if(e.FileIndex[n]==r)return e.FileIndex.splice(n,1),e.FullPaths.splice(n,1),!0;return!1},cfb_mov:function(e,t,r){m(e);var s=xH.find(e,t);if(s)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==s)return e.FileIndex[a].name=n(r),e.FullPaths[a]=r,!0;return!1},cfb_gc:function(e){h(e,!0)},ReadShift:_K,CheckField:MK,prep_blob:IK,bconcat:yV,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");f=e}catch(r){}},_deflateRaw:K,_inflateRaw:te,consts:j},t}();function gH(e){return"string"==typeof e?xV(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function bH(e,t,r){if("undefined"!=typeof Deno){if(r&&"string"==typeof t)switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=xV(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n="utf8"==r?wG(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(n,e);if("undefined"!=typeof Blob){var s=new Blob([gH(n)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if("undefined"!=typeof saveAs)return saveAs(s,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=gV(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function yH(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function vH(e,t){for(var r=[],n=yH(e),s=0;s!==n.length;++s)null==r[e[n[s]][t]]&&(r[e[n[s]][t]]=n[s]);return r}function jH(e){for(var t=[],r=yH(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function wH(e){for(var t=[],r=yH(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}var NH=new Date(1899,11,30,0,0,0);function kH(e,t){return(e.getTime()-(NH.getTime()+6e4*(e.getTimezoneOffset()-NH.getTimezoneOffset())))/864e5}var SH=new Date,CH=NH.getTime()+6e4*(SH.getTimezoneOffset()-NH.getTimezoneOffset()),AH=SH.getTimezoneOffset();function TH(e){var t=new Date;return t.setTime(24*e*60*60*1e3+CH),t.getTimezoneOffset()!==AH&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-AH)),t}function EH(e){var t=0,r=0,n=!1,s=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!s)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=s.length;++a)if(s[a]){switch(r=1,a>3&&(n=!0),s[a].slice(s[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+s[a].slice(s[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(!n)throw new Error("Unsupported ISO Duration Field: M");r*=60}t+=r*parseInt(s[a],10)}return t}var _H=new Date("2017-02-19T19:06:09.000Z"),PH=isNaN(_H.getFullYear())?new Date("2/19/17"):_H,DH=2017==PH.getFullYear();function OH(e,t){var r=new Date(e);if(DH)return t>0?r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3):t<0&&r.setTime(r.getTime()-60*r.getTimezoneOffset()*1e3),r;if(e instanceof Date)return e;if(1917==PH.getFullYear()&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function LH(e,t){if(uV&&rn.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return wG(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return wG(nV(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!=typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return wG(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return wG(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return r[e]||e})}catch(a){}for(var n=[],s=0;s!=e.length;++s)n.push(String.fromCharCode(e[s]));return n.join("")}function MH(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=MH(e[r]));return t}function IH(e,t){for(var r="";r.length<t;)r+=e;return r}function RH(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return isNaN(t=Number(n))?(n=n.replace(/[(](.*)[)]/,function(e,t){return r=-r,t}),isNaN(t=Number(n))?t:t/r):t/r}var zH=["january","february","march","april","may","june","july","august","september","october","november","december"];function FH(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==zH.indexOf(i))return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(s>0||a>1)&&101!=n?t:e.match(/[^-0-9:,\/\\]/)?r:t}var BH=function(){var e=5=="abacaba".split(/(:?b)/i).length;return function(t,r,n){if(e||"string"==typeof r)return t.split(r);for(var s=t.split(r),a=[s[0]],i=1;i<s.length;++i)a.push(n),a.push(s[i]);return a}}();function qH(e){return e?e.content&&e.type?LH(e.content,!0):e.data?aV(e.data):e.asNodeBuffer&&uV?aV(e.asNodeBuffer().toString("binary")):e.asBinary?aV(e.asBinary()):e._data&&e._data.getContent?aV(LH(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function $H(e){if(!e)return null;if(e.data)return rV(e.data);if(e.asNodeBuffer&&uV)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return"string"==typeof t?rV(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function UH(e,t){for(var r=e.FullPaths||yH(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),s=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var i=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||s==i)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function WH(e,t){var r=UH(e,t);if(null==r)throw new Error("Cannot find file "+t+" in zip");return r}function VH(e,t,r){if(!r)return(n=WH(e,t))&&".bin"===n.name.slice(-4)?$H(n):qH(n);var n;if(!t)return null;try{return VH(e,t)}catch(s){return null}}function HH(e,t,r){if(!r)return qH(WH(e,t));if(!t)return null;try{return HH(e,t)}catch(n){return null}}function GH(e){for(var t=e.FullPaths||yH(e.files),r=[],n=0;n<t.length;++n)"/"!=t[n].slice(-1)&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function KH(e,t,r){if(e.FullPaths){var n;if("string"==typeof r)return n=uV?mV(r):function(e){for(var t=[],r=0,n=e.length+250,s=hV(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[r++]=i;else if(i<2048)s[r++]=192|i>>6&31,s[r++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var o=1023&e.charCodeAt(++a);s[r++]=240|i>>8&7,s[r++]=128|i>>2&63,s[r++]=128|o>>6&15|(3&i)<<4,s[r++]=128|63&o}else s[r++]=224|i>>12&15,s[r++]=128|i>>6&63,s[r++]=128|63&i;r>n&&(t.push(s.slice(0,r)),r=0,s=hV(65535),n=65530)}return t.push(s.slice(0,r)),yV(t)}(r),xH.utils.cfb_add(e,t,n);xH.utils.cfb_add(e,t,r)}else e.file(t,r)}function YH(){return xH.utils.cfb_new()}function XH(e,t){switch(t.type){case"base64":return xH.read(e,{type:"base64"});case"binary":return xH.read(e,{type:"binary"});case"buffer":case"array":return xH.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function JH(e,t){if("/"==e.charAt(0))return e.slice(1);var r=t.split("/");"/"!=t.slice(-1)&&r.pop();for(var n=e.split("/");0!==n.length;){var s=n.shift();".."===s?r.pop():"."!==s&&r.push(s)}return r.join("/")}var QH='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',ZH=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,eG=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/gm,tG=QH.match(eG)?eG:/<[^>]*>/g,rG=/<\w*:/,nG=/<(\/?)\w+:/;function sG(e,t,r){for(var n={},s=0,a=0;s!==e.length&&(32!==(a=e.charCodeAt(s))&&10!==a&&13!==a);++s);if(t||(n[0]=e.slice(0,s)),s===e.length)return n;var i=e.match(ZH),o=0,l="",c=0,d="",u="",m=1;if(i)for(c=0;c!=i.length;++c){for(u=i[c],a=0;a!=u.length&&61!==u.charCodeAt(a);++a);for(d=u.slice(0,a).trim();32==u.charCodeAt(a+1);)++a;for(m=34==(s=u.charCodeAt(a+1))||39==s?1:0,l=u.slice(a+1+m,u.length-m),o=0;o!=d.length&&58!==d.charCodeAt(o);++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var h=(5===o&&"xmlns"===d.slice(0,5)?"xmlns":"")+d.slice(o+1);if(n[h]&&"ext"==d.slice(o-3,o))continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function aG(e){return e.replace(nG,"<$1")}var iG={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},oG=jH(iG),lG=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/gi,t=/_x([\da-fA-F]{4})_/gi;return function r(n){var s=n+"",a=s.indexOf("<![CDATA[");if(-1==a)return s.replace(e,function(e,t){return iG[e]||String.fromCharCode(parseInt(t,e.indexOf("x")>-1?16:10))||e}).replace(t,function(e,t){return String.fromCharCode(parseInt(t,16))});var i=s.indexOf("]]>");return r(s.slice(0,a))+s.slice(a+9,i)+r(s.slice(i+3))}}(),cG=/[&<>'"]/g,dG=/[\u0000-\u0008\u000b-\u001f]/g;function uG(e){return(e+"").replace(cG,function(e){return oG[e]}).replace(dG,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function mG(e){return uG(e).replace(/ /g,"_x0020_")}var hG=/[\u0000-\u001f]/g;function pG(e){return(e+"").replace(cG,function(e){return oG[e]}).replace(/\n/g,"<br/>").replace(hG,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}var fG=function(){var e=/&#(\d+);/g;function t(e,t){return String.fromCharCode(parseInt(t,10))}return function(r){return r.replace(e,t)}}();function xG(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gG(e){for(var t="",r=0,n=0,s=0,a=0,i=0,o=0;r<e.length;)(n=e.charCodeAt(r++))<128?t+=String.fromCharCode(n):(s=e.charCodeAt(r++),n>191&&n<224?(i=(31&n)<<6,i|=63&s,t+=String.fromCharCode(i)):(a=e.charCodeAt(r++),n<240?t+=String.fromCharCode((15&n)<<12|(63&s)<<6|63&a):(o=((7&n)<<18|(63&s)<<12|(63&a)<<6|63&(i=e.charCodeAt(r++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function bG(e){var t,r,n,s=hV(2*e.length),a=1,i=0,o=0;for(r=0;r<e.length;r+=a)a=1,(n=e.charCodeAt(r))<128?t=n:n<224?(t=64*(31&n)+(63&e.charCodeAt(r+1)),a=2):n<240?(t=4096*(15&n)+64*(63&e.charCodeAt(r+1))+(63&e.charCodeAt(r+2)),a=3):(a=4,t=262144*(7&n)+4096*(63&e.charCodeAt(r+1))+64*(63&e.charCodeAt(r+2))+(63&e.charCodeAt(r+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(s[i++]=255&o,s[i++]=o>>>8,o=0),s[i++]=t%256,s[i++]=t>>>8;return s.slice(0,i).toString("ucs2")}function yG(e){return mV(e,"binary").toString("utf8")}var vG="foo bar baz",jG=uV&&(yG(vG)==gG(vG)&&yG||bG(vG)==gG(vG)&&bG)||gG,wG=uV?function(e){return mV(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,s=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(63&n)));break;case n>=55296&&n<57344:n-=55296,s=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(63&s)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(63&n)))}return t.join("")},NG=function(){var e={};return function(t,r){var n=t+"|"+(r||"");return e[n]?e[n]:e[n]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),kG=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),n=0;n<e.length;++n)r=r.replace(e[n][0],e[n][1]);return r}}(),SG=function(){var e={};return function(t){return void 0!==e[t]?e[t]:e[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),CG=/<\/?(?:vt:)?variant>/g,AG=/<(?:vt:)([^>]*)>([\s\S]*)</;function TG(e,t){var r=sG(e),n=e.match(SG(r.baseType))||[],s=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return s}return n.forEach(function(e){var t=e.replace(CG,"").match(AG);t&&s.push({v:jG(t[2]),t:t[1]})}),s}var EG=/(^\s|\s$|\n)/;function _G(e,t){return"<"+e+(t.match(EG)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function PG(e){return yH(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function DG(e,t,r){return"<"+e+(null!=r?PG(r):"")+(null!=t?(t.match(EG)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function OG(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function LG(e){if(uV&&rn.isBuffer(e))return e.toString("utf8");if("string"==typeof e)return e;if("undefined"!=typeof Uint8Array&&e instanceof Uint8Array)return jG(gV(bV(e)));throw new Error("Bad input format: expected Buffer or string")}var MG=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/gm,IG="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",RG="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",zG="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",FG="http://schemas.openxmlformats.org/package/2006/content-types",BG="http://schemas.openxmlformats.org/package/2006/relationships",qG="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",$G="http://purl.org/dc/elements/1.1/",UG="http://purl.org/dc/terms/",WG="http://purl.org/dc/dcmitype/",VG="http://schemas.openxmlformats.org/officeDocument/2006/relationships",HG="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",GG="http://www.w3.org/2001/XMLSchema-instance",KG="http://www.w3.org/2001/XMLSchema",YG=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XG="urn:schemas-microsoft-com:office:office",JG="urn:schemas-microsoft-com:office:excel",QG="urn:schemas-microsoft-com:office:spreadsheet",ZG="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",eK="http://macVmlSchemaUri",tK="urn:schemas-microsoft-com:vml",rK="http://www.w3.org/TR/REC-html40";var nK=function(e){for(var t=[],r=0;r<e[0].length;++r)if(e[0][r])for(var n=0,s=e[0][r].length;n<s;n+=10240)t.push.apply(t,e[0][r].slice(n,n+10240));return t},sK=uV?function(e){return e[0].length>0&&rn.isBuffer(e[0][0])?rn.concat(e[0].map(function(e){return rn.isBuffer(e)?e:mV(e)})):nK(e)}:nK,aK=function(e,t,r){for(var n=[],s=t;s<r;s+=2)n.push(String.fromCharCode(SK(e,s)));return n.join("").replace(vV,"")},iK=uV?function(e,t,r){return rn.isBuffer(e)?e.toString("utf16le",t,r).replace(vV,""):aK(e,t,r)}:aK,oK=function(e,t,r){for(var n=[],s=t;s<t+r;++s)n.push(("0"+e[s].toString(16)).slice(-2));return n.join("")},lK=uV?function(e,t,r){return rn.isBuffer(e)?e.toString("hex",t,t+r):oK(e,t,r)}:oK,cK=function(e,t,r){for(var n=[],s=t;s<r;s++)n.push(String.fromCharCode(kK(e,s)));return n.join("")},dK=uV?function(e,t,r){return rn.isBuffer(e)?e.toString("utf8",t,r):cK(e,t,r)}:cK,uK=function(e,t){var r=AK(e,t);return r>0?dK(e,t+4,t+4+r-1):""},mK=uK,hK=function(e,t){var r=AK(e,t);return r>0?dK(e,t+4,t+4+r-1):""},pK=hK,fK=function(e,t){var r=2*AK(e,t);return r>0?dK(e,t+4,t+4+r-1):""},xK=fK,gK=function(e,t){var r=AK(e,t);return r>0?iK(e,t+4,t+4+r):""},bK=gK,yK=function(e,t){var r=AK(e,t);return r>0?dK(e,t+4,t+4+r):""},vK=yK,jK=function(e,t){return function(e,t){for(var r=1-2*(e[t+7]>>>7),n=((127&e[t+7])<<4)+(e[t+6]>>>4&15),s=15&e[t+6],a=5;a>=0;--a)s=256*s+e[t+a];return 2047==n?0==s?r*(1/0):NaN:(0==n?n=-1022:(n-=1023,s+=Math.pow(2,52)),r*Math.pow(2,n-52)*s)}(e,t)},wK=jK,NK=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};uV&&(mK=function(e,t){if(!rn.isBuffer(e))return uK(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},pK=function(e,t){if(!rn.isBuffer(e))return hK(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},xK=function(e,t){if(!rn.isBuffer(e))return fK(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},bK=function(e,t){if(!rn.isBuffer(e))return gK(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},vK=function(e,t){if(!rn.isBuffer(e))return yK(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},wK=function(e,t){return rn.isBuffer(e)?e.readDoubleLE(t):jK(e,t)},NK=function(e){return rn.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var kK=function(e,t){return e[t]},SK=function(e,t){return 256*e[t+1]+e[t]},CK=function(e,t){var r=256*e[t+1]+e[t];return r<32768?r:-1*(65535-r+1)},AK=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},TK=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},EK=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function _K(e,t){var r,n,s,a,i,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,uV&&rn.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(SK(this,o)),o+=2;e*=2;break;case"utf8":l=dK(this,this.l,this.l+e);break;case"utf16le":e*=2,l=iK(this,this.l,this.l+e);break;case"wstr":return _K.call(this,e,"dbcs");case"lpstr-ansi":l=mK(this,this.l),e=4+AK(this,this.l);break;case"lpstr-cp":l=pK(this,this.l),e=4+AK(this,this.l);break;case"lpwstr":l=xK(this,this.l),e=4+2*AK(this,this.l);break;case"lpp4":e=4+AK(this,this.l),l=bK(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+AK(this,this.l),l=vK(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(s=kK(this,this.l+e++));)c.push(iV(s));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(s=SK(this,this.l+e));)c.push(iV(s)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return s=kK(this,o),this.l=o+1,a=_K.call(this,e-i,s?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(iV(SK(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",o=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return s=kK(this,o),this.l=o+1,a=_K.call(this,e-i,s?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(iV(kK(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return r=kK(this,this.l),this.l++,r;case 2:return r=("i"===t?CK:SK)(this,this.l),this.l+=2,r;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(n=AK(this,this.l),this.l+=4,n):(r=(e>0?TK:EK)(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return n=8==e?wK(this,this.l):wK([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,n;e=8;case 16:l=lK(this,this.l,e)}}return this.l+=e,l}var PK=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},DK=function(e,t,r){e[r]=255&t,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},OK=function(e,t,r){e[r]=255&t,e[r+1]=t>>>8&255};function LK(e,t,r){var n=0,s=0;if("dbcs"===r){for(s=0;s!=t.length;++s)OK(this,t.charCodeAt(s),this.l+2*s);n=2*t.length}else if("sbcs"===r){for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=255&t.charCodeAt(s);n=t.length}else{if("hex"===r){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}if("utf16le"===r){var a=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var i=t.charCodeAt(s);this[this.l++]=255&i,this[this.l++]=i>>8}for(;this.l<a;)this[this.l++]=0;return this}switch(e){case 1:n=1,this[this.l]=255&t;break;case 2:n=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:n=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:n=4,PK(this,t,this.l);break;case 8:if(n=8,"f"===r){!function(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=n?-t:t;isFinite(i)?0==i?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=255&a;e[r+6]=(15&s)<<4|15&a,e[r+7]=s>>4|n}(this,t,this.l);break}case 16:break;case-4:n=4,DK(this,t,this.l)}}return this.l+=n,this}function MK(e,t){var r=lK(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function IK(e,t){e.l=t,e.read_shift=_K,e.chk=MK,e.write_shift=LK}function RK(e,t){e.l+=t}function zK(e){var t=hV(e);return IK(t,0),t}function FK(e,t,r){if(e){var n,s,a;IK(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){128&(o=e.read_shift(1))&&(o=(127&o)+((127&e.read_shift(1))<<7));var c=G0[o]||G0[65535];for(a=127&(n=e.read_shift(1)),s=1;s<4&&128&n;++s)a+=(127&(n=e.read_shift(1)))<<7*s;l=e.l+a;var d=c.f&&c.f(e,a,r);if(e.l=l,t(d,c,o))return}}}function BK(){var e=[],t=uV?256:2048,r=function(e){var t=zK(e);return IK(t,0),t},n=r(t),s=function(){n&&(n.length>n.l&&((n=n.slice(0,n.l)).l=n.length),n.length>0&&e.push(n),n=null)},a=function(e){return n&&e<n.length-n.l?n:(s(),n=r(Math.max(e+1,t)))};return{next:a,push:function(e){s(),null==(n=e).l&&(n.l=n.length),a(t)},end:function(){return s(),yV(e)},_bufs:e}}function qK(e,t,r,n){var s,a=+t;if(!isNaN(a)){n||(n=G0[a].p||(r||[]).length||0),s=1+(a>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,128+(127&a)),i.write_shift(1,a>>7));for(var o=0;4!=o;++o){if(!(n>=128)){i.write_shift(1,n);break}i.write_shift(1,128+(127&n)),n>>=7}n>0&&NK(r)&&e.push(r)}}function $K(e,t,r){var n=MH(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function UK(e,t,r){var n=MH(e);return n.s=$K(n.s,t.s,r),n.e=$K(n.e,t.s,r),n}function WK(e,t){if(e.cRel&&e.c<0)for(e=MH(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=MH(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=JK(e);return e.cRel||null==e.cRel||(r=r.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(r=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(r)),r}function VK(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?WK(e.s,t.biff)+":"+WK(e.e,t.biff):(e.s.rRel?"":"$")+GK(e.s.r)+":"+(e.e.rRel?"":"$")+GK(e.e.r):(e.s.cRel?"":"$")+YK(e.s.c)+":"+(e.e.cRel?"":"$")+YK(e.e.c)}function HK(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function GK(e){return""+(e+1)}function KK(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function YK(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function XK(e){for(var t=0,r=0,n=0;n<e.length;++n){var s=e.charCodeAt(n);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(r=26*r+(s-64))}return{c:r-1,r:t-1}}function JK(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function QK(e){var t=e.indexOf(":");return-1==t?{s:XK(e),e:XK(e)}:{s:XK(e.slice(0,t)),e:XK(e.slice(t+1))}}function ZK(e,t){return void 0===t||"number"==typeof t?ZK(e.s,e.e):("string"!=typeof e&&(e=JK(e)),"string"!=typeof t&&(t=JK(t)),e==t?e:e+":"+t)}function eY(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,s=0,a=e.length;for(r=0;n<a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.s.c=--r,r=0;n<a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;if(t.s.r=--r,n===a||10!=s)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((s=e.charCodeAt(n)-64)<1||s>26);++n)r=26*r+s;for(t.e.c=--r,r=0;n!=a&&!((s=e.charCodeAt(n)-48)<0||s>9);++n)r=10*r+s;return t.e.r=--r,t}function tY(e,t){var r="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=cH(e.z,r?kH(t):t)}catch(n){}try{return e.w=cH((e.XF||{}).numFmtId||(r?14:0),r?kH(t):t)}catch(n){return""+t}}function rY(e,t,r){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),"e"==e.t?qY[e.v]||e.v:tY(e,null==t?e.v:t))}function nY(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function sY(e,t,r){var n=r||{},s=e?Array.isArray(e):n.dense,a=e||(s?[]:{}),i=0,o=0;if(a&&null!=n.origin){if("number"==typeof n.origin)i=n.origin;else{var l="string"==typeof n.origin?XK(n.origin):n.origin;i=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=eY(a["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==i&&(c.e.r=i=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[u].length;++m)if(void 0!==t[u][m]){var h={v:t[u][m]},p=i+u,f=o+m;if(c.s.r>p&&(c.s.r=p),c.s.c>f&&(c.s.c=f),c.e.r<p&&(c.e.r=p),c.e.c<f&&(c.e.c=f),!t[u][m]||"object"!=typeof t[u][m]||Array.isArray(t[u][m])||t[u][m]instanceof Date)if(Array.isArray(h.v)&&(h.f=t[u][m][1],h.v=h.v[0]),null===h.v)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else{if(!n.sheetStubs)continue;h.t="z"}else"number"==typeof h.v?h.t="n":"boolean"==typeof h.v?h.t="b":h.v instanceof Date?(h.z=n.dateNF||PV[14],n.cellDates?(h.t="d",h.w=cH(h.z,kH(h.v))):(h.t="n",h.v=kH(h.v),h.w=cH(h.z,h.v))):h.t="s";else h=t[u][m];if(s)a[p]||(a[p]=[]),a[p][f]&&a[p][f].z&&(h.z=a[p][f].z),a[p][f]=h;else{var x=JK({c:f,r:p});a[x]&&a[x].z&&(h.z=a[x].z),a[x]=h}}}return c.s.c<1e7&&(a["!ref"]=ZK(c)),a}function aY(e,t){return sY(null,e,t)}function iY(e,t){return t||(t=zK(4)),t.write_shift(4,e),t}function oY(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function lY(e,t){var r=!1;return null==t&&(r=!0,t=zK(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function cY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dY(e,t){var r=e.l,n=e.read_shift(1),s=oY(e),a=[],i={t:s,h:s};if(1&n){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(cY(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var uY=dY;function mY(e,t){var r=!1;return null==t&&(r=!0,t=zK(23+4*e.t.length)),t.write_shift(1,1),lY(e.t,t),t.write_shift(4,1),function(e,t){t||(t=zK(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),r?t.slice(0,t.l):t}function hY(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function pY(e,t){return null==t&&(t=zK(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function fY(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function xY(e,t){return null==t&&(t=zK(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gY=oY,bY=lY;function yY(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function vY(e,t){var r=!1;return null==t&&(r=!0,t=zK(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var jY=oY,wY=yY,NY=vY;function kY(e){var t=e.slice(e.l,e.l+4),r=1&t[0],n=2&t[0];e.l+=4;var s=0===n?wK([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):TK(t,0)>>2;return r?s/100:s}function SY(e,t){null==t&&(t=zK(4));var r=0,n=0,s=100*e;if(e==(0|e)&&e>=-536870912&&e<1<<29?n=1:s==(0|s)&&s>=-536870912&&s<1<<29&&(n=1,r=1),!n)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((r?s:e)<<2)+(r+2))}function CY(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var AY=CY,TY=function(e,t){return t||(t=zK(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function EY(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _Y(e,t){return(t||zK(8)).write_shift(8,e,"f")}function PY(e,t){if(t||(t=zK(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),e.rgb&&null==e.theme){var n=e.rgb||"FFFFFF";"number"==typeof n&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}function DY(e,t){var r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return{2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"}[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,1==t?"lpstr":"lpwstr")}var OY=80,LY=[OY,81],MY={1:{n:"CodePage",t:2},2:{n:"Category",t:OY},3:{n:"PresentationFormat",t:OY},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:OY},15:{n:"Company",t:OY},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:OY},27:{n:"ContentStatus",t:OY},28:{n:"Language",t:OY},29:{n:"Version",t:OY},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},IY={1:{n:"CodePage",t:2},2:{n:"Title",t:OY},3:{n:"Subject",t:OY},4:{n:"Author",t:OY},5:{n:"Keywords",t:OY},6:{n:"Comments",t:OY},7:{n:"Template",t:OY},8:{n:"LastAuthor",t:OY},9:{n:"RevNumber",t:OY},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:OY},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},RY={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},zY=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function FY(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var BY=MH(FY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),qY={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},$Y={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},UY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},WY={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function VY(e,t){var r,n=function(e){for(var t=[],r=yH(e),n=0;n!==r.length;++n)null==t[e[r[n]]]&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}(UY),s=[];s[s.length]=QH,s[s.length]=DG("Types",null,{xmlns:FG,"xmlns:xsd":KG,"xmlns:xsi":GG}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return DG("Default",null,{Extension:e[0],ContentType:e[1]})}));var a=function(n){e[n]&&e[n].length>0&&(r=e[n][0],s[s.length]=DG("Override",null,{PartName:("/"==r[0]?"":"/")+r,ContentType:WY[n][t.bookType]||WY[n].xlsx}))},i=function(r){(e[r]||[]).forEach(function(e){s[s.length]=DG("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:WY[r][t.bookType]||WY[r].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){s[s.length]=DG("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:n[t][0]})})};return a("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var HY={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function GY(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function KY(e,t){var r={"!id":{}};if(!e)return r;"/"!==t.charAt(0)&&(t="/"+t);var n={};return(e.match(tG)||[]).forEach(function(e){var s=sG(e);if("<Relationship"===s[0]){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var i="External"===s.TargetMode?s.Target:JH(s.Target,t);r[i]=a,n[s.Id]=a}}),r["!id"]=n,r}function YY(e){var t=[QH,DG("Relationships",null,{xmlns:BG})];return yH(e["!id"]).forEach(function(r){t[t.length]=DG("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function XY(e,t,r,n,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=n,s.Target=r,[HY.HLINK,HY.XPATH,HY.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function JY(e,t,r){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function QY(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function ZY(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+YW.version+"</meta:generator></office:meta></office:document-meta>"}var eX=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],tX=function(){for(var e=new Array(eX.length),t=0;t<eX.length;++t){var r=eX[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function rX(e){var t={};e=jG(e);for(var r=0;r<eX.length;++r){var n=eX[r],s=e.match(tX[r]);null!=s&&s.length>0&&(t[n[1]]=lG(s[1])),"date"===n[2]&&t[n[1]]&&(t[n[1]]=OH(t[n[1]]))}return t}function nX(e,t,r,n,s){null==s[e]&&null!=t&&""!==t&&(s[e]=t,t=uG(t),n[n.length]=r?DG(e,t,r):_G(e,t))}function sX(e,t){var r=t||{},n=[QH,DG("cp:coreProperties",null,{"xmlns:cp":IG,"xmlns:dc":$G,"xmlns:dcterms":UG,"xmlns:dcmitype":WG,"xmlns:xsi":GG})],s={};if(!e&&!r.Props)return n.join("");e&&(null!=e.CreatedDate&&nX("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:OG(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s),null!=e.ModifiedDate&&nX("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:OG(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,s));for(var a=0;a!=eX.length;++a){var i=eX[a],o=r.Props&&null!=r.Props[i[1]]?r.Props[i[1]]:e?e[i[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&nX(i[0],o,null,n,s)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var aX=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function oX(e,t,r,n){var s=[];if("string"==typeof e)s=TG(e,n);else for(var a=0;a<e.length;++a)s=s.concat(e[a].map(function(e){return{v:e}}));var i="string"==typeof t?TG(t,n).map(function(e){return e.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==s.length;c+=2){switch(l=+s[c+1].v,s[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l)}o+=l}}function lX(e){var t=[],r=DG;return e||(e={}),e.Application="SheetJS",t[t.length]=QH,t[t.length]=DG("Properties",null,{xmlns:zG,"xmlns:vt":HG}),aX.forEach(function(n){if(void 0!==e[n[1]]){var s;switch(n[2]){case"string":s=uG(String(e[n[1]]));break;case"bool":s=e[n[1]]?"true":"false"}void 0!==s&&(t[t.length]=r(n[0],s))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+uG(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var cX=/<[^>]+>[^<]*/g;function dX(e){var t=[QH,DG("Properties",null,{xmlns:RG,"xmlns:vt":HG})];if(!e)return t.join("");var r=1;return yH(e).forEach(function(n){++r,t[t.length]=DG("property",function(e){switch(typeof e){case"string":var t=DG("vt:lpwstr",uG(e));return t.replace(/&quot;/g,"_x0022_");case"number":return DG((0|e)==e?"vt:i4":"vt:r8",uG(String(e)));case"boolean":return DG("vt:bool",e?"true":"false")}if(e instanceof Date)return DG("vt:filetime",OG(e));throw new Error("Unable to serialize "+e)}(e[n]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:uG(n)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var uX,mX={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hX(e,t,r){uX||(uX=jH(mX)),e[t=uX[t]||t]=r}function pX(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date(1e3*(r/1e7*Math.pow(2,32)+t/1e7-11644473600)).toISOString().replace(/\.000/,"")}function fX(e,t,r){var n=e.l,s=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return s}function xX(e,t,r){return e.read_shift(0,"lpwstr")}function gX(e,t,r){return 31===t?xX(e):fX(e,0,r)}function bX(e,t,r){return gX(e,t,!1===r?0:4)}function yX(e){var t=e.l,r=wX(e,81);return 0==e[e.l]&&0==e[e.l+1]&&e.l-t&2&&(e.l+=2),[r,wX(e,3)]}function vX(e,t){for(var r=e.read_shift(4),n={},s=0;s!=r;++s){var a=e.read_shift(4),i=e.read_shift(4);n[a]=e.read_shift(i,1200===t?"utf16le":"utf8").replace(vV,"").replace(jV,"!"),1200===t&&i%2&&(e.l+=2)}return 3&e.l&&(e.l=e.l>>3<<2),n}function jX(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(3&t)>0&&(e.l+=4-(3&t)&3),r}function wX(e,t,r){var n,s=e.read_shift(2),a=r||{};if(e.l+=2,12!==t&&s!==t&&-1===LY.indexOf(t)&&(4126!=(65534&t)||4126!=(65534&s)))throw new Error("Expected type "+t+" saw "+s);switch(12===t?s:t){case 2:return n=e.read_shift(2,"i"),a.raw||(e.l+=2),n;case 3:return n=e.read_shift(4,"i");case 11:return 0!==e.read_shift(4);case 19:return n=e.read_shift(4);case 30:return fX(e,0,4).replace(vV,"");case 31:return xX(e);case 64:return pX(e);case 65:return jX(e);case 71:return function(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}(e);case 80:return bX(e,s,!a.raw).replace(vV,"");case 81:return function(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return gX(e,t,0)}(e,s).replace(vV,"");case 4108:return function(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(yX(e));return r}(e);case 4126:case 4127:return 4127==s?function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var s=e.l;r[n]=e.read_shift(0,"lpwstr").replace(vV,""),e.l-s&2&&(e.l+=2)}return r}(e):function(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(vV,"");return r}(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+s)}}function NX(e,t){var r=zK(4),n=zK(4);switch(r.write_shift(4,80==e?31:e),e){case 3:n.write_shift(-4,t);break;case 5:(n=zK(8)).write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,r=t%Math.pow(2,32),n=(t-r)/Math.pow(2,32);n*=1e7;var s=(r*=1e7)/Math.pow(2,32)|0;s>0&&(r%=Math.pow(2,32),n+=s);var a=zK(8);return a.write_shift(4,r),a.write_shift(4,n),a}(t);break;case 31:case 80:for((n=zK(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return yV([r,n])}function kX(e,t){var r=e.l,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0,o=0,l=-1,c={};for(i=0;i!=s;++i){var d=e.read_shift(4),u=e.read_shift(4);a[i]=[d,u+r]}a.sort(function(e,t){return e[1]-t[1]});var m={};for(i=0;i!=s;++i){if(e.l!==a[i][1]){var h=!0;if(i>0&&t)switch(t[a[i-1][0]].t){case 2:e.l+2===a[i][1]&&(e.l+=2,h=!1);break;case 80:case 4108:e.l<=a[i][1]&&(e.l=a[i][1],h=!1)}if((!t||0==i)&&e.l<=a[i][1]&&(h=!1,e.l=a[i][1]),h)throw new Error("Read Error: Expected address "+a[i][1]+" at "+e.l+" :"+i)}if(t){var p=t[a[i][0]];if(m[p.n]=wX(e,p.t,{raw:!0}),"version"===p.p&&(m[p.n]=String(m[p.n]>>16)+"."+("0000"+String(65535&m[p.n])).slice(-4)),"CodePage"==p.n)switch(m[p.n]){case 0:m[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:eV(o=m[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+m[p.n])}}else if(1===a[i][0]){if(o=m.CodePage=wX(e,2),eV(o),-1!==l){var f=e.l;e.l=a[l][1],c=vX(e,o),e.l=f}}else if(0===a[i][0]){if(0===o){l=i,e.l=a[i+1][1];continue}c=vX(e,o)}else{var x,g=c[a[i][0]];switch(e[e.l]){case 65:e.l+=4,x=jX(e);break;case 30:case 31:e.l+=4,x=bX(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=PX(e,4);break;case 64:e.l+=4,x=OH(pX(e));break;default:throw new Error("unparsed value: "+e[e.l])}m[g]=x}}return e.l=r+n,m}var SX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function CX(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function AX(e,t,r){var n=zK(8),s=[],a=[],i=8,o=0,l=zK(8),c=zK(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),s.push(c),i+=8+l.length,!t){(c=zK(8)).write_shift(4,0),s.unshift(c);var d=[zK(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=zK(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=yV(d),a.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(SX.indexOf(e[o][0])>-1||iX.indexOf(e[o][0])>-1)&&null!=e[o][1]){var m=e[o][1],h=0;if(t){var p=r[h=+t[e[o][0]]];if("version"==p.p&&"string"==typeof m){var f=m.split(".");m=(+f[0]<<16)+(+f[1]||0)}l=NX(p.t,m)}else{var x=CX(m);-1==x&&(x=31,m=String(m)),l=NX(x,m)}a.push(l),(c=zK(8)).write_shift(4,t?h:2+o),s.push(c),i+=8+l.length}var g=8*(a.length+1);for(o=0;o<a.length;++o)s[o].write_shift(4,g),g+=a[o].length;return n.write_shift(4,i),n.write_shift(4,a.length),yV([n].concat(s).concat(a))}function TX(e,t,r){var n=e.content;if(!n)return{};IK(n,0);var s,a,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),d=n.read_shift(16);if(d!==xH.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(1!==(s=n.read_shift(4))&&2!==s)throw new Error("Unrecognized #Sets: "+s);if(a=n.read_shift(16),o=n.read_shift(4),1===s&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);2===s&&(i=n.read_shift(16),l=n.read_shift(4));var u,m=kX(n,t),h={SystemIdentifier:c};for(var p in m)h[p]=m[p];if(h.FMTID=a,1===s)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);try{u=kX(n,null)}catch(f){}for(p in u)h[p]=u[p];return h.FMTID=[a,i],h}function EX(e,t,r,n,s,a){var i=zK(s?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,xH.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,s?68:48);var l=AX(e,r,n);if(o.push(l),s){var c=AX(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),o.push(c)}return yV(o)}function _X(e,t){return e.read_shift(t),null}function PX(e,t){return 1===e.read_shift(t)}function DX(e,t){return t||(t=zK(2)),t.write_shift(2,+!!e),t}function OX(e){return e.read_shift(2,"u")}function LX(e,t){return t||(t=zK(2)),t.write_shift(2,e),t}function MX(e,t){return function(e,t,r){for(var n=[],s=e.l+t;e.l<s;)n.push(r(e,s-e.l));if(s!==e.l)throw new Error("Slurp error");return n}(e,t,OX)}function IX(e,t,r){return r||(r=zK(2)),r.write_shift(1,"e"==t?+e:+!!e),r.write_shift(1,"e"==t?1:0),r}function RX(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),s="sbcs-cont";(r&&r.biff,r&&8!=r.biff)?12==r.biff&&(s="wstr"):e.read_shift(1)&&(s="dbcs-cont");return r.biff>=2&&r.biff<=5&&(s="cpstr"),n?e.read_shift(n,s):""}function zX(e){var t,r=e.read_shift(2),n=e.read_shift(1),s=4&n,a=8&n,i=1+(1&n),o=0,l={};a&&(o=e.read_shift(2)),s&&(t=e.read_shift(4));var c=2==i?"dbcs-cont":"sbcs-cont",d=0===r?"":e.read_shift(r,c);return a&&(e.l+=4*o),s&&(e.l+=t),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function FX(e){var t=e.t||"",r=zK(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=zK(2*t.length);return n.write_shift(2*t.length,t,"utf16le"),yV([r,n])}function BX(e,t,r){if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function qX(e,t,r){var n=e.read_shift(r&&2==r.biff?1:2);return 0===n?(e.l++,""):BX(e,n,r)}function $X(e,t,r){if(r.biff>5)return qX(e,0,r);var n=e.read_shift(1);return 0===n?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function UX(e,t,r){return r||(r=zK(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function WX(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return function(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,"795881f43b1d7f48af2c825dc4852763"===e.read_shift(16)&&(n=!0),e.l=r);var s=e.read_shift((n?t-24:t)>>1,"utf16le").replace(vV,"");return n&&(e.l+=24),s}(e);case"0303000000000000c000000000000046":return function(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,57005!=e.read_shift(2))throw new Error("Bad FileMoniker");if(0===e.read_shift(4))return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(3!=e.read_shift(2))throw new Error("Bad FileMoniker");return r+e.read_shift(s>>1,"utf16le").replace(vV,"")}(e);default:throw new Error("Unsupported Moniker "+r)}}function VX(e){var t=e.read_shift(4);return t>0?e.read_shift(t,"utf16le").replace(vV,""):""}function HX(e,t){t||(t=zK(6+2*e.length)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function GX(e){var t=zK(512),r=0,n=e.Target;"file://"==n.slice(0,7)&&(n=n.slice(7));var s=n.indexOf("#"),a=s>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(r=0;r<i.length;++r)t.write_shift(4,i[r]);if(28==a)HX(n=n.slice(1),t);else if(2&a){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));var o=s>-1?n.slice(0,s):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),8&a&&HX(s>-1?n.slice(s+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<i.length;++r)t.write_shift(1,parseInt(i[r],16));for(var l=0;"../"==n.slice(3*l,3*l+3)||"..\\"==n.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,255&n.charCodeAt(r+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function KX(e){return[e.read_shift(1),e.read_shift(1),e.read_shift(1),e.read_shift(1)]}function YX(e,t){var r=KX(e);return r[3]=0,r}function XX(e){return{r:e.read_shift(2),c:e.read_shift(2),ixfe:e.read_shift(2)}}function JX(e,t,r,n){return n||(n=zK(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function QX(e,t,r){var n=r.biff>8?4:2;return[e.read_shift(n),e.read_shift(n,"i"),e.read_shift(n,"i")]}function ZX(e){return[e.read_shift(2),kY(e)]}function eJ(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:r}}}function tJ(e,t){return t||(t=zK(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function rJ(e){var t=e.read_shift(2),r=e.read_shift(2);return{s:{c:e.read_shift(1),r:t},e:{c:e.read_shift(1),r:r}}}var nJ=rJ;function sJ(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function aJ(e){e.l+=2,e.l+=e.read_shift(2)}var iJ={0:aJ,4:aJ,5:aJ,6:aJ,7:function(e){return e.l+=4,e.cf=e.read_shift(2),{}},8:aJ,9:aJ,10:aJ,11:aJ,12:aJ,13:function(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t},14:aJ,15:aJ,16:aJ,17:aJ,18:aJ,19:aJ,20:aJ,21:sJ};function oJ(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),(t-=2)>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function lJ(e,t,r){var n=1536,s=16;switch(r.bookType){case"biff8":case"xla":break;case"biff5":n=1280,s=8;break;case"biff4":n=4,s=6;break;case"biff3":n=3,s=6;break;case"biff2":n=2,s=4;break;default:throw new Error("unsupported BIFF version")}var a=zK(s);return a.write_shift(2,n),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function cJ(e,t){var r=!t||t.biff>=8?2:1,n=zK(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=n.slice(0,n.l);return s.l=n.l,s}function dJ(e,t,r){var n=0;r&&2==r.biff||(n=e.read_shift(2));var s=e.read_shift(2);return r&&2==r.biff&&(n=1-(s>>15),s&=32767),[{Unsynced:1&n,DyZero:(2&n)>>1,ExAsc:(4&n)>>2,ExDsc:(8&n)>>3},s]}function uJ(e,t,r,n){var s=r&&5==r.biff;n||(n=zK(s?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(s?1:2,t.length),s||n.write_shift(1,1),n.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return null==a.l&&(a.l=a.length),a}var mJ=$X;function hJ(e,t,r){var n=e.l+t,s=8!=r.biff&&r.biff?2:4,a=e.read_shift(s),i=e.read_shift(s),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:i,c:l}}}function pJ(e,t,r,n){var s=r&&5==r.biff;n||(n=zK(s?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),s||n.write_shift(4,0),n.write_shift(2,0),n}function fJ(e,t,r){var n=XX(e);2!=r.biff&&9!=t||++e.l;var s=function(e){var t=e.read_shift(1);return 1===e.read_shift(1)?t:1===t}(e);return n.val=s,n.t=!0===s||!1===s?"b":"e",n}var xJ=function(e,t,r){return 0===t?"":$X(e,0,r)};function gJ(e,t,r){var n,s=e.read_shift(2),a={fBuiltIn:1&s,fWantAdvise:s>>>1&1,fWantPict:s>>>2&1,fOle:s>>>3&1,fOleLink:s>>>4&1,cf:s>>>5&1023,fIcon:s>>>15&1};return 14849===r.sbcch&&(n=function(e,t,r){e.l+=4,t-=4;var n=e.l+t,s=RX(e,0,r),a=e.read_shift(2);if(a!==(n-=e.l))throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,s}(e,t-2,r)),a.body=n||e.read_shift(t-2),"string"==typeof n&&(a.Name=n),a}var bJ=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function yJ(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&2==r.biff?1:2),l=0;(!r||r.biff>=5)&&(5!=r.biff&&(e.l+=2),l=e.read_shift(2),5==r.biff&&(e.l+=2),e.l+=4);var c=BX(e,i,r);32&s&&(c=bJ[c.charCodeAt(0)]);var d=n-e.l;r&&2==r.biff&&--d;var u=n!=e.l&&0!==o&&d>0?function(e,t,r,n){var s,a=e.l+t,i=LZ(e,n,r);a!==e.l&&(s=OZ(e,a-e.l,i,r));return[i,s]}(e,d,r,o):[];return{chKey:a,Name:c,itab:l,rgce:u}}function vJ(e,t,r){if(r.biff<8)return function(e,t,r){3==e[e.l+1]&&e[e.l]++;var n=RX(e,0,r);return 3==n.charCodeAt(0)?n.slice(1):n}(e,0,r);for(var n=[],s=e.l+t,a=e.read_shift(r.biff>8?4:2);0!==a--;)n.push(QX(e,r.biff,r));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return n}function jJ(e,t,r){var n=nJ(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,BZ(e,t,r)]}var wJ={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var s=e.read_shift(1);return e.l+=s,e.l=r,{fmt:n}}};function NJ(e){var t=zK(24),r=XK(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(n[s],16));return yV([t,GX(e[1])])}function kJ(e){var t=e[1].Tooltip,r=zK(10+2*(t.length+1));r.write_shift(2,2048);var n=XK(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var s=0;s<t.length;++s)r.write_shift(2,t.charCodeAt(s));return r.write_shift(2,0),r}function SJ(e,t,r){if(!r.cellStyles)return RK(e,t);var n=r&&r.biff>=12?4:2,s=e.read_shift(n),a=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);2==n&&(e.l+=2);var c={s:s,e:a,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}var CJ=XX,AJ=MX,TJ=qX;var EJ=[2,3,48,49,131,139,140,245],_J=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=jH({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(t,r){var n=r||{};n.dateNF||(n.dateNF="yyyymmdd");var s=aY(function(t,r){var n=[],s=hV(1);switch(r.type){case"base64":s=fV(dV(t));break;case"binary":s=fV(t);break;case"buffer":case"array":s=t}IK(s,0);var a=s.read_shift(1),i=!!(136&a),o=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,d=521;2==a&&(c=s.read_shift(2)),s.l+=3,2!=a&&(c=s.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(d=s.read_shift(2));var u=s.read_shift(2),m=r.codepage||1252;2!=a&&(s.l+=16,s.read_shift(1),0!==s[s.l]&&(m=e[s[s.l]]),s.l+=1,s.l+=2),l&&(s.l+=36);for(var h=[],p={},f=Math.min(s.length,2==a?521:d-10-(o?264:0)),x=l?32:11;s.l<f&&13!=s[s.l];)switch((p={}).name=sV.utils.decode(m,s.slice(s.l,s.l+x)).replace(/[\u0000\r\n].*$/g,""),s.l+=x,p.type=String.fromCharCode(s.read_shift(1)),2==a||l||(p.offset=s.read_shift(4)),p.len=s.read_shift(1),2==a&&(p.offset=s.read_shift(2)),p.dec=s.read_shift(1),p.name.length&&h.push(p),2!=a&&(s.l+=l?13:14),p.type){case"B":(!o||8!=p.len)&&r.WTF;break;case"G":case"P":r.WTF;break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==s[s.l]&&(s.l=d-1),13!==s.read_shift(1))throw new Error("DBF Terminator not found "+s.l+" "+s[s.l]);s.l=d;var g=0,b=0;for(n[0]=[],b=0;b!=h.length;++b)n[0][b]=h[b].name;for(;c-- >0;)if(42!==s[s.l])for(++s.l,n[++g]=[],b=0,b=0;b!=h.length;++b){var y=s.slice(s.l,s.l+h[b].len);s.l+=h[b].len,IK(y,0);var v=sV.utils.decode(m,y);switch(h[b].type){case"C":v.trim().length&&(n[g][b]=v.replace(/\s+$/,""));break;case"D":8===v.length?n[g][b]=new Date(+v.slice(0,4),+v.slice(4,6)-1,+v.slice(6,8)):n[g][b]=v;break;case"F":n[g][b]=parseFloat(v.trim());break;case"+":case"I":n[g][b]=l?2147483648^y.read_shift(-4,"i"):y.read_shift(4,"i");break;case"L":switch(v.trim().toUpperCase()){case"Y":case"T":n[g][b]=!0;break;case"N":case"F":n[g][b]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+v+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));n[g][b]="##MEMO##"+(l?parseInt(v.trim(),10):y.read_shift(4));break;case"N":(v=v.replace(/\u0000/g,"").trim())&&"."!=v&&(n[g][b]=+v||0);break;case"@":n[g][b]=new Date(y.read_shift(-8,"f")-621356832e5);break;case"T":n[g][b]=new Date(864e5*(y.read_shift(4)-2440588)+y.read_shift(4));break;case"Y":n[g][b]=y.read_shift(4,"i")/1e4+y.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":n[g][b]=-y.read_shift(-8,"f");break;case"B":if(o&&8==h[b].len){n[g][b]=y.read_shift(8,"f");break}case"G":case"P":y.l+=h[b].len;break;case"0":if("_NullFlags"===h[b].name)break;default:throw new Error("DBF Unsupported data type "+h[b].type)}}else s.l+=u;if(2!=a&&s.l<s.length&&26!=s[s.l++])throw new Error("DBF EOF Marker missing "+(s.l-1)+" of "+s.length+" "+s[s.l-1].toString(16));return r&&r.sheetRows&&(n=n.slice(0,r.sheetRows)),r.DBF=h,n}(t,n),n);return s["!cols"]=n.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete n.DBF,s}var n={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return nY(r(e,t),t)}catch(n){if(t&&t.WTF)throw n}return{SheetNames:[],Sheets:{}}},to_sheet:r,from_sheet:function(e,r){var s=r||{};if(+s.codepage>=0&&eV(+s.codepage),"string"==s.type)throw new Error("Cannot write DBF to JS string");var a=BK(),i=u3(e,{header:1,raw:!0,cellDates:!0}),o=i[0],l=i.slice(1),c=e["!cols"]||[],d=0,u=0,m=0,h=1;for(d=0;d<o.length;++d)if(((c[d]||{}).DBF||{}).name)o[d]=c[d].DBF.name,++m;else if(null!=o[d]){if(++m,"number"==typeof o[d]&&(o[d]=o[d].toString(10)),"string"!=typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var p=eY(e["!ref"]),f=[],x=[],g=[];for(d=0;d<=p.e.c-p.s.c;++d){var b="",y="",v=0,j=[];for(u=0;u<l.length;++u)null!=l[u][d]&&j.push(l[u][d]);if(0!=j.length&&null!=o[d]){for(u=0;u<j.length;++u){switch(typeof j[u]){case"number":y="B";break;case"string":default:y="C";break;case"boolean":y="L";break;case"object":y=j[u]instanceof Date?"D":"C"}v=Math.max(v,String(j[u]).length),b=b&&b!=y?"C":y}v>250&&(v=250),"C"==(y=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>v&&(v=c[d].DBF.len),"B"==b&&"N"==y&&(b="N",g[d]=c[d].DBF.dec,v=c[d].DBF.len),x[d]="C"==b||"N"==y?v:n[b]||0,h+=x[d],f[d]=b}else f[d]="?"}var w=a.next(32);for(w.write_shift(4,318902576),w.write_shift(4,l.length),w.write_shift(2,296+32*m),w.write_shift(2,h),d=0;d<4;++d)w.write_shift(4,0);for(w.write_shift(4,(+t[XW]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var N=a.next(32),k=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,k,"sbcs"),N.write_shift(1,"?"==f[d]?"C":f[d],"sbcs"),N.write_shift(4,u),N.write_shift(1,x[d]||n[f[d]]||0),N.write_shift(1,g[d]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),u+=x[d]||n[f[d]]||0}var S=a.next(264);for(S.write_shift(4,13),d=0;d<65;++d)S.write_shift(4,0);for(d=0;d<l.length;++d){var C=a.next(h);for(C.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(f[u]){case"L":C.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":C.write_shift(8,l[d][u]||0,"f");break;case"N":var A="0";for("number"==typeof l[d][u]&&(A=l[d][u].toFixed(g[u]||0)),m=0;m<x[u]-A.length;++m)C.write_shift(1,32);C.write_shift(1,A,"sbcs");break;case"D":l[d][u]?(C.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var T=String(null!=l[d][u]?l[d][u]:"").slice(0,x[u]);for(C.write_shift(1,T,"sbcs"),m=0;m<x[u]-T.length;++m)C.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),PJ=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+yH(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(t,r){var n=e[r];return"number"==typeof n?oV(n):n},n=function(e,t,r){var n=t.charCodeAt(0)-32<<4|r.charCodeAt(0)-48;return 59==n?e:oV(n)};function s(e,s){var a,i=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],m=[],h=null,p={},f=[],x=[],g=[],b=0;for(+s.codepage>=0&&eV(+s.codepage);c!==i.length;++c){b=0;var y,v=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=v.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),w=j[0];if(v.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==j[1].charAt(0)&&m.push(v.slice(3).replace(/;;/g,";"));break;case"C":var N=!1,k=!1,S=!1,C=!1,A=-1,T=-1;for(d=1;d<j.length;++d)switch(j[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(j[d].slice(1))-1,k=!0;break;case"Y":for(o=parseInt(j[d].slice(1))-1,k||(l=0),a=u.length;a<=o;++a)u[a]=[];break;case"K":'"'===(y=j[d].slice(1)).charAt(0)?y=y.slice(1,y.length-1):"TRUE"===y?y=!0:"FALSE"===y?y=!1:isNaN(RH(y))?isNaN(FH(y).getDate())||(y=OH(y)):(y=RH(y),null!==h&&aH(h)&&(y=TH(y))),N=!0;break;case"E":C=!0;var E=lZ(j[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],E];break;case"S":S=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":A=parseInt(j[d].slice(1))-1;break;case"C":T=parseInt(j[d].slice(1))-1;break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+v)}if(N&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=y:u[o][l]=y,h=null),S){if(C)throw new Error("SYLK shared formula cannot have own formula");var _=A>-1&&u[A][T];if(!_||!_[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=uZ(_[1],{r:o-A,c:l-T})}break;case"F":var P=0;for(d=1;d<j.length;++d)switch(j[d].charAt(0)){case"X":l=parseInt(j[d].slice(1))-1,++P;break;case"Y":for(o=parseInt(j[d].slice(1))-1,a=u.length;a<=o;++a)u[a]=[];break;case"M":b=parseInt(j[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":h=m[parseInt(j[d].slice(1))];break;case"W":for(g=j[d].slice(1).split(" "),a=parseInt(g[0],10);a<=parseInt(g[1],10);++a)b=parseInt(g[2],10),x[a-1]=0===b?{hidden:!0}:{wch:b},gQ(x[a-1]);break;case"C":x[l=parseInt(j[d].slice(1))-1]||(x[l]={});break;case"R":f[o=parseInt(j[d].slice(1))-1]||(f[o]={}),b>0?(f[o].hpt=b,f[o].hpx=vQ(b)):0===b&&(f[o].hidden=!0);break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+v)}P<1&&(h=null);break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+v)}}return f.length>0&&(p["!rows"]=f),x.length>0&&(p["!cols"]=x),s&&s.sheetRows&&(u=u.slice(0,s.sheetRows)),[u,p]}function a(e,t){var r=function(e,t){switch(t.type){case"base64":return s(dV(e),t);case"binary":return s(e,t);case"buffer":return s(uV&&rn.isBuffer(e)?e.toString("binary"):gV(e),t);case"array":return s(LH(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),n=r[0],a=r[1],i=aY(n,t);return yH(a).forEach(function(e){i[e]=a[e]}),i}function i(e,t,r,n){var s="C;Y"+(r+1)+";X"+(n+1)+";K";switch(e.t){case"n":s+=e.v||0,e.f&&!e.F&&(s+=";E"+dZ(e.f,{r:r,c:n}));break;case"b":s+=e.v?"TRUE":"FALSE";break;case"e":s+=e.w||e.v;break;case"d":s+='"'+(e.w||e.v)+'"';break;case"s":s+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return s}return e["|"]=254,{to_workbook:function(e,t){return nY(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var r,n,s=["ID;PWXL;N;E"],a=[],o=eY(e["!ref"]),l=Array.isArray(e),c="\r\n";s.push("P;PGeneral"),s.push("F;P0;DG0G8;M255"),e["!cols"]&&(n=s,e["!cols"].forEach(function(e,t){var r="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?r+="0":("number"!=typeof e.width||e.wpx||(e.wpx=mQ(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=hQ(e.wpx)),"number"==typeof e.wch&&(r+=Math.round(e.wch)))," "!=r.charAt(r.length-1)&&n.push(r)})),e["!rows"]&&function(e,t){t.forEach(function(t,r){var n="F;";t.hidden?n+="M0;":t.hpt?n+="M"+20*t.hpt+";":t.hpx&&(n+="M"+20*yQ(t.hpx)+";"),n.length>2&&e.push(n+"R"+(r+1))})}(s,e["!rows"]),s.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var d=o.s.r;d<=o.e.r;++d)for(var u=o.s.c;u<=o.e.c;++u){var m=JK({r:d,c:u});(r=l?(e[d]||[])[u]:e[m])&&(null!=r.v||r.f&&!r.F)&&a.push(i(r,0,d,u))}return s.join(c)+c+a.join(c)+c+"E"+c}}}(),DJ=function(){function e(e,t){for(var r=e.split("\n"),n=-1,s=-1,a=0,i=[];a!==r.length;++a)if("BOT"!==r[a].trim()){if(!(n<0)){for(var o=r[a].trim().split(","),l=o[0],c=o[1],d=r[++a]||"";1&(d.match(/["]/g)||[]).length&&a<r.length-1;)d+="\n"+r[++a];switch(d=d.trim(),+l){case-1:if("BOT"===d){i[++n]=[],s=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?i[n][s]=!0:"FALSE"===d?i[n][s]=!1:isNaN(RH(c))?isNaN(FH(c).getDate())?i[n][s]=c:i[n][s]=OH(c):i[n][s]=RH(c),++s;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),i[n][s++]=""!==d?d:null}if("EOD"===d)break}}else i[++n]=[],s=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,r){return aY(function(t,r){switch(r.type){case"base64":return e(dV(t),r);case"binary":return e(t,r);case"buffer":return e(uV&&rn.isBuffer(t)?t.toString("binary"):gV(t),r);case"array":return e(LH(t),r)}throw new Error("Unrecognized type "+r.type)}(t,r),r)}return{to_workbook:function(e,r){return nY(t(e,r),r)},to_sheet:t,from_sheet:function(){var e=function(e,t,r,n,s){e.push(t),e.push(r+","+n),e.push('"'+s.replace(/"/g,'""')+'"')},t=function(e,t,r,n){e.push(t+","+r),e.push(1==t?'"'+n.replace(/"/g,'""')+'"':n)};return function(r){var n,s=[],a=eY(r["!ref"]),i=Array.isArray(r);e(s,"TABLE",0,1,"sheetjs"),e(s,"VECTORS",0,a.e.r-a.s.r+1,""),e(s,"TUPLES",0,a.e.c-a.s.c+1,""),e(s,"DATA",0,0,"");for(var o=a.s.r;o<=a.e.r;++o){t(s,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=JK({r:o,c:l});if(n=i?(r[o]||[])[l]:r[c])switch(n.t){case"n":var d=n.w;d||null==n.v||(d=n.v),null==d?n.f&&!n.F?t(s,1,0,"="+n.f):t(s,1,0,""):t(s,0,d,"V");break;case"b":t(s,0,n.v?1:0,n.v?"TRUE":"FALSE");break;case"s":t(s,1,0,isNaN(n.v)?n.v:'="'+n.v+'"');break;case"d":n.w||(n.w=cH(n.z||PV[14],kH(OH(n.v)))),t(s,0,n.w,"V");break;default:t(s,1,0,"")}else t(s,1,0,"")}}t(s,-1,0,"EOD");return s.join("\r\n")}}()}}(),OJ=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(t,r){return aY(function(t,r){for(var n=t.split("\n"),s=-1,a=-1,i=0,o=[];i!==n.length;++i){var l=n[i].trim().split(":");if("cell"===l[0]){var c=XK(l[1]);if(o.length<=c.r)for(s=o.length;s<=c.r;++s)o[s]||(o[s]=[]);switch(s=c.r,a=c.c,l[2]){case"t":o[s][a]=e(l[3]);break;case"v":o[s][a]=+l[3];break;case"vtf":var d=l[l.length-1];case"vtc":"nl"===l[3]?o[s][a]=!!+l[4]:o[s][a]=+l[4],"vtf"==l[2]&&(o[s][a]=[o[s][a],d])}}}return r&&r.sheetRows&&(o=o.slice(0,r.sheetRows)),o}(t,r),r)}var n=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var r,n=[],s=[],a="",i=QK(e["!ref"]),o=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(a=JK({r:l,c:c}),(r=o?(e[l]||[])[c]:e[a])&&null!=r.v&&"z"!==r.t){switch(s=["cell",a,"t"],r.t){case"s":case"str":s.push(t(r.v));break;case"n":r.f?(s[2]="vtf",s[3]="n",s[4]=r.v,s[5]=t(r.f)):(s[2]="v",s[3]=r.v);break;case"b":s[2]="vt"+(r.f?"f":"c"),s[3]="nl",s[4]=r.v?"1":"0",s[5]=t(r.f||(r.v?"TRUE":"FALSE"));break;case"d":var d=kH(OH(r.v));s[2]="vtc",s[3]="nd",s[4]=""+d,s[5]=r.w||cH(r.z||PV[14],d);break;case"e":continue}n.push(s.join(":"))}return n.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),n.push("valueformat:1:text-wiki"),n.join("\n")}return{to_workbook:function(e,t){return nY(r(e,t),t)},to_sheet:r,from_sheet:function(e){return[n,s,a,s,o(e),i].join("\n")}}}(),LJ=function(){function e(e,t,r,n,s){s.raw?t[r][n]=e:""===e||("TRUE"===e?t[r][n]=!0:"FALSE"===e?t[r][n]=!1:isNaN(RH(e))?isNaN(FH(e).getDate())?t[r][n]=e:t[r][n]=OH(e):t[r][n]=RH(e))}var t={44:",",9:"\t",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function n(e){for(var n={},s=!1,a=0,i=0;a<e.length;++a)34==(i=e.charCodeAt(a))?s=!s:!s&&i in t&&(n[i]=(n[i]||0)+1);for(a in i=[],n)Object.prototype.hasOwnProperty.call(n,a)&&i.push([n[a],a]);if(!i.length)for(a in n=r)Object.prototype.hasOwnProperty.call(n,a)&&i.push([n[a],a]);return i.sort(function(e,t){return e[0]-t[0]||r[e[1]]-r[t[1]]}),t[i.pop()[1]]||44}function s(e,t){var r=t||{},s="",a=r.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(s=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(s=e.charAt(4),e=e.slice(6)):s=n(e.slice(0,1024)):s=r&&r.FS?r.FS:n(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,m=s.charCodeAt(0),h=!1,p=0,f=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var x,g,b=null!=r.dateNF?(x=r.dateNF,g=(g="number"==typeof x?PV[x]:x).replace(pH,"(\\d+)"),new RegExp("^"+g+"$")):null;function y(){var t=e.slice(d,u),n={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)n.t="z";else if(r.raw)n.t="s",n.v=t;else if(0===t.trim().length)n.t="s",n.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(n.t="s",n.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(n.t="n",n.f=t.slice(1)):(n.t="s",n.v=t);else if("TRUE"==t)n.t="b",n.v=!0;else if("FALSE"==t)n.t="b",n.v=!1;else if(isNaN(c=RH(t)))if(!isNaN(FH(t).getDate())||b&&t.match(b)){n.z=r.dateNF||PV[14];var s=0;b&&t.match(b)&&(t=function(e,t,r){var n=-1,s=-1,a=-1,i=-1,o=-1,l=-1;(t.match(pH)||[]).forEach(function(e,t){var c=parseInt(r[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":n=c;break;case"d":a=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?o=c:s=c}}),l>=0&&-1==o&&s>=0&&(o=s,s=-1);var c=(""+(n>=0?n:(new Date).getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==o&&-1==l?c:-1==n&&-1==s&&-1==a?d:c+"T"+d}(0,r.dateNF,t.match(b)||[]),s=1),r.cellDates?(n.t="d",n.v=OH(t,s)):(n.t="n",n.v=kH(OH(t,s))),!1!==r.cellText&&(n.w=cH(n.z,n.v instanceof Date?kH(n.v):n.v)),r.cellNF||delete n.z}else n.t="s",n.v=t;else n.t="n",!1!==r.cellText&&(n.w=t),n.v=c;if("z"==n.t||(r.dense?(a[o]||(a[o]=[]),a[o][l]=n):a[JK({c:l,r:o})]=n),d=u+1,f=e.charCodeAt(d),i.e.c<l&&(i.e.c=l),i.e.r<o&&(i.e.r=o),p==m)++l;else if(l=0,++o,r.sheetRows&&r.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(p=e.charCodeAt(u)){case 34:34===f&&(h=!h);break;case m:case 10:case 13:if(!h&&y())break e}return u-d>0&&y(),a["!ref"]=ZK(i),a}function a(t,r){return r&&r.PRN?r.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?s(t,r):aY(function(t,r){var n=r||{},s=[];if(!t||0===t.length)return s;for(var a=t.split(/[\r\n]/),i=a.length-1;i>=0&&0===a[i].length;)--i;for(var o=10,l=0,c=0;c<=i;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,o=Math.max(o,l);for(c=0;c<=i;++c){s[c]=[];var d=0;for(e(a[c].slice(0,o).trim(),s,c,d,n),d=1;d<=(a[c].length-o)/10+1;++d)e(a[c].slice(o+10*(d-1),o+10*d).trim(),s,c,d,n)}return n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}(t,r),r):s(t,r)}function i(e,t){var r="",n="string"==t.type?[0,0,0,0]:e3(e,t);switch(t.type){case"base64":r=dV(e);break;case"binary":case"string":r=e;break;case"buffer":65001==t.codepage?r=e.toString("utf8"):(t.codepage,r=uV&&rn.isBuffer(e)?e.toString("binary"):gV(e));break;case"array":r=LH(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]?r=jG(r.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?r=jG(r):t.type,"socialcalc:version:"==r.slice(0,19)?OJ.to_sheet("string"==t.type?r:jG(r),t):a(r,t)}return{to_workbook:function(e,t){return nY(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,r=[],n=eY(e["!ref"]),s=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){for(var i=[],o=n.s.c;o<=n.e.c;++o){var l=JK({r:a,c:o});if((t=s?(e[a]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(rY(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===o?" ":""))}else i.push("          ")}r.push(i.join(""))}return r.join("\n")}}}();var MJ=function(){function e(e,t,r){if(e){IK(e,e.l||0);for(var n=r.Enum||g;e.l<e.length;){var s=e.read_shift(2),a=n[s]||n[65535],i=e.read_shift(2),o=e.l+i,l=a.f&&a.f(e,i,r);if(e.l=o,t(l,a,s))return}}}function t(t,r){if(!t)return t;var n=r||{},s=n.dense?[]:{},a="Sheet1",i="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},m=n.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])n.Enum=g,e(t,function(e,t,r){switch(r){case 0:n.vers=e,e>=4096&&(n.qpro=!0);break;case 6:u=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:n.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==r&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=n.dateNF||PV[14],n.cellDates&&(e[1].t="d",e[1].v=TH(e[1].v))),n.qpro&&e[3]>o&&(s["!ref"]=ZK(u),l[a]=s,c.push(a),s=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a=i||"Sheet"+(o+1),i="");var d=n.dense?(s[e[0].r]||[])[e[0].c]:s[JK(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}n.dense?(s[e[0].r]||(s[e[0].r]=[]),s[e[0].r][e[0].c]=e[1]):s[JK(e[0])]=e[1]}},n);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);n.Enum=b,14==t[2]&&(n.qpro=!0,t.l=0),e(t,function(e,t,r){switch(r){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(s["!ref"]=ZK(u),l[a]=s,c.push(a),s=n.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a="Sheet"+(o+1)),m>0&&e[0].r>=m)break;n.dense?(s[e[0].r]||(s[e[0].r]=[]),s[e[0].r][e[0].c]=e[1]):s[JK(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(a=e[1])}},n)}if(s["!ref"]=ZK(u),l[i||a]=s,c.push(i||a),!d.length)return{SheetNames:c,Sheets:l};for(var h={},p=[],f=0;f<d.length;++f)l[c[f]]?(p.push(d[f]||c[f]),h[d[f]]=l[d[f]]||l[c[f]]):(p.push(d[f]),h[d[f]]={"!ref":"A1"});return{SheetNames:p,Sheets:h}}function r(e,t,r){var n=[{c:0,r:0},{t:"n",v:0},0,0];return r.qpro&&20768!=r.vers?(n[0].c=e.read_shift(1),n[3]=e.read_shift(1),n[0].r=e.read_shift(2),e.l+=2):(n[2]=e.read_shift(1),n[0].c=e.read_shift(2),n[0].r=e.read_shift(2)),n}function n(e,t,n){var s=e.l+t,a=r(e,0,n);if(a[1].t="s",20768==n.vers){e.l++;var i=e.read_shift(1);return a[1].v=e.read_shift(i,"utf8"),a}return n.qpro&&e.l++,a[1].v=e.read_shift(s-e.l,"cstr"),a}function s(e,t,r){var n=zK(7+r.length);n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(1,39);for(var s=0;s<n.length;++s){var a=r.charCodeAt(s);n.write_shift(1,a>=128?95:a)}return n.write_shift(1,0),n}function a(e,t,r){var n=zK(7);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r,"i"),n}function i(e,t,r){var n=zK(13);return n.write_shift(1,255),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(8,r,"f"),n}function o(e,t,r){var n=32768&t;return t=(n?e:0)+((t&=-32769)>=8192?t-16384:t),(n?"":"$")+(r?YK(t):GK(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function d(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,r,n){var s=zK(6+n.length);s.write_shift(2,e),s.write_shift(1,r),s.write_shift(1,t),s.write_shift(1,39);for(var a=0;a<n.length;++a){var i=n.charCodeAt(a);s.write_shift(1,i>=128?95:i)}return s.write_shift(1,0),s}function m(e,t){var r=d(e),n=e.read_shift(4),s=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===n&&3221225472===s?(r[1].t="e",r[1].v=15):0===n&&3489660928===s?(r[1].t="e",r[1].v=42):r[1].v=0,r;var i=32768&a;return a=(32767&a)-16446,r[1].v=(1-2*i)*(s*Math.pow(2,a+32)+n*Math.pow(2,a)),r}function h(e,t,r,n){var s=zK(14);if(s.write_shift(2,e),s.write_shift(1,r),s.write_shift(1,t),0==n)return s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,65535),s;var a,i=0,o=0,l=0;return n<0&&(i=1,n=-n),o=0|Math.log2(n),2147483648&(l=(n/=Math.pow(2,o-31))>>>0)||(++o,l=(n/=2)>>>0),n-=l,l|=2147483648,l>>>=0,a=(n*=Math.pow(2,32))>>>0,s.write_shift(4,a),s.write_shift(4,l),o+=16383+(i?32768:0),s.write_shift(2,o),s}function p(e,t){var r=d(e),n=e.read_shift(8,"f");return r[1].v=n,r}function f(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function x(e,t){var r=zK(5+e.length);r.write_shift(2,14e3),r.write_shift(2,t);for(var n=0;n<e.length;++n){var s=e.charCodeAt(n);r[r.l++]=s>127?95:s}return r[r.l++]=0,r}var g={0:{n:"BOF",f:OX},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,r){var n={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&r.qpro?(n.s.c=e.read_shift(1),e.l++,n.s.r=e.read_shift(2),n.e.c=e.read_shift(1),e.l++,n.e.r=e.read_shift(2),n):(n.s.c=e.read_shift(2),n.s.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),n.e.c=e.read_shift(2),n.e.r=e.read_shift(2),12==t&&r.qpro&&(e.l+=2),65535==n.s.c&&(n.s.c=n.e.c=n.s.r=n.e.r=0),n)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,n){var s=r(e,0,n);return s[1].v=e.read_shift(2,"i"),s}},14:{n:"NUMBER",f:function(e,t,n){var s=r(e,0,n);return s[1].v=e.read_shift(8,"f"),s}},15:{n:"LABEL",f:n},16:{n:"FORMULA",f:function(e,t,n){var s=e.l+t,a=r(e,0,n);if(a[1].v=e.read_shift(8,"f"),n.qpro)e.l=s;else{var i=e.read_shift(2);!function(e,t){IK(e,0);var r=[],n=0,s="",a="",i="",d="";for(;e.l<e.length;){var u=e[e.l++];switch(u){case 0:r.push(e.read_shift(8,"f"));break;case 1:a=o(t[0].c,e.read_shift(2),!0),s=o(t[0].r,e.read_shift(2),!1),r.push(a+s);break;case 2:var m=o(t[0].c,e.read_shift(2),!0),h=o(t[0].r,e.read_shift(2),!1);a=o(t[0].c,e.read_shift(2),!0),s=o(t[0].r,e.read_shift(2),!1),r.push(m+h+":"+a+s);break;case 3:if(e.l<e.length)return;break;case 4:r.push("("+r.pop()+")");break;case 5:r.push(e.read_shift(2));break;case 6:for(var p="";u=e[e.l++];)p+=String.fromCharCode(u);r.push('"'+p.replace(/"/g,'""')+'"');break;case 8:r.push("-"+r.pop());break;case 23:r.push("+"+r.pop());break;case 22:r.push("NOT("+r.pop()+")");break;case 20:case 21:d=r.pop(),i=r.pop(),r.push(["AND","OR"][u-20]+"("+i+","+d+")");break;default:if(u<32&&c[u])d=r.pop(),i=r.pop(),r.push(i+c[u]+d);else{if(!l[u])return;if(69==(n=l[u][1])&&(n=e[e.l++]),n>r.length)return;var f=r.slice(-n);r.length-=n,r.push(l[u][0]+"("+f.join(",")+")")}}}1==r.length&&(t[1].f=""+r[0])}(e.slice(e.l,e.l+i),a),e.l+=i}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:n},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:f},222:{n:"SHEETNAMELP",f:function(e,t){var r=e[e.l++];r>t-1&&(r=t-1);for(var n="";n.length<r;)n+=String.fromCharCode(e[e.l++]);return n}},65535:{n:""}},b={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var r=d(e);return r[1].t="s",r[1].v=e.read_shift(t-4,"cstr"),r}},23:{n:"NUMBER17",f:m},24:{n:"NUMBER18",f:function(e,t){var r=d(e);r[1].v=e.read_shift(2);var n=r[1].v>>1;if(1&r[1].v)switch(7&n){case 0:n=5e3*(n>>3);break;case 1:n=500*(n>>3);break;case 2:n=(n>>3)/20;break;case 3:n=(n>>3)/200;break;case 4:n=(n>>3)/2e3;break;case 5:n=(n>>3)/2e4;break;case 6:n=(n>>3)/16;break;case 7:n=(n>>3)/64}return r[1].v=n,r}},25:{n:"FORMULA19",f:function(e,t){var r=m(e);return e.l+=t-14,r}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var r={},n=e.l+t;e.l<n;){var s=e.read_shift(2);if(14e3==s){for(r[s]=[0,""],r[s][0]=e.read_shift(2);e[e.l];)r[s][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return r}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var r=d(e),n=e.read_shift(4);return r[1].v=n>>6,r}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var r=p(e);return e.l+=t-10,r}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:f},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,r){if(r.qpro&&!(t<21)){var n=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[n,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var r=t||{};if(+r.codepage>=0&&eV(+r.codepage),"string"==r.type)throw new Error("Cannot write WK1 to JS string");var n,o,l=BK(),c=eY(e["!ref"]),d=Array.isArray(e),u=[];Y0(l,0,(n=1030,(o=zK(2)).write_shift(2,n),o)),Y0(l,6,function(e){var t=zK(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var m=Math.min(c.e.r,8191),h=c.s.r;h<=m;++h)for(var p=GK(h),f=c.s.c;f<=c.e.c;++f){h===c.s.r&&(u[f]=YK(f));var x=u[f]+p,g=d?(e[h]||[])[f]:e[x];if(g&&"z"!=g.t)if("n"==g.t)(0|g.v)==g.v&&g.v>=-32768&&g.v<=32767?Y0(l,13,a(h,f,g.v)):Y0(l,14,i(h,f,g.v));else Y0(l,15,s(h,f,rY(g).slice(0,239)))}return Y0(l,1),l.end()},book_to_wk3:function(e,t){var r=t||{};if(+r.codepage>=0&&eV(+r.codepage),"string"==r.type)throw new Error("Cannot write WK3 to JS string");var n=BK();Y0(n,0,function(e){var t=zK(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var r=0,n=0,s=0,a=0;a<e.SheetNames.length;++a){var i=e.SheetNames[a],o=e.Sheets[i];if(o&&o["!ref"]){++s;var l=QK(o["!ref"]);r<l.e.r&&(r=l.e.r),n<l.e.c&&(n=l.e.c)}}r>8191&&(r=8191);return t.write_shift(2,r),t.write_shift(1,s),t.write_shift(1,n),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var s=0,a=0;s<e.SheetNames.length;++s)(e.Sheets[e.SheetNames[s]]||{})["!ref"]&&Y0(n,27,x(e.SheetNames[s],a++));var i=0;for(s=0;s<e.SheetNames.length;++s){var o=e.Sheets[e.SheetNames[s]];if(o&&o["!ref"]){for(var l=eY(o["!ref"]),c=Array.isArray(o),d=[],m=Math.min(l.e.r,8191),p=l.s.r;p<=m;++p)for(var f=GK(p),g=l.s.c;g<=l.e.c;++g){p===l.s.r&&(d[g]=YK(g));var b=d[g]+f,y=c?(o[p]||[])[g]:o[b];if(y&&"z"!=y.t)if("n"==y.t)Y0(n,23,h(p,g,i,y.v));else Y0(n,22,u(p,g,i,rY(y).slice(0,239)))}++i}}return Y0(n,1),n.end()},to_workbook:function(e,r){switch(r.type){case"base64":return t(fV(dV(e)),r);case"binary":return t(fV(e),r);case"buffer":case"array":return t(e,r)}throw"Unsupported type "+r.type}}}();var IJ=function(){var e=NG("t"),t=NG("rPr");function r(r){var n=r.match(e);if(!n)return{t:"s",v:""};var s={t:"s",v:lG(n[1])},a=r.match(t);return a&&(s.s=function(e){var t={},r=e.match(tG),n=0,s=!1;if(r)for(;n!=r.length;++n){var a=sG(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if("1"==a.val)break;t.cp=QW[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting"}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if("0"==a.val)break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if("0"==a.val)break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":case"<scheme":case"<scheme>":case"<scheme/>":case"</scheme>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(47!==a[0].charCodeAt(1)&&!s)throw new Error("Unrecognized rich format "+a[0])}}return t}(a[1])),s}var n=/<(?:\w+:)?r>/g,s=/<\/(?:\w+:)?r>/;return function(e){return e.replace(n,"").split(s).map(r).filter(function(e){return e.v})}}(),RJ=function(){var e=/(\r\n|\n)/g;function t(t){var r=[[],t.v,[]];return t.v?(t.s&&function(e,t,r){var n=[];e.u&&n.push("text-decoration: underline;"),e.uval&&n.push("text-underline-style:"+e.uval+";"),e.sz&&n.push("font-size:"+e.sz+"pt;"),e.outline&&n.push("text-effect: outline;"),e.shadow&&n.push("text-shadow: auto;"),t.push('<span style="'+n.join("")+'">'),e.b&&(t.push("<b>"),r.push("</b>")),e.i&&(t.push("<i>"),r.push("</i>")),e.strike&&(t.push("<s>"),r.push("</s>"));var s=e.valign||"";"superscript"==s||"super"==s?s="sup":"subscript"==s&&(s="sub"),""!=s&&(t.push("<"+s+">"),r.push("</"+s+">")),r.push("</span>")}(t.s,r[0],r[2]),r[0].join("")+r[1].replace(e,"<br/>")+r[2].join("")):""}return function(e){return e.map(t).join("")}}(),zJ=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,FJ=/<(?:\w+:)?r>/,BJ=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function qJ(e,t){var r=!t||t.cellHTML,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=lG(jG(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=jG(e),r&&(n.h=pG(n.t))):e.match(FJ)&&(n.r=jG(e),n.t=lG(jG((e.replace(BJ,"").match(zJ)||[]).join("").replace(tG,""))),r&&(n.h=RJ(IJ(n.r)))),n):{t:""}}var $J=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,UJ=/<(?:\w+:)?(?:si|sstItem)>/g,WJ=/<\/(?:\w+:)?(?:si|sstItem)>/;var VJ=/^\s|\s$|[\t\n\r]/;function HJ(e,t){if(!t.bookSST)return"";var r=[QH];r[r.length]=DG("sst",null,{xmlns:YG[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(null!=e[n]){var s=e[n],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(VJ)&&(a+=' xml:space="preserve"'),a+=">"+uG(s.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}var GJ=function(e,t){var r=!1;return null==t&&(r=!0,t=zK(15+4*e.t.length)),t.write_shift(1,0),lY(e.t,t),r?t.slice(0,t.l):t};function KJ(e){var t=BK();qK(t,159,function(e,t){return t||(t=zK(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var r=0;r<e.length;++r)qK(t,19,GJ(e[r]));return qK(t,160),t.end()}function YJ(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function XJ(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function JJ(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},s=e.read_shift(4),a=[];s-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function QJ(e){var t=function(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=XJ(e,4),t.U=XJ(e,4),t.W=XJ(e,4),t}(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),4!=e.read_shift(4))throw new Error("Bad !Primary record");return t}function ZJ(e,t){var r=e.l+t,n={};n.Flags=63&e.read_shift(4),e.l+=4,n.AlgID=e.read_shift(4);var s=!1;switch(n.AlgID){case 26126:case 26127:case 26128:s=36==n.Flags;break;case 26625:s=4==n.Flags;break;case 0:s=16==n.Flags||4==n.Flags||36==n.Flags;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!s)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function eQ(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function tQ(e){if(36!=(63&e.read_shift(4)))throw new Error("EncryptionInfo mismatch");var t=e.read_shift(4);return{t:"Std",h:ZJ(e,t),v:eQ(e,e.length-e.l)}}function rQ(){throw new Error("File is password-protected: ECMA-376 Extensible")}function nQ(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(tG,function(e){var r=sG(e);switch(aG(r[0])){case"<?xml":case"<encryption":case"</encryption>":case"</keyEncryptors>":case"</keyEncryptor>":break;case"<keyData":t.forEach(function(e){n[e]=r[e]});break;case"<dataIntegrity":n.encryptedHmacKey=r.encryptedHmacKey,n.encryptedHmacValue=r.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"<keyEncryptor":n.uri=r.uri;break;case"<encryptedKey":n.encs.push(r);break;default:throw r[0]}}),n}function sQ(e){var t,r,n=0,s=YJ(e),a=s.length+1;for((t=hV(a))[0]=s.length,r=1;r!=a;++r)t[r]=s[r-1];for(r=a-1;r>=0;--r)n=((16384&n?1:0)|n<<1&32767)^t[r];return 52811^n}var aQ=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(e,t){return 255&((r=e^t)/2|128*r);var r};return function(s){for(var a,i,o,l=YJ(s),c=function(e){for(var n=t[e.length-1],s=104,a=e.length-1;a>=0;--a)for(var i=e[a],o=0;7!=o;++o)64&i&&(n^=r[s]),i*=2,--s;return n}(l),d=l.length,u=hV(16),m=0;16!=m;++m)u[m]=0;for(1&~d||(a=c>>8,u[d]=n(e[0],a),--d,a=255&c,i=l[l.length-1],u[d]=n(i,a));d>0;)a=c>>8,u[--d]=n(l[d],a),a=255&c,u[--d]=n(l[d],a);for(d=15,o=15-l.length;o>0;)a=c>>8,u[d]=n(e[o],a),--o,a=255&c,u[--d]=n(l[d],a),--d,--o;return u}}(),iQ=function(e){var t=0,r=aQ(e);return function(e){var n=function(e,t,r,n,s){var a,i;for(s||(s=t),n||(n=aQ(e)),a=0;a!=t.length;++a)i=t[a],i=255&((i^=n[r])>>5|i<<3),s[a]=i,++r;return[s,r,n]}("",e,t,r);return t=n[1],n[0]}};function oQ(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,1===n.Info?n.Data=function(e){var t={},r=t.EncryptionVersionInfo=XJ(e,4);if(1!=r.Major||1!=r.Minor)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}(e):n.Data=function(e,t){var r={},n=r.EncryptionVersionInfo=XJ(e,4);if(t-=4,2!=n.Minor)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var s=e.read_shift(4);return t-=4,r.EncryptionHeader=ZJ(e,s),t-=s,r.EncryptionVerifier=eQ(e,t),r}(e,t),n}var lQ=function(){function e(e,r){switch(r.type){case"base64":return t(dV(e),r);case"binary":return t(e,r);case"buffer":return t(uV&&rn.isBuffer(e)?e.toString("binary"):gV(e),r);case"array":return t(LH(e),r)}throw new Error("Unrecognized type "+r.type)}function t(e,t){var r=(t||{}).dense?[]:{},n=e.match(/\\trowd.*?\\row\b/g);if(!n.length)throw new Error("RTF missing table");var s={s:{c:0,r:0},e:{c:0,r:n.length-1}};return n.forEach(function(e,t){Array.isArray(r)&&(r[t]=[]);for(var n,a=/\\\w+\b/g,i=0,o=-1;n=a.exec(e);){if("\\cell"===n[0]){var l=e.slice(i,a.lastIndex-n[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(r)?r[t][o]=c:r[JK({r:t,c:o})]=c}}i=a.lastIndex}o>s.e.c&&(s.e.c=o)}),r["!ref"]=ZK(s),r}return{to_workbook:function(t,r){return nY(e(t,r),r)},to_sheet:e,from_sheet:function(e){for(var t,r=["{\\rtf1\\ansi"],n=eY(e["!ref"]),s=Array.isArray(e),a=n.s.r;a<=n.e.r;++a){r.push("\\trowd\\trautofit1");for(var i=n.s.c;i<=n.e.c;++i)r.push("\\cellx"+(i+1));for(r.push("\\pard\\intbl"),i=n.s.c;i<=n.e.c;++i){var o=JK({r:a,c:i});(t=s?(e[a]||[])[i]:e[o])&&(null!=t.v||t.f&&!t.F)&&(r.push(" "+(t.w||(rY(t),t.w))),r.push("\\cell"))}r.push("\\pard\\intbl\\row")}return r.join("")+"}"}}}();function cQ(e){for(var t=0,r=1;3!=t;++t)r=256*r+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function dQ(e,t){if(0===t)return e;var r,n,s=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,s=Math.max(t,r,n),a=Math.min(t,r,n),i=s-a;if(0===i)return[0,0,t];var o,l=0,c=s+a;switch(o=i/(c>1?2-c:c),s){case t:l=((r-n)/i+6)%6;break;case r:l=(n-t)/i+2;break;case n:l=(t-r)/i+4}return[l/6,o,c/2]}((n=(r=e).slice("#"===r[0]?1:0).slice(0,6),[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]));return s[2]=t<0?s[2]*(1+t):1-(1-s[2])*(1-t),cQ(function(e){var t,r=e[0],n=e[1],s=e[2],a=2*n*(s<.5?s:1-s),i=s-a/2,o=[i,i,i],l=6*r;if(0!==n)switch(0|l){case 0:case 6:t=a*l,o[0]+=a,o[1]+=t;break;case 1:t=a*(2-l),o[0]+=t,o[1]+=a;break;case 2:t=a*(l-2),o[1]+=a,o[2]+=t;break;case 3:t=a*(4-l),o[1]+=t,o[2]+=a;break;case 4:t=a*(l-4),o[2]+=a,o[0]+=t;break;case 5:t=a*(6-l),o[2]+=t,o[0]+=a}for(var c=0;3!=c;++c)o[c]=Math.round(255*o[c]);return o}(s))}var uQ=6;function mQ(e){return Math.floor((e+Math.round(128/uQ)/256)*uQ)}function hQ(e){return Math.floor((e-5)/uQ*100+.5)/100}function pQ(e){return Math.round((e*uQ+5)/uQ*256)/256}function fQ(e){return pQ(hQ(mQ(e)))}function xQ(e){var t=Math.abs(e-fQ(e)),r=uQ;if(t>.005)for(uQ=1;uQ<15;++uQ)Math.abs(e-fQ(e))<=t&&(t=Math.abs(e-fQ(e)),r=uQ);uQ=r}function gQ(e){e.width?(e.wpx=mQ(e.width),e.wch=hQ(e.wpx),e.MDW=uQ):e.wpx?(e.wch=hQ(e.wpx),e.width=pQ(e.wch),e.MDW=uQ):"number"==typeof e.wch&&(e.width=pQ(e.wch),e.wpx=mQ(e.width),e.MDW=uQ),e.customWidth&&delete e.customWidth}var bQ=96;function yQ(e){return 96*e/bQ}function vQ(e){return e*bQ/96}var jQ={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};var wQ=["numFmtId","fillId","fontId","borderId","xfId"],NQ=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];var kQ=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,n=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(a,i,o){var l,c={};return a?((l=(a=a.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"")).match(e))&&function(e,t,r){t.NumberFmt=[];for(var n=yH(PV),s=0;s<n.length;++s)t.NumberFmt[n[s]]=PV[n[s]];var a=e[0].match(tG);if(a)for(s=0;s<a.length;++s){var i=sG(a[s]);switch(aG(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":case"</numFmt>":break;case"<numFmt":var o=lG(jG(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&null!=t.NumberFmt[l];--l);t.NumberFmt[l]=o}dH(o,l)}break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}(l,c,o),(l=a.match(n))&&function(e,t,r,n){t.Fonts=[];var s={},a=!1;(e[0].match(tG)||[]).forEach(function(e){var i=sG(e);switch(aG(i[0])){case"<fonts":case"<fonts>":case"</fonts>":case"<font":case"<font>":case"<name/>":case"</name>":case"<sz/>":case"</sz>":case"<vertAlign/>":case"</vertAlign>":case"<family/>":case"</family>":case"<scheme/>":case"</scheme>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"</font>":case"<font/>":t.Fonts.push(s),s={};break;case"<name":i.val&&(s.name=jG(i.val));break;case"<b":s.bold=i.val?xG(i.val):1;break;case"<b/>":s.bold=1;break;case"<i":s.italic=i.val?xG(i.val):1;break;case"<i/>":s.italic=1;break;case"<u":switch(i.val){case"none":s.underline=0;break;case"single":s.underline=1;break;case"double":s.underline=2;break;case"singleAccounting":s.underline=33;break;case"doubleAccounting":s.underline=34}break;case"<u/>":s.underline=1;break;case"<strike":s.strike=i.val?xG(i.val):1;break;case"<strike/>":s.strike=1;break;case"<outline":s.outline=i.val?xG(i.val):1;break;case"<outline/>":s.outline=1;break;case"<shadow":s.shadow=i.val?xG(i.val):1;break;case"<shadow/>":s.shadow=1;break;case"<condense":s.condense=i.val?xG(i.val):1;break;case"<condense/>":s.condense=1;break;case"<extend":s.extend=i.val?xG(i.val):1;break;case"<extend/>":s.extend=1;break;case"<sz":i.val&&(s.sz=+i.val);break;case"<vertAlign":i.val&&(s.vertAlign=i.val);break;case"<family":i.val&&(s.family=parseInt(i.val,10));break;case"<scheme":i.val&&(s.scheme=i.val);break;case"<charset":if("1"==i.val)break;i.codepage=QW[parseInt(i.val,10)];break;case"<color":if(s.color||(s.color={}),i.auto&&(s.color.auto=xG(i.auto)),i.rgb)s.color.rgb=i.rgb.slice(-6);else if(i.indexed){s.color.index=parseInt(i.indexed,10);var o=BY[s.color.index];81==s.color.index&&(o=BY[1]),o||(o=BY[1]),s.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else i.theme&&(s.color.theme=parseInt(i.theme,10),i.tint&&(s.color.tint=parseFloat(i.tint)),i.theme&&r.themeElements&&r.themeElements.clrScheme&&(s.color.rgb=dQ(r.themeElements.clrScheme[s.color.theme].rgb,s.color.tint||0)));break;case"<AlternateContent":case"<ext":a=!0;break;case"</AlternateContent>":case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+i[0]+" in fonts")}})}(l,c,i,o),(l=a.match(r))&&function(e,t,r,n){t.Fills=[];var s={},a=!1;(e[0].match(tG)||[]).forEach(function(e){var r=sG(e);switch(aG(r[0])){case"<fills":case"<fills>":case"</fills>":case"</fill>":case"<gradientFill>":case"<patternFill/>":case"</patternFill>":case"<bgColor/>":case"</bgColor>":case"<fgColor/>":case"</fgColor>":case"<stop":case"<stop/>":case"</stop>":case"<color":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<fill>":case"<fill":case"<fill/>":s={},t.Fills.push(s);break;case"<gradientFill":case"</gradientFill>":t.Fills.push(s),s={};break;case"<patternFill":case"<patternFill>":r.patternType&&(s.patternType=r.patternType);break;case"<bgColor":s.bgColor||(s.bgColor={}),r.indexed&&(s.bgColor.indexed=parseInt(r.indexed,10)),r.theme&&(s.bgColor.theme=parseInt(r.theme,10)),r.tint&&(s.bgColor.tint=parseFloat(r.tint)),r.rgb&&(s.bgColor.rgb=r.rgb.slice(-6));break;case"<fgColor":s.fgColor||(s.fgColor={}),r.theme&&(s.fgColor.theme=parseInt(r.theme,10)),r.tint&&(s.fgColor.tint=parseFloat(r.tint)),null!=r.rgb&&(s.fgColor.rgb=r.rgb.slice(-6));break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+r[0]+" in fills")}})}(l,c,0,o),(l=a.match(s))&&function(e,t,r,n){t.Borders=[];var s={},a=!1;(e[0].match(tG)||[]).forEach(function(e){var r=sG(e);switch(aG(r[0])){case"<borders":case"<borders>":case"</borders>":case"</border>":case"<left/>":case"<left":case"<left>":case"</left>":case"<right/>":case"<right":case"<right>":case"</right>":case"<top/>":case"<top":case"<top>":case"</top>":case"<bottom/>":case"<bottom":case"<bottom>":case"</bottom>":case"<diagonal":case"<diagonal>":case"<diagonal/>":case"</diagonal>":case"<horizontal":case"<horizontal>":case"<horizontal/>":case"</horizontal>":case"<vertical":case"<vertical>":case"<vertical/>":case"</vertical>":case"<start":case"<start>":case"<start/>":case"</start>":case"<end":case"<end>":case"<end/>":case"</end>":case"<color":case"<color>":case"<color/>":case"</color>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<border":case"<border>":case"<border/>":s={},r.diagonalUp&&(s.diagonalUp=xG(r.diagonalUp)),r.diagonalDown&&(s.diagonalDown=xG(r.diagonalDown)),t.Borders.push(s);break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+r[0]+" in borders")}})}(l,c,0,o),(l=a.match(t))&&function(e,t,r){var n;t.CellXf=[];var s=!1;(e[0].match(tG)||[]).forEach(function(e){var a=sG(e),i=0;switch(aG(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":case"</xf>":case"</alignment>":case"<protection":case"</protection>":case"<protection/>":case"<extLst":case"<extLst>":case"</extLst>":break;case"<xf":case"<xf/>":for(delete(n=a)[0],i=0;i<wQ.length;++i)n[wQ[i]]&&(n[wQ[i]]=parseInt(n[wQ[i]],10));for(i=0;i<NQ.length;++i)n[NQ[i]]&&(n[NQ[i]]=xG(n[NQ[i]]));if(t.NumberFmt&&n.numFmtId>392)for(i=392;i>60;--i)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[i]){n.numFmtId=i;break}t.CellXf.push(n);break;case"<alignment":case"<alignment/>":var o={};a.vertical&&(o.vertical=a.vertical),a.horizontal&&(o.horizontal=a.horizontal),null!=a.textRotation&&(o.textRotation=a.textRotation),a.indent&&(o.indent=a.indent),a.wrapText&&(o.wrapText=xG(a.wrapText)),n.alignment=o;break;case"<AlternateContent":case"<ext":s=!0;break;case"</AlternateContent>":case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}(l,c,o),c):c}}();function SQ(e,t){var r,n=[QH,DG("styleSheet",null,{xmlns:YG[0],"xmlns:vt":HG})];return e.SSF&&null!=(r=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=e[n]&&(t[t.length]=DG("numFmt",null,{numFmtId:n,formatCode:uG(e[n])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=DG("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(n[n.length]=r),n[n.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',n[n.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',n[n.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',n[n.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=function(e){var t=[];return t[t.length]=DG("cellXfs",null),e.forEach(function(e){t[t.length]=DG("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=DG("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(n[n.length]=r),n[n.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',n[n.length]='<dxfs count="0"/>',n[n.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',n.length>2&&(n[n.length]="</styleSheet>",n[1]=n[1].replace("/>",">")),n.join("")}function CQ(e,t,r){r||(r=zK(6+4*t.length)),r.write_shift(2,e),lY(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return null==r.l&&(r.l=r.length),n}function AQ(e,t){t||(t=zK(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=zK(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,r),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var r=0;"superscript"==e.vertAlign?r=1:"subscript"==e.vertAlign&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),PY(e.color,t);return t.write_shift(1,2),lY(e.name,t),t.length>t.l?t.slice(0,t.l):t}var TQ,EQ=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],_Q=RK;function PQ(e,t){t||(t=zK(84)),TQ||(TQ=jH(EQ));var r=TQ[e.patternType];null==r&&(r=40),t.write_shift(4,r);var n=0;if(40!=r)for(PY({auto:1},t),PY({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function DQ(e,t,r){r||(r=zK(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);return r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function OQ(e,t){return t||(t=zK(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var LQ=RK;function MQ(e){var t;qK(e,613,iY(1)),qK(e,46,(t||(t=zK(51)),t.write_shift(1,0),OQ(0,t),OQ(0,t),OQ(0,t),OQ(0,t),OQ(0,t),t.length>t.l?t.slice(0,t.l):t)),qK(e,614)}function IQ(e){var t,r;qK(e,619,iY(1)),qK(e,48,(t={xfId:0,name:"Normal"},r||(r=zK(52)),r.write_shift(4,t.xfId),r.write_shift(2,1),r.write_shift(1,0),r.write_shift(1,0),vY(t.name||"",r),r.length>r.l?r.slice(0,r.l):r)),qK(e,620)}function RQ(e){qK(e,508,function(e,t,r){var n=zK(2052);return n.write_shift(4,e),vY(t,n),vY(r,n),n.length>n.l?n.slice(0,n.l):n}(0,"TableStyleMedium9","PivotStyleMedium4")),qK(e,509)}function zQ(e,t){var r=BK();return qK(r,278),function(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var n=e[0];n<=e[1];++n)null!=t[n]&&++r}),0!=r&&(qK(e,615,iY(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)null!=t[n]&&qK(e,44,CQ(n,t[n]))}),qK(e,616))}}(r,e.SSF),function(e){qK(e,611,iY(1)),qK(e,43,AQ({sz:12,color:{theme:1},name:"Calibri",family:2})),qK(e,612)}(r),function(e){qK(e,603,iY(2)),qK(e,45,PQ({patternType:"none"})),qK(e,45,PQ({patternType:"gray125"})),qK(e,604)}(r),MQ(r),function(e){qK(e,626,iY(1)),qK(e,47,DQ({numFmtId:0},65535)),qK(e,627)}(r),function(e,t){qK(e,617,iY(t.length)),t.forEach(function(t){qK(e,47,DQ(t,0))}),qK(e,618)}(r,t.cellXfs),IQ(r),function(e){qK(e,505,iY(0)),qK(e,506)}(r),RQ(r),qK(r,279),r.end()}var FQ=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function BQ(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(tG)||[]).forEach(function(e){var s=sG(e);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":"/"===s[0].charAt(1)?(t.themeElements.clrScheme[FQ.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function qQ(){}function $Q(){}var UQ=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,WQ=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,VQ=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;var HQ=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function GQ(e,t){var r;e&&0!==e.length||(e=KQ());var n={};if(!(r=e.match(HQ)))throw new Error("themeElements not found in theme");return function(e,t,r){var n;t.themeElements={},[["clrScheme",UQ,BQ],["fontScheme",WQ,qQ],["fmtScheme",VQ,$Q]].forEach(function(s){if(!(n=e.match(s[1])))throw new Error(s[0]+" not found in themeElements");s[2](n,t,r)})}(r[0],n,t),n.raw=e,n}function KQ(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var r=[QH];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function YQ(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:case 4:e.l+=4;break;case 1:t.xclrValue=function(e,t){return RK(e,t)}(e,4);break;case 2:t.xclrValue=KX(e);break;case 3:t.xclrValue=function(e){return e.read_shift(4)}(e)}return e.l+=8,t}function XQ(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=YQ(e);break;case 6:n[1]=function(e,t){return RK(e,t)}(e,r);break;case 14:case 15:n[1]=e.read_shift(1===r?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function JQ(e,t){t.forEach(function(e){e[0]})}function QQ(){var e,t,r=BK();return qK(r,332),qK(r,334,iY(1)),qK(r,335,((t=zK(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),lY(e.name,t),t.slice(0,t.l))),qK(r,336),qK(r,339,function(e,t){var r=zK(8+2*t.length);return r.write_shift(4,e),lY(t,r),r.slice(0,r.l)}(1,"XLDAPR")),qK(r,52),qK(r,35,iY(514)),qK(r,4096,iY(0)),qK(r,4097,LX(1)),qK(r,36),qK(r,53),qK(r,340),qK(r,337,function(e){var t=zK(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),qK(r,51,function(e){var t=zK(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}([[1,0]])),qK(r,338),qK(r,333),r.end()}function ZQ(){var e=[QH];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var eZ=1024;function tZ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),s=[DG("xml",null,{"xmlns:v":tK,"xmlns:o":XG,"xmlns:x":JG,"xmlns:mv":eK}).replace(/\/>/,">"),DG("o:shapelayout",DG("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),DG("v:shapetype",[DG("v:stroke",null,{joinstyle:"miter"}),DG("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];eZ<1e3*e;)eZ+=1e3;return t.forEach(function(e){var t=XK(e[0]),r={color2:"#BEFF82",type:"gradient"};"gradient"==r.type&&(r.angle="-180");var n="gradient"==r.type?DG("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=DG("v:fill",n,r);++eZ,s=s.concat(["<v:shape"+PG({id:"_x0000_s"+eZ,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,DG("v:shadow",null,{on:"t",obscured:"t"}),DG("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",_G("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),_G("x:AutoFill","False"),_G("x:Row",String(t.r)),_G("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function rZ(e,t,r,n){var s,a=Array.isArray(e);t.forEach(function(t){var i=XK(t.ref);if(a?(e[i.r]||(e[i.r]=[]),s=e[i.r][i.c]):s=e[t.ref],!s){s={t:"z"},a?e[i.r][i.c]=s:e[t.ref]=s;var o=eY(e["!ref"]||"BDWGO1000001:A1");o.s.r>i.r&&(o.s.r=i.r),o.e.r<i.r&&(o.e.r=i.r),o.s.c>i.c&&(o.s.c=i.c),o.e.c<i.c&&(o.e.c=i.c);var l=ZK(o);l!==e["!ref"]&&(e["!ref"]=l)}s.c||(s.c=[]);var c={a:t.author,t:t.t,r:t.r,T:r};t.h&&(c.h=t.h);for(var d=s.c.length-1;d>=0;--d){if(!r&&s.c[d].T)return;r&&!s.c[d].T&&s.c.splice(d,1)}if(r&&n)for(d=0;d<n.length;++d)if(c.a==n[d].id){c.a=n[d].name||c.a;break}s.c.push(c)})}function nZ(e){var t=[QH,DG("comments",null,{xmlns:YG[0]})],r=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var n=uG(e.a);-1==r.indexOf(n)&&(r.push(n),t.push("<author>"+n+"</author>")),e.T&&e.ID&&-1==r.indexOf("tc="+e.ID)&&(r.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==r.length&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var n=0,s=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?n=r.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(n=r.indexOf(uG(e.a))),s.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+n+'"><text>'),s.length<=1)t.push(_G("t",uG(s[0]||"")));else{for(var a="Comment:\n    "+s[0]+"\n",i=1;i<s.length;++i)a+="Reply:\n    "+s[i]+"\n";t.push(_G("t",uG(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function sZ(e,t,r){var n=[QH,DG("ThreadedComments",null,{xmlns:qG}).replace(/[\/]>/,">")];return e.forEach(function(e){var s="";(e[1]||[]).forEach(function(a,i){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};0==i?s=o.id:o.parentId=s,a.ID=o.id,a.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),n.push(DG("threadedComment",_G("text",a.t||""),o))}else delete a.ID})}),n.push("</ThreadedComments>"),n.join("")}var aZ=oY;function iZ(e){var t=BK(),r=[];return qK(t,628),qK(t,630),e.forEach(function(e){e[1].forEach(function(e){r.indexOf(e.a)>-1||(r.push(e.a.slice(0,54)),qK(t,632,function(e){return lY(e.slice(0,54))}(e.a)))})}),qK(t,631),qK(t,633),e.forEach(function(e){e[1].forEach(function(n){n.iauthor=r.indexOf(n.a);var s={s:XK(e[0]),e:XK(e[0])};qK(t,635,function(e,t){return null==t&&(t=zK(36)),t.write_shift(4,e[1].iauthor),TY(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,n])),n.t&&n.t.length>0&&qK(t,637,mY(n)),qK(t,636),delete n.iauthor})}),qK(t,634),qK(t,629),t.end()}var oZ=["xlsb","xlsm","xlam","biff8","xla"];var lZ=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(e,r,n,s){var a=!1,i=!1;0==n.length?i=!0:"["==n.charAt(0)&&(i=!0,n=n.slice(1,-1)),0==s.length?a=!0:"["==s.charAt(0)&&(a=!0,s=s.slice(1,-1));var o=n.length>0?0|parseInt(n,10):0,l=s.length>0?0|parseInt(s,10):0;return a?l+=t.c:--l,i?o+=t.r:--o,r+(a?"":"$")+YK(l)+(i?"":"$")+GK(o)}return function(n,s){return t=s,n.replace(e,r)}}(),cZ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,dZ=function(){return function(e,t){return e.replace(cZ,function(e,r,n,s,a,i){var o=KK(s)-(n?0:t.c),l=HK(i)-(a?0:t.r);return r+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==o?"":n?o+1:"["+o+"]")})}}();function uZ(e,t){return e.replace(cZ,function(e,r,n,s,a,i){return r+("$"==n?n+s:YK(KK(s)+t.c))+("$"==a?a+i:GK(HK(i)+t.r))})}function mZ(e,t,r){var n=QK(t).s,s=XK(r);return uZ(e,{r:s.r-n.r,c:s.c-n.c})}function hZ(e){return e.replace(/_xlfn\./g,"")}function pZ(e){e.l+=1}function fZ(e,t){var r=e.read_shift(2);return[16383&r,r>>14&1,r>>15&1]}function xZ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return gZ(e);12==r.biff&&(n=4)}var s=e.read_shift(n),a=e.read_shift(n),i=fZ(e),o=fZ(e);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function gZ(e){var t=fZ(e),r=fZ(e),n=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:s,cRel:r[1],rRel:r[2]}}}function bZ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return function(e){var t=fZ(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}(e);var n=e.read_shift(r&&12==r.biff?4:2),s=fZ(e);return{r:n,c:s[0],cRel:s[1],rRel:s[2]}}function yZ(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:255&r,fQuoted:!!(16384&r),cRel:r>>15,rRel:r>>15}}function vZ(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function jZ(e){return[e.read_shift(1),e.read_shift(1)]}function wZ(e,t){var r=[e.read_shift(1)];if(12==t)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2}switch(r[0]){case 4:r[1]=PX(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:r[1]=qY[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:r[1]=EY(e);break;case 2:r[1]=$X(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function NZ(e,t,r){for(var n=e.read_shift(12==r.biff?4:2),s=[],a=0;a!=n;++a)s.push((12==r.biff?AY:eJ)(e));return s}function kZ(e,t,r){var n=0,s=0;12==r.biff?(n=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,0==--s&&(s=256));for(var a=0,i=[];a!=n&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=wZ(e,r.biff);return i}function SZ(e,t,r){return e.l+=2,[yZ(e)]}function CZ(e){return e.l+=6,[]}function AZ(e){return e.l+=2,[OX(e),1&e.read_shift(2)]}var TZ=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var EZ={1:{n:"PtgExp",f:function(e,t,r){return e.l++,r&&12==r.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(r&&2==r.biff?1:2)]}},2:{n:"PtgTbl",f:RK},3:{n:"PtgAdd",f:pZ},4:{n:"PtgSub",f:pZ},5:{n:"PtgMul",f:pZ},6:{n:"PtgDiv",f:pZ},7:{n:"PtgPower",f:pZ},8:{n:"PtgConcat",f:pZ},9:{n:"PtgLt",f:pZ},10:{n:"PtgLe",f:pZ},11:{n:"PtgEq",f:pZ},12:{n:"PtgGe",f:pZ},13:{n:"PtgGt",f:pZ},14:{n:"PtgNe",f:pZ},15:{n:"PtgIsect",f:pZ},16:{n:"PtgUnion",f:pZ},17:{n:"PtgRange",f:pZ},18:{n:"PtgUplus",f:pZ},19:{n:"PtgUminus",f:pZ},20:{n:"PtgPercent",f:pZ},21:{n:"PtgParen",f:pZ},22:{n:"PtgMissArg",f:pZ},23:{n:"PtgStr",f:function(e,t,r){return e.l++,RX(e,0,r)}},26:{n:"PtgSheet",f:function(e,t,r){return e.l+=5,e.l+=2,e.l+=2==r.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,r){return e.l+=2==r.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,qY[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,EY(e)}},32:{n:"PtgArray",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=2==r.biff?6:12==r.biff?14:7,[n]}},33:{n:"PtgFunc",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(r&&r.biff<=3?1:2);return[JZ[s],XZ[s],n]}},34:{n:"PtgFuncVar",f:function(e,t,r){var n=e[e.l++],s=e.read_shift(1),a=r&&r.biff<=3?[88==n?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[s,(0===a[0]?XZ:YZ)[a[1]]]}},35:{n:"PtgName",f:function(e,t,r){var n=e.read_shift(1)>>>5&3,s=!r||r.biff>=8?4:2,a=e.read_shift(s);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[n,0,a]}},36:{n:"PtgRef",f:function(e,t,r){var n=(96&e[e.l])>>5;return e.l+=1,[n,bZ(e,0,r)]}},37:{n:"PtgArea",f:function(e,t,r){return[(96&e[e.l++])>>5,xZ(e,r.biff>=2&&r.biff,r)]}},38:{n:"PtgMemArea",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=r&&2==r.biff?3:4,[n,e.read_shift(r&&2==r.biff?1:2)]}},39:{n:"PtgMemErr",f:RK},40:{n:"PtgMemNoMem",f:RK},41:{n:"PtgMemFunc",f:function(e,t,r){return[e.read_shift(1)>>>5&3,e.read_shift(r&&2==r.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,12==r.biff&&(e.l+=2),[n]}},43:{n:"PtgAreaErr",f:function(e,t,r){var n=(96&e[e.l++])>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}},44:{n:"PtgRefN",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var s=function(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return function(e){var t=e.read_shift(2),r=e.read_shift(1),n=(32768&t)>>15,s=(16384&t)>>14;return t&=16383,1==n&&t>=8192&&(t-=16384),1==s&&r>=128&&(r-=256),{r:t,c:r,cRel:s,rRel:n}}(e);var s=e.read_shift(n>=12?4:2),a=e.read_shift(2),i=(16384&a)>>14,o=(32768&a)>>15;if(a&=16383,1==o)for(;s>524287;)s-=1048576;if(1==i)for(;a>8191;)a-=16384;return{r:s,c:a,cRel:i,rRel:o}}(e,0,r);return[n,s]}},45:{n:"PtgAreaN",f:function(e,t,r){var n=(96&e[e.l++])>>5,s=function(e,t,r){if(r.biff<8)return gZ(e);var n=e.read_shift(12==r.biff?4:2),s=e.read_shift(12==r.biff?4:2),a=fZ(e),i=fZ(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,r);return[n,s]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,r){return 5==r.biff?function(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,r){var n=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(2);return r&&5==r.biff&&(e.l+=12),[n,s,bZ(e,0,r)]}},59:{n:"PtgArea3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,s=e.read_shift(2,"i");if(r)switch(r.biff){case 5:e.l+=12;break;case 12:0}return[n,s,xZ(e,0,r)]}},60:{n:"PtgRefErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,s=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[n,s]}},61:{n:"PtgAreaErr3d",f:function(e,t,r){var n=(96&e[e.l++])>>5,s=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[n,s]}},255:{}},_Z={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},PZ={1:{n:"PtgElfLel",f:AZ},2:{n:"PtgElfRw",f:SZ},3:{n:"PtgElfCol",f:SZ},6:{n:"PtgElfRwV",f:SZ},7:{n:"PtgElfColV",f:SZ},10:{n:"PtgElfRadical",f:SZ},11:{n:"PtgElfRadicalS",f:CZ},13:{n:"PtgElfColS",f:CZ},15:{n:"PtgElfColSV",f:CZ},16:{n:"PtgElfRadicalLel",f:AZ},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&r,rt:TZ[r>>2&31],idx:n,c:s,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},DZ={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=r&&2==r.biff?3:4,[n]}},2:{n:"PtgAttrIf",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,r){e.l+=2;for(var n=e.read_shift(r&&2==r.biff?1:2),s=[],a=0;a<=n;++a)s.push(e.read_shift(r&&2==r.biff?1:2));return s}},8:{n:"PtgAttrGoto",f:function(e,t,r){var n=255&e[e.l+1]?1:0;return e.l+=2,[n,e.read_shift(r&&2==r.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,r){e.l+=r&&2==r.biff?3:4}},32:{n:"PtgAttrBaxcel",f:vZ},33:{n:"PtgAttrBaxcel",f:vZ},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),jZ(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),jZ(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function OZ(e,t,r,n){if(n.biff<8)return RK(e,t);for(var s=e.l+t,a=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=kZ(e,0,n),a.push(r[i][1]);break;case"PtgMemArea":r[i][2]=NZ(e,r[i][1],n),a.push(r[i][2]);break;case"PtgExp":n&&12==n.biff&&(r[i][1][1]=e.read_shift(4),a.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return 0!==(t=s-e.l)&&a.push(RK(e,t)),a}function LZ(e,t,r){for(var n,s,a=e.l+t,i=[];a!=e.l;)t=a-e.l,s=e[e.l],n=EZ[s]||EZ[_Z[s]],24!==s&&25!==s||(n=(24===s?PZ:DZ)[e[e.l+1]]),n&&n.f?i.push([n.n,n.f(e,t,r)]):RK(e,t);return i}function MZ(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],s=[],a=0;a<n.length;++a){var i=n[a];if(i)if(2===i[0])s.push('"'+i[1].replace(/"/g,'""')+'"');else s.push(i[1]);else s.push("")}t.push(s.join(","))}return t.join(";")}var IZ={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function RZ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var s="";if(r.biff>8)switch(e[n[0]][0]){case 357:return s=-1==n[1]?"#REF":e.SheetNames[n[1]],n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 358:return null!=r.SID?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return s=-1==n[1]?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?s:s+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[n[0]][0][3]?(s=-1==n[1]?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?s:s+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zZ(e,t,r){var n=RZ(e,t,r);return"#REF"==n?n:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(n,r)}function FZ(e,t,r,n,s){var a,i,o,l,c=s&&s.biff||8,d={s:{c:0,r:0}},u=[],m=0,h=0,p="";if(!e[0]||!e[0][0])return"";for(var f=-1,x="",g=0,b=e[0].length;g<b;++g){var y=e[0][g];switch(y[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=u.pop(),i=u.pop(),f>=0){switch(e[0][f][1][0]){case 0:x=IH(" ",e[0][f][1][1]);break;case 1:x=IH("\r",e[0][f][1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}i+=x,f=-1}u.push(i+IZ[y[0]]+a);break;case"PtgIsect":a=u.pop(),i=u.pop(),u.push(i+" "+a);break;case"PtgUnion":a=u.pop(),i=u.pop(),u.push(i+","+a);break;case"PtgRange":a=u.pop(),i=u.pop(),u.push(i+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=$K(y[1][1],d,s),u.push(WK(o,c));break;case"PtgRefN":o=r?$K(y[1][1],r,s):y[1][1],u.push(WK(o,c));break;case"PtgRef3d":m=y[1][1],o=$K(y[1][2],d,s),p=zZ(n,m,s),u.push(p+"!"+WK(o,c));break;case"PtgFunc":case"PtgFuncVar":var v=y[1][0],j=y[1][1];v||(v=0);var w=0==(v&=127)?[]:u.slice(-v);u.length-=v,"User"===j&&(j=w.shift()),u.push(j+"("+w.join(",")+")");break;case"PtgBool":u.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(y[1]);break;case"PtgNum":u.push(String(y[1]));break;case"PtgStr":u.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=UK(y[1][1],r?{s:r}:d,s),u.push(VK(l,s));break;case"PtgArea":l=UK(y[1][1],d,s),u.push(VK(l,s));break;case"PtgArea3d":m=y[1][1],l=y[1][2],p=zZ(n,m,s),u.push(p+"!"+VK(l,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":h=y[1][2];var N=(n.names||[])[h-1]||(n[0]||[])[h],k=N?N.Name:"SH33TJSNAME"+String(h);k&&"_xlfn."==k.slice(0,6)&&!s.xlfn&&(k=k.slice(6)),u.push(k);break;case"PtgNameX":var S,C=y[1][1];if(h=y[1][2],!(s.biff<=5)){var A="";if(14849==((n[C]||[])[0]||[])[0]||(1025==((n[C]||[])[0]||[])[0]?n[C][h]&&n[C][h].itab>0&&(A=n.SheetNames[n[C][h].itab-1]+"!"):A=n.SheetNames[h-1]+"!"),n[C]&&n[C][h])A+=n[C][h].Name;else if(n[0]&&n[0][h])A+=n[0][h].Name;else{var T=(RZ(n,C,s)||"").split(";;");T[h-1]?A=T[h-1]:A+="SH33TJSERRX"}u.push(A);break}C<0&&(C=-C),n[C]&&(S=n[C][h]),S||(S={Name:"SH33TJSERRY"}),u.push(S.Name);break;case"PtgParen":var E="(",_=")";if(f>=0){switch(x="",e[0][f][1][0]){case 2:E=IH(" ",e[0][f][1][1])+E;break;case 3:E=IH("\r",e[0][f][1][1])+E;break;case 4:_=IH(" ",e[0][f][1][1])+_;break;case 5:_=IH("\r",e[0][f][1][1])+_;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][f][1][0])}f=-1}u.push(E+u.pop()+_);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:y[1][1],r:y[1][0]};var P={c:r.c,r:r.r};if(n.sharedf[JK(o)]){var D=n.sharedf[JK(o)];u.push(FZ(D,d,P,n,s))}else{var O=!1;for(a=0;a!=n.arrayf.length;++a)if(i=n.arrayf[a],!(o.c<i[0].s.c||o.c>i[0].e.c||o.r<i[0].s.r||o.r>i[0].e.r)){u.push(FZ(i[1],d,P,n,s)),O=!0;break}O||u.push(y[1])}break;case"PtgArray":u.push("{"+MZ(y[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":f=g;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(y))}if(3!=s.biff&&f>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][g][0])){var L=!0;switch((y=e[0][f])[1][0]){case 4:L=!1;case 0:x=IH(" ",y[1][1]);break;case 5:L=!1;case 1:x=IH("\r",y[1][1]);break;default:if(x="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}u.push((L?x:"")+u.pop()+(L?"":x)),f=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function BZ(e,t,r){var n,s=e.l+t,a=2==r.biff?1:2,i=e.read_shift(a);if(65535==i)return[[],RK(e,t-2)];var o=LZ(e,i,r);return t!==i+a&&(n=OZ(e,t-i-a,o,r)),e.l=s,[o,n]}function qZ(e,t,r){var n,s=e.l+t,a=e.read_shift(2),i=LZ(e,a,r);return 65535==a?[[],RK(e,t-2)]:(t!==a+2&&(n=OZ(e,s-a-2,i,r)),[i,n])}function $Z(e,t,r){var n=e.l+t,s=XX(e);2==r.biff&&++e.l;var a=function(e){var t;if(65535!==SK(e,e.l+6))return[EY(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=1===e[e.l+2],e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}(e),i=e.read_shift(1);2!=r.biff&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=function(e,t,r){var n,s=e.l+t,a=2==r.biff?1:2,i=e.read_shift(a);if(65535==i)return[[],RK(e,t-2)];var o=LZ(e,i,r);return t!==i+a&&(n=OZ(e,t-i-a,o,r)),e.l=s,[o,n]}(e,n-e.l,r);return{cell:s,val:a[0],formula:o,shared:i>>3&1,tt:a[1]}}function UZ(e,t,r,n,s){var a=JX(t,r,s),i=function(e){if(null==e){var t=zK(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return _Y("number"==typeof e?e:0)}(e.v),o=zK(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=zK(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return yV([a,i,o,l])}function WZ(e,t,r){var n=e.read_shift(4),s=LZ(e,n,r),a=e.read_shift(4);return[s,a>0?OZ(e,a,s,r):null]}var VZ=WZ,HZ=WZ,GZ=WZ,KZ=WZ,YZ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},XZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},JZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function QZ(e){return"of:"==e.slice(0,3)&&(e=e.slice(3)),61==e.charCodeAt(0)&&61==(e=e.slice(1)).charCodeAt(0)&&(e=e.slice(1)),(e=(e=(e=e.replace(/COM\.MICROSOFT\./g,"")).replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")})).replace(/\[.(#[A-Z]*[?!])\]/g,"$1")).replace(/[;~]/g,",").replace(/\|/g,";")}function ZZ(e){return("of:="+e.replace(cZ,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function e1(e){var t=e.split(":");return[t[0].split(".")[0],t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function t1(e){return e.replace(/\./,"!")}var r1={},n1={},s1="undefined"!=typeof Map;function a1(e,t,r){var n=0,s=e.length;if(r){if(s1?r.has(t):Object.prototype.hasOwnProperty.call(r,t))for(var a=s1?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}else for(;n<s;++n)if(e[n].t===t)return e.Count++,n;return e[s]={t:t},e.Count++,e.Unique++,r&&(s1?(r.has(t)||r.set(t,[]),r.get(t).push(s)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(s))),s}function i1(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(uQ=t.MDW),null!=t.width?r.customWidth=1:null!=t.wpx?n=hQ(t.wpx):null!=t.wch&&(n=t.wch),n>-1?(r.width=pQ(n),r.customWidth=1):null!=t.width&&(r.width=t.width),t.hidden&&(r.hidden=!0),null!=t.level&&(r.outlineLevel=r.level=t.level),r}function o1(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(r=[1,1,1,1,.5,.5]),null==e.left&&(e.left=r[0]),null==e.right&&(e.right=r[1]),null==e.top&&(e.top=r[2]),null==e.bottom&&(e.bottom=r[3]),null==e.header&&(e.header=r[4]),null==e.footer&&(e.footer=r[5])}}function l1(e,t,r){var n=r.revssf[null!=t.z?t.z:"General"],s=60,a=e.length;if(null==n&&r.ssf)for(;s<392;++s)if(null==r.ssf[s]){dH(t.z,s),r.ssf[s]=t.z,r.revssf[t.z]=n=s;break}for(s=0;s!=a;++s)if(e[s].numFmtId===n)return s;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function c1(e,t,r,n,s,a){try{n.cellNF&&(e.z=PV[t])}catch(o){if(n.WTF)throw o}if("z"!==e.t||n.cellStyles){if("d"===e.t&&"string"==typeof e.v&&(e.v=OH(e.v)),(!n||!1!==n.cellText)&&"z"!==e.t)try{if(null==PV[t]&&dH(hH[t]||"General",t),"e"===e.t)e.w=e.w||qY[e.v];else if(0===t)if("n"===e.t)(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qV(e.v);else if("d"===e.t){var i=kH(e.v);e.w=(0|i)===i?i.toString(10):qV(i)}else{if(void 0===e.v)return"";e.w=$V(e.v,n1)}else"d"===e.t?e.w=cH(t,kH(e.v),n1):e.w=cH(t,e.v,n1)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&null!=r)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=dQ(s.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=s.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=dQ(s.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=s.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function d1(e,t,r){if(e&&e["!ref"]){var n=eY(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}var u1=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,m1=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,h1=/<(?:\w:)?hyperlink [^>]*>/gm,p1=/"(\w*:\w*)"/,f1=/<(?:\w:)?col\b[^>]*[\/]?>/g,x1=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,g1=/<(?:\w:)?pageMargins[^>]*\/>/g,b1=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,y1=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,v1=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function j1(e,t,r,n,s,a,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",u=e.match(m1);u?(c=e.slice(0,u.index),d=e.slice(u.index+u[0].length)):c=d=e;var m=c.match(b1);m?w1(m[0],o,s,r):(m=c.match(y1))&&function(e,t,r,n,s){w1(e.slice(0,e.indexOf(">")),r,n,s)}(m[0],m[1],o,s,r);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var p=c.slice(h,h+50).match(p1);p&&function(e,t){var r=eY(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=ZK(r))}(o,p[1])}var f=c.match(v1);f&&f[1]&&function(e,t){t.Views||(t.Views=[{}]);(e.match(S1)||[]).forEach(function(e,r){var n=sG(e);t.Views[r]||(t.Views[r]={}),+n.zoomScale&&(t.Views[r].zoom=+n.zoomScale),xG(n.rightToLeft)&&(t.Views[r].RTL=!0)})}(f[1],s);var x=[];if(t.cellStyles){var g=c.match(f1);g&&function(e,t){for(var r=!1,n=0;n!=t.length;++n){var s=sG(t[n],!0);s.hidden&&(s.hidden=xG(s.hidden));var a=parseInt(s.min,10)-1,i=parseInt(s.max,10)-1;for(s.outlineLevel&&(s.level=+s.outlineLevel||0),delete s.min,delete s.max,s.width=+s.width,!r&&s.width&&(r=!0,xQ(s.width)),gQ(s);a<=i;)e[a++]=MH(s)}}(x,g)}u&&A1(u[1],o,t,l,a,i);var b=d.match(x1);b&&(o["!autofilter"]=function(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}(b[0]));var y=[],v=d.match(u1);if(v)for(h=0;h!=v.length;++h)y[h]=eY(v[h].slice(v[h].indexOf('"')+1));var j=d.match(h1);j&&function(e,t,r){for(var n=Array.isArray(e),s=0;s!=t.length;++s){var a=sG(jG(t[s]),!0);if(!a.ref)return;var i=((r||{})["!id"]||[])[a.id];i?(a.Target=i.Target,a.location&&(a.Target+="#"+lG(a.location))):(a.Target="#"+lG(a.location),i={Target:a.Target,TargetMode:"Internal"}),a.Rel=i,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=eY(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=JK({c:c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=a):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=a)}}}(o,j,n);var w,N,k=d.match(g1);if(k&&(o["!margins"]=(w=sG(k[0]),N={},["left","right","top","bottom","header","footer"].forEach(function(e){w[e]&&(N[e]=parseFloat(w[e]))}),N)),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=ZK(l)),t.sheetRows>0&&o["!ref"]){var S=eY(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=ZK(S))}return x.length>0&&(o["!cols"]=x),y.length>0&&(o["!merges"]=y),o}function w1(e,t,r,n){var s=sG(e);r.Sheets[n]||(r.Sheets[n]={}),s.codeName&&(r.Sheets[n].CodeName=lG(jG(s.codeName)))}var N1=["objects","scenarios","selectLockedCells","selectUnlockedCells"],k1=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];var S1=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function C1(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var s="",a=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=qY[e.v];break;case"d":n&&n.cellDates?s=OH(e.v,-1).toISOString():((e=MH(e)).t="n",s=""+(e.v=kH(OH(e.v)))),void 0===e.z&&(e.z=PV[14]);break;default:s=e.v}var o=_G("v",uG(s)),l={r:t},c=l1(n.cellXfs,e,n);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=_G("v",""+a1(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=i),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=DG("f",uG(e.f),d)+(null!=e.v?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),DG("c",o,l)}var A1=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,s=/ref=["']([^"']*)["']/,a=NG("v"),i=NG("f");return function(o,l,c,d,u,m){for(var h,p,f,x,g,b=0,y="",v=[],j=[],w=0,N=0,k=0,S="",C=0,A=0,T=0,E=0,_=Array.isArray(m.CellXf),P=[],D=[],O=Array.isArray(l),L=[],M={},I=!1,R=!!c.sheetStubs,z=o.split(t),F=0,B=z.length;F!=B;++F){var q=(y=z[F].trim()).length;if(0!==q){var $=0;e:for(b=0;b<q;++b)switch(y[b]){case">":if("/"!=y[b-1]){++b;break e}if(c&&c.cellStyles){if(C=null!=(p=sG(y.slice($,b),!0)).r?parseInt(p.r,10):C+1,A=-1,c.sheetRows&&c.sheetRows<C)continue;M={},I=!1,p.ht&&(I=!0,M.hpt=parseFloat(p.ht),M.hpx=vQ(M.hpt)),"1"==p.hidden&&(I=!0,M.hidden=!0),null!=p.outlineLevel&&(I=!0,M.level=+p.outlineLevel),I&&(L[C-1]=M)}break;case"<":$=b}if($>=b)break;if(C=null!=(p=sG(y.slice($,b),!0)).r?parseInt(p.r,10):C+1,A=-1,!(c.sheetRows&&c.sheetRows<C)){d.s.r>C-1&&(d.s.r=C-1),d.e.r<C-1&&(d.e.r=C-1),c&&c.cellStyles&&(M={},I=!1,p.ht&&(I=!0,M.hpt=parseFloat(p.ht),M.hpx=vQ(M.hpt)),"1"==p.hidden&&(I=!0,M.hidden=!0),null!=p.outlineLevel&&(I=!0,M.level=+p.outlineLevel),I&&(L[C-1]=M)),v=y.slice(b).split(e);for(var U=0;U!=v.length&&"<"==v[U].trim().charAt(0);++U);for(v=v.slice(U),b=0;b!=v.length;++b)if(0!==(y=v[b].trim()).length){if(j=y.match(r),w=b,N=0,k=0,y="<c "+("<"==y.slice(0,1)?">":"")+y,null!=j&&2===j.length){for(w=0,S=j[1],N=0;N!=S.length&&!((k=S.charCodeAt(N)-64)<1||k>26);++N)w=26*w+k;A=--w}else++A;for(N=0;N!=y.length&&62!==y.charCodeAt(N);++N);if(++N,(p=sG(y.slice(0,N),!0)).r||(p.r=JK({r:C-1,c:A})),h={t:""},null!=(j=(S=y.slice(N)).match(a))&&""!==j[1]&&(h.v=lG(j[1])),c.cellFormula){if(null!=(j=S.match(i))&&""!==j[1]){if(h.f=lG(jG(j[1])).replace(/\r\n/g,"\n"),c.xlfn||(h.f=hZ(h.f)),j[0].indexOf('t="array"')>-1)h.F=(S.match(s)||[])[1],h.F.indexOf(":")>-1&&P.push([eY(h.F),h.F]);else if(j[0].indexOf('t="shared"')>-1){x=sG(j[0]);var W=lG(jG(j[1]));c.xlfn||(W=hZ(W)),D[parseInt(x.si,10)]=[x,W,p.r]}}else(j=S.match(/<f[^>]*\/>/))&&D[(x=sG(j[0])).si]&&(h.f=mZ(D[x.si][1],D[x.si][2],p.r));var V=XK(p.r);for(N=0;N<P.length;++N)V.r>=P[N][0].s.r&&V.r<=P[N][0].e.r&&V.c>=P[N][0].s.c&&V.c<=P[N][0].e.c&&(h.F=P[N][1])}if(null==p.t&&void 0===h.v)if(h.f||h.F)h.v=0,h.t="n";else{if(!R)continue;h.t="z"}else h.t=p.t||"n";switch(d.s.c>A&&(d.s.c=A),d.e.c<A&&(d.e.c=A),h.t){case"n":if(""==h.v||null==h.v){if(!R)continue;h.t="z"}else h.v=parseFloat(h.v);break;case"s":if(void 0===h.v){if(!R)continue;h.t="z"}else f=r1[parseInt(h.v,10)],h.v=f.t,h.r=f.r,c.cellHTML&&(h.h=f.h);break;case"str":h.t="s",h.v=null!=h.v?jG(h.v):"",c.cellHTML&&(h.h=pG(h.v));break;case"inlineStr":j=S.match(n),h.t="s",null!=j&&(f=qJ(j[1]))?(h.v=f.t,c.cellHTML&&(h.h=f.h)):h.v="";break;case"b":h.v=xG(h.v);break;case"d":c.cellDates?h.v=OH(h.v,1):(h.v=kH(OH(h.v,1)),h.t="n");break;case"e":c&&!1===c.cellText||(h.w=h.v),h.v=$Y[h.v]}if(T=E=0,g=null,_&&void 0!==p.s&&null!=(g=m.CellXf[p.s])&&(null!=g.numFmtId&&(T=g.numFmtId),c.cellStyles&&null!=g.fillId&&(E=g.fillId)),c1(h,T,E,c,u,m),c.cellDates&&_&&"n"==h.t&&aH(PV[T])&&(h.t="d",h.v=TH(h.v)),p.cm&&c.xlmeta){var H=(c.xlmeta.Cell||[])[+p.cm-1];H&&"XLDAPR"==H.type&&(h.D=!0)}if(O){var G=XK(p.r);l[G.r]||(l[G.r]=[]),l[G.r][G.c]=h}else l[p.r]=h}}}}L.length>0&&(l["!rows"]=L)}}();function T1(e,t,r,n){var s,a=[QH,DG("worksheet",null,{xmlns:YG[0],"xmlns:r":VG})],i=r.SheetNames[e],o="",l=r.Sheets[i];null==l&&(l={});var c=l["!ref"]||"A1",d=eY(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=ZK(d)}n||(n={}),l["!comments"]=[];var u=[];!function(e,t,r,n,s){var a=!1,i={},o=null;if("xlsx"!==n.bookType&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch(d){}a=!0,i.codeName=wG(uG(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+DG("outlinePr",null,c)}(a||o)&&(s[s.length]=DG("sheetPr",o,i))}(l,r,e,t,a),a[a.length]=DG("dimension",null,{ref:c}),a[a.length]=function(e,t,r,n){var s={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),DG("sheetViews",DG("sheetView",null,s),{})}(0,0,0,r),t.sheetFormat&&(a[a.length]=DG("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var r,n=["<cols>"],s=0;s!=t.length;++s)(r=t[s])&&(n[n.length]=DG("col",null,i1(s,r)));return n[n.length]="</cols>",n.join("")}(0,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var r,n,s=[],a=[],i=eY(e["!ref"]),o="",l="",c=[],d=0,u=0,m=e["!rows"],h=Array.isArray(e),p={r:l},f=-1;for(u=i.s.c;u<=i.e.c;++u)c[u]=YK(u);for(d=i.s.r;d<=i.e.r;++d){for(a=[],l=GK(d),u=i.s.c;u<=i.e.c;++u){r=c[u]+l;var x=h?(e[d]||[])[u]:e[r];void 0!==x&&null!=(o=C1(x,r,e,t))&&a.push(o)}(a.length>0||m&&m[d])&&(p={r:l},m&&m[d]&&((n=m[d]).hidden&&(p.hidden=1),f=-1,n.hpx?f=yQ(n.hpx):n.hpt&&(f=n.hpt),f>-1&&(p.ht=f,p.customHeight=1),n.level&&(p.outlineLevel=n.level)),s[s.length]=DG("row",a.join(""),p))}if(m)for(;d<m.length;++d)m&&m[d]&&(p={r:d+1},(n=m[d]).hidden&&(p.hidden=1),f=-1,n.hpx?f=yQ(n.hpx):n.hpt&&(f=n.hpt),f>-1&&(p.ht=f,p.customHeight=1),n.level&&(p.outlineLevel=n.level),s[s.length]=DG("row","",p));return s.join("")}(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return N1.forEach(function(r){null!=e[r]&&e[r]&&(t[r]="1")}),k1.forEach(function(r){null==e[r]||e[r]||(t[r]="0")}),e.password&&(t.password=sQ(e.password).toString(16).toUpperCase()),DG("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,r,n){var s="string"==typeof e.ref?e.ref:ZK(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,i=QK(s);i.s.r==i.e.r&&(i.e.r=QK(t["!ref"]).e.r,s=ZK(i));for(var o=0;o<a.length;++o){var l=a[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+s;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),DG("autoFilter",null,{ref:s})}(l["!autofilter"],l,r,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ZK(e[r])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var m,h,p=-1,f=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(m={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(f=XY(n,-1,uG(e[1].Target).replace(/#.*$/,""),HY.HLINK),m["r:id"]="rId"+f),(p=e[1].Target.indexOf("#"))>-1&&(m.location=uG(e[1].Target.slice(p+1))),e[1].Tooltip&&(m.tooltip=uG(e[1].Tooltip)),a[a.length]=DG("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(o1(h=l["!margins"]),DG("pageMargins",null,h))),t&&!t.ignoreEC&&null!=t.ignoreEC||(a[a.length]=_G("ignoredErrors",DG("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(f=XY(n,-1,"../drawings/drawing"+(e+1)+".xml",HY.DRAW),a[a.length]=DG("drawing",null,{"r:id":"rId"+f}),l["!drawing"]=u),l["!comments"].length>0&&(f=XY(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",HY.VML),a[a.length]=DG("legacyDrawing",null,{"r:id":"rId"+f}),l["!legacy"]=f),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function E1(e,t,r,n){var s=function(e,t,r){var n=zK(145),s=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;s.hpx?a=20*yQ(s.hpx):s.hpt&&(a=20*s.hpt),n.write_shift(2,a),n.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),n.write_shift(1,i),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,m=-1,h=d<<10;h<d+1<<10;++h)c.c=h,(Array.isArray(r)?(r[c.r]||[])[c.c]:r[JK(c)])&&(u<0&&(u=h),m=h);u<0||(++o,n.write_shift(4,u),n.write_shift(4,m))}var p=n.l;return n.l=l,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}(n,r,t);(s.length>17||(t["!rows"]||[])[n])&&qK(e,0,s)}var _1=AY,P1=TY;function D1(e){return[fY(e),EY(e),"n"]}var O1=AY,L1=TY;var M1=["left","right","top","bottom","header","footer"];function I1(e,t,r,n,s,a,i){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=MH(t)).z=t.z||PV[14],t.v=kH(OH(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:r,c:n};switch(l.s=l1(s.cellXfs,t,s),t.l&&a["!links"].push([JK(l),t.l]),t.c&&a["!comments"].push([JK(l),t.c]),t.t){case"s":case"str":return s.bookSST?(o=a1(s.Strings,t.v,s.revStrings),l.t="s",l.v=o,i?qK(e,18,function(e,t,r){return null==r&&(r=zK(8)),xY(t,r),r.write_shift(4,t.v),r}(0,l)):qK(e,7,function(e,t,r){return null==r&&(r=zK(12)),pY(t,r),r.write_shift(4,t.v),r}(0,l))):(l.t="str",i?qK(e,17,function(e,t,r){return null==r&&(r=zK(8+4*e.v.length)),xY(t,r),lY(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l)):qK(e,6,function(e,t,r){return null==r&&(r=zK(12+4*e.v.length)),pY(t,r),lY(e.v,r),r.length>r.l?r.slice(0,r.l):r}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?qK(e,13,function(e,t,r){return null==r&&(r=zK(8)),xY(t,r),SY(e.v,r),r}(t,l)):qK(e,2,function(e,t,r){return null==r&&(r=zK(12)),pY(t,r),SY(e.v,r),r}(t,l)):i?qK(e,16,function(e,t,r){return null==r&&(r=zK(12)),xY(t,r),_Y(e.v,r),r}(t,l)):qK(e,5,function(e,t,r){return null==r&&(r=zK(16)),pY(t,r),_Y(e.v,r),r}(t,l)),!0;case"b":return l.t="b",i?qK(e,15,function(e,t,r){return null==r&&(r=zK(5)),xY(t,r),r.write_shift(1,e.v?1:0),r}(t,l)):qK(e,4,function(e,t,r){return null==r&&(r=zK(9)),pY(t,r),r.write_shift(1,e.v?1:0),r}(t,l)),!0;case"e":return l.t="e",i?qK(e,14,function(e,t,r){return null==r&&(r=zK(8)),xY(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}(t,l)):qK(e,3,function(e,t,r){return null==r&&(r=zK(9)),pY(t,r),r.write_shift(1,e.v),r}(t,l)),!0}return i?qK(e,12,function(e,t,r){return null==r&&(r=zK(4)),xY(t,r)}(0,l)):qK(e,1,function(e,t,r){return null==r&&(r=zK(8)),pY(t,r)}(0,l)),!0}function R1(e,t){var r,n;t&&t["!merges"]&&(qK(e,177,(r=t["!merges"].length,null==n&&(n=zK(4)),n.write_shift(4,r),n)),t["!merges"].forEach(function(t){qK(e,176,L1(t))}),qK(e,178))}function z1(e,t){t&&t["!cols"]&&(qK(e,390),t["!cols"].forEach(function(t,r){t&&qK(e,60,function(e,t,r){null==r&&(r=zK(18));var n=i1(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,256*(n.width||10)),r.write_shift(4,0);var s=0;return t.hidden&&(s|=1),"number"==typeof n.width&&(s|=2),t.level&&(s|=t.level<<8),r.write_shift(2,s),r}(r,t))}),qK(e,391))}function F1(e,t){var r,n;t&&t["!ref"]&&(qK(e,648),qK(e,649,(r=eY(t["!ref"]),(n=zK(24)).write_shift(4,4),n.write_shift(4,1),TY(r,n),n)),qK(e,650))}function B1(e,t,r){t["!links"].forEach(function(t){if(t[1].Target){var n=XY(r,-1,t[1].Target.replace(/#.*$/,""),HY.HLINK);qK(e,494,function(e,t){var r=zK(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));TY({s:XK(e[0]),e:XK(e[0])},r),NY("rId"+t,r);var n=e[1].Target.indexOf("#");return lY((-1==n?"":e[1].Target.slice(n+1))||"",r),lY(e[1].Tooltip||"",r),lY("",r),r.slice(0,r.l)}(t,n))}}),delete t["!links"]}function q1(e,t,r){qK(e,133),qK(e,137,function(e,t,r){null==r&&(r=zK(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}(0,r)),qK(e,138),qK(e,134)}function $1(e,t){var r,n;t["!protect"]&&qK(e,535,(r=t["!protect"],null==n&&(n=zK(66)),n.write_shift(2,r.password?sQ(r.password):0),n.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?n.write_shift(4,null==r[e[0]]||r[e[0]]?0:1):n.write_shift(4,null!=r[e[0]]&&r[e[0]]?0:1)}),n))}function U1(e,t,r,n){var s=BK(),a=r.SheetNames[e],i=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch(u){}var l,c,d=eY(i["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],qK(s,129),(r.vbaraw||i["!outline"])&&qK(s,147,function(e,t,r){null==r&&(r=zK(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var s=1;s<3;++s)r.write_shift(1,0);return PY({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),bY(e,r),r.slice(0,r.l)}(o,i["!outline"])),qK(s,148,P1(d)),q1(s,0,r.Workbook),z1(s,i),function(e,t,r,n){var s,a=eY(t["!ref"]||"A1"),i="",o=[];qK(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=c;++d){i=GK(d),E1(e,t,a,d);var u=!1;if(d<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){d===a.s.r&&(o[m]=YK(m)),s=o[m]+i;var h=l?(t[d]||[])[m]:t[s];u=!!h&&I1(e,h,d,m,n,t,u)}}qK(e,146)}(s,i,0,t),$1(s,i),function(e,t,r,n){if(t["!autofilter"]){var s=t["!autofilter"],a="string"==typeof s.ref?s.ref:ZK(s.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,o=QK(a);o.s.r==o.e.r&&(o.e.r=QK(t["!ref"]).e.r,a=ZK(o));for(var l=0;l<i.length;++l){var c=i[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),qK(e,161,TY(eY(a))),qK(e,162)}}(s,i,r,e),R1(s,i),B1(s,i,n),i["!margins"]&&qK(s,476,(l=i["!margins"],null==c&&(c=zK(48)),o1(l),M1.forEach(function(e){_Y(l[e],c)}),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||F1(s,i),function(e,t,r,n){if(t["!comments"].length>0){var s=XY(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",HY.VML);qK(e,551,NY("rId"+s)),t["!legacy"]=s}}(s,i,e,n),qK(s,130),s.end()}function W1(e,t,r,n,s,a){var i=a||{"!type":"chart"};if(!e)return a;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(e){var t=function(e){var t,r=[],n=e.match(/^<c:numCache>/);(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/gm)||[]).forEach(function(e){var t=e.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);t&&(r[+t[1]]=n?+t[2]:t[2])});var s=lG((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/gm)||[]).forEach(function(e){t=e.replace(/<.*?>/g,"")}),[r,s,t]}(e);d.s.r=d.s.c=0,d.e.c=o,c=YK(o),t[0].forEach(function(e,r){i[c+GK(r)]={t:"n",v:e,z:t[1]},l=r}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=ZK(d)),i}var V1=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],H1=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],G1=[],K1=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function Y1(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],s=0;s!=t.length;++s){var a=t[s];if(null==n[a[0]])n[a[0]]=a[1];else switch(a[2]){case"bool":"string"==typeof n[a[0]]&&(n[a[0]]=xG(n[a[0]]));break;case"int":"string"==typeof n[a[0]]&&(n[a[0]]=parseInt(n[a[0]],10))}}}function X1(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(null==e[n[0]])e[n[0]]=n[1];else switch(n[2]){case"bool":"string"==typeof e[n[0]]&&(e[n[0]]=xG(e[n[0]]));break;case"int":"string"==typeof e[n[0]]&&(e[n[0]]=parseInt(e[n[0]],10))}}}function J1(e){X1(e.WBProps,V1),X1(e.CalcPr,K1),Y1(e.WBView,H1),Y1(e.Sheets,G1),n1.date1904=xG(e.WBProps.date1904)}var Q1="][*?/\\".split("");function Z1(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return Q1.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),!0}function e0(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,r,n,s=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,r=s,n=!!e.vbaraw,t.forEach(function(e,s){Z1(e);for(var a=0;a<s;++a)if(e==t[a])throw new Error("Duplicate Sheet Name: "+e);if(n){var i=r&&r[s]&&r[s].CodeName||e;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}});for(var a=0;a<e.SheetNames.length;++a)d1(e.Sheets[e.SheetNames[a]],e.SheetNames[a],a)}var t0=/<\w+:workbook/;function r0(e){var t=[QH];t[t.length]=DG("workbook",null,{xmlns:YG[0],"xmlns:r":VG});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(V1.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(n[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=DG("workbookPr",null,n);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&s[a]&&s[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:uG(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden"}t[t.length]=DG("sheet",null,i)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var r={name:e.Name};e.Comment&&(r.comment=e.Comment),null!=e.Sheet&&(r.localSheetId=""+e.Sheet),e.Hidden&&(r.hidden="1"),e.Ref&&(t[t.length]=DG("definedName",uG(e.Ref),r))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function n0(e,t){return t||(t=zK(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),NY(e.strRelID,t),lY(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function s0(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function a0(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var r,n,s=t.Workbook.Sheets,a=0,i=-1,o=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&-1==i?i=a:1==s[a].Hidden&&-1==o&&(o=a);if(!(o>i))qK(e,135),qK(e,158,(r=i,n||(n=zK(29)),n.write_shift(-4,0),n.write_shift(-4,460),n.write_shift(4,28800),n.write_shift(4,17600),n.write_shift(4,500),n.write_shift(4,r),n.write_shift(4,r),n.write_shift(1,120),n.length>n.l?n.slice(0,n.l):n)),qK(e,136)}}function i0(e,t){var r=BK();return qK(r,131),qK(r,128,function(e,t){t||(t=zK(127));for(var r=0;4!=r;++r)t.write_shift(4,0);return lY("SheetJS",t),lY(YW.version,t),lY(YW.version,t),lY("7262",t),t.length>t.l?t.slice(0,t.l):t}()),qK(r,153,function(e,t){t||(t=zK(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),bY(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),a0(r,e),function(e,t){qK(e,143);for(var r=0;r!=t.SheetNames.length;++r)qK(e,156,n0({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]}));qK(e,144)}(r,e),qK(r,132),r.end()}function o0(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],s=!1;t||(t={}),t.biff=12;var a=[],i=[[]];return i.SheetNames=[],i.XTI=[],G0[16]={n:"BrtFRTArchID$",f:s0},FK(e,function(e,o,l){switch(l){case 156:i.SheetNames.push(e.name),r.Sheets.push(e);break;case 153:r.WBProps=e;break;case 39:null!=e.Sheet&&(t.SID=e.Sheet),e.Ref=FZ(e.Ptg,0,null,i,t),delete t.SID,delete e.Ptg,a.push(e);break;case 1036:case 361:case 2071:case 158:case 143:case 664:case 353:case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:case 16:break;case 357:case 358:case 355:case 667:i[0].length?i.push([l,e]):i[0]=[l,e],i[i.length-1].XTI=[];break;case 362:0===i.length&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(e),i.XTI=i.XTI.concat(e);break;case 35:case 37:n.push(l),s=!0;break;case 36:case 38:n.pop(),s=!1;break;default:if(o.T);else if(!s||t.WTF&&37!=n[n.length-1]&&35!=n[n.length-1])throw new Error("Unexpected record 0x"+l.toString(16))}},t),J1(r),r.Names=a,r.supbooks=i,r}(e,r):function(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,s="xmlns",a={},i=0;if(e.replace(tG,function(o,l){var c=sG(o);switch(aG(c[0])){case"<?xml":case"</workbook>":case"<fileVersion/>":case"</fileVersion>":case"<fileSharing":case"<fileSharing/>":case"</workbookPr>":case"<workbookProtection":case"<workbookProtection/>":case"<bookViews":case"<bookViews>":case"</bookViews>":case"</workbookView>":case"<sheets":case"<sheets>":case"</sheets>":case"</sheet>":case"<functionGroups":case"<functionGroups/>":case"<functionGroup":case"<externalReferences":case"</externalReferences>":case"<externalReferences>":case"<externalReference":case"<definedNames/>":case"<definedName/>":case"</calcPr>":case"<oleSize":case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":case"<customWorkbookView":case"</customWorkbookView>":case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":case"<pivotCache":case"<smartTagPr":case"<smartTagPr/>":case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":case"<smartTagType":case"<webPublishing":case"<webPublishing/>":case"<fileRecoveryPr":case"<fileRecoveryPr/>":case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":case"<webPublishObject":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":case"<ArchID":case"<revisionPtr":break;case"<workbook":o.match(t0)&&(s="xmlns"+o.match(/<(\w+):/)[1]),r.xmlns=c[s];break;case"<fileVersion":delete c[0],r.AppVersion=c;break;case"<workbookPr":case"<workbookPr/>":V1.forEach(function(e){if(null!=c[e[0]])switch(e[2]){case"bool":r.WBProps[e[0]]=xG(c[e[0]]);break;case"int":r.WBProps[e[0]]=parseInt(c[e[0]],10);break;default:r.WBProps[e[0]]=c[e[0]]}}),c.codeName&&(r.WBProps.CodeName=jG(c.codeName));break;case"<workbookView":case"<workbookView/>":delete c[0],r.WBView.push(c);break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=lG(jG(c.name)),delete c[0],r.Sheets.push(c);break;case"<definedNames>":case"<definedNames":case"<ext":case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</definedNames>":case"</ext>":case"</AlternateContent>":n=!1;break;case"<definedName":(a={}).Name=jG(c.name),c.comment&&(a.Comment=c.comment),c.localSheetId&&(a.Sheet=+c.localSheetId),xG(c.hidden||"0")&&(a.Hidden=!0),i=l+o.length;break;case"</definedName>":a.Ref=lG(jG(e.slice(i,l))),r.Names.push(a);break;case"<calcPr":case"<calcPr/>":delete c[0],r.CalcPr=c;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o}),-1===YG.indexOf(r.xmlns))throw new Error("Unknown Namespace: "+r.xmlns);return J1(r),r}(e,r)}function l0(e,t,r,n,s,a,i,o){return".bin"===t.slice(-4)?function(e,t,r,n,s,a,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l,c,d,u,m,h,p,f,x,g,b=o.dense?[]:{},y={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=!1,j=!1,w=[];o.biff=12,o["!row"]=0;var N=0,k=!1,S=[],C={},A=o.supbooks||s.supbooks||[[]];if(A.sharedf=C,A.arrayf=S,A.SheetNames=s.SheetNames||s.Sheets.map(function(e){return e.name}),!o.supbooks&&(o.supbooks=A,s.Names))for(var T=0;T<s.Names.length;++T)A[0][T+1]=s.Names[T];var E,_=[],P=[],D=!1;if(G0[16]={n:"BrtShortReal",f:D1},FK(e,function(e,t,T){if(!j)switch(T){case 148:l=e;break;case 0:c=e,o.sheetRows&&o.sheetRows<=c.r&&(j=!0),x=GK(m=c.r),o["!row"]=c.r,(e.hidden||e.hpt||null!=e.level)&&(e.hpt&&(e.hpx=vQ(e.hpt)),P[e.r]=e);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(d={t:e[2]},e[2]){case"n":d.v=e[1];break;case"s":f=r1[e[1]],d.v=f.t,d.r=f.r;break;case"b":d.v=!!e[1];break;case"e":d.v=e[1],!1!==o.cellText&&(d.w=qY[d.v]);break;case"str":d.t="s",d.v=e[1];break;case"is":d.t="s",d.v=e[1].t}if((u=i.CellXf[e[0].iStyleRef])&&c1(d,u.numFmtId,null,o,a,i),h=-1==e[0].c?h+1:e[0].c,o.dense?(b[m]||(b[m]=[]),b[m][h]=d):b[YK(h)+x]=d,o.cellFormula){for(k=!1,N=0;N<S.length;++N){var O=S[N];c.r>=O[0].s.r&&c.r<=O[0].e.r&&h>=O[0].s.c&&h<=O[0].e.c&&(d.F=ZK(O[0]),k=!0)}!k&&e.length>3&&(d.f=e[3])}if(y.s.r>c.r&&(y.s.r=c.r),y.s.c>h&&(y.s.c=h),y.e.r<c.r&&(y.e.r=c.r),y.e.c<h&&(y.e.c=h),o.cellDates&&u&&"n"==d.t&&aH(PV[u.numFmtId])){var L=MV(d.v);L&&(d.t="d",d.v=new Date(L.y,L.m-1,L.d,L.H,L.M,L.S,L.u))}E&&("XLDAPR"==E.type&&(d.D=!0),E=void 0);break;case 1:case 12:if(!o.sheetStubs||v)break;d={t:"z",v:void 0},h=-1==e[0].c?h+1:e[0].c,o.dense?(b[m]||(b[m]=[]),b[m][h]=d):b[YK(h)+x]=d,y.s.r>c.r&&(y.s.r=c.r),y.s.c>h&&(y.s.c=h),y.e.r<c.r&&(y.e.r=c.r),y.e.c<h&&(y.e.c=h),E&&("XLDAPR"==E.type&&(d.D=!0),E=void 0);break;case 176:w.push(e);break;case 49:E=((o.xlmeta||{}).Cell||[])[e-1];break;case 494:var M=n["!id"][e.relId];for(M?(e.Target=M.Target,e.loc&&(e.Target+="#"+e.loc),e.Rel=M):""==e.relId&&(e.Target="#"+e.loc),m=e.rfx.s.r;m<=e.rfx.e.r;++m)for(h=e.rfx.s.c;h<=e.rfx.e.c;++h)o.dense?(b[m]||(b[m]=[]),b[m][h]||(b[m][h]={t:"z",v:void 0}),b[m][h].l=e):(p=JK({c:h,r:m}),b[p]||(b[p]={t:"z",v:void 0}),b[p].l=e);break;case 426:if(!o.cellFormula)break;S.push(e),(g=o.dense?b[m][h]:b[YK(h)+x]).f=FZ(e[1],0,{r:c.r,c:h},A,o),g.F=ZK(e[0]);break;case 427:if(!o.cellFormula)break;C[JK(e[0].s)]=e[1],(g=o.dense?b[m][h]:b[YK(h)+x]).f=FZ(e[1],0,{r:c.r,c:h},A,o);break;case 60:if(!o.cellStyles)break;for(;e.e>=e.s;)_[e.e--]={width:e.w/256,hidden:!!(1&e.flags),level:e.level},D||(D=!0,xQ(e.w/256)),gQ(_[e.e+1]);break;case 161:b["!autofilter"]={ref:ZK(e)};break;case 476:b["!margins"]=e;break;case 147:s.Sheets[r]||(s.Sheets[r]={}),e.name&&(s.Sheets[r].CodeName=e.name),(e.above||e.left)&&(b["!outline"]={above:e.above,left:e.left});break;case 137:s.Views||(s.Views=[{}]),s.Views[0]||(s.Views[0]={}),e.RTL&&(s.Views[0].RTL=!0);break;case 485:case 64:case 1053:case 151:case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:case 37:v=!0;break;case 36:case 38:v=!1;break;default:if(t.T);else if(!v||o.WTF)throw new Error("Unexpected record 0x"+T.toString(16))}},o),delete o.supbooks,delete o["!row"],!b["!ref"]&&(y.s.r<2e6||l&&(l.e.r>0||l.e.c>0||l.s.r>0||l.s.c>0))&&(b["!ref"]=ZK(l||y)),o.sheetRows&&b["!ref"]){var O=eY(b["!ref"]);o.sheetRows<=+O.e.r&&(O.e.r=o.sheetRows-1,O.e.r>y.e.r&&(O.e.r=y.e.r),O.e.r<O.s.r&&(O.s.r=O.e.r),O.e.c>y.e.c&&(O.e.c=y.e.c),O.e.c<O.s.c&&(O.s.c=O.e.c),b["!fullref"]=b["!ref"],b["!ref"]=ZK(O))}return w.length>0&&(b["!merges"]=w),_.length>0&&(b["!cols"]=_),P.length>0&&(b["!rows"]=P),b}(e,n,r,s,a,i,o):j1(e,n,r,s,a,i,o)}function c0(e,t,r,n,s,a,i,o){return".bin"===t.slice(-4)?function(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},i=!1;return FK(e,function(e,n,o){switch(o){case 550:a["!rel"]=e;break;case 651:s.Sheets[r]||(s.Sheets[r]={}),e.name&&(s.Sheets[r].CodeName=e.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:case 37:case 38:break;case 35:i=!0;break;case 36:i=!1;break;default:if(n.T>0);else if(n.T<0);else if(!i||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}(e,n,r,s,a):function(e,t,r,n,s){if(!e)return e;n||(n={"!id":{}});var a,i={"!type":"chart","!drawel":null,"!rel":""},o=e.match(b1);return o&&w1(o[0],0,s,r),(a=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=a[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}(e,0,r,s,a)}function d0(e,t,r,n){return".bin"===t.slice(-4)?function(e,t,r){var n={NumberFmt:[]};for(var s in PV)n.NumberFmt[s]=PV[s];n.CellXf=[],n.Fonts=[];var a=[],i=!1;return FK(e,function(e,s,o){switch(o){case 44:n.NumberFmt[e[0]]=e[1],dH(e[1],e[0]);break;case 43:n.Fonts.push(e),null!=e.color.theme&&t&&t.themeElements&&t.themeElements.clrScheme&&(e.color.rgb=dQ(t.themeElements.clrScheme[e.color.theme].rgb,e.color.tint||0));break;case 1025:case 45:case 46:case 48:case 507:case 572:case 475:case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 47:617==a[a.length-1]&&n.CellXf.push(e);break;case 35:i=!0;break;case 36:i=!1;break;case 37:a.push(o),i=!0;break;case 38:a.pop(),i=!1;break;default:if(s.T>0)a.push(o);else if(s.T<0)a.pop();else if(!i||r.WTF&&37!=a[a.length-1])throw new Error("Unexpected record 0x"+o.toString(16))}}),n}(e,r,n):kQ(e,r,n)}function u0(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=!1;return FK(e,function(e,s,a){switch(a){case 159:r.Count=e[0],r.Unique=e[1];break;case 19:r.push(e);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+a.toString(16))}}),r}(e,r):function(e,t){var r=[],n="";if(!e)return r;var s=e.match($J);if(s){n=s[2].replace(UJ,"").split(WJ);for(var a=0;a!=n.length;++a){var i=qJ(n[a].trim(),t);null!=i&&(r[r.length]=i)}s=sG(s[1]),r.Count=s.count,r.Unique=s.uniqueCount}return r}(e,r)}function m0(e,t,r){return".bin"===t.slice(-4)?function(e,t){var r=[],n=[],s={},a=!1;return FK(e,function(e,i,o){switch(o){case 632:n.push(e);break;case 635:s=e;break;case 637:s.t=e.t,s.h=e.h,s.r=e.r;break;case 636:if(s.author=n[s.iauthor],delete s.iauthor,t.sheetRows&&s.rfx&&t.sheetRows<=s.rfx.r)break;s.t||(s.t=""),delete s.rfx,r.push(s);break;case 3072:case 37:case 38:break;case 35:a=!0;break;case 36:a=!1;break;default:if(i.T);else if(!a||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}(e,r):function(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],s=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);s&&s[1]&&s[1].split(/<\/\w*:?author>/).forEach(function(e){if(""!==e&&""!==e.trim()){var t=e.match(/<(?:\w+:)?author[^>]*>(.*)/);t&&r.push(t[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(e){if(""!==e&&""!==e.trim()){var s=e.match(/<(?:\w+:)?comment[^>]*>/);if(s){var a=sG(s[0]),i={author:a.authorId&&r[a.authorId]||"sheetjsghost",ref:a.ref,guid:a.guid},o=XK(a.ref);if(!(t.sheetRows&&t.sheetRows<=o.r)){var l=e.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),c=!!l&&!!l[1]&&qJ(l[1])||{r:"",t:"",h:""};i.r=c.r,"<t></t>"==c.r&&(c.t=c.h=""),i.t=(c.t||"").replace(/\r\n/g,"\n").replace(/\r/g,"\n"),t.cellHTML&&(i.h=c.h),n.push(i)}}}}),n}(e,r)}function h0(e,t,r){return".bin"===t.slice(-4)?function(e){var t=[];return FK(e,function(e,r,n){if(63===n)t.push(e);else if(!r.T)throw new Error("Unexpected record 0x"+n.toString(16))}),t}(e):function(e){var t=[];if(!e)return t;var r=1;return(e.match(tG)||[]).forEach(function(e){var n=sG(e);switch(n[0]){case"<?xml":case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete n[0],n.i?r=n.i:n.i=r,t.push(n)}}),t}(e)}function p0(e,t,r,n){if(".bin"===r.slice(-4))return function(e,t,r,n){if(!e)return e;var s=n||{},a=!1;FK(e,function(e,t,r){switch(r){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(t.T);else if(!a||s.WTF)throw new Error("Unexpected record 0x"+r.toString(16))}},s)}(e,0,0,n)}function f0(e,t,r){return".bin"===t.slice(-4)?function(e,t,r){var n={Types:[],Cell:[],Value:[]},s=r||{},a=[],i=!1,o=2;return FK(e,function(e,t,r){switch(r){case 335:n.Types.push({name:e.name});break;case 51:e.forEach(function(e){1==o?n.Cell.push({type:n.Types[e[0]-1].name,index:e[1]}):0==o&&n.Value.push({type:n.Types[e[0]-1].name,index:e[1]})});break;case 337:o=e?1:0;break;case 338:o=2;break;case 35:a.push(r),i=!0;break;case 36:a.pop(),i=!1;break;default:if(t.T);else if(!i||s.WTF&&35!=a[a.length-1])throw new Error("Unexpected record 0x"+r.toString(16))}}),n}(e,0,r):function(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var s,a=!1,i=2;return e.replace(tG,function(e){var t=sG(e);switch(aG(t[0])){case"<?xml":case"<metadata":case"</metadata>":case"<metadataTypes":case"</metadataTypes>":case"</metadataType>":case"</futureMetadata>":case"<bk>":case"</bk>":case"</rc>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<metadataType":n.Types.push({name:t.name});break;case"<futureMetadata":for(var o=0;o<n.Types.length;++o)n.Types[o].name==t.name&&(s=n.Types[o]);break;case"<rc":1==i?n.Cell.push({type:n.Types[t.t-1].name,index:+t.v}):0==i&&n.Value.push({type:n.Types[t.t-1].name,index:+t.v});break;case"<cellMetadata":i=1;break;case"</cellMetadata>":case"</valueMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+t.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+t[0]+" in metadata")}return e}),n}(e,0,r)}function x0(e,t,r,n,s){return(".bin"===t.slice(-4)?U1:T1)(e,r,n,s)}function g0(e,t,r){return(".bin"===t.slice(-4)?iZ:nZ)(e)}var b0,y0=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,v0=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function j0(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],1===r.length)return n;var s,a,i,o=e.match(y0);if(o)for(i=0;i!=o.length;++i)-1===(a=(s=o[i].match(v0))[1].indexOf(":"))?n[s[1]]=s[2].slice(1,s[2].length-1):n["xmlns:"===s[1].slice(0,6)?"xmlns"+s[1].slice(6):s[1].slice(a+1)]=s[2].slice(1,s[2].length-1);return n}function w0(e){var t={};if(1===e.split(/\s+/).length)return t;var r,n,s,a=e.match(y0);if(a)for(s=0;s!=a.length;++s)-1===(n=(r=a[s].match(v0))[1].indexOf(":"))?t[r[1]]=r[2].slice(1,r[2].length-1):t["xmlns:"===r[1].slice(0,6)?"xmlns"+r[1].slice(6):r[1].slice(n+1)]=r[2].slice(1,r[2].length-1);return t}function N0(e,t,r,n){var s=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":s=xG(n);break;case"i2":case"int":s=parseInt(n,10);break;case"r4":case"float":s=parseFloat(n);break;case"date":case"dateTime.tz":s=OH(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[lG(t)]=s}function k0(e,t,r){if("z"!==e.t){if(!r||!1!==r.cellText)try{"e"===e.t?e.w=e.w||qY[e.v]:"General"===t?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qV(e.v):e.w=$V(e.v):e.w=(n=t||"General",s=e.v,"General"===(a=b0[n]||lG(n))?$V(s):cH(a,s))}catch(l){if(r.WTF)throw l}var n,s,a;try{var i=b0[t]||t||"General";if(r.cellNF&&(e.z=i),r.cellDates&&"n"==e.t&&aH(i)){var o=MV(e.v);o&&(e.t="d",e.v=new Date(o.y,o.m-1,o.d,o.H,o.M,o.S,o.u))}}catch(l){if(r.WTF)throw l}}}function S0(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=jQ[n.Pattern]||n.Pattern)}e[t.ID]=t}function C0(e,t,r,n,s,a,i,o,l,c){var d="General",u=n.StyleID,m={};c=c||{};var h=[],p=0;for(void 0===u&&o&&(u=o.StyleID),void 0===u&&i&&(u=i.StyleID);void 0!==a[u]&&(a[u].nf&&(d=a[u].nf),a[u].Interior&&h.push(a[u].Interior),a[u].Parent);)u=a[u].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=xG(e);break;case"String":n.t="s",n.r=fG(lG(e)),n.v=e.indexOf("<")>-1?lG(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":"Z"!=e.slice(-1)&&(e+="Z"),n.v=(OH(e)-new Date(Date.UTC(1899,11,30)))/864e5,n.v!=n.v?n.v=lG(e):n.v<60&&(n.v=n.v-1),d&&"General"!=d||(d="yyyy-mm-dd");case"Number":void 0===n.v&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=$Y[e],!1!==c.cellText&&(n.w=e);break;default:""==e&&""==t?n.t="z":(n.t="s",n.v=fG(t||e))}if(k0(n,d,c),!1!==c.cellFormula)if(n.Formula){var f=lG(n.Formula);61==f.charCodeAt(0)&&(f=f.slice(1)),n.f=lZ(f,s),delete n.Formula,"RC"==n.ArrayRange?n.F=lZ("RC:RC",s):n.ArrayRange&&(n.F=lZ(n.ArrayRange,s),l.push([eY(n.F),n.F]))}else for(p=0;p<l.length;++p)s.r>=l[p][0].s.r&&s.r<=l[p][0].e.r&&s.c>=l[p][0].s.c&&s.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(h.forEach(function(e){!m.patternType&&e.patternType&&(m.patternType=e.patternType)}),n.s=m),void 0!==n.StyleID&&(n.ixfe=n.StyleID)}function A0(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.v=e.w=e.ixfe=void 0}function T0(e,t){var r=t||{};mH();var n=aV(LG(e));"binary"!=r.type&&"array"!=r.type&&"base64"!=r.type||(n=jG(n));var s,a=n.slice(0,1024).toLowerCase(),i=!1;if((1023&(a=a.replace(/".*?"/g,"")).indexOf(">"))>Math.min(1023&a.indexOf(","),1023&a.indexOf(";"))){var o=MH(r);return o.type="string",LJ.to_workbook(n,o)}if(-1==a.indexOf("<?xml")&&["html","table","head","meta","script","style","div"].forEach(function(e){a.indexOf("<"+e)>=0&&(i=!0)}),i)return function(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||0==r.length)throw new Error("Invalid HTML: could not find <table>");if(1==r.length)return nY(a2(r[0],t),t);var n={SheetNames:[],Sheets:{}};return r.forEach(function(e,r){y3(n,a2(e,t),"Sheet"+(r+1))}),n}(n,r);b0={"General Number":"General","General Date":PV[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":PV[15],"Short Date":PV[14],"Long Time":PV[19],"Medium Time":PV[18],"Short Time":PV[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:PV[2],Standard:PV[4],Percent:PV[10],Scientific:PV[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,c,d=[],u={},m=[],h=r.dense?[]:{},p="",f={},x={},g=j0('<Data ss:Type="String">'),b=0,y=0,v=0,j={s:{r:2e6,c:2e6},e:{r:0,c:0}},w={},N={},k="",S=0,C=[],A={},T={},E=0,_=[],P=[],D={},O=[],L=!1,M=[],I=[],R={},z=0,F=0,B={Sheets:[],WBProps:{date1904:!1}},q={};MG.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/gm,"");for(var $="";s=MG.exec(n);)switch(s[3]=($=s[3]).toLowerCase()){case"data":if("data"==$){if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!0]);break}if(d[d.length-1][1])break;"/"===s[1]?C0(n.slice(b,s.index),k,g,"comment"==d[d.length-1][0]?D:f,{c:y,r:v},w,O[y],x,M,r):(k="",g=j0(s[0]),b=s.index+s[0].length);break;case"cell":if("/"===s[1])if(P.length>0&&(f.c=P),(!r.sheetRows||r.sheetRows>v)&&void 0!==f.v&&(r.dense?(h[v]||(h[v]=[]),h[v][y]=f):h[YK(y)+GK(v)]=f),f.HRef&&(f.l={Target:lG(f.HRef)},f.HRefScreenTip&&(f.l.Tooltip=f.HRefScreenTip),delete f.HRef,delete f.HRefScreenTip),(f.MergeAcross||f.MergeDown)&&(z=y+(0|parseInt(f.MergeAcross,10)),F=v+(0|parseInt(f.MergeDown,10)),C.push({s:{c:y,r:v},e:{c:z,r:F}})),r.sheetStubs)if(f.MergeAcross||f.MergeDown){for(var U=y;U<=z;++U)for(var W=v;W<=F;++W)(U>y||W>v)&&(r.dense?(h[W]||(h[W]=[]),h[W][U]={t:"z"}):h[YK(U)+GK(W)]={t:"z"});y=z+1}else++y;else f.MergeAcross?y=z+1:++y;else(f=w0(s[0])).Index&&(y=+f.Index-1),y<j.s.c&&(j.s.c=y),y>j.e.c&&(j.e.c=y),"/>"===s[0].slice(-2)&&++y,P=[];break;case"row":"/"===s[1]||"/>"===s[0].slice(-2)?(v<j.s.r&&(j.s.r=v),v>j.e.r&&(j.e.r=v),"/>"===s[0].slice(-2)&&(x=j0(s[0])).Index&&(v=+x.Index-1),y=0,++v):((x=j0(s[0])).Index&&(v=+x.Index-1),R={},("0"==x.AutoFitHeight||x.Height)&&(R.hpx=parseInt(x.Height,10),R.hpt=yQ(R.hpx),I[v]=R),"1"==x.Hidden&&(R.hidden=!0,I[v]=R));break;case"worksheet":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"));m.push(p),j.s.r<=j.e.r&&j.s.c<=j.e.c&&(h["!ref"]=ZK(j),r.sheetRows&&r.sheetRows<=j.e.r&&(h["!fullref"]=h["!ref"],j.e.r=r.sheetRows-1,h["!ref"]=ZK(j))),C.length&&(h["!merges"]=C),O.length>0&&(h["!cols"]=O),I.length>0&&(h["!rows"]=I),u[p]=h}else j={s:{r:2e6,c:2e6},e:{r:0,c:0}},v=y=0,d.push([s[3],!1]),l=j0(s[0]),p=lG(l.Name),h=r.dense?[]:{},C=[],M=[],I=[],q={name:p,Hidden:0},B.Sheets.push(q);break;case"table":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else{if("/>"==s[0].slice(-2))break;d.push([s[3],!1]),O=[],L=!1}break;case"style":"/"===s[1]?S0(w,N,r):N=j0(s[0]);break;case"numberformat":N.nf=lG(j0(s[0]).Format||"General"),b0[N.nf]&&(N.nf=b0[N.nf]);for(var V=0;392!=V&&PV[V]!=N.nf;++V);if(392==V)for(V=57;392!=V;++V)if(null==PV[V]){dH(N.nf,V);break}break;case"column":if("table"!==d[d.length-1][0])break;if((c=j0(s[0])).Hidden&&(c.hidden=!0,delete c.Hidden),c.Width&&(c.wpx=parseInt(c.Width,10)),!L&&c.wpx>10){L=!0,uQ=6;for(var H=0;H<O.length;++H)O[H]&&gQ(O[H])}L&&gQ(c),O[c.Index-1||O.length]=c;for(var G=0;G<+c.Span;++G)O[O.length]=MH(c);break;case"namedrange":if("/"===s[1])break;B.Names||(B.Names=[]);var K=sG(s[0]),Y={Name:K.Name,Ref:lZ(K.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(Y.Sheet=B.Sheets.length-1),B.Names.push(Y);break;case"namedcell":case"b":case"i":case"u":case"s":case"em":case"h2":case"h3":case"sub":case"sup":case"span":case"alignment":case"borders":case"border":case"protection":case"paragraphs":case"name":case"pixelsperinch":case"null":break;case"font":if("/>"===s[0].slice(-2))break;"/"===s[1]?k+=n.slice(S,s.index):S=s.index+s[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=j0(s[0]);break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if("/>"===s[0].slice(-2))break;"/"===s[1]?hX(A,$,n.slice(E,s.index)):E=s.index+s[0].length;break;case"styles":case"workbook":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else d.push([s[3],!1]);break;case"comment":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"));A0(D),P.push(D)}else d.push([s[3],!1]),D={a:(l=j0(s[0])).Author};break;case"autofilter":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else if("/"!==s[0].charAt(s[0].length-2)){var X=j0(s[0]);h["!autofilter"]={ref:lZ(X.Range).replace(/\$/g,"")},d.push([s[3],!0])}break;case"datavalidation":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!0]);break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if("/"===s[1]){if((l=d.pop())[0]!==s[3])throw new Error("Bad state: "+l.join("|"))}else"/"!==s[0].charAt(s[0].length-2)&&d.push([s[3],!0]);break;default:if(0==d.length&&"document"==s[3])return f2(n,r);if(0==d.length&&"uof"==s[3])return f2(n,r);var J=!0;switch(d[d.length-1][0]){case"officedocumentsettings":switch(s[3]){case"allowpng":case"removepersonalinformation":case"downloadcomponents":case"locationofcomponents":case"colors":case"color":case"index":case"rgb":case"targetscreensize":case"readonlyrecommended":break;default:J=!1}break;case"componentoptions":switch(s[3]){case"toolbar":case"hideofficelogo":case"spreadsheetautofit":case"label":case"caption":case"maxheight":case"maxwidth":case"nextsheetnumber":break;default:J=!1}break;case"excelworkbook":switch(s[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":case"windowwidth":case"windowtopx":case"windowtopy":case"tabratio":case"protectstructure":case"protectwindow":case"protectwindows":case"activesheet":case"displayinknotes":case"firstvisiblesheet":case"supbook":case"sheetname":case"sheetindex":case"sheetindexfirst":case"sheetindexlast":case"dll":case"acceptlabelsinformulas":case"donotsavelinkvalues":case"iteration":case"maxiterations":case"maxchange":case"path":case"xct":case"count":case"selectedsheets":case"calculation":case"uncalced":case"startupprompt":case"crn":case"externname":case"formula":case"colfirst":case"collast":case"wantadvise":case"boolean":case"error":case"text":case"ole":case"noautorecover":case"publishobjects":case"donotcalculatebeforesave":case"number":case"refmoder1c1":case"embedsavesmarttags":break;default:J=!1}break;case"workbookoptions":switch(s[3]){case"owcversion":case"height":case"width":break;default:J=!1}break;case"worksheetoptions":switch(s[3]){case"visible":if("/>"===s[0].slice(-2));else if("/"===s[1])switch(n.slice(E,s.index)){case"SheetHidden":q.Hidden=1;break;case"SheetVeryHidden":q.Hidden=2}else E=s.index+s[0].length;break;case"header":h["!margins"]||o1(h["!margins"]={},"xlml"),isNaN(+sG(s[0]).Margin)||(h["!margins"].header=+sG(s[0]).Margin);break;case"footer":h["!margins"]||o1(h["!margins"]={},"xlml"),isNaN(+sG(s[0]).Margin)||(h["!margins"].footer=+sG(s[0]).Margin);break;case"pagemargins":var Q=sG(s[0]);h["!margins"]||o1(h["!margins"]={},"xlml"),isNaN(+Q.Top)||(h["!margins"].top=+Q.Top),isNaN(+Q.Left)||(h["!margins"].left=+Q.Left),isNaN(+Q.Right)||(h["!margins"].right=+Q.Right),isNaN(+Q.Bottom)||(h["!margins"].bottom=+Q.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":case"frozennosplit":case"splithorizontal":case"splitvertical":case"donotdisplaygridlines":case"activerow":case"activecol":case"toprowbottompane":case"leftcolumnrightpane":case"unsynced":case"print":case"printerrors":case"panes":case"scale":case"pane":case"number":case"layout":case"pagesetup":case"selected":case"protectobjects":case"enableselection":case"protectscenarios":case"validprinterinfo":case"horizontalresolution":case"verticalresolution":case"numberofcopies":case"activepane":case"toprowvisible":case"leftcolumnvisible":case"fittopage":case"rangeselection":case"papersizeindex":case"pagelayoutzoom":case"pagebreakzoom":case"filteron":case"fitwidth":case"fitheight":case"commentslayout":case"zoom":case"lefttoright":case"gridlines":case"allowsort":case"allowfilter":case"allowinsertrows":case"allowdeleterows":case"allowinsertcols":case"allowdeletecols":case"allowinserthyperlinks":case"allowformatcells":case"allowsizecols":case"allowsizerows":case"tabcolorindex":case"donotdisplayheadings":case"showpagelayoutzoom":case"blackandwhite":case"donotdisplayzeros":case"displaypagebreak":case"rowcolheadings":case"donotdisplayoutline":case"noorientation":case"allowusepivottables":case"zeroheight":case"viewablerange":case"selection":case"protectcontents":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;default:J=!1}break;case"pivottable":case"pivotcache":switch(s[3]){case"immediateitemsondrop":case"showpagemultipleitemlabel":case"compactrowindent":case"location":case"pivotfield":case"orientation":case"layoutform":case"layoutsubtotallocation":case"layoutcompactrow":case"position":case"pivotitem":case"datatype":case"datafield":case"sourcename":case"parentfield":case"ptlineitems":case"ptlineitem":case"countofsameitems":case"item":case"itemtype":case"ptsource":case"cacheindex":case"consolidationreference":case"filename":case"reference":case"nocolumngrand":case"norowgrand":case"blanklineafteritems":case"hidden":case"subtotal":case"basefield":case"mapchilditems":case"function":case"refreshonfileopen":case"printsettitles":case"mergelabels":case"defaultversion":case"refreshname":case"refreshdate":case"refreshdatecopy":case"versionlastrefresh":case"versionlastupdate":case"versionupdateablemin":case"versionrefreshablemin":case"calculation":break;default:J=!1}break;case"pagebreaks":switch(s[3]){case"colbreaks":case"colbreak":case"rowbreaks":case"rowbreak":case"colstart":case"colend":case"rowend":break;default:J=!1}break;case"autofilter":switch(s[3]){case"autofiltercolumn":case"autofiltercondition":case"autofilterand":case"autofilteror":break;default:J=!1}break;case"querytable":switch(s[3]){case"id":case"autoformatfont":case"autoformatpattern":case"querysource":case"querytype":case"enableredirections":case"refreshedinxl9":case"urlstring":case"htmltables":case"connection":case"commandtext":case"refreshinfo":case"notitles":case"nextid":case"columninfo":case"overwritecells":case"donotpromptforfile":case"textwizardsettings":case"source":case"number":case"decimal":case"thousandseparator":case"trailingminusnumbers":case"formatsettings":case"fieldtype":case"delimiters":case"tab":case"comma":case"autoformatname":case"versionlastedit":case"versionlastrefresh":break;default:J=!1}break;case"datavalidation":switch(s[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":case"cellrangelist":break;default:J=!1}break;case"sorting":case"conditionalformatting":switch(s[3]){case"range":case"type":case"min":case"max":case"sort":case"descending":case"order":case"casesensitive":case"value":case"errorstyle":case"errormessage":case"errortitle":case"cellrangelist":case"inputmessage":case"inputtitle":case"combohide":case"inputhide":case"condition":case"qualifier":case"useblank":case"value1":case"value2":case"format":break;default:J=!1}break;case"mapinfo":case"schema":case"data":switch(s[3]){case"map":case"entry":case"range":case"xpath":case"field":case"xsdtype":case"filteron":case"aggregate":case"elementtype":case"attributetype":case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":case"row":break;default:J=!1}break;case"smarttags":break;default:J=!1}if(J)break;if(s[3].match(/!\[CDATA/))break;if(!d[d.length-1][1])throw"Unrecognized tag: "+s[3]+"|"+d.join("|");if("customdocumentproperties"===d[d.length-1][0]){if("/>"===s[0].slice(-2))break;"/"===s[1]?N0(T,$,_,n.slice(E,s.index)):(_=s,E=s.index+s[0].length);break}if(r.WTF)throw"Unrecognized tag: "+s[3]+"|"+d.join("|")}var Z={};return r.bookSheets||r.bookProps||(Z.Sheets=u),Z.SheetNames=m,Z.Workbook=B,Z.SSF=MH(PV),Z.Props=A,Z.Custprops=T,Z}function E0(e,t){switch(G2(t=t||{}),t.type||"base64"){case"base64":return T0(dV(e),t);case"binary":case"buffer":case"file":return T0(e,t);case"array":return T0(gV(e),t)}}function _0(e,t){var r=[];return e.Props&&r.push(function(e,t){var r=[];return yH(mX).map(function(e){for(var t=0;t<eX.length;++t)if(eX[t][1]==e)return eX[t];for(t=0;t<aX.length;++t)if(aX[t][1]==e)return aX[t];throw e}).forEach(function(n){if(null!=e[n[1]]){var s=t&&t.Props&&null!=t.Props[n[1]]?t.Props[n[1]]:e[n[1]];"date"===n[2]&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof s?s=String(s):!0===s||!1===s?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),r.push(_G(mX[n[1]]||n[1],s))}}),DG("DocumentProperties",r.join(""),{xmlns:XG})}(e.Props,t)),e.Custprops&&r.push(function(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",s=[];return e&&yH(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var n=0;n<eX.length;++n)if(t==eX[n][1])return;for(n=0;n<aX.length;++n)if(t==aX[n][1])return;for(n=0;n<r.length;++n)if(t==r[n])return;var a=e[t],i="string";"number"==typeof a?(i="float",a=String(a)):!0===a||!1===a?(i="boolean",a=a?"1":"0"):a=String(a),s.push(DG(mG(t),a,{"dt:dt":i}))}}),t&&yH(t).forEach(function(r){if(Object.prototype.hasOwnProperty.call(t,r)&&(!e||!Object.prototype.hasOwnProperty.call(e,r))){var n=t[r],a="string";"number"==typeof n?(a="float",n=String(n)):!0===n||!1===n?(a="boolean",n=n?"1":"0"):n instanceof Date?(a="dateTime.tz",n=n.toISOString()):n=String(n),s.push(DG(mG(r),n,{"dt:dt":a}))}}),"<"+n+' xmlns="'+XG+'">'+s.join("")+"</"+n+">"}(e.Props,e.Custprops)),r.join("")}function P0(e){return DG("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+dZ(e.Ref,{r:0,c:0})})}function D0(e,t,r,n,s,a,i){if(!e||null==e.v&&null==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+uG(dZ(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=XK(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=uG(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=uG(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],d=0;d!=c.length;++d)c[d].s.c==i.c&&c[d].s.r==i.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":u="Number",m=String(e.v);break;case"b":u="Boolean",m=e.v?"1":"0";break;case"e":u="Error",m=qY[e.v];break;case"d":u="DateTime",m=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||PV[14]);break;case"s":u="String",m=((e.v||"")+"").replace(cG,function(e){return oG[e]}).replace(hG,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var h=l1(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=i.c+1;var p=null!=e.v?m:"",f="z"==e.t?"":'<Data ss:Type="'+u+'">'+p+"</Data>";return(e.c||[]).length>0&&(f+=e.c.map(function(e){var t=DG("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return DG("Comment",t,{"ss:Author":e.a})}).join("")),DG("Cell",f,o)}function O0(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=vQ(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function L0(e,t,r){var n=[],s=r.SheetNames[e],a=r.Sheets[s],i=a?function(e,t,r,n){if(!e)return"";if(!((n||{}).Workbook||{}).Names)return"";for(var s=n.Workbook.Names,a=[],i=0;i<s.length;++i){var o=s[i];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(P0(o)))}return a.join("")}(a,0,e,r):"";return i.length>0&&n.push("<Names>"+i+"</Names>"),i=a?function(e,t){if(!e["!ref"])return"";var r=eY(e["!ref"]),n=e["!merges"]||[],s=0,a=[];e["!cols"]&&e["!cols"].forEach(function(e,t){gQ(e);var r=!!e.width,n=i1(t,e),s={"ss:Index":t+1};r&&(s["ss:Width"]=mQ(n.width)),e.hidden&&(s["ss:Hidden"]="1"),a.push(DG("Column",null,s))});for(var i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var l=[O0(o,(e["!rows"]||[])[o])],c=r.s.c;c<=r.e.c;++c){var d=!1;for(s=0;s!=n.length;++s)if(!(n[s].s.c>c||n[s].s.r>o||n[s].e.c<c||n[s].e.r<o)){n[s].s.c==c&&n[s].s.r==o||(d=!0);break}if(!d){var u={r:o,c:c},m=JK(u),h=i?(e[o]||[])[c]:e[m];l.push(D0(h,m,e,t,0,0,u))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(a,t):"",i.length>0&&n.push("<Table>"+i+"</Table>"),n.push(function(e,t,r,n){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(DG("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(DG("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(DG("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)s.push(DG("Visible",1==n.Workbook.Sheets[r].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&(!n.Workbook.Sheets[a]||n.Workbook.Sheets[a].Hidden);++a);a==r&&s.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(_G("ProtectContents","True")),e["!protect"].objects&&s.push(_G("ProtectObjects","True")),e["!protect"].scenarios&&s.push(_G("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||s.push(_G("EnableSelection","UnlockedCells")):s.push(_G("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&s.push("<"+t[1]+"/>")})),0==s.length?"":DG("WorksheetOptions",s.join(""),{xmlns:JG})}(a,0,e,r)),n.join("")}function M0(e,t){t||(t={}),e.SSF||(e.SSF=MH(PV)),e.SSF&&(mH(),uH(e.SSF),t.revssf=wH(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],l1(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(_0(e,t)),r.push(""),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(DG("Worksheet",L0(n,t,e),{"ss:Name":uG(e.SheetNames[n])}));return r[2]=function(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var n=[];n.push(DG("NumberFormat",null,{"ss:Format":uG(PV[e.numFmtId])}));var s={"ss:ID":"s"+(21+t)};r.push(DG("Style",n.join(""),s))}),DG("Styles",r.join(""))}(0,t),r[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var s=t[n];null==s.Sheet&&(s.Name.match(/^_xlfn\./)||r.push(P0(s)))}return DG("Names",r.join(""))}(e),QH+DG("Workbook",r.join(""),{xmlns:QG,"xmlns:o":XG,"xmlns:x":JG,"xmlns:ss":QG,"xmlns:dt":ZG,"xmlns:html":rK})}function I0(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=function(e){return DY(e,1)}(r),r.length-r.l<=4)return t;var n=r.read_shift(4);return 0==n||n>40?t:(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4||1907505652!==(n=r.read_shift(4))?t:(t.UnicodeClipboardFormat=function(e){return DY(e,2)}(r),0==(n=r.read_shift(4))||n>40?t:(r.l-=4,void(t.Reserved2=r.read_shift(0,"lpwstr")))))}var R0=[60,1084,2066,2165,2175];function z0(e,t,r,n,s){var a=n,i=[],o=r.slice(r.l,r.l+a);if(s&&s.enc&&s.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:case 133:break;default:s.enc.insitu(o)}i.push(o),r.l+=a;for(var l=SK(r,r.l),c=K0[l],d=0;null!=c&&R0.indexOf(l)>-1;)a=SK(r,r.l+2),d=r.l+4,2066==l?d+=4:2165!=l&&2175!=l||(d+=12),o=r.slice(d,r.l+4+a),i.push(o),r.l+=4+a,c=K0[l=SK(r,r.l)];var u=yV(i);IK(u,0);var m=0;u.lens=[];for(var h=0;h<i.length;++h)u.lens.push(m),m+=i[h].length;if(u.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+u.length+" < "+n;return t.f(u,u.length,s)}function F0(e,t,r){if("z"!==e.t&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=PV[n])}catch(a){if(t.WTF)throw a}if(!t||!1!==t.cellText)try{"e"===e.t?e.w=e.w||qY[e.v]:0===n||"General"==n?"n"===e.t?(0|e.v)===e.v?e.w=e.v.toString(10):e.w=qV(e.v):e.w=$V(e.v):e.w=cH(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&"n"==e.t&&aH(PV[n]||String(n))){var s=MV(e.v);s&&(e.t="d",e.v=new Date(s.y,s.m-1,s.d,s.H,s.M,s.S,s.u))}}}function B0(e,t,r){return{v:e,ixfe:t,t:r}}function q0(e,t){var r,n,s,a,i,o,l,c,d={opts:{}},u={},m=t.dense?[]:{},h={},p={},f=null,x=[],g="",b={},y="",v={},j=[],w=[],N=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},C=function(e){return e<8?BY[e]:e<64&&N[e-8]||BY[e]},A=function(e,t,n){if(!(R>1||n.sheetRows&&e.r>=n.sheetRows)){if(n.cellStyles&&t.XF&&t.XF.data&&function(e,t,r){var n,s=t.XF.data;s&&s.patternType&&r&&r.cellStyles&&(t.s={},t.s.patternType=s.patternType,(n=cQ(C(s.icvFore)))&&(t.s.fgColor={rgb:n}),(n=cQ(C(s.icvBack)))&&(t.s.bgColor={rgb:n}))}(0,t,n),delete t.ixfe,delete t.XF,r=e,y=JK(e),p&&p.s&&p.e||(p={s:{r:0,c:0},e:{r:0,c:0}}),e.r<p.s.r&&(p.s.r=e.r),e.c<p.s.c&&(p.s.c=e.c),e.r+1>p.e.r&&(p.e.r=e.r+1),e.c+1>p.e.c&&(p.e.c=e.c+1),n.cellFormula&&t.f)for(var s=0;s<j.length;++s)if(!(j[s][0].s.c>e.c||j[s][0].s.r>e.r||j[s][0].e.c<e.c||j[s][0].e.r<e.r)){t.F=ZK(j[s][0]),j[s][0].s.c==e.c&&j[s][0].s.r==e.r||delete t.f,t.f&&(t.f=""+FZ(j[s][1],0,e,L,T));break}n.dense?(m[e.r]||(m[e.r]=[]),m[e.r][e.c]=t):m[y]=t}},T={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:j,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(T.password=t.password);var E=[],_=[],P=[],D=[],O=!1,L=[];L.SheetNames=T.snames,L.sharedf=T.sharedf,L.arrayf=T.arrayf,L.names=[],L.XTI=[];var M,I=0,R=0,z=0,F=[],B=[];T.codepage=1200,eV(1200);for(var q=!1;e.l<e.length-1;){var $=e.l,U=e.read_shift(2);if(0===U&&10===I)break;var W=e.l===e.length?0:e.read_shift(2),V=K0[U];if(V&&V.f){if(t.bookSheets&&133===I&&133!==U)break;if(I=U,2===V.r||12==V.r){var H=e.read_shift(2);if(W-=2,!T.enc&&H!==U&&((255&H)<<8|H>>8)!==U)throw new Error("rt mismatch: "+H+"!="+U);12==V.r&&(e.l+=10,W-=10)}var G={};if(G=10===U?V.f(e,W,T):z0(U,V,e,W,T),0==R&&-1===[9,521,1033,2057].indexOf(I))continue;switch(U){case 34:d.opts.Date1904=k.WBProps.date1904=G;break;case 134:d.opts.WriteProtect=!0;break;case 47:if(T.enc||(e.l=0),T.enc=G,!t.password)throw new Error("File is password-protected");if(null==G.valid)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:T.lastuser=G;break;case 66:var K=Number(G);switch(K){case 21010:K=1200;break;case 32768:K=1e4;break;case 32769:K=1252}eV(T.codepage=K),q=!0;break;case 317:T.rrtabid=G;break;case 25:T.winlocked=G;break;case 439:d.opts.RefreshAll=G;break;case 12:d.opts.CalcCount=G;break;case 16:d.opts.CalcDelta=G;break;case 17:d.opts.CalcIter=G;break;case 13:d.opts.CalcMode=G;break;case 14:d.opts.CalcPrecision=G;break;case 95:d.opts.CalcSaveRecalc=G;break;case 15:T.CalcRefMode=G;break;case 2211:d.opts.FullCalc=G;break;case 129:G.fDialog&&(m["!type"]="dialog"),G.fBelow||((m["!outline"]||(m["!outline"]={})).above=!0),G.fRight||((m["!outline"]||(m["!outline"]={})).left=!0);break;case 224:w.push(G);break;case 430:L.push([G]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(G);break;case 24:case 536:M={Name:G.Name,Ref:FZ(G.rgce,0,null,L,T)},G.itab>0&&(M.Sheet=G.itab-1),L.names.push(M),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(G),"_xlnm._FilterDatabase"==G.Name&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&"PtgArea3d"==G.rgce[0][0][0]&&(B[G.itab-1]={ref:ZK(G.rgce[0][0][1][2])});break;case 22:T.ExternCount=G;break;case 23:0==L.length&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(G),L.XTI=L.XTI.concat(G);break;case 2196:if(T.biff<8)break;null!=M&&(M.Comment=G[1]);break;case 18:m["!protect"]=G;break;case 19:0!==G&&T.WTF;break;case 133:h[G.pos]=G,T.snames.push(G.name);break;case 10:if(--R)break;if(p.e){if(p.e.r>0&&p.e.c>0){if(p.e.r--,p.e.c--,m["!ref"]=ZK(p),t.sheetRows&&t.sheetRows<=p.e.r){var Y=p.e.r;p.e.r=t.sheetRows-1,m["!fullref"]=m["!ref"],m["!ref"]=ZK(p),p.e.r=Y}p.e.r++,p.e.c++}E.length>0&&(m["!merges"]=E),_.length>0&&(m["!objects"]=_),P.length>0&&(m["!cols"]=P),D.length>0&&(m["!rows"]=D),k.Sheets.push(S)}""===g?b=m:u[g]=m,m=t.dense?[]:{};break;case 9:case 521:case 1033:case 2057:if(8===T.biff&&(T.biff={9:2,521:3,1033:4}[U]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),T.biffguess=0==G.BIFFVer,0==G.BIFFVer&&4096==G.dt&&(T.biff=5,q=!0,eV(T.codepage=28591)),8==T.biff&&0==G.BIFFVer&&16==G.dt&&(T.biff=2),R++)break;if(m=t.dense?[]:{},T.biff<8&&!q&&(q=!0,eV(T.codepage=t.codepage||1252)),T.biff<5||0==G.BIFFVer&&4096==G.dt){""===g&&(g="Sheet1"),p={s:{r:0,c:0},e:{r:0,c:0}};var X={pos:e.l-W,name:g};h[X.pos]=X,T.snames.push(g)}else g=(h[$]||{name:""}).name;32==G.dt&&(m["!type"]="chart"),64==G.dt&&(m["!type"]="macro"),E=[],_=[],T.arrayf=j=[],P=[],D=[],O=!1,S={Hidden:(h[$]||{hs:0}).hs,name:g};break;case 515:case 3:case 2:"chart"==m["!type"]&&(t.dense?(m[G.r]||[])[G.c]:m[JK({c:G.c,r:G.r})])&&++G.c,o={ixfe:G.ixfe,XF:w[G.ixfe]||{},v:G.val,t:"n"},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t);break;case 5:case 517:o={ixfe:G.ixfe,XF:w[G.ixfe],v:G.val,t:G.t},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t);break;case 638:o={ixfe:G.ixfe,XF:w[G.ixfe],v:G.rknum,t:"n"},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t);break;case 189:for(var J=G.c;J<=G.C;++J){var Q=G.rkrec[J-G.c][0];o={ixfe:Q,XF:w[Q],v:G.rkrec[J-G.c][1],t:"n"},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:J,r:G.r},o,t)}break;case 6:case 518:case 1030:if("String"==G.val){f=G;break}if((o=B0(G.val,G.cell.ixfe,G.tt)).XF=w[o.ixfe],t.cellFormula){var Z=G.formula;if(Z&&Z[0]&&Z[0][0]&&"PtgExp"==Z[0][0][0]){var ee=Z[0][0][1][0],te=Z[0][0][1][1],re=JK({r:ee,c:te});v[re]?o.f=""+FZ(G.formula,0,G.cell,L,T):o.F=((t.dense?(m[ee]||[])[te]:m[re])||{}).F}else o.f=""+FZ(G.formula,0,G.cell,L,T)}z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A(G.cell,o,t),f=G;break;case 7:case 519:if(!f)throw new Error("String record expects Formula");f.val=G,(o=B0(G,f.cell.ixfe,"s")).XF=w[o.ixfe],t.cellFormula&&(o.f=""+FZ(f.formula,0,f.cell,L,T)),z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A(f.cell,o,t),f=null;break;case 33:case 545:j.push(G);var ne=JK(G[0].s);if(n=t.dense?(m[G[0].s.r]||[])[G[0].s.c]:m[ne],t.cellFormula&&n){if(!f)break;if(!ne||!n)break;n.f=""+FZ(G[1],0,G[0],L,T),n.F=ZK(G[0])}break;case 1212:if(!t.cellFormula)break;if(y){if(!f)break;v[JK(f.cell)]=G[0],((n=t.dense?(m[f.cell.r]||[])[f.cell.c]:m[JK(f.cell)])||{}).f=""+FZ(G[0],0,r,L,T)}break;case 253:o=B0(x[G.isst].t,G.ixfe,"s"),x[G.isst].h&&(o.h=x[G.isst].h),o.XF=w[o.ixfe],z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t);break;case 513:t.sheetStubs&&(o={ixfe:G.ixfe,XF:w[G.ixfe],t:"z"},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t));break;case 190:if(t.sheetStubs)for(var se=G.c;se<=G.C;++se){var ae=G.ixfe[se-G.c];o={ixfe:ae,XF:w[ae],t:"z"},z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:se,r:G.r},o,t)}break;case 214:case 516:case 4:(o=B0(G.val,G.ixfe,"s")).XF=w[o.ixfe],z>0&&(o.z=F[o.ixfe>>8&63]),F0(o,t,d.opts.Date1904),A({c:G.c,r:G.r},o,t);break;case 0:case 512:1===R&&(p=G);break;case 252:x=G;break;case 1054:if(4==T.biff){F[z++]=G[1];for(var ie=0;ie<z+163&&PV[ie]!=G[1];++ie);ie>=163&&dH(G[1],z+163)}else dH(G[1],G[0]);break;case 30:F[z++]=G;for(var oe=0;oe<z+163&&PV[oe]!=G;++oe);oe>=163&&dH(G,z+163);break;case 229:E=E.concat(G);break;case 93:_[G.cmo[0]]=T.lastobj=G;break;case 438:T.lastobj.TxO=G;break;case 127:T.lastobj.ImData=G;break;case 440:for(i=G[0].s.r;i<=G[0].e.r;++i)for(a=G[0].s.c;a<=G[0].e.c;++a)(n=t.dense?(m[i]||[])[a]:m[JK({c:a,r:i})])&&(n.l=G[1]);break;case 2048:for(i=G[0].s.r;i<=G[0].e.r;++i)for(a=G[0].s.c;a<=G[0].e.c;++a)(n=t.dense?(m[i]||[])[a]:m[JK({c:a,r:i})])&&n.l&&(n.l.Tooltip=G[1]);break;case 28:if(T.biff<=5&&T.biff>=2)break;n=t.dense?(m[G[0].r]||[])[G[0].c]:m[JK(G[0])];var le=_[G[2]];n||(t.dense?(m[G[0].r]||(m[G[0].r]=[]),n=m[G[0].r][G[0].c]={t:"z"}):n=m[JK(G[0])]={t:"z"},p.e.r=Math.max(p.e.r,G[0].r),p.s.r=Math.min(p.s.r,G[0].r),p.e.c=Math.max(p.e.c,G[0].c),p.s.c=Math.min(p.s.c,G[0].c)),n.c||(n.c=[]),s={a:G[1],t:le.TxO.t},n.c.push(s);break;case 2173:JQ(w[G.ixfe],G.ext);break;case 125:if(!T.cellStyles)break;for(;G.e>=G.s;)P[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(1&G.flags)},O||(O=!0,xQ(G.w/256)),gQ(P[G.e+1]);break;case 520:var ce={};null!=G.level&&(D[G.r]=ce,ce.level=G.level),G.hidden&&(D[G.r]=ce,ce.hidden=!0),G.hpt&&(D[G.r]=ce,ce.hpt=G.hpt,ce.hpx=vQ(G.hpt));break;case 38:case 39:case 40:case 41:m["!margins"]||o1(m["!margins"]={}),m["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[U]]=G;break;case 161:m["!margins"]||o1(m["!margins"]={}),m["!margins"].header=G.header,m["!margins"].footer=G.footer;break;case 574:G.RTL&&(k.Views[0].RTL=!0);break;case 146:N=G;break;case 2198:c=G;break;case 140:l=G;break;case 442:g?S.CodeName=G||S.name:k.WBProps.CodeName=G||"ThisWorkbook"}}else e.l+=W}return d.SheetNames=yH(h).sort(function(e,t){return Number(e)-Number(t)}).map(function(e){return h[e].name}),t.bookSheets||(d.Sheets=u),!d.SheetNames.length&&b["!ref"]?(d.SheetNames.push("Sheet1"),d.Sheets&&(d.Sheets.Sheet1=b)):d.Preamble=b,d.Sheets&&B.forEach(function(e,t){d.Sheets[d.SheetNames[t]]["!autofilter"]=e}),d.Strings=x,d.SSF=MH(PV),T.enc&&(d.Encryption=T.enc),c&&(d.Themes=c),d.Metadata={},void 0!==l&&(d.Metadata.Country=l),L.names.length>0&&(k.Names=L.names),d.Workbook=k,d}var $0="e0859ff2f94f6810ab9108002b27b3d9",U0="02d5cdd59c2e1b10939708002b2cf9ae",W0="05d5cdd59c2e1b10939708002b2cf9ae";function V0(e,t){var r,n,s,a;if(t||(t={}),G2(t),tV(),t.codepage&&ZW(t.codepage),e.FullPaths){if(xH.find(e,"/encryption"))throw new Error("File is password-protected");r=xH.find(e,"!CompObj"),n=xH.find(e,"/Workbook")||xH.find(e,"/Book")}else{switch(t.type){case"base64":e=fV(dV(e));break;case"binary":e=fV(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e))}IK(e,0),n={content:e}}if(r&&I0(r),t.bookProps&&!t.bookSheets)s={};else{var i=uV?"buffer":"array";if(n&&n.content)s=q0(n.content,t);else if((a=xH.find(e,"PerfectOffice_MAIN"))&&a.content)s=MJ.to_workbook(a.content,(t.type=i,t));else{if(!(a=xH.find(e,"NativeContent_MAIN"))||!a.content)throw(a=xH.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");s=MJ.to_workbook(a.content,(t.type=i,t))}t.bookVBA&&e.FullPaths&&xH.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(s.vbaraw=function(e){var t=xH.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if("/"!==r.slice(-1)&&r.match(/_VBA_PROJECT_CUR/)){var s=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");xH.utils.cfb_add(t,s,e.FileIndex[n].content)}}),xH.write(t)}(e))}var o={};return e.FullPaths&&function(e,t,r){var n=xH.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var s=TX(n,MY,U0);for(var a in s)t[a]=s[a]}catch(c){if(r.WTF)throw c}var i=xH.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=TX(i,IY,$0);for(var l in o)null==t[l]&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(oX(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}(e,o,t),s.Props=s.Custprops=o,t.bookFiles&&(s.cfb=e),s}function H0(e,t){var r=t||{},n=xH.utils.cfb_new({root:"R"}),s="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":s="/Workbook",r.biff=8;break;case"biff5":s="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return xH.utils.cfb_add(n,s,s2(e,r)),8==r.biff&&(e.Props||e.Custprops)&&function(e,t){var r,n=[],s=[],a=[],i=0,o=vH(MY,"n"),l=vH(IY,"n");if(e.Props)for(r=yH(e.Props),i=0;i<r.length;++i)(Object.prototype.hasOwnProperty.call(o,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?s:a).push([r[i],e.Props[r[i]]]);if(e.Custprops)for(r=yH(e.Custprops),i=0;i<r.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},r[i])||(Object.prototype.hasOwnProperty.call(o,r[i])?n:Object.prototype.hasOwnProperty.call(l,r[i])?s:a).push([r[i],e.Custprops[r[i]]]);var c=[];for(i=0;i<a.length;++i)SX.indexOf(a[i][0])>-1||iX.indexOf(a[i][0])>-1||null!=a[i][1]&&c.push(a[i]);s.length&&xH.utils.cfb_add(t,"/SummaryInformation",EX(s,$0,l,IY)),(n.length||c.length)&&xH.utils.cfb_add(t,"/DocumentSummaryInformation",EX(n,U0,o,MY,c.length?c:null,W0))}(e,n),8==r.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(r,n){if(0!=n){var s=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==s.slice(-1)&&xH.utils.cfb_add(e,s,t.FileIndex[n].content)}})}(n,xH.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),n}var G0={0:{f:function(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,7&a&&(r.level=7&a),16&a&&(r.hidden=!0),32&a&&(r.hpt=s/20),r}},1:{f:function(e){return[hY(e)]}},2:{f:function(e){return[hY(e),kY(e),"n"]}},3:{f:function(e){return[hY(e),e.read_shift(1),"e"]}},4:{f:function(e){return[hY(e),e.read_shift(1),"b"]}},5:{f:function(e){return[hY(e),EY(e),"n"]}},6:{f:function(e){return[hY(e),oY(e),"str"]}},7:{f:function(e){return[hY(e),e.read_shift(4),"s"]}},8:{f:function(e,t,r){var n=e.l+t,s=hY(e);s.r=r["!row"];var a=[s,oY(e),"str"];if(r.cellFormula){e.l+=2;var i=HZ(e,n-e.l,r);a[3]=FZ(i,0,s,r.supbooks,r)}else e.l=n;return a}},9:{f:function(e,t,r){var n=e.l+t,s=hY(e);s.r=r["!row"];var a=[s,EY(e),"n"];if(r.cellFormula){e.l+=2;var i=HZ(e,n-e.l,r);a[3]=FZ(i,0,s,r.supbooks,r)}else e.l=n;return a}},10:{f:function(e,t,r){var n=e.l+t,s=hY(e);s.r=r["!row"];var a=[s,e.read_shift(1),"b"];if(r.cellFormula){e.l+=2;var i=HZ(e,n-e.l,r);a[3]=FZ(i,0,s,r.supbooks,r)}else e.l=n;return a}},11:{f:function(e,t,r){var n=e.l+t,s=hY(e);s.r=r["!row"];var a=[s,e.read_shift(1),"e"];if(r.cellFormula){e.l+=2;var i=HZ(e,n-e.l,r);a[3]=FZ(i,0,s,r.supbooks,r)}else e.l=n;return a}},12:{f:function(e){return[fY(e)]}},13:{f:function(e){return[fY(e),kY(e),"n"]}},14:{f:function(e){return[fY(e),e.read_shift(1),"e"]}},15:{f:function(e){return[fY(e),e.read_shift(1),"b"]}},16:{f:D1},17:{f:function(e){return[fY(e),oY(e),"str"]}},18:{f:function(e){return[fY(e),e.read_shift(4),"s"]}},19:{f:dY},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=jY(e),i=GZ(e,0,r),o=yY(e);e.l=n;var l={Name:a,Ptg:i};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,r){var n={};n.sz=e.read_shift(2)/20;var s=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(s.fItalic&&(n.italic=1),s.fCondense&&(n.condense=1),s.fExtend&&(n.extend=1),s.fShadow&&(n.shadow=1),s.fOutline&&(n.outline=1),s.fStrikeout&&(n.strike=1),700===e.read_shift(2)&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(n.underline=a);var i=e.read_shift(1);i>0&&(n.family=i);var o=e.read_shift(1);switch(o>0&&(n.charset=o),e.l++,n.color=function(e){var t={},r=e.read_shift(1)>>>1,n=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=n;var l=BY[n];l&&(t.rgb=cQ(l));break;case 2:t.rgb=cQ([a,i,o]);break;case 3:t.theme=n}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor"}return n.name=oY(e),n}},44:{f:function(e,t){return[e.read_shift(2),oY(e)]}},45:{f:_Q},46:{f:LQ},47:{f:function(e,t){var r=e.l+t,n=e.read_shift(2),s=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:s}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:SJ},62:{f:function(e){return[hY(e),dY(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=JK(r);var n=e.read_shift(1);return 2&n&&(t.l="1"),8&n&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:RK,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var r={},n=e[e.l];return++e.l,r.above=!(64&n),r.left=!(128&n),e.l+=18,r.name=gY(e),r}},148:{f:_1,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var s=t>8?oY(e):"";return s.length>0&&(r.CodeName=s),r.autoCompressPictures=!!(65536&n),r.backupFile=!!(64&n),r.checkCompatibility=!!(4096&n),r.date1904=!!(1&n),r.filterPrivacy=!!(8&n),r.hidePivotFieldList=!!(1024&n),r.promptedSolutions=!!(16&n),r.publishItems=!!(2048&n),r.refreshAllConnections=!!(262144&n),r.saveExternalLinkValues=!!(128&n),r.showBorderUnselectedTables=!!(4&n),r.showInkAnnotation=!!(32&n),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(32768&n),r.updateLinks=["userSet","never","always"][n>>8&3],r}},154:{},155:{},156:{f:function(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wY(e),r.name=oY(e),r}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:AY},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:O1},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:oY(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wY},357:{},358:{},359:{},360:{T:1},361:{},362:{f:vJ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,r){var n=e.l+t,s=CY(e),a=e.read_shift(1),i=[s];if(i[2]=a,r.cellFormula){var o=VZ(e,n-e.l,r);i[1]=o}else e.l=n;return i}},427:{f:function(e,t,r){var n=e.l+t,s=[AY(e)];if(r.cellFormula){var a=KZ(e,n-e.l,r);s[1]=a,e.l=n}else e.l=n;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return M1.forEach(function(r){t[r]=EY(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var r=e.l+t,n=AY(e),s=yY(e),a=oY(e),i=oY(e),o=oY(e);e.l=r;var l={rfx:n,relId:s,loc:a,display:o};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wY},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:aZ},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var r=AY(e);return t.rfx=r.s,t.ref=JK(r.s),e.l+=16,t}},636:{T:-1},637:{f:uY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:oY(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},K0={6:{f:$Z},10:{f:_X},12:{f:OX},13:{f:OX},14:{f:PX},15:{f:PX},16:{f:EY},17:{f:PX},18:{f:PX},19:{f:OX},20:{f:xJ},21:{f:xJ},23:{f:vJ},24:{f:yJ},25:{f:PX},26:{},27:{},28:{f:function(e,t,r){return function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),o=$X(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:s},o,i,a]}}(e,0,r)}},29:{},34:{f:PX},35:{f:gJ},38:{f:EY},39:{f:EY},40:{f:EY},41:{f:EY},42:{f:PX},43:{f:PX},47:{f:function(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?oQ(e,t-2,n):function(e,t,r,n){var s={key:OX(e),verificationBytes:OX(e)};r.password&&(s.verifier=sQ(r.password)),n.valid=s.verificationBytes===s.verifier,n.valid&&(n.insitu=iQ(r.password))}(e,r.biff,r,n),n}},49:{f:function(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10}return n.name=RX(e,0,r),n}},51:{f:OX},60:{},61:{f:function(e){return{Pos:[e.read_shift(2),e.read_shift(2)],Dim:[e.read_shift(2),e.read_shift(2)],Flags:e.read_shift(2),CurTab:e.read_shift(2),FirstTab:e.read_shift(2),Selected:e.read_shift(2),TabRatio:e.read_shift(2)}}},64:{f:PX},65:{f:function(){}},66:{f:OX},77:{},80:{},81:{},82:{},85:{f:OX},89:{},90:{},91:{},92:{f:function(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,s=$X(e,0,r);return e.read_shift(t+n-e.l),s}},93:{f:function(e,t,r){if(r&&r.biff<8)return function(e,t,r){e.l+=4;var n=e.read_shift(2),s=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((wJ[n]||RK)(e,t,r)),{cmo:[s,n,a],ft:i}}(e,t,r);var n=sJ(e),s=function(e,t){for(var r=e.l+t,n=[];e.l<r;){var s=e.read_shift(2);e.l-=2;try{n.push(iJ[s](e,r-e.l))}catch(a){return e.l=r,n}}return e.l!=r&&(e.l=r),n}(e,t-22,n[1]);return{cmo:n,ft:s}}},94:{},95:{f:PX},96:{},97:{},99:{f:PX},125:{f:SJ},128:{f:function(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(0!==t[0]&&t[0]--,0!==t[1]&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}},129:{f:function(e,t,r){var n=r&&8==r.biff||2==t?e.read_shift(2):(e.l+=t,0);return{fDialog:16&n,fBelow:64&n,fRight:128&n}}},130:{f:OX},131:{f:PX},132:{f:PX},133:{f:function(e,t,r){var n=e.read_shift(4),s=3&e.read_shift(1),a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule"}var i=RX(e,0,r);return 0===i.length&&(i="Sheet1"),{pos:n,hs:s,dt:a,name:i}}},134:{},140:{f:function(e){var t,r=[0,0];return t=e.read_shift(2),r[0]=RY[t]||t,t=e.read_shift(2),r[1]=RY[t]||t,r}},141:{f:OX},144:{},146:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YX(e));return r}},151:{},152:{},153:{},154:{},155:{},156:{f:OX},157:{},158:{},160:{f:AJ},161:{f:function(e,t){var r={};return t<32||(e.l+=16,r.header=EY(e),r.footer=EY(e),e.l+=2),r}},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(ZX(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulRK length mismatch");return{r:n,c:s,C:i,rkrec:a}}},190:{f:function(e,t){for(var r=e.l+t-2,n=e.read_shift(2),s=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(a.length!=i-s+1)throw new Error("MulBlank length mismatch");return{r:n,c:s,C:i,ixfe:a}}},193:{f:_X},197:{},198:{},199:{},200:{},201:{},202:{f:PX},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:OX},220:{},221:{f:PX},222:{},224:{f:function(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,n.data=function(e,t,r,n){var s={},a=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return s.patternType=zY[o>>26],n.cellStyles?(s.alc=7&a,s.fWrap=a>>3&1,s.alcV=a>>4&7,s.fJustLast=a>>7&1,s.trot=a>>8&255,s.cIndent=a>>16&15,s.fShrinkToFit=a>>20&1,s.iReadOrder=a>>22&2,s.fAtrNum=a>>26&1,s.fAtrFnt=a>>27&1,s.fAtrAlc=a>>28&1,s.fAtrBdr=a>>29&1,s.fAtrPat=a>>30&1,s.fAtrProt=a>>31&1,s.dgLeft=15&i,s.dgRight=i>>4&15,s.dgTop=i>>8&15,s.dgBottom=i>>12&15,s.icvLeft=i>>16&127,s.icvRight=i>>23&127,s.grbitDiag=i>>30&3,s.icvTop=127&o,s.icvBottom=o>>7&127,s.icvDiag=o>>14&127,s.dgDiag=o>>21&15,s.icvFore=127&l,s.icvBack=l>>7&127,s.fsxButton=l>>14&1,s):s}(e,0,n.fStyle,r),n}},225:{f:function(e,t){return 0===t||e.read_shift(2),1200}},226:{f:_X},227:{},229:{f:function(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(eJ(e));return r}},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:function(e,t){for(var r=e.l+t,n=e.read_shift(4),s=e.read_shift(4),a=[],i=0;i!=s&&e.l<r;++i)a.push(zX(e));return a.Count=n,a.Unique=s,a}},253:{f:function(e){var t=XX(e);return t.isst=e.read_shift(4),t}},255:{f:function(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:MX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:PX},353:{f:_X},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:function(e,t,r){var n=e.l+t,s=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,1025==a||14849==a)return[a,s];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var i=BX(e,a),o=[];n>e.l;)o.push(qX(e));return[a,s,i,o]}},431:{f:PX},432:{},433:{},434:{},437:{},438:{f:function(e,t,r){var n=e.l,s="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1];-1==[0,5,7,11,12,14].indexOf(a)?e.l+=6:function(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}(e);var i=e.read_shift(2);e.read_shift(2),OX(e);var o=e.read_shift(2);e.l+=o;for(var l=1;l<e.lens.length-1;++l){if(e.l-n!=e.lens[l])throw new Error("TxO: bad continue record");var c=e[e.l];if((s+=BX(e,e.lens[l+1]-e.lens[l]-1)).length>=(c?i:2*i))break}if(s.length!==i&&s.length!==2*i)throw new Error("cchText: "+i+" != "+s.length);return e.l=n+t,{t:s}}catch(d){return e.l=n+t,{t:s}}}},439:{f:PX},440:{f:function(e,t){var r=eJ(e);e.l+=16;var n=function(e,t){var r=e.l+t,n=e.read_shift(4);if(2!==n)throw new Error("Unrecognized streamVersion: "+n);var s=e.read_shift(2);e.l+=2;var a,i,o,l,c,d,u="";16&s&&(a=VX(e,e.l)),128&s&&(i=VX(e,e.l)),257&~s||(o=VX(e,e.l)),1==(257&s)&&(l=WX(e,e.l)),8&s&&(u=VX(e,e.l)),32&s&&(c=e.read_shift(16)),64&s&&(d=pX(e)),e.l=r;var m=i||o||l||"";m&&u&&(m+="#"+u),m||(m="#"+u),2&s&&"/"==m.charAt(0)&&"/"!=m.charAt(1)&&(m="file://"+m);var h={Target:m};return c&&(h.guid=c),d&&(h.time=d),a&&(h.Tooltip=a),h}(e,t-24);return[r,n]}},441:{},442:{f:qX},443:{},444:{f:OX},445:{},446:{},448:{f:_X},449:{f:function(e){return e.read_shift(2),e.read_shift(4)},r:2},450:{f:_X},512:{f:hJ},513:{f:CJ},515:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5);var n=XX(e),s=EY(e);return n.val=s,n}},516:{f:function(e,t,r){r.biffguess&&2==r.biff&&(r.biff=5),e.l;var n=XX(e);2==r.biff&&e.l++;var s=qX(e,e.l,r);return n.val=s,n}},517:{f:fJ},519:{f:TJ},520:{f:function(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,7&n&&(t.level=7&n),32&n&&(t.hidden=!0),64&n&&(t.hpt=r/20),t}},523:{},545:{f:jJ},549:{f:dJ},566:{},574:{f:function(e,t,r){return r&&r.biff>=2&&r.biff<5?{}:{RTL:64&e.read_shift(2)}}},638:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=ZX(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}},659:{},1048:{},1054:{f:function(e,t,r){return[e.read_shift(2),$X(e,0,r)]}},1084:{},1212:{f:function(e,t,r){var n=rJ(e);e.l++;var s=e.read_shift(1);return[qZ(e,t-=8,r),s,n]}},2048:{f:function(e,t){e.read_shift(2);var r=eJ(e),n=e.read_shift((t-10)/2,"dbcs-cont");return[r,n=n.replace(vV,"")]}},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:oJ},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:_X},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:function(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t},r:12},2173:{f:function(e,t){e.l,e.l+=2;var r=e.read_shift(2);e.l+=2;for(var n=e.read_shift(2),s=[];n-- >0;)s.push(XQ(e,e.l));return{ixfe:r,ext:s}},r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:PX,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:function(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),s=e.read_shift(2);return[BX(e,n,r),BX(e,s,r)]}e.l+=t},r:12},2197:{},2198:{f:function(e,t,r){var n=e.l+t;if(124226!==e.read_shift(4))if(r.cellStyles){var s,a=e.slice(e.l);e.l=n;try{s=XH(a,{type:"array"})}catch(o){return}var i=HH(s,"theme/theme/theme1.xml",!0);if(i)return GQ(i,r)}else e.l=n},r:12},2199:{},2200:{},2201:{},2202:{f:function(e){return[0!==e.read_shift(4),0!==e.read_shift(4),e.read_shift(4)]},r:12},2203:{f:_X},2204:{},2205:{},2206:{},2207:{},2211:{f:function(e){var t=function(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}(e);if(2211!=t.type)throw new Error("Invalid Future Record "+t.type);return 0!==e.read_shift(4)}},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:OX},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:function(e,t,r){var n={area:!1};if(5!=r.biff)return e.l+=t,n;var s=e.read_shift(1);return e.l+=3,16&s&&(n.area=!0),n}},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:function(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(YX(e));return r}},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:hJ},1:{},2:{f:function(e){var t=XX(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}},3:{f:function(e){var t=XX(e);++e.l;var r=EY(e);return t.t="n",t.val=r,t}},4:{f:function(e,t,r){r.biffguess&&5==r.biff&&(r.biff=2);var n=XX(e);++e.l;var s=$X(e,0,r);return n.t="str",n.val=s,n}},5:{f:fJ},7:{f:function(e){var t=e.read_shift(1);return 0===t?(e.l++,""):e.read_shift(t,"sbcs-cont")}},8:{},9:{f:oJ},11:{},22:{f:OX},30:{f:mJ},31:{},32:{},33:{f:jJ},36:{},37:{f:dJ},50:{f:function(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}},62:{},52:{},67:{},68:{f:OX},69:{},86:{},126:{},127:{f:function(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),s={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,s}},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:function(e,t,r){var n=e.l+t,s=XX(e),a=e.read_shift(2),i=BX(e,a,r);return e.l=n,s.t="str",s.val=i,s}},223:{},234:{},354:{},421:{},518:{f:$Z},521:{f:oJ},536:{f:yJ},547:{f:gJ},561:{},579:{},1030:{f:$Z},1033:{f:oJ},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Y0(e,t,r,n){var s=t;if(!isNaN(s)){var a=n||(r||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&NK(r)&&e.push(r)}}function X0(e,t,r){return e||(e=zK(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function J0(e,t,r,n){if(null!=t.v)switch(t.t){case"d":case"n":var s="d"==t.t?kH(OH(t.v)):t.v;return void(s==(0|s)&&s>=0&&s<65536?Y0(e,2,(a=r,i=n,o=s,l=zK(9),X0(l,a,i),l.write_shift(2,o),l)):Y0(e,3,function(e,t,r){var n=zK(15);return X0(n,e,t),n.write_shift(8,r,"f"),n}(r,n,s)));case"b":case"e":return void Y0(e,5,function(e,t,r,n){var s=zK(9);return X0(s,e,t),IX(r,n||"b",s),s}(r,n,t.v,t.t));case"s":case"str":return void Y0(e,4,function(e,t,r){var n=zK(8+2*r.length);return X0(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}(r,n,(t.v||"").slice(0,255)))}var a,i,o,l;Y0(e,1,X0(null,r,n))}function Q0(e,t){for(var r=t||{},n=BK(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(s=a);if(0==s&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Y0(n,4==r.biff?1033:3==r.biff?521:9,lJ(0,16,r)),function(e,t,r,n){var s,a=Array.isArray(t),i=eY(t["!ref"]||"A1"),o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=ZK(i)}for(var c=i.s.r;c<=i.e.r;++c){o=GK(c);for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(l[d]=YK(d)),s=l[d]+o;var u=a?(t[c]||[])[d]:t[s];u&&J0(e,u,c,d)}}}(n,e.Sheets[e.SheetNames[s]],0,r),Y0(n,10),n.end()}function Z0(e,t,r){Y0(e,49,function(e,t){var r=e.name||"Arial",n=t&&5==t.biff,s=zK(n?15+r.length:16+2*r.length);return s.write_shift(2,20*e.sz),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}({sz:12,name:"Arial"},r))}function e2(e,t){if(t){var r=0;t.forEach(function(t,n){++r<=256&&t&&Y0(e,125,function(e,t){var r=zK(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,256*e.width),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}(i1(n,t),n))})}}function t2(e,t,r,n,s){var a=16+l1(s.cellXfs,t,s);if(null!=t.v||t.bf)if(t.bf)Y0(e,6,UZ(t,r,n,0,a));else switch(t.t){case"d":case"n":Y0(e,515,function(e,t,r,n){var s=zK(14);return JX(e,t,n,s),_Y(r,s),s}(r,n,"d"==t.t?kH(OH(t.v)):t.v,a));break;case"b":case"e":Y0(e,517,function(e,t,r,n,s,a){var i=zK(8);return JX(e,t,n,i),IX(r,a,i),i}(r,n,t.v,a,0,t.t));break;case"s":case"str":if(s.bookSST)Y0(e,253,function(e,t,r,n){var s=zK(10);return JX(e,t,n,s),s.write_shift(4,r),s}(r,n,a1(s.Strings,t.v,s.revStrings),a));else Y0(e,516,function(e,t,r,n,s){var a=!s||8==s.biff,i=zK(+a+8+(1+a)*r.length);return JX(e,t,n,i),i.write_shift(2,r.length),a&&i.write_shift(1,1),i.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),i}(r,n,(t.v||"").slice(0,255),a,s));break;default:Y0(e,513,JX(r,n,a))}else Y0(e,513,JX(r,n,a))}function r2(e,t,r){var n,s,a=BK(),i=r.SheetNames[e],o=r.Sheets[i]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(o),u=8==t.biff,m="",h=[],p=eY(o["!ref"]||"A1"),f=u?65536:16384;if(p.e.c>255||p.e.r>=f){if(t.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,f-1)}Y0(a,2057,lJ(0,16,t)),Y0(a,13,LX(1)),Y0(a,12,LX(100)),Y0(a,15,DX(!0)),Y0(a,17,DX(!1)),Y0(a,16,_Y(.001)),Y0(a,95,DX(!0)),Y0(a,42,DX(!1)),Y0(a,43,DX(!1)),Y0(a,130,LX(1)),Y0(a,128,((s=zK(8)).write_shift(4,0),s.write_shift(2,0),s.write_shift(2,0),s)),Y0(a,131,DX(!1)),Y0(a,132,DX(!1)),u&&e2(a,o["!cols"]),Y0(a,512,function(e,t){var r=8!=t.biff&&t.biff?2:4,n=zK(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}(p,t)),u&&(o["!links"]=[]);for(var x=p.s.r;x<=p.e.r;++x){m=GK(x);for(var g=p.s.c;g<=p.e.c;++g){x===p.s.r&&(h[g]=YK(g)),n=h[g]+m;var b=d?(o[x]||[])[g]:o[n];b&&(t2(a,b,x,g,t),u&&b.l&&o["!links"].push([n,b.l]))}}var y=c.CodeName||c.name||i;return u&&Y0(a,574,function(e){var t=zK(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((l.Views||[])[0])),u&&(o["!merges"]||[]).length&&Y0(a,229,function(e){var t=zK(2+8*e.length);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)tJ(e[r],t);return t}(o["!merges"])),u&&function(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Y0(e,440,NJ(n)),n[1].Tooltip&&Y0(e,2048,kJ(n))}delete t["!links"]}(a,o),Y0(a,442,UX(y)),u&&function(e,t){var r=zK(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Y0(e,2151,r),(r=zK(39)).write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),tJ(eY(t["!ref"]||"A1"),r),r.write_shift(4,4),Y0(e,2152,r)}(a,o),Y0(a,10),a.end()}function n2(e,t,r){var n,s=BK(),a=(e||{}).Workbook||{},i=a.Sheets||[],o=a.WBProps||{},l=8==r.biff,c=5==r.biff;(Y0(s,2057,lJ(0,5,r)),"xla"==r.bookType&&Y0(s,135),Y0(s,225,l?LX(1200):null),Y0(s,193,function(e,t){t||(t=zK(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}(2)),c&&Y0(s,191),c&&Y0(s,192),Y0(s,226),Y0(s,92,function(e,t){var r=!t||8==t.biff,n=zK(r?112:54);for(n.write_shift(8==t.biff?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}(0,r)),Y0(s,66,LX(l?1200:1252)),l&&Y0(s,353,LX(0)),l&&Y0(s,448),Y0(s,317,function(e){for(var t=zK(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&Y0(s,211),l&&e.vbaraw)&&Y0(s,442,UX(o.CodeName||"ThisWorkbook"));Y0(s,156,LX(17)),Y0(s,25,DX(!1)),Y0(s,18,DX(!1)),Y0(s,19,LX(0)),l&&Y0(s,431,DX(!1)),l&&Y0(s,444,LX(0)),Y0(s,61,((n=zK(18)).write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n)),Y0(s,64,DX(!1)),Y0(s,141,LX(0)),Y0(s,34,DX("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&xG(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Y0(s,14,DX(!0)),l&&Y0(s,439,DX(!1)),Y0(s,218,LX(0)),Z0(s,0,r),function(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var s=n[0];s<=n[1];++s)null!=t[s]&&Y0(e,1054,uJ(s,t[s],r))})}(s,e.SSF,r),function(e,t){for(var r=0;r<16;++r)Y0(e,224,pJ({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(r){Y0(e,224,pJ(r,0,t))})}(s,r),l&&Y0(s,352,DX(!1));var d=s.end(),u=BK();l&&Y0(u,140,function(e){return e||(e=zK(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&r.Strings&&function(e,t,r){var n=(r||[]).length||0;if(n<=8224)return Y0(e,t,r,n);var s=t;if(!isNaN(s)){for(var a=r.parts||[],i=0,o=0,l=0;l+(a[i]||8224)<=8224;)l+=a[i]||8224,i++;var c=e.next(4);for(c.write_shift(2,s),c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l;o<n;){for((c=e.next(4)).write_shift(2,60),l=0;l+(a[i]||8224)<=8224;)l+=a[i]||8224,i++;c.write_shift(2,l),e.push(r.slice(o,o+l)),o+=l}}}(u,252,function(e){var t=zK(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var r=[],n=0;n<e.length;++n)r[n]=FX(e[n]);var s=yV([t].concat(r));return s.parts=[t.length].concat(r.map(function(e){return e.length})),s}(r.Strings)),Y0(u,10);var m=u.end(),h=BK(),p=0,f=0;for(f=0;f<e.SheetNames.length;++f)p+=(l?12:11)+(l?2:1)*e.SheetNames[f].length;var x=d.length+p+m.length;for(f=0;f<e.SheetNames.length;++f){Y0(h,133,cJ({pos:x,hs:(i[f]||{}).Hidden||0,dt:0,name:e.SheetNames[f]},r)),x+=t[f].length}var g=h.end();if(p!=g.length)throw new Error("BS8 "+p+" != "+g.length);var b=[];return d.length&&b.push(d),g.length&&b.push(g),m.length&&b.push(m),yV(b)}function s2(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(n&&n["!ref"])QK(n["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error}var s=t||{};switch(s.biff||2){case 8:case 5:return function(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=MH(PV)),e&&e.SSF&&(mH(),uH(e.SSF),r.revssf=wH(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,K2(r),r.cellXfs=[],l1(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)n[n.length]=r2(s,r,e);return n.unshift(n2(e,n,r)),yV(n)}(e,t);case 4:case 3:case 2:return Q0(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function a2(e,t){var r=t||{},n=r.dense?[]:{},s=(e=e.replace(/<!--.*?-->/g,"")).match(/<table/i);if(!s)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),i=s.index,o=a&&a.index||e.length,l=BH(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,u=0,m=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(i=0;i<l.length;++i){var f=l[i].trim(),x=f.slice(0,3).toLowerCase();if("<tr"!=x){if("<td"==x||"<th"==x){var g=f.split(/<\/t[dh]>/i);for(o=0;o<g.length;++o){var b=g[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,v=0;"<"==y.charAt(0)&&(v=y.indexOf(">"))>-1;)y=y.slice(v+1);for(var j=0;j<p.length;++j){var w=p[j];w.s.c==d&&w.s.r<c&&c<=w.e.r&&(d=w.e.c+1,j=-1)}var N=sG(b.slice(0,b.indexOf(">")));m=N.colspan?+N.colspan:1,((u=+N.rowspan)>1||m>1)&&p.push({s:{r:c,c:d},e:{r:c+(u||1)-1,c:d+m-1}});var k=N.t||N["data-t"]||"";if(y.length)if(y=kG(y),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>d&&(h.s.c=d),h.e.c<d&&(h.e.c=d),y.length){var S={t:"s",v:y};r.raw||!y.trim().length||"s"==k||("TRUE"===y?S={t:"b",v:!0}:"FALSE"===y?S={t:"b",v:!1}:isNaN(RH(y))?isNaN(FH(y).getDate())||(S={t:"d",v:OH(y)},r.cellDates||(S={t:"n",v:kH(S.v)}),S.z=r.dateNF||PV[14]):S={t:"n",v:RH(y)}),r.dense?(n[c]||(n[c]=[]),n[c][d]=S):n[JK({r:c,c:d})]=S,d+=m}else d+=m;else d+=m}}}}else{if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0}}return n["!ref"]=ZK(h),p.length&&(n["!merges"]=p),n}function i2(e,t,r,n){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>r||s[c].s.c>i||s[c].e.r<r||s[c].e.c<i)){if(s[c].s.r<r||s[c].s.c<i){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var d=JK({r:r,c:i}),u=n.dense?(e[r]||[])[i]:e[d],m=u&&null!=u.v&&(u.h||pG(u.w||(rY(u),u.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?m='<span contenteditable="true">'+m+"</span>":u&&(h["data-t"]=u&&u.t||"z",null!=u.v&&(h["data-v"]=u.v),null!=u.z&&(h["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(m='<a href="'+u.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+d,a.push(DG("td",m,h))}}return"<tr>"+a.join("")+"</tr>"}function o2(e,t){var r=t||{},n=null!=r.header?r.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',s=null!=r.footer?r.footer:"</body></html>",a=[n],i=QK(e["!ref"]);r.dense=Array.isArray(e),a.push(function(e,t,r){return[].join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}(0,0,r));for(var o=i.s.r;o<=i.e.r;++o)a.push(i2(e,i,o,r));return a.push("</table>"+s),a.join("")}function l2(e,t,r){var n=r||{},s=0,a=0;if(null!=n.origin)if("number"==typeof n.origin)s=n.origin;else{var i="string"==typeof n.origin?XK(n.origin):n.origin;s=i.r,a=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var d=QK(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==s&&(c.e.r=s=d.e.r+1)}var u=[],m=0,h=e["!rows"]||(e["!rows"]=[]),p=0,f=0,x=0,g=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&f<l;++p){var v=o[p];if(d2(v)){if(n.display)continue;h[f]={hidden:!0}}var j=v.children;for(x=g=0;x<j.length;++x){var w=j[x];if(!n.display||!d2(w)){var N=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):kG(w.innerHTML),k=w.getAttribute("data-z")||w.getAttribute("z");for(m=0;m<u.length;++m){var S=u[m];S.s.c==g+a&&S.s.r<f+s&&f+s<=S.e.r&&(g=S.e.c+1-a,m=-1)}y=+w.getAttribute("colspan")||1,((b=+w.getAttribute("rowspan")||1)>1||y>1)&&u.push({s:{r:f+s,c:g+a},e:{r:f+s+(b||1)-1,c:g+a+(y||1)-1}});var C={t:"s",v:N},A=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=N&&(0==N.length?C.t=A||"z":n.raw||0==N.trim().length||"s"==A||("TRUE"===N?C={t:"b",v:!0}:"FALSE"===N?C={t:"b",v:!1}:isNaN(RH(N))?isNaN(FH(N).getDate())||(C={t:"d",v:OH(N)},n.cellDates||(C={t:"n",v:kH(C.v)}),C.z=n.dateNF||PV[14]):C={t:"n",v:RH(N)})),void 0===C.z&&null!=k&&(C.z=k);var T="",E=w.getElementsByTagName("A");if(E&&E.length)for(var _=0;_<E.length&&(!E[_].hasAttribute("href")||"#"==(T=E[_].getAttribute("href")).charAt(0));++_);T&&"#"!=T.charAt(0)&&(C.l={Target:T}),n.dense?(e[f+s]||(e[f+s]=[]),e[f+s][g+a]=C):e[JK({c:g+a,r:f+s})]=C,c.e.c<g+a&&(c.e.c=g+a),g+=y}}++f}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,f-1+s),e["!ref"]=ZK(c),f>=l&&(e["!fullref"]=ZK((c.e.r=o.length-p+f-1+s,c))),e}function c2(e,t){return l2((t||{}).dense?[]:{},e,t)}function d2(e){var t="",r=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}function u2(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(e,t){return Array(parseInt(t,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"\t").replace(/<text:line-break\/>/g,"\n");return[lG(t.replace(/<[^>]*>/g,""))]}var m2={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function h2(e,t){var r,n,s,a,i,o,l=t||{},c=LG(e),d=[],u={name:""},m="",h=0,p={},f=[],x=l.dense?[]:{},g={value:""},b="",y=0,v=[],j=-1,w=-1,N={s:{r:1e6,c:1e7},e:{r:0,c:0}},k=0,S={},C=[],A={},T=[],E=1,_=1,P=[],D={Names:[]},O={},L=["",""],M=[],I={},R="",z=0,F=!1,B=!1,q=0;for(MG.lastIndex=0,c=c.replace(/<!--([\s\S]*?)-->/gm,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");i=MG.exec(c);)switch(i[3]=i[3].replace(/_.*$/,"")){case"table":case"":"/"===i[1]?(N.e.c>=N.s.c&&N.e.r>=N.s.r?x["!ref"]=ZK(N):x["!ref"]="A1:A1",l.sheetRows>0&&l.sheetRows<=N.e.r&&(x["!fullref"]=x["!ref"],N.e.r=l.sheetRows-1,x["!ref"]=ZK(N)),C.length&&(x["!merges"]=C),T.length&&(x["!rows"]=T),s.name=s[""]||s.name,"undefined"!=typeof JSON&&JSON.stringify(s),f.push(s.name),p[s.name]=x,B=!1):"/"!==i[0].charAt(i[0].length-2)&&(s=sG(i[0],!1),j=w=-1,N.s.r=N.s.c=1e7,N.e.r=N.e.c=0,x=l.dense?[]:{},C=[],T=[],B=!0);break;case"table-row-group":"/"===i[1]?--k:++k;break;case"table-row":case"":if("/"===i[1]){j+=E,E=1;break}if((a=sG(i[0],!1))[""]?j=a[""]-1:-1==j&&(j=0),(E=+a["number-rows-repeated"]||1)<10)for(q=0;q<E;++q)k>0&&(T[j+q]={level:k});w=-1;break;case"covered-table-cell":"/"!==i[1]&&++w,l.sheetStubs&&(l.dense?(x[j]||(x[j]=[]),x[j][w]={t:"z"}):x[JK({r:j,c:w})]={t:"z"}),b="",v=[];break;case"table-cell":case"":if("/"===i[0].charAt(i[0].length-2))++w,g=sG(i[0],!1),_=parseInt(g["number-columns-repeated"]||"1",10),o={t:"z",v:null},g.formula&&0!=l.cellFormula&&(o.f=QZ(lG(g.formula))),"string"==(g[""]||g["value-type"])&&(o.t="s",o.v=lG(g["string-value"]||""),l.dense?(x[j]||(x[j]=[]),x[j][w]=o):x[JK({r:j,c:w})]=o),w+=_-1;else if("/"!==i[1]){b="",y=0,v=[],_=1;var $=E?j+E-1:j;if(++w>N.e.c&&(N.e.c=w),w<N.s.c&&(N.s.c=w),j<N.s.r&&(N.s.r=j),$>N.e.r&&(N.e.r=$),M=[],I={},o={t:(g=sG(i[0],!1))[""]||g["value-type"],v:null},l.cellFormula)if(g.formula&&(g.formula=lG(g.formula)),g["number-matrix-columns-spanned"]&&g["number-matrix-rows-spanned"]&&(A={s:{r:j,c:w},e:{r:j+(parseInt(g["number-matrix-rows-spanned"],10)||0)-1,c:w+(parseInt(g["number-matrix-columns-spanned"],10)||0)-1}},o.F=ZK(A),P.push([A,o.F])),g.formula)o.f=QZ(g.formula);else for(q=0;q<P.length;++q)j>=P[q][0].s.r&&j<=P[q][0].e.r&&w>=P[q][0].s.c&&w<=P[q][0].e.c&&(o.F=P[q][1]);switch((g["number-columns-spanned"]||g["number-rows-spanned"])&&(A={s:{r:j,c:w},e:{r:j+(parseInt(g["number-rows-spanned"],10)||0)-1,c:w+(parseInt(g["number-columns-spanned"],10)||0)-1}},C.push(A)),g["number-columns-repeated"]&&(_=parseInt(g["number-columns-repeated"],10)),o.t){case"boolean":o.t="b",o.v=xG(g["boolean-value"]);break;case"float":case"percentage":case"currency":o.t="n",o.v=parseFloat(g.value);break;case"date":o.t="d",o.v=OH(g["date-value"]),l.cellDates||(o.t="n",o.v=kH(o.v)),o.z="m/d/yy";break;case"time":o.t="n",o.v=EH(g["time-value"])/86400,l.cellDates&&(o.t="d",o.v=TH(o.v)),o.z="HH:MM:SS";break;case"number":o.t="n",o.v=parseFloat(g[""]);break;default:if("string"!==o.t&&"text"!==o.t&&o.t)throw new Error("Unsupported value type "+o.t);o.t="s",null!=g["string-value"]&&(b=lG(g["string-value"]),v=[])}}else{if(F=!1,"s"===o.t&&(o.v=b||"",v.length&&(o.R=v),F=0==y),O.Target&&(o.l=O),M.length>0&&(o.c=M,M=[]),b&&!1!==l.cellText&&(o.w=b),F&&(o.t="z",delete o.v),(!F||l.sheetStubs)&&!(l.sheetRows&&l.sheetRows<=j))for(var U=0;U<E;++U){if(_=parseInt(g["number-columns-repeated"]||"1",10),l.dense)for(x[j+U]||(x[j+U]=[]),x[j+U][w]=0==U?o:MH(o);--_>0;)x[j+U][w+_]=MH(o);else for(x[JK({r:j+U,c:w})]=o;--_>0;)x[JK({r:j+U,c:w+_})]=MH(o);N.e.c<=w&&(N.e.c=w)}w+=(_=parseInt(g["number-columns-repeated"]||"1",10))-1,_=0,o={},b="",v=[]}O={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!0]);break;case"annotation":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r;I.t=b,v.length&&(I.R=v),I.a=R,M.push(I)}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!1]);R="",z=0,b="",y=0,v=[];break;case"creator":"/"===i[1]?R=c.slice(z,i.index):z=i.index+i[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if("/"===i[1]){if((r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&d.push([i[3],!1]);b="",y=0,v=[];break;case"scientific-number":case"currency-symbol":case"currency-style":case"script":case"libraries":case"automatic-styles":case"default-style":case"page-layout":case"style":case"map":case"font-face":case"paragraph-properties":case"table-properties":case"table-column-properties":case"table-row-properties":case"table-cell-properties":case"fraction":case"boolean-style":case"boolean":case"text-style":case"text-content":case"text-properties":case"embedded-text":case"body":case"":case"forms":case"table-column":case"table-header-rows":case"table-rows":case"table-column-group":case"table-header-columns":case"table-columns":case"null-date":case"graphic-properties":case"calculation-settings":case"named-expressions":case"label-range":case"label-ranges":case"named-expression":case"sort":case"sort-by":case"sort-groups":case"tab":case"line-break":case"span":case"s":case"date":case"object":case"title":case"":case"desc":case"binary-data":case"table-source":case"scenario":case"iteration":case"content-validations":case"content-validation":case"help-message":case"error-message":case"database-ranges":case"filter":case"filter-and":case"filter-or":case"filter-condition":case"list-level-style-bullet":case"list-level-style-number":case"list-level-properties":case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":case"event-listener":case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":case"config-item":case"page-number":case"page-count":case"time":case"cell-range-source":case"detective":case"operation":case"highlighted-range":case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":case"rect":case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":case"properties":case"property":case"table-protection":case"data-pilot-grand-total":case"office-document-common-attrs":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if("/"===i[1]){if(S[u.name]=m,(r=d.pop())[0]!==i[3])throw"Bad state: "+r}else"/"!==i[0].charAt(i[0].length-2)&&(m="",u=sG(i[0],!1),d.push([i[3],!0]));break;case"number":case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(d[d.length-1][0]){case"time-style":case"date-style":n=sG(i[0],!1),m+=m2[i[3]]["long"===n.style?1:0]}break;case"text":if("/>"===i[0].slice(-2))break;if("/"===i[1])switch(d[d.length-1][0]){case"number-style":case"date-style":case"time-style":m+=c.slice(h,i.index)}else h=i.index+i[0].length;break;case"named-range":L=e1((n=sG(i[0],!1))["cell-range-address"]);var W={Name:n.name,Ref:L[0]+"!"+L[1]};B&&(W.Sheet=f.length),D.Names.push(W);break;case"p":case"":if(["master-styles"].indexOf(d[d.length-1][0])>-1)break;if("/"!==i[1]||g&&g["string-value"])sG(i[0],!1),y=i.index+i[0].length;else{var V=u2(c.slice(y,i.index));b=(b.length>0?b+"\n":"")+V[0]}break;case"database-range":if("/"===i[1])break;try{p[(L=e1(sG(i[0])["target-range-address"]))[0]]["!autofilter"]={ref:L[1]}}catch(G){}break;case"a":if("/"!==i[1]){if(!(O=sG(i[0],!1)).href)break;O.Target=lG(O.href),delete O.href,"#"==O.Target.charAt(0)&&O.Target.indexOf(".")>-1?(L=e1(O.Target.slice(1)),O.Target="#"+L[0]+"!"+L[1]):O.Target.match(/^\.\.[\\\/]/)&&(O.Target=O.Target.slice(3))}break;default:switch(i[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(l.WTF)throw new Error(i)}}var H={Sheets:p,SheetNames:f,Workbook:D};return l.bookSheets&&delete H.Sheets,H}function p2(e,t){t=t||{},UH(e,"META-INF/manifest.xml")&&function(e,t){for(var r,n,s=LG(e);r=MG.exec(s);)switch(r[3]){case"manifest":break;case"file-entry":if("/"==(n=sG(r[0],!1)).path&&"application/vnd.oasis.opendocument.spreadsheet"!==n.type)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}(VH(e,"META-INF/manifest.xml"),t);var r=HH(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=h2(jG(r),t);return UH(e,"meta.xml")&&(n.Props=rX(VH(e,"meta.xml"))),n}function f2(e,t){return h2(e,t)}var x2=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+PG({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return QH+t}}(),g2=function(){var e=function(e){return uG(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",r=function(r,n,s){var a=[];a.push('      <table:table table:name="'+uG(n.SheetNames[s])+'" table:style-name="ta1">\n');var i=0,o=0,l=QK(r["!ref"]||"A1"),c=r["!merges"]||[],d=0,u=Array.isArray(r);if(r["!cols"])for(o=0;o<=l.e.c;++o)a.push("        <table:table-column"+(r["!cols"][o]?' table:style-name="co'+r["!cols"][o].ods+'"':"")+"></table:table-column>\n");var m="",h=r["!rows"]||[];for(i=0;i<l.s.r;++i)m=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+m+"></table:table-row>\n");for(;i<=l.e.r;++i){for(m=h[i]?' table:style-name="ro'+h[i].ods+'"':"",a.push("        <table:table-row"+m+">\n"),o=0;o<l.s.c;++o)a.push(t);for(;o<=l.e.c;++o){var p=!1,f={},x="";for(d=0;d!=c.length;++d)if(!(c[d].s.c>o||c[d].s.r>i||c[d].e.c<o||c[d].e.r<i)){c[d].s.c==o&&c[d].s.r==i||(p=!0),f["table:number-columns-spanned"]=c[d].e.c-c[d].s.c+1,f["table:number-rows-spanned"]=c[d].e.r-c[d].s.r+1;break}if(p)a.push("          <table:covered-table-cell/>\n");else{var g=JK({r:i,c:o}),b=u?(r[i]||[])[o]:r[g];if(b&&b.f&&(f["table:formula"]=uG(ZZ(b.f)),b.F&&b.F.slice(0,g.length)==g)){var y=QK(b.F);f["table:number-matrix-columns-spanned"]=y.e.c-y.s.c+1,f["table:number-matrix-rows-spanned"]=y.e.r-y.s.r+1}if(b){switch(b.t){case"b":x=b.v?"TRUE":"FALSE",f["office:value-type"]="boolean",f["office:boolean-value"]=b.v?"true":"false";break;case"n":x=b.w||String(b.v||0),f["office:value-type"]="float",f["office:value"]=b.v||0;break;case"s":case"str":x=null==b.v?"":b.v,f["office:value-type"]="string";break;case"d":x=b.w||OH(b.v).toISOString(),f["office:value-type"]="date",f["office:date-value"]=OH(b.v).toISOString(),f["table:style-name"]="ce1";break;default:a.push(t);continue}var v=e(x);if(b.l&&b.l.Target){var j=b.l.Target;"#"==(j="#"==j.charAt(0)?"#"+t1(j.slice(1)):j).charAt(0)||j.match(/^\w+:/)||(j="../"+j),v=DG("text:a",v,{"xlink:href":j.replace(/&/g,"&amp;")})}a.push("          "+DG("table:table-cell",DG("text:p",v,{}),f)+"\n")}else a.push(t)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,t){var n=[QH],s=PG({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=PG({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(n.push("<office:document"+s+a+">\n"),n.push(ZY().replace(/office:document-meta/g,"office:meta"))):n.push("<office:document-content"+s+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var n=0;n<t["!cols"].length;++n)if(t["!cols"][n]){var s=t["!cols"][n];if(null==s.width&&null==s.wpx&&null==s.wch)continue;gQ(s),s.ods=r;var a=t["!cols"][n].wpx+"px";e.push('  <style:style style:name="co'+r+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++r}});var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var r=0;r<t["!rows"].length;++r)if(t["!rows"][r]){t["!rows"][r].ods=n;var s=t["!rows"][r].hpx+"px";e.push('  <style:style style:name="ro'+n+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+s+'"/>\n'),e.push("  </style:style>\n"),++n}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(n,e),n.push("  <office:body>\n"),n.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)n.push(r(e.Sheets[e.SheetNames[i]],e,i));return n.push("    </office:spreadsheet>\n"),n.push("  </office:body>\n"),"fods"==t.bookType?n.push("</office:document>"):n.push("</office:document-content>"),n.join("")}}();function b2(e,t){if("fods"==t.bookType)return g2(e,t);var r=YH(),n="",s=[],a=[];return KH(r,n="mimetype","application/vnd.oasis.opendocument.spreadsheet"),KH(r,n="content.xml",g2(e,t)),s.push([n,"text/xml"]),a.push([n,"ContentFile"]),KH(r,n="styles.xml",x2(e,t)),s.push([n,"text/xml"]),a.push([n,"StylesFile"]),KH(r,n="meta.xml",QH+ZY()),s.push([n,"text/xml"]),a.push([n,"MetadataFile"]),KH(r,n="manifest.rdf",function(e){var t=[QH];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var r=0;r!=e.length;++r)t.push(JY(e[r][0],e[r][1])),t.push(QY("",e[r][0]));return t.push(JY("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(a)),s.push([n,"application/rdf+xml"]),KH(r,n="META-INF/manifest.xml",function(e){var t=[QH];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(s)),r}function y2(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function v2(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):jG(gV(e))}function j2(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):fV(wG(e))}function w2(e){var t=e.reduce(function(e,t){return e+t.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(e){r.set(e,n),n+=e.length}),r}function N2(e){return 16843009*((e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135)>>>24}function k2(e,t){var r=t?t[0]:0,n=127&e[r];e:if(e[r++]>=128){if(n|=(127&e[r])<<7,e[r++]<128)break e;if(n|=(127&e[r])<<14,e[r++]<128)break e;if(n|=(127&e[r])<<21,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,28),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,35),++r,e[r++]<128)break e;if(n+=(127&e[r])*Math.pow(2,42),++r,e[r++]<128)break e}return t&&(t[0]=r),n}function S2(e){var t=new Uint8Array(7);t[0]=127&e;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383)break e;if(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)break e;if(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)break e;if(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)break e;if(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103)break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function C2(e){var t=0,r=127&e[t];e:if(e[t++]>=128){if(r|=(127&e[t])<<7,e[t++]<128)break e;if(r|=(127&e[t])<<14,e[t++]<128)break e;if(r|=(127&e[t])<<21,e[t++]<128)break e;r|=(127&e[t])<<28}return r}function A2(e){for(var t=[],r=[0];r[0]<e.length;){var n,s=r[0],a=k2(e,r),i=7&a,o=0;if(0==(a=Math.floor(a/8)))break;switch(i){case 0:for(var l=r[0];e[r[0]++]>=128;);n=e.slice(l,r[0]);break;case 5:o=4,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 1:o=8,n=e.slice(r[0],r[0]+o),r[0]+=o;break;case 2:o=k2(e,r),n=e.slice(r[0],r[0]+o),r[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var c={data:n,type:i};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function T2(e){var t=[];return e.forEach(function(e,r){e.forEach(function(e){e.data&&(t.push(S2(8*r+e.type)),2==e.type&&t.push(S2(e.data.length)),t.push(e.data))})}),w2(t)}function E2(e,t){return(null==e?void 0:e.map(function(e){return t(e.data)}))||[]}function _2(e){for(var t,r=[],n=[0];n[0]<e.length;){var s=k2(e,n),a=A2(e.slice(n[0],n[0]+s));n[0]+=s;var i={id:C2(a[1][0].data),messages:[]};a[2].forEach(function(t){var r=A2(t.data),s=C2(r[3][0].data);i.messages.push({meta:r,data:e.slice(n[0],n[0]+s)}),n[0]+=s}),(null==(t=a[3])?void 0:t[0])&&(i.merge=C2(a[3][0].data)>>>0>0),r.push(i)}return r}function P2(e){var t=[];return e.forEach(function(e){var r=[];r[1]=[{data:S2(e.id),type:0}],r[2]=[],null!=e.merge&&(r[3]=[{data:S2(+!!e.merge),type:0}]);var n=[];e.messages.forEach(function(e){n.push(e.data),e.meta[3]=[{type:0,data:S2(e.data.length)}],r[2].push({data:T2(e.meta),type:2})});var s=T2(r);t.push(S2(s.length)),t.push(s),n.forEach(function(e){return t.push(e)})}),w2(t)}function D2(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=k2(t,r),s=[];r[0]<t.length;){var a=3&t[r[0]];if(0!=a){var i=0,o=0;if(1==a?(o=4+(t[r[0]]>>2&7),i=(224&t[r[0]++])<<3,i|=t[r[0]++]):(o=1+(t[r[0]++]>>2),2==a?(i=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(i=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),s=[w2(s)],0==i)throw new Error("Invalid offset 0");if(i>s[0].length)throw new Error("Invalid offset beyond length");if(o>=i)for(s.push(s[0].slice(-i)),o-=i;o>=s[s.length-1].length;)s.push(s[s.length-1]),o-=s[s.length-1].length;s.push(s[0].slice(-i,-i+o))}else{var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}s.push(t.slice(r[0],r[0]+l)),r[0]+=l}}var d=w2(s);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function O2(e){for(var t=[],r=0;r<e.length;){var n=e[r++],s=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(D2(n,e.slice(r,r+s))),r+=s}if(r!==e.length)throw new Error("data is not a valid framed stream!");return w2(t)}function L2(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),s=new Uint8Array(4);t.push(s);var a=S2(n),i=a.length;t.push(a),n<=60?(i++,t.push(new Uint8Array([n-1<<2]))):n<=256?(i+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(i+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(i+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(i+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),i+=n,s[0]=0,s[1]=255&i,s[2]=i>>8&255,s[3]=i>>16&255,r+=n}return w2(t)}function M2(e,t,r){var n,s=y2(e),a=s.getUint32(8,!0),i=12,o=-1,l=-1,c=NaN,d=NaN,u=new Date(2001,0,1);switch(1&a&&(c=function(e,t){for(var r=(127&e[t+15])<<7|e[t+14]>>1,n=1&e[t+14],s=t+13;s>=t;--s)n=256*n+e[s];return(128&e[t+15]?-n:n)*Math.pow(10,r-6176)}(e,i),i+=16),2&a&&(d=s.getFloat64(i,!0),i+=8),4&a&&(u.setTime(u.getTime()+1e3*s.getFloat64(i,!0)),i+=8),8&a&&(l=s.getUint32(i,!0),i+=4),16&a&&(o=s.getUint32(i,!0),i+=4),e[1]){case 0:break;case 2:case 10:n={t:"n",v:c};break;case 3:n={t:"s",v:t[l]};break;case 5:n={t:"d",v:u};break;case 6:n={t:"b",v:d>0};break;case 7:n={t:"n",v:d/86400};break;case 8:n={t:"e",v:0};break;case 9:if(!(o>-1))throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&a," : ").concat(e.slice(0,4)));n={t:"s",v:r[o]};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(31&a," : ").concat(e.slice(0,4)))}return n}function I2(e,t){var r=new Uint8Array(32),n=y2(r),s=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,function(e,t,r){var n=Math.floor(0==r?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,s=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(127&n)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=255&s;e[t+15]|=r>=0?0:128}(r,s,e.v),a|=1,s+=16;break;case"b":r[1]=6,n.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,s)}function R2(e,t){var r=new Uint8Array(32),n=y2(r),s=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":r[2]=6,n.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,s)}function z2(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return function(e,t,r,n){var s,a=y2(e),i=a.getUint32(4,!0),o=(n>1?12:8)+4*N2(i&(n>1?3470:398)),l=-1,c=-1,d=NaN,u=new Date(2001,0,1);switch(512&i&&(l=a.getUint32(o,!0),o+=4),o+=4*N2(i&(n>1?12288:4096)),16&i&&(c=a.getUint32(o,!0),o+=4),32&i&&(d=a.getFloat64(o,!0),o+=8),64&i&&(u.setTime(u.getTime()+1e3*a.getFloat64(o,!0)),o+=8),e[2]){case 0:break;case 2:s={t:"n",v:d};break;case 3:s={t:"s",v:t[c]};break;case 5:s={t:"d",v:u};break;case 6:s={t:"b",v:d>0};break;case 7:s={t:"n",v:d/86400};break;case 8:s={t:"e",v:0};break;case 9:if(l>-1)s={t:"s",v:r[l]};else if(c>-1)s={t:"s",v:t[c]};else{if(isNaN(d))throw new Error("Unsupported cell type ".concat(e.slice(0,4)));s={t:"n",v:d}}break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return s}(e,t,r,e[0]);case 5:return M2(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function F2(e){return k2(A2(e)[1][0].data)}function B2(e,t){var r=A2(t.data),n=C2(r[1][0].data),s=r[3],a=[];return(s||[]).forEach(function(t){var r=A2(t.data),s=C2(r[1][0].data)>>>0;switch(n){case 1:a[s]=v2(r[3][0].data);break;case 8:var i=A2(e[F2(r[9][0].data)][0].data),o=e[F2(i[1][0].data)][0],l=C2(o.meta[1][0].data);if(2001!=l)throw new Error("2000 unexpected reference to ".concat(l));var c=A2(o.data);a[s]=c[3].map(function(e){return v2(e.data)}).join("")}}),a}function q2(e,t){var r,n=A2(t.data),s=(null==(r=null==n?void 0:n[7])?void 0:r[0])?C2(n[7][0].data)>>>0>0?1:0:-1,a=E2(n[5],function(e){return function(e,t){var r,n,s,a,i,o,l,c,d,u,m,h,p,f,x,g,b=A2(e),y=C2(b[1][0].data)>>>0,v=C2(b[2][0].data)>>>0,j=(null==(n=null==(r=b[8])?void 0:r[0])?void 0:n.data)&&C2(b[8][0].data)>0||!1;if((null==(a=null==(s=b[7])?void 0:s[0])?void 0:a.data)&&0!=t)x=null==(o=null==(i=b[7])?void 0:i[0])?void 0:o.data,g=null==(c=null==(l=b[6])?void 0:l[0])?void 0:c.data;else{if(!(null==(u=null==(d=b[4])?void 0:d[0])?void 0:u.data)||1==t)throw"NUMBERS Tile missing ".concat(t," cell storage");x=null==(h=null==(m=b[4])?void 0:m[0])?void 0:h.data,g=null==(f=null==(p=b[3])?void 0:p[0])?void 0:f.data}for(var w=j?4:1,N=y2(x),k=[],S=0;S<x.length/2;++S){var C=N.getUint16(2*S,!0);C<65535&&k.push([S,C])}if(k.length!=v)throw"Expected ".concat(v," cells, found ").concat(k.length);var A=[];for(S=0;S<k.length-1;++S)A[k[S][0]]=g.subarray(k[S][1]*w,k[S+1][1]*w);return k.length>=1&&(A[k[k.length-1][0]]=g.subarray(k[k.length-1][1]*w)),{R:y,cells:A}}(e,s)});return{nrows:C2(n[4][0].data)>>>0,data:a.reduce(function(e,t){return e[t.R]||(e[t.R]=[]),t.cells.forEach(function(r,n){if(e[t.R][n])throw new Error("Duplicate cell r=".concat(t.R," c=").concat(n));e[t.R][n]=r}),e},[])}}function $2(e,t){var r={"!ref":"A1"},n=e[F2(A2(t.data)[2][0].data)],s=C2(n[0].meta[1][0].data);if(6001!=s)throw new Error("6000 unexpected reference to ".concat(s));return function(e,t,r){var n,s=A2(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(C2(s[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(s[6][0].data));if(a.e.c=(C2(s[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(s[7][0].data));r["!ref"]=ZK(a);var i=A2(s[4][0].data),o=B2(e,e[F2(i[4][0].data)][0]),l=(null==(n=i[17])?void 0:n[0])?B2(e,e[F2(i[17][0].data)][0]):[],c=A2(i[3][0].data),d=0;c[1].forEach(function(t){var n=A2(t.data),s=e[F2(n[2][0].data)][0],a=C2(s.meta[1][0].data);if(6002!=a)throw new Error("6001 unexpected reference to ".concat(a));var i=q2(0,s);i.data.forEach(function(e,t){e.forEach(function(e,n){var s=JK({r:d+t,c:n}),a=z2(e,o,l);a&&(r[s]=a)})}),d+=i.nrows})}(e,n[0],r),r}function U2(e,t){var r={SheetNames:[],Sheets:{}};if(E2(A2(t.data)[1],F2).forEach(function(t){e[t].forEach(function(t){if(2==C2(t.meta[1][0].data)){var n=function(e,t){var r,n=A2(t.data),s={name:(null==(r=n[1])?void 0:r[0])?v2(n[1][0].data):"",sheets:[]};return E2(n[2],F2).forEach(function(t){e[t].forEach(function(t){6e3==C2(t.meta[1][0].data)&&s.sheets.push($2(e,t))})}),s}(e,t);n.sheets.forEach(function(e,t){y3(r,e,0==t?n.name:n.name+"_"+t,!0)})}})}),0==r.SheetNames.length)throw new Error("Empty NUMBERS file");return r}function W2(e){var t,r,n,s,a={},i=[];if(e.FullPaths.forEach(function(e){if(e.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(e){if(e.name.match(/\.iwa$/)){var t,r;try{t=O2(e.content)}catch(n){return}try{r=_2(t)}catch(n){return}r.forEach(function(e){a[e.id]=e.messages,i.push(e.id)})}}),!i.length)throw new Error("File has no messages");var o=(null==(s=null==(n=null==(r=null==(t=null==a?void 0:a[1])?void 0:t[0])?void 0:r.meta)?void 0:n[1])?void 0:s[0].data)&&1==C2(a[1][0].meta[1][0].data)&&a[1][0];if(o||i.forEach(function(e){a[e].forEach(function(e){if(1==C2(e.meta[1][0].data)>>>0){if(o)throw new Error("Document has multiple roots");o=e}})}),!o)throw new Error("Cannot find Document root");return U2(a,o)}function V2(e,t,r){var n,s,a,i;if(!(null==(n=e[6])?void 0:n[0])||!(null==(s=e[7])?void 0:s[0]))throw"Mutation only works on post-BNC storages!";if((null==(i=null==(a=e[8])?void 0:a[0])?void 0:i.data)&&C2(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=y2(e[7][0].data),c=0,d=[],u=y2(e[4][0].data),m=0,h=[],p=0;p<t.length;++p)if(null!=t[p]){var f,x;switch(l.setUint16(2*p,c,!0),u.setUint16(2*p,m,!0),typeof t[p]){case"string":f=I2({t:"s",v:t[p]},r),x=R2({t:"s",v:t[p]},r);break;case"number":f=I2({t:"n",v:t[p]},r),x=R2({t:"n",v:t[p]},r);break;case"boolean":f=I2({t:"b",v:t[p]},r),x=R2({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}d.push(f),c+=f.length,h.push(x),m+=x.length,++o}else l.setUint16(2*p,65535,!0),u.setUint16(2*p,65535);for(e[2][0].data=S2(o);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),u.setUint16(2*p,65535,!0);return e[6][0].data=w2(d),e[3][0].data=w2(h),o}function H2(e){return function(t){for(var r=0;r!=e.length;++r){var n=e[r];void 0===t[n[0]]&&(t[n[0]]=n[1]),"n"===n[2]&&(t[n[0]]=Number(t[n[0]]))}}}function G2(e){H2([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function K2(e){H2([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Y2(e,t,r,n,s,a,i,o,l,c,d,u){try{a[n]=KY(HH(e,r,!0),t);var m,h=VH(e,t);switch(o){case"sheet":m=l0(h,t,s,l,a[n],c,d,u);break;case"chart":if(!(m=c0(h,t,s,l,a[n],c))||!m["!drawel"])break;var p=JH(m["!drawel"].Target,t),f=GY(p),x=function(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}(HH(e,p,!0),KY(HH(e,f,!0),p)),g=JH(x,p),b=GY(g);m=W1(HH(e,g,!0),0,0,KY(HH(e,b,!0),g),0,m);break;case"macro":v=t,a[n],v.slice(-4),m={"!type":"macro"};break;case"dialog":m=function(e,t){return t.slice(-4),{"!type":"dialog"}}(0,t,0,0,a[n]);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=m;var y=[];a&&a[n]&&yH(a[n]).forEach(function(r){var s="";if(a[n][r].Type==HY.CMNT){s=JH(a[n][r].Target,t);var i=m0(VH(e,s,!0),s,l);if(!i||!i.length)return;rZ(m,i,!1)}a[n][r].Type==HY.TCMNT&&(s=JH(a[n][r].Target,t),y=y.concat(function(e,t){var r=[],n=!1,s={},a=0;return e.replace(tG,function(i,o){var l=sG(i);switch(aG(l[0])){case"<?xml":case"<ThreadedComments":case"</ThreadedComments>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<threadedComment":s={author:l.personId,guid:l.id,ref:l.ref,T:1};break;case"</threadedComment>":null!=s.t&&r.push(s);break;case"<text>":case"<text":a=o+i.length;break;case"</text>":s.t=e.slice(a,o).replace(/\r\n/g,"\n").replace(/\r/g,"\n");break;case"<mentions":case"<mentions>":case"<ext":n=!0;break;case"</mentions>":case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+l[0]+" in threaded comments")}return i}),r}(VH(e,s,!0),l)))}),y&&y.length&&rZ(m,y,!0,l.people||[])}catch(j){if(l.WTF)throw j}var v}function X2(e){return"/"==e.charAt(0)?e.slice(1):e}function J2(e,t){if(mH(),G2(t=t||{}),UH(e,"META-INF/manifest.xml"))return p2(e,t);if(UH(e,"objectdata.xml"))return p2(e,t);if(UH(e,"Index/Document.iwa")){if("undefined"==typeof Uint8Array)throw new Error("NUMBERS file parsing requires Uint8Array support");if(void 0!==W2){if(e.FileIndex)return W2(e);var r=xH.utils.cfb_new();return GH(e).forEach(function(t){KH(r,t,function(e,t){return $H(WH(e,t))}(e,t))}),W2(r)}throw new Error("Unsupported NUMBERS file")}if(!UH(e,"[Content_Types].xml")){if(UH(e,"index.xml.gz"))throw new Error("Unsupported NUMBERS 08 file");if(UH(e,"index.xml"))throw new Error("Unsupported NUMBERS 09 file");throw new Error("Unsupported ZIP file")}var n,s,a=GH(e),i=function(e){var t={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};if(!e||!e.match)return t;var r={};if((e.match(tG)||[]).forEach(function(e){var n=sG(e);switch(n[0].replace(rG,"<")){case"<?xml":break;case"<Types":t.xmlns=n["xmlns"+(n[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[n.Extension]=n.ContentType;break;case"<Override":void 0!==t[UY[n.ContentType]]&&t[UY[n.ContentType]].push(n.PartName)}}),t.xmlns!==FG)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}(HH(e,"[Content_Types].xml")),o=!1;if(0===i.workbooks.length&&VH(e,s="xl/workbook.xml",!0)&&i.workbooks.push(s),0===i.workbooks.length){if(!VH(e,s="xl/workbook.bin",!0))throw new Error("Could not find workbook");i.workbooks.push(s),o=!0}"bin"==i.workbooks[0].slice(-3)&&(o=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(r1=[],i.sst)try{r1=u0(VH(e,X2(i.sst)),i.sst,t)}catch(_){if(t.WTF)throw _}t.cellStyles&&i.themes.length&&(l=function(e,t,r){return GQ(e,r)}(HH(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=d0(VH(e,X2(i.style)),i.style,l,t))}i.links.map(function(r){try{KY(HH(e,GY(X2(r))),r);return p0(VH(e,X2(r)),0,r,t)}catch(_){}});var d=o0(VH(e,X2(i.workbooks[0])),i.workbooks[0],t),u={},m="";i.coreprops.length&&((m=VH(e,X2(i.coreprops[0]),!0))&&(u=rX(m)),0!==i.extprops.length&&(m=VH(e,X2(i.extprops[0]),!0))&&function(e,t,r){var n={};t||(t={}),e=jG(e),aX.forEach(function(r){var s=(e.match(NG(r[0]))||[])[1];switch(r[2]){case"string":s&&(t[r[1]]=lG(s));break;case"bool":t[r[1]]="true"===s;break;case"raw":var a=e.match(new RegExp("<"+r[0]+"[^>]*>([\\s\\S]*?)</"+r[0]+">"));a&&a.length>0&&(n[r[1]]=a[1])}}),n.HeadingPairs&&n.TitlesOfParts&&oX(n.HeadingPairs,n.TitlesOfParts,t,r)}(m,u,t));var h={};t.bookSheets&&!t.bookProps||0!==i.custprops.length&&(m=HH(e,X2(i.custprops[0]),!0))&&(h=function(e,t){var r={},n="",s=e.match(cX);if(s)for(var a=0;a!=s.length;++a){var i=s[a],o=sG(i);switch(o[0]){case"<?xml":case"<Properties":break;case"<property":n=lG(o.name);break;case"</property>":n=null;break;default:if(0===i.indexOf("<vt:")){var l=i.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":case"cy":case"error":r[n]=lG(d);break;case"bool":r[n]=xG(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=OH(d);break;default:if("/"==c.slice(-1))break;t.WTF}}else if("</"===i.slice(0,2));else if(t.WTF)throw new Error(i)}}return r}(m,t));var p={};if((t.bookSheets||t.bookProps)&&(d.Sheets?n=d.Sheets.map(function(e){return e.name}):u.Worksheets&&u.SheetNames.length>0&&(n=u.SheetNames),t.bookProps&&(p.Props=u,p.Custprops=h),t.bookSheets&&void 0!==n&&(p.SheetNames=n),t.bookSheets?p.SheetNames:t.bookProps))return p;n={};var f={};t.bookDeps&&i.calcchain&&(f=h0(VH(e,X2(i.calcchain)),i.calcchain));var x,g,b=0,y={},v=d.Sheets;u.Worksheets=v.length,u.SheetNames=[];for(var j=0;j!=v.length;++j)u.SheetNames[j]=v[j].name;var w=o?"bin":"xml",N=i.workbooks[0].lastIndexOf("/"),k=(i.workbooks[0].slice(0,N+1)+"_rels/"+i.workbooks[0].slice(N+1)+".rels").replace(/^\//,"");UH(e,k)||(k="xl/_rels/workbook."+w+".rels");var S=KY(HH(e,k,!0),k.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=f0(VH(e,X2(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=function(e,t){var r=[],n=!1;return e.replace(tG,function(e){var s=sG(e);switch(aG(s[0])){case"<?xml":case"<personList":case"</personList>":case"</person>":case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return e}),r}(VH(e,X2(i.people[0])),t)),S&&(S=function(e,t){if(!e)return 0;try{e=t.map(function(t){return t.id||(t.id=t.strRelID),[t.name,e["!id"][t.id].Target,(r=e["!id"][t.id].Type,HY.WS.indexOf(r)>-1?"sheet":r==HY.CS?"chart":r==HY.DS?"dialog":r==HY.MS?"macro":r&&r.length?r:"sheet")];var r})}catch(_){return null}return e&&0!==e.length?e:null}(S,d.Sheets));var C=VH(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(b=0;b!=u.Worksheets;++b){var A="sheet";if(S&&S[b]?(x="xl/"+S[b][1].replace(/[\/]?xl\//,""),UH(e,x)||(x=S[b][1]),UH(e,x)||(x=k.replace(/_rels\/.*$/,"")+S[b][1]),A=S[b][2]):x=(x="xl/worksheets/sheet"+(b+1-C)+"."+w).replace(/sheet0\./,"sheet."),g=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&null!=t.sheets)switch(typeof t.sheets){case"number":if(b!=t.sheets)continue e;break;case"string":if(u.SheetNames[b].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var T=!1,E=0;E!=t.sheets.length;++E)"number"==typeof t.sheets[E]&&t.sheets[E]==b&&(T=1),"string"==typeof t.sheets[E]&&t.sheets[E].toLowerCase()==u.SheetNames[b].toLowerCase()&&(T=1);if(!T)continue e}}Y2(e,x,g,u.SheetNames[b],b,y,n,A,t,d,l,c)}return p={Directory:i,Workbook:d,Props:u,Custprops:h,Deps:f,Sheets:n,SheetNames:u.SheetNames,Strings:r1,Styles:c,Themes:l,SSF:MH(PV)},t&&t.bookFiles&&(e.files?(p.keys=a,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(t,r){t=t.replace(/^Root Entry[\/]/,""),p.keys.push(t),p.files[t]=e.FileIndex[r]}))),t&&t.bookVBA&&(i.vba.length>0?p.vbaraw=VH(e,X2(i.vba[0]),!0):i.defaults&&"application/vnd.ms-office.vbaProject"===i.defaults.bin&&(p.vbaraw=VH(e,"xl/vbaProject.bin",!0))),p}function Q2(e,t){var r,n,s=t||{},a="Workbook",i=xH.find(e,a);try{if(a="/!DataSpaces/Version",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(r=i.content,(n={}).id=r.read_shift(0,"lpp4"),n.R=XJ(r,4),n.U=XJ(r,4),n.W=XJ(r,4),a="/!DataSpaces/DataSpaceMap",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);var o=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(JJ(e));return t}(i.content);if(1!==o.length||1!==o[0].comps.length||0!==o[0].comps[0].t||"StrongEncryptionDataSpace"!==o[0].name||"EncryptedPackage"!==o[0].comps[0].v)throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);var l=function(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}(i.content);if(1!=l.length||"StrongEncryptionTransform"!=l[0])throw new Error("ECMA-376 Encrypted file bad "+a);if(a="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);QJ(i.content)}catch(d){}if(a="/EncryptionInfo",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);var c=function(e){var t=XJ(e);switch(t.Minor){case 2:return[t.Minor,tQ(e)];case 3:return[t.Minor,rQ()];case 4:return[t.Minor,nQ(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}(i.content);if(a="/EncryptedPackage",!(i=xH.find(e,a))||!i.content)throw new Error("ECMA-376 Encrypted file missing "+a);if(4==c[0]&&"undefined"!=typeof decrypt_agile)return decrypt_agile(c[1],i.content,s.password||"",s);if(2==c[0]&&"undefined"!=typeof decrypt_std76)return decrypt_std76(c[1],i.content,s.password||"",s);throw new Error("File is password-protected")}function Z2(e,t){return"ods"==t.bookType?b2(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length;var n=QK(r["!ref"]);n.s.r=n.s.c=0,n.e.c>9&&(n.e.c=9),n.e.r>49&&(n.e.r=49);var s=u3(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&a.push(e)})});var i={},o=[],l=xH.read(t.numbers,{type:"base64"});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0],r=e[1];2==t.type&&t.name.match(/\.iwa/)&&_2(O2(t.content)).forEach(function(e){o.push(e.id),i[e.id]={deps:[],location:r,type:C2(e.messages[0].meta[1][0].data)}})}),o.sort(function(e,t){return e-t});var c=o.filter(function(e){return e>1}).map(function(e){return[e,S2(e)]});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&_2(O2(t.content)).forEach(function(e){e.messages.forEach(function(t){c.forEach(function(t){e.messages.some(function(e){return 11006!=C2(e.meta[1][0].data)&&function(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}(e.data,t[1])})&&i[t[0]].deps.push(e.id)})})})});for(var d,u=xH.find(l,i[1].location),m=_2(O2(u.content)),h=0;h<m.length;++h){var p=m[h];1==p.id&&(d=p)}var f=F2(A2(d.messages[0].data)[1][0].data);for(m=_2(O2((u=xH.find(l,i[f].location)).content)),h=0;h<m.length;++h)(p=m[h]).id==f&&(d=p);for(f=F2(A2(d.messages[0].data)[2][0].data),m=_2(O2((u=xH.find(l,i[f].location)).content)),h=0;h<m.length;++h)(p=m[h]).id==f&&(d=p);for(f=F2(A2(d.messages[0].data)[2][0].data),m=_2(O2((u=xH.find(l,i[f].location)).content)),h=0;h<m.length;++h)(p=m[h]).id==f&&(d=p);var x=A2(d.messages[0].data);x[6][0].data=S2(n.e.r+1),x[7][0].data=S2(n.e.c+1);for(var g=F2(x[46][0].data),b=xH.find(l,i[g].location),y=_2(O2(b.content)),v=0;v<y.length&&y[v].id!=g;++v);if(y[v].id!=g)throw"Bad ColumnRowUIDMapArchive";var j=A2(y[v].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var w=0;w<=n.e.c;++w){var N=[];N[1]=N[2]=[{type:0,data:S2(w+420690)}],j[1].push({type:2,data:T2(N)}),j[2].push({type:0,data:S2(w)}),j[3].push({type:0,data:S2(w)})}j[4]=[],j[5]=[],j[6]=[];for(var k=0;k<=n.e.r;++k)(N=[])[1]=N[2]=[{type:0,data:S2(k+726270)}],j[4].push({type:2,data:T2(N)}),j[5].push({type:0,data:S2(k)}),j[6].push({type:0,data:S2(k)});y[v].messages[0].data=T2(j),b.content=L2(P2(y)),b.size=b.content.length,delete x[46];var S=A2(x[4][0].data);S[7][0].data=S2(n.e.r+1);var C=F2(A2(S[1][0].data)[2][0].data);if((y=_2(O2((b=xH.find(l,i[C].location)).content)))[0].id!=C)throw"Bad HeaderStorageBucket";var A=A2(y[0].messages[0].data);for(k=0;k<s.length;++k){var T=A2(A[2][0].data);T[1][0].data=S2(k),T[4][0].data=S2(s[k].length),A[2][k]={type:A[2][0].type,data:T2(T)}}y[0].messages[0].data=T2(A),b.content=L2(P2(y)),b.size=b.content.length;var E=F2(S[2][0].data);if((y=_2(O2((b=xH.find(l,i[E].location)).content)))[0].id!=E)throw"Bad HeaderStorageBucket";for(A=A2(y[0].messages[0].data),w=0;w<=n.e.c;++w)(T=A2(A[2][0].data))[1][0].data=S2(w),T[4][0].data=S2(n.e.r+1),A[2][w]={type:A[2][0].type,data:T2(T)};y[0].messages[0].data=T2(A),b.content=L2(P2(y)),b.size=b.content.length;var _=F2(S[4][0].data);!function(){for(var e,t=xH.find(l,i[_].location),r=_2(O2(t.content)),n=0;n<r.length;++n){var s=r[n];s.id==_&&(e=s)}var o=A2(e.messages[0].data);o[3]=[];var c=[];a.forEach(function(e,t){c[1]=[{type:0,data:S2(t)}],c[2]=[{type:0,data:S2(1)}],c[3]=[{type:2,data:j2(e)}],o[3].push({type:2,data:T2(c)})}),e.messages[0].data=T2(o);var d=L2(P2(r));t.content=d,t.size=t.content.length}();var P=A2(S[3][0].data),D=P[1][0];delete P[2];var O=A2(D.data),L=F2(O[2][0].data);!function(){for(var e,t=xH.find(l,i[L].location),r=_2(O2(t.content)),o=0;o<r.length;++o){var c=r[o];c.id==L&&(e=c)}var d=A2(e.messages[0].data);delete d[6],delete P[7];var u=new Uint8Array(d[5][0].data);d[5]=[];for(var m=0,h=0;h<=n.e.r;++h){var p=A2(u);m+=V2(p,s[h],a),p[1][0].data=S2(h),d[5].push({data:T2(p),type:2})}d[1]=[{type:0,data:S2(n.e.c+1)}],d[2]=[{type:0,data:S2(n.e.r+1)}],d[3]=[{type:0,data:S2(m)}],d[4]=[{type:0,data:S2(n.e.r+1)}],e.messages[0].data=T2(d);var f=L2(P2(r));t.content=f,t.size=t.content.length}(),D.data=T2(O),S[3][0].data=T2(P),x[4][0].data=T2(S),d.messages[0].data=T2(x);var M=L2(P2(m));return u.content=M,u.size=u.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){eZ=1024,e&&!e.SSF&&(e.SSF=MH(PV));e&&e.SSF&&(mH(),uH(e.SSF),t.revssf=wH(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,s1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xlsb"==t.bookType?"bin":"xml",n=oZ.indexOf(t.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};K2(t=t||{});var a=YH(),i="",o=0;t.cellXfs=[],l1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(KH(a,i="docProps/core.xml",sX(e.Props,t)),s.coreprops.push(i),XY(t.rels,2,i,HY.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,KH(a,i,lX(e.Props)),s.extprops.push(i),XY(t.rels,3,i,HY.EXT_PROPS),e.Custprops!==e.Props&&yH(e.Custprops||{}).length>0&&(KH(a,i="docProps/custom.xml",dX(e.Custprops)),s.custprops.push(i),XY(t.rels,4,i,HY.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];(u||{})["!type"];if(KH(a,i="xl/worksheets/sheet"+o+"."+r,x0(o-1,i,t,e,d)),s.sheets.push(i),XY(t.wbrels,-1,"worksheets/sheet"+o+"."+r,HY.WS[0]),u){var m=u["!comments"],h=!1,p="";m&&m.length>0&&(KH(a,p="xl/comments"+o+"."+r,g0(m,p)),s.comments.push(p),XY(d,-1,"../comments"+o+"."+r,HY.CMNT),h=!0),u["!legacy"]&&h&&KH(a,"xl/drawings/vmlDrawing"+o+".vml",tZ(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&KH(a,GY(i),YY(d))}null!=t.Strings&&t.Strings.length>0&&(KH(a,i="xl/sharedStrings."+r,function(e,t,r){return(".bin"===t.slice(-4)?KJ:HJ)(e,r)}(t.Strings,i,t)),s.strs.push(i),XY(t.wbrels,-1,"sharedStrings."+r,HY.SST));KH(a,i="xl/workbook."+r,function(e,t){return(".bin"===t.slice(-4)?i0:r0)(e)}(e,i)),s.workbooks.push(i),XY(t.rels,1,i,HY.WB),KH(a,i="xl/theme/theme1.xml",KQ(e.Themes,t)),s.themes.push(i),XY(t.wbrels,-1,"theme/theme1.xml",HY.THEME),KH(a,i="xl/styles."+r,function(e,t,r){return(".bin"===t.slice(-4)?zQ:SQ)(e,r)}(e,i,t)),s.styles.push(i),XY(t.wbrels,-1,"styles."+r,HY.STY),e.vbaraw&&n&&(KH(a,i="xl/vbaProject.bin",e.vbaraw),s.vba.push(i),XY(t.wbrels,-1,"vbaProject.bin",HY.VBA));return KH(a,i="xl/metadata."+r,function(e){return(".bin"===e.slice(-4)?QQ:ZQ)()}(i)),s.metadata.push(i),XY(t.wbrels,-1,"metadata."+r,HY.XLMETA),KH(a,"[Content_Types].xml",VY(s,t)),KH(a,"_rels/.rels",YY(t.rels)),KH(a,"xl/_rels/workbook."+r+".rels",YY(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):function(e,t){eZ=1024,e&&!e.SSF&&(e.SSF=MH(PV));e&&e.SSF&&(mH(),uH(e.SSF),t.revssf=wH(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,s1?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=oZ.indexOf(t.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};K2(t=t||{});var a=YH(),i="",o=0;t.cellXfs=[],l1(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(KH(a,i="docProps/core.xml",sX(e.Props,t)),s.coreprops.push(i),XY(t.rels,2,i,HY.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,KH(a,i,lX(e.Props)),s.extprops.push(i),XY(t.rels,3,i,HY.EXT_PROPS),e.Custprops!==e.Props&&yH(e.Custprops||{}).length>0&&(KH(a,i="docProps/custom.xml",dX(e.Custprops)),s.custprops.push(i),XY(t.rels,4,i,HY.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},m=e.Sheets[e.SheetNames[o-1]];(m||{})["!type"];if(KH(a,i="xl/worksheets/sheet"+o+"."+r,T1(o-1,t,e,u)),s.sheets.push(i),XY(t.wbrels,-1,"worksheets/sheet"+o+"."+r,HY.WS[0]),m){var h=m["!comments"],p=!1,f="";if(h&&h.length>0){var x=!1;h.forEach(function(e){e[1].forEach(function(e){1==e.T&&(x=!0)})}),x&&(KH(a,f="xl/threadedComments/threadedComment"+o+"."+r,sZ(h,d,t)),s.threadedcomments.push(f),XY(u,-1,"../threadedComments/threadedComment"+o+"."+r,HY.TCMNT)),KH(a,f="xl/comments"+o+"."+r,nZ(h)),s.comments.push(f),XY(u,-1,"../comments"+o+"."+r,HY.CMNT),p=!0}m["!legacy"]&&p&&KH(a,"xl/drawings/vmlDrawing"+o+".vml",tZ(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}u["!id"].rId1&&KH(a,GY(i),YY(u))}null!=t.Strings&&t.Strings.length>0&&(KH(a,i="xl/sharedStrings."+r,HJ(t.Strings,t)),s.strs.push(i),XY(t.wbrels,-1,"sharedStrings."+r,HY.SST));KH(a,i="xl/workbook."+r,r0(e)),s.workbooks.push(i),XY(t.rels,1,i,HY.WB),KH(a,i="xl/theme/theme1.xml",KQ(e.Themes,t)),s.themes.push(i),XY(t.wbrels,-1,"theme/theme1.xml",HY.THEME),KH(a,i="xl/styles."+r,SQ(e,t)),s.styles.push(i),XY(t.wbrels,-1,"styles."+r,HY.STY),e.vbaraw&&n&&(KH(a,i="xl/vbaProject.bin",e.vbaraw),s.vba.push(i),XY(t.wbrels,-1,"vbaProject.bin",HY.VBA));KH(a,i="xl/metadata."+r,ZQ()),s.metadata.push(i),XY(t.wbrels,-1,"metadata."+r,HY.XLMETA),d.length>1&&(KH(a,i="xl/persons/person.xml",function(e){var t=[QH,DG("personList",null,{xmlns:qG,"xmlns:x":YG[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,r){t.push(DG("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(d)),s.people.push(i),XY(t.wbrels,-1,"persons/person.xml",HY.PEOPLE));return KH(a,"[Content_Types].xml",VY(s,t)),KH(a,"_rels/.rels",YY(t.rels)),KH(a,"xl/_rels/workbook."+r+".rels",YY(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t)}function e3(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=dV(e.slice(0,12));break;case"binary":r=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function t3(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return E0(e.slice(r),t);default:break e}return LJ.to_workbook(e,t)}function r3(e,t,r,n){return n?(r.type="string",LJ.to_workbook(e,r)):LJ.to_workbook(t,r)}function n3(e,t){tV();var r=t||{};if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return n3(new Uint8Array(e),((r=MH(r)).type="array",r));"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&!r.type&&(r.type="undefined"!=typeof Deno?"buffer":"array");var n,s=e,a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),n1={},r.dateNF&&(n1.dateNF=r.dateNF),r.type||(r.type=uV&&rn.isBuffer(e)?"buffer":"base64"),"file"==r.type&&(r.type=uV?"buffer":"binary",s=function(e){if("undefined"!=typeof Deno)return Deno.readFileSync(e);if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}(e),"undefined"==typeof Uint8Array||uV||(r.type="array")),"string"==r.type&&(a=!0,r.type="binary",r.codepage=65001,s=function(e){return e.match(/[^\x00-\x7F]/)?wG(e):e}(e)),"array"==r.type&&"undefined"!=typeof Uint8Array&&e instanceof Uint8Array&&"undefined"!=typeof ArrayBuffer){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return(r=MH(r)).type="array",n3(bV(s),r)}switch((n=e3(s,r))[0]){case 208:if(207===n[1]&&17===n[2]&&224===n[3]&&161===n[4]&&177===n[5]&&26===n[6]&&225===n[7])return function(e,t){return xH.find(e,"EncryptedPackage")?Q2(e,t):V0(e,t)}(xH.read(s,r),r);break;case 9:if(n[1]<=8)return V0(s,r);break;case 60:return E0(s,r);case 73:if(73===n[1]&&42===n[2]&&0===n[3])throw new Error("TIFF Image File is not a spreadsheet");if(68===n[1])return function(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var s=PJ.to_workbook(e,r);return r.WTF=n,s}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return LJ.to_workbook(e,t)}}(s,r);break;case 84:if(65===n[1]&&66===n[2]&&76===n[3])return DJ.to_workbook(s,r);break;case 80:return 75===n[1]&&n[2]<9&&n[3]<9?function(e,t){var r=e,n=t||{};return n.type||(n.type=uV&&rn.isBuffer(e)?"buffer":"base64"),J2(XH(r,n),n)}(s,r):r3(e,s,r,a);case 239:return 60===n[3]?E0(s,r):r3(e,s,r,a);case 255:if(254===n[1])return function(e,t){var r=e;return"base64"==t.type&&(r=dV(r)),r=sV.utils.decode(1200,r.slice(2),"str"),t.type="binary",t3(r,t)}(s,r);if(0===n[1]&&2===n[2]&&0===n[3])return MJ.to_workbook(s,r);break;case 0:if(0===n[1]){if(n[2]>=2&&0===n[3])return MJ.to_workbook(s,r);if(0===n[2]&&(8===n[3]||9===n[3]))return MJ.to_workbook(s,r)}break;case 3:case 131:case 139:case 140:return _J.to_workbook(s,r);case 123:if(92===n[1]&&114===n[2]&&116===n[3])return lQ.to_workbook(s,r);break;case 10:case 13:case 32:return function(e,t){var r="",n=e3(e,t);switch(t.type){case"base64":r=dV(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=LH(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==n[0]&&187==n[1]&&191==n[2]&&(r=jG(r)),t.type="binary",t3(r,t)}(s,r);case 137:if(80===n[1]&&78===n[2]&&71===n[3])throw new Error("PNG Image File is not a spreadsheet")}return EJ.indexOf(n[0])>-1&&n[2]<=12&&n[3]<=31?_J.to_workbook(s,r):r3(e,s,r,a)}function s3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return bH(t.file,xH.write(e,{type:uV?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return xH.write(e,t)}function a3(e,t){var r=MH(t||{});return function(e,t){var r={},n=uV?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";t.compression&&(r.compression="DEFLATE");if(t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?xH.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if("undefined"!=typeof Deno&&"string"==typeof s){if("binary"==t.type||"base64"==t.type)return s;s=new Uint8Array(xV(s))}return t.password&&"undefined"!=typeof encrypt_agile?s3(encrypt_agile(s,t.password),t):"file"===t.type?bH(t.file,s):"string"==t.type?jG(s):s}(Z2(e,r),r)}function i3(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return cV(wG(n));case"binary":return wG(n);case"string":return e;case"file":return bH(t.file,n,"utf8");case"buffer":return uV?mV(n,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(n):i3(n,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function o3(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return"base64"==t.type?cV(r):"string"==t.type?jG(r):r;case"file":return bH(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function l3(e,t){tV(),e0(e);var r=MH(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),"array"==r.type){r.type="binary";var n=l3(e,r);return r.type="array",xV(n)}var s=0;if(r.sheet&&(s="number"==typeof r.sheet?r.sheet:e.SheetNames.indexOf(r.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return i3(M0(e,r),r);case"slk":case"sylk":return i3(PJ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"htm":case"html":return i3(o2(e.Sheets[e.SheetNames[s]],r),r);case"txt":return function(e,t){switch(t.type){case"base64":return cV(e);case"binary":case"string":return e;case"file":return bH(t.file,e,"binary");case"buffer":return uV?mV(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(f3(e.Sheets[e.SheetNames[s]],r),r);case"csv":return i3(p3(e.Sheets[e.SheetNames[s]],r),r,"\ufeff");case"dif":return i3(DJ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"dbf":return o3(_J.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"prn":return i3(LJ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"rtf":return i3(lQ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"eth":return i3(OJ.from_sheet(e.Sheets[e.SheetNames[s]],r),r);case"fods":return i3(b2(e,r),r);case"wk1":return o3(MJ.sheet_to_wk1(e.Sheets[e.SheetNames[s]],r),r);case"wk3":return o3(MJ.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),o3(s2(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),function(e,t){var r=t||{};return s3(H0(e,r),r)}(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return a3(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function c3(e,t,r){var n={type:"file"};return n.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(n),l3(e,n)}function d3(e,t,r,n,s,a,i,o){var l=GK(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,m=1===s?[]:{};if(1!==s)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch(x){m.__rowNum__=r}else m.__rowNum__=r;if(!i||e[r])for(var h=t.s.c;h<=t.e.c;++h){var p=i?e[r][h]:e[n[h]+l];if(void 0!==p&&void 0!==p.t){var f=p.v;switch(p.t){case"z":if(null==f)break;continue;case"e":f=0==f?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=a[h]){if(null==f)if("e"==p.t&&null===f)m[a[h]]=null;else if(void 0!==c)m[a[h]]=c;else{if(!d||null!==f)continue;m[a[h]]=null}else m[a[h]]=d&&("n"!==p.t||"n"===p.t&&!1!==o.rawNumbers)?f:rY(p,f,o);null!=f&&(u=!1)}}else{if(void 0===c)continue;null!=a[h]&&(m[a[h]]=c)}}return{row:m,isempty:u}}function u3(e,t){if(null==e||null==e["!ref"])return[];var r={t:"n",v:0},n=0,s=1,a=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?n=1:"A"===c.header?n=2:Array.isArray(c.header)?n=3:null==c.header&&(n=0),typeof d){case"string":l=eY(d);break;case"number":(l=eY(e["!ref"])).s.r=d;break;default:l=d}n>0&&(s=0);var u=GK(l.s.r),m=[],h=[],p=0,f=0,x=Array.isArray(e),g=l.s.r,b=0,y={};x&&!e[g]&&(e[g]=[]);var v=c.skipHidden&&e["!cols"]||[],j=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(v[b]||{}).hidden)switch(m[b]=YK(b),r=x?e[g][b]:e[m[b]+u],n){case 1:a[b]=b-l.s.c;break;case 2:a[b]=m[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(null==r&&(r={w:"__EMPTY",t:"s"}),o=i=rY(r,null,c),f=y[i]||0){do{o=i+"_"+f++}while(y[o]);y[i]=f,y[o]=1}else y[i]=1;a[b]=o}for(g=l.s.r+s;g<=l.e.r;++g)if(!(j[g]||{}).hidden){var w=d3(e,l,g,m,n,a,x,c);(!1===w.isempty||(1===n?!1!==c.blankrows:c.blankrows))&&(h[p++]=w.row)}return h.length=p,h}var m3=/"/g;function h3(e,t,r,n,s,a,i,o){for(var l=!0,c=[],d="",u=GK(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=o.dense?(e[r]||[])[m]:e[n[m]+u];if(null==h)d="";else if(null!=h.v){l=!1,d=""+(o.rawNumbers&&"n"==h.t?h.v:rY(h,null,o));for(var p=0,f=0;p!==d.length;++p)if((f=d.charCodeAt(p))===s||f===a||34===f||o.forceQuotes){d='"'+d.replace(m3,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==h.f||h.F?d="":(l=!1,(d="="+h.f).indexOf(",")>=0&&(d='"'+d.replace(m3,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(i)}function p3(e,t){var r=[],n=null==t?{}:t;if(null==e||null==e["!ref"])return"";var s=eY(e["!ref"]),a=void 0!==n.FS?n.FS:",",i=a.charCodeAt(0),o=void 0!==n.RS?n.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),d="",u=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],p=s.s.c;p<=s.e.c;++p)(m[p]||{}).hidden||(u[p]=YK(p));for(var f=0,x=s.s.r;x<=s.e.r;++x)(h[x]||{}).hidden||null!=(d=h3(e,s,x,u,i,l,a,n))&&(n.strip&&(d=d.replace(c,"")),(d||!1!==n.blankrows)&&r.push((f++?o:"")+d));return delete n.dense,r.join("")}function f3(e,t){return t||(t={}),t.FS="\t",t.RS="\n",p3(e,t)}function x3(e,t,r){var n,s=r||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&null!=s.origin)if("number"==typeof s.origin)o=s.origin;else{var c="string"==typeof s.origin?XK(s.origin):s.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var u=eY(i["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+a)}else-1==o&&(o=0,d.e.r=t.length-1+a);var m=s.header||[],h=0;t.forEach(function(e,t){yH(e).forEach(function(r){-1==(h=m.indexOf(r))&&(m[h=m.length]=r);var c=e[r],d="z",u="",p=JK({c:l+h,r:o+t+a});n=g3(i,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",s.cellDates||(d="n",c=kH(c)),u=s.dateNF||PV[14]):null===c&&s.nullError&&(d="e",c=0),n?(n.t=d,n.v=c,delete n.w,delete n.R,u&&(n.z=u)):i[p]=n={t:d,v:c},u&&(n.z=u)):i[p]=c})}),d.e.c=Math.max(d.e.c,l+m.length-1);var p=GK(o);if(a)for(h=0;h<m.length;++h)i[YK(h+l)+p]={t:"s",v:m[h]};return i["!ref"]=ZK(d),i}function g3(e,t,r){if("string"==typeof t){if(Array.isArray(e)){var n=XK(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return g3(e,JK("number"!=typeof t?t:{r:t,c:r||0}))}function b3(){return{SheetNames:[],Sheets:{}}}function y3(e,t,r,n){var s=1;if(!r)for(;s<=65535&&-1!=e.SheetNames.indexOf(r="Sheet"+s);++s,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||r;for(++s;s<=65535&&-1!=e.SheetNames.indexOf(r=i+s);++s);}if(Z1(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function v3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}var j3={encode_col:YK,encode_row:GK,encode_cell:JK,encode_range:ZK,decode_col:KK,decode_row:HK,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:XK,decode_range:QK,format_cell:rY,sheet_add_aoa:sY,sheet_add_json:x3,sheet_add_dom:l2,aoa_to_sheet:aY,json_to_sheet:function(e,t){return x3(null,e,t)},table_to_sheet:c2,table_to_book:function(e,t){return nY(c2(e,t),t)},sheet_to_csv:p3,sheet_to_txt:f3,sheet_to_json:u3,sheet_to_html:o2,sheet_to_formulae:function(e){var t,r="",n="";if(null==e||null==e["!ref"])return[];var s,a=eY(e["!ref"]),i="",o=[],l=[],c=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=YK(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=GK(d),s=a.s.c;s<=a.e.c;++s)if(r=o[s]+i,n="",void 0!==(t=c?(e[d]||[])[s]:e[r])){if(null!=t.F){if(r=t.F,!t.f)continue;n=t.f,-1==r.indexOf(":")&&(r=r+":"+r)}if(null!=t.f)n=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)n=""+t.v;else if("b"==t.t)n=t.v?"TRUE":"FALSE";else if(void 0!==t.w)n="'"+t.w;else{if(void 0===t.v)continue;n="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=r+"="+n}return l},sheet_to_row_object_array:u3,sheet_get_cell:g3,book_new:b3,book_append_sheet:y3,book_set_sheet_visibility:function(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:v3,cell_set_internal_link:function(e,t,r){return v3(e,"#"+t,r)},cell_add_comment:function(e,t,r){e.c||(e.c=[]),e.c.push({t:t,a:r||"SheetJS"})},sheet_set_array_formula:function(e,t,r,n){for(var s="string"!=typeof t?t:eY(t),a="string"==typeof t?t:ZK(t),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var l=g3(e,i,o);l.t="n",l.F=a,delete l.v,i==s.s.r&&o==s.s.c&&(l.f=r,n&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const w3=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,N3=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},k3=({requisition:t,onMenuClick:r,showMenuId:n,onAction:a,onView:i,onDownload:o,getUrgencyColor:l,getUrgencyIcon:c,formatDate:d})=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(ze,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.itemName||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:t.employee?.firstName||"Unknown Employee"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${l(t.urgency)}`,children:[c(t.urgency),e.jsx("span",{className:"ml-1 capitalize",children:t.urgency||"N/A"})]}),e.jsx("button",{"data-requisition-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.quantity||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-green-500"}),t.budgetCode?.slice(-4)||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Budget Code"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Employee"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.employee?.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Submitted"}),e.jsx("span",{className:"text-xs font-medium",children:t.createdAt?d(t.createdAt):"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Budget Code"}),e.jsx("span",{className:"text-xs font-medium",children:t.budgetCode||"N/A"})]})]}),t.description&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("div",{className:"text-xs text-gray-800 bg-gray-50 p-2 rounded line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>a(t._id,"approve"),className:"flex items-center gap-1 px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium hover:bg-green-200 transition-colors",children:[e.jsx($e,{size:12}),"Approve"]}),e.jsxs("button",{onClick:()=>a(t._id,"reject"),className:"flex items-center gap-1 px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium hover:bg-red-200 transition-colors",children:[e.jsx(s,{size:12}),"Reject"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>i(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(_,{size:14})}),e.jsx("button",{onClick:()=>o(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ie,{size:14})})]})]})]});function S3(){const[t,r]=qr.useState([]),[a,i]=qr.useState(!0),[o,d]=qr.useState(null),[u,m]=qr.useState(""),[h,p]=qr.useState("all"),[f,x]=qr.useState(!1),[g,b]=qr.useState(""),[y,v]=qr.useState("success"),[j,w]=qr.useState(null),N=$r(),k=qr.useRef(null),S="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{i(!0);const e=localStorage.getItem("token"),t=await fetch(`${S}/api/requisitions/pending`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch requisitions");const n=await t.json();n.success&&Array.isArray(n.data)?r(n.data):r([]),d(null)}catch(e){d(e.message),r([])}finally{i(!1)}})()},[S]);const C=t.filter(e=>{const t=(e.itemName?.toLowerCase()||"").includes(u.toLowerCase())||(e.employee?.firstName?.toLowerCase()||"").includes(u.toLowerCase())||(e.employee?.email?.toLowerCase()||"").includes(u.toLowerCase()),r="all"===h||e.urgency===h;return t&&r}),A=t.length,E=t.filter(e=>"high"===e.urgency).length,P=t.filter(e=>"medium"===e.urgency).length,D=t.filter(e=>"low"===e.urgency).length,O=async(e,t)=>{try{const n=localStorage.getItem("token"),s=await fetch(`${S}/api/requisitions/${e}/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${n}`}}),a=await s.json();s.ok?(r(t=>t.filter(t=>t._id!==e)),I(`Requisition ${"approve"===t?"approved":"rejected"} successfully!`,"success")):d(a.message||"Failed to update requisition")}catch(n){I("Failed to update requisition","error")}w(null)},L=e=>{N(`/requisitions/${e}`),w(null)},M=async e=>{try{const t=localStorage.getItem("token"),r=await fetch(`${S}/api/requisitions/${e}/pdf`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){const t=await r.blob(),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=`requisition-${e}.pdf`,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(n),document.body.removeChild(s),I("PDF downloaded successfully!","success")}else I("Failed to download PDF","error")}catch(t){I("Failed to download PDF","error")}w(null)},I=(e,t="success")=>{b(e),v(t),x(!0),setTimeout(()=>x(!1),5e3)},R=e=>{switch(e?.toLowerCase()){case"high":return"text-red-700 bg-red-50 border-red-200";case"medium":return"text-amber-700 bg-amber-50 border-amber-200";case"low":return"text-green-700 bg-green-50 border-green-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},z=t=>{switch(t?.toLowerCase()){case"high":return e.jsx(T,{size:12});case"medium":default:return e.jsx(l,{size:12});case"low":return e.jsx(n,{size:12})}},F=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=()=>{i(!0),setTimeout(()=>i(!1),1e3),window.location.reload()};return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(T,{size:32,className:"text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:o}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(w3,{isVisible:a,message:"Loading requisitions..."}),e.jsx("input",{ref:k,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){const e={itemName:t["Item Name"]||"",quantity:Number(t.Quantity)||0,budgetCode:t["Budget Code"]||"",urgency:t.Urgency?.toLowerCase()||"medium",description:t.Description||"",department:t.Department||"",projectCode:t["Project Code"]||""};await fetch(`${S}/api/requisitions`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})}I("Excel import completed successfully!","success"),B()}catch(r){I("Excel import failed!","error")}}}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search requisitions...",value:u,onChange:e=>m(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Urgency"}),e.jsx("option",{value:"high",children:"High Urgency"}),e.jsx("option",{value:"medium",children:"Medium Urgency"}),e.jsx("option",{value:"low",children:"Low Urgency"})]}),e.jsxs("button",{onClick:B,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:a?"animate-spin":""}),"Refresh"]})]}),e.jsx("div",{className:"flex items-center gap-2"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(N3,{title:"Total Pending",value:A,icon:ze,color:"blue",subtitle:"Awaiting review"}),e.jsx(N3,{title:"High Urgency",value:E,icon:T,color:"red",trend:-12,subtitle:"Immediate attention"}),e.jsx(N3,{title:"Medium Urgency",value:P,icon:l,color:"amber",subtitle:"Standard processing"}),e.jsx(N3,{title:"Low Urgency",value:D,icon:n,color:"green",trend:8,subtitle:"Routine requests"})]}),e.jsxs("div",{id:"requisitions-section",className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Requisitions"})]}),e.jsxs("button",{onClick:()=>{const e=document.getElementById("requisitions-section")?.innerHTML;if(!e)return void I("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Pending Requisitions Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .print-header { \n              display: flex; \n              justify-content: space-between; \n              align-items: center; \n              margin-bottom: 20px; \n              padding-bottom: 10px;\n              border-bottom: 1px solid #ddd;\n            }\n            .print-metrics {\n              display: grid;\n              grid-template-columns: repeat(4, 1fr);\n              gap: 15px;\n              margin-bottom: 20px;\n            }\n            .metric-box {\n              border: 1px solid #ddd;\n              padding: 15px;\n              text-align: center;\n              border-radius: 8px;\n            }\n            .metric-value {\n              font-size: 24px;\n              font-weight: bold;\n              margin: 5px 0;\n            }\n            .metric-title {\n              font-size: 14px;\n              color: #666;\n              text-transform: uppercase;\n            }\n            .requisitions-grid {\n              display: grid;\n              grid-template-columns: repeat(2, 1fr);\n              gap: 15px;\n              margin-top: 20px;\n            }\n            .requisition-card {\n              border: 1px solid #ddd;\n              border-radius: 8px;\n              padding: 15px;\n              margin-bottom: 15px;\n            }\n            .requisition-header {\n              display: flex;\n              justify-content: space-between;\n              margin-bottom: 10px;\n            }\n            .urgency-badge {\n              padding: 3px 8px;\n              border-radius: 12px;\n              font-size: 12px;\n              font-weight: bold;\n            }\n            .urgency-high { background-color: #fee; color: #c00; border: 1px solid #fcc; }\n            .urgency-medium { background-color: #ffe; color: #c90; border: 1px solid #ffc; }\n            .urgency-low { background-color: #efe; color: #090; border: 1px solid #cfc; }\n            table { \n              width: 100%; \n              border-collapse: collapse; \n              margin-top: 20px; \n            }\n            th, td { \n              border: 1px solid #ddd; \n              padding: 8px; \n              text-align: left; \n              font-size: 14px; \n            }\n            th { background-color: #f4f4f4; }\n            @media print {\n              .no-print { display: none; }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="print-header">\n            <h1>Pending Requisitions Report</h1>\n            <div>Generated: ${(new Date).toLocaleDateString()}</div>\n          </div>\n          \n          <div class="print-metrics">\n            <div class="metric-box">\n              <div class="metric-value">${A}</div>\n              <div class="metric-title">Total Pending</div>\n            </div>\n            <div class="metric-box">\n              <div class="metric-value">${E}</div>\n              <div class="metric-title">High Urgency</div>\n            </div>\n            <div class="metric-box">\n              <div class="metric-value">${P}</div>\n              <div class="metric-title">Medium Urgency</div>\n            </div>\n            <div class="metric-box">\n              <div class="metric-value">${D}</div>\n              <div class="metric-title">Low Urgency</div>\n            </div>\n          </div>\n          \n          <h2>Requisitions List (${C.length} items)</h2>\n          \n          <table>\n            <thead>\n              <tr>\n                <th>Item Name</th>\n                <th>Quantity</th>\n                <th>Employee</th>\n                <th>Urgency</th>\n                <th>Budget Code</th>\n                <th>Submitted Date</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${C.map(e=>`\n                <tr>\n                  <td>${e.itemName||"N/A"}</td>\n                  <td>${e.quantity||0}</td>\n                  <td>${e.employee?.firstName||"Unknown"} ${e.employee?.lastName||""}</td>\n                  <td>\n                    <span class="urgency-badge urgency-${e.urgency||"medium"}">\n                      ${e.urgency||"N/A"}\n                    </span>\n                  </td>\n                  <td>${e.budgetCode||"N/A"}</td>\n                  <td>${e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}</td>\n                </tr>\n              `).join("")}\n            </tbody>\n          </table>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>k.current.click(),className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Be,{size:16}),"Excel Import"]}),e.jsxs("button",{onClick:()=>{if(!t||0===t.length)return void I("No requisitions to export","error");const e=t.map(e=>({"Item Name":e.itemName||"N/A",Quantity:e.quantity||0,"Budget Code":e.budgetCode||"N/A",Urgency:e.urgency||"N/A","Employee Name":e.employee?.firstName+" "+e.employee?.lastName||"N/A","Employee Email":e.employee?.email||"N/A",Description:e.description||"","Submitted Date":e.createdAt?F(e.createdAt):"N/A",Department:e.department||"N/A","Project Code":e.projectCode||"N/A",Status:"Pending"})),r=j3.json_to_sheet(e),n=j3.book_new();j3.book_append_sheet(n,r,"Requisitions"),c3(n,"pending-requisitions.xlsx"),I("Export successful!","success")},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(qe,{size:16}),"Excel Export"]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[C.length," of ",A," requisitions"]})})]}),0===C.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u||"all"!==h?"No requisitions match your filters":"No Pending Requisitions"}),e.jsx("p",{className:"text-gray-500 mb-4",children:u||"all"!==h?"Try adjusting your search criteria or filters.":"All requisitions have been processed. New requests will appear here."}),e.jsxs("button",{onClick:B,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(G,{size:16}),"Refresh"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:C.map(t=>e.jsx(k3,{requisition:t,onMenuClick:w,showMenuId:j,onAction:O,onView:L,onDownload:M,getUrgencyColor:R,getUrgencyIcon:z,formatDate:F},t._id))})]})]}),j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>w(null)}),e.jsx("div",{className:"fixed z-[101] w-64 bg-white rounded-2xl shadow-2xl border border-gray-200/50 backdrop-blur-sm",style:{top:(()=>{const e=document.querySelector(`[data-requisition-id="${j}"]`);if(e){const t=e.getBoundingClientRect(),r=280,n=window.innerHeight-t.bottom,s=t.top;return n<r&&s>n?`${t.top-r+window.scrollY}px`:`${t.bottom+8+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-requisition-id="${j}"]`);if(e){const t=e.getBoundingClientRect(),r=256;return window.innerWidth-t.right<r?t.left-r+8+"px":t.right-r+"px"}return"50px"})()},children:e.jsxs("div",{className:"py-2",children:[e.jsxs("button",{onClick:()=>L(j),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors text-left",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(_,{size:16,className:"text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"View Details"}),e.jsx("div",{className:"text-xs text-gray-500",children:"See full requisition"})]})]}),e.jsxs("button",{onClick:()=>M(j),className:"w-full flex items-center space-x-3 px-4 py-3 text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors text-left",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(Ie,{size:16,className:"text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Download PDF"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Export as document"})]})]}),e.jsx("div",{className:"border-t border-gray-100 my-2 mx-4"}),e.jsxs("button",{onClick:()=>O(j,"approve"),className:"w-full flex items-center space-x-3 px-4 py-3 text-green-700 hover:bg-green-50 transition-colors text-left",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx($e,{size:16,className:"text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Approve"}),e.jsx("div",{className:"text-xs text-green-600",children:"Accept this request"})]})]}),e.jsxs("button",{onClick:()=>O(j,"reject"),className:"w-full flex items-center space-x-3 px-4 py-3 text-red-700 hover:bg-red-50 transition-colors text-left",children:[e.jsx("div",{className:"p-2 bg-red-50 rounded-lg",children:e.jsx(s,{size:16,className:"text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Reject"}),e.jsx("div",{className:"text-xs text-red-600",children:"Decline this request"})]})]})]})})]}),e.jsx(Bl,{children:f&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===y?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===y?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:g}),e.jsx("button",{onClick:()=>x(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})})]})}const C3={},A3=function(e,t,r){let n=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),s=r?.nonce||r?.getAttribute("nonce");n=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in C3)return;C3[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script"),n.crossOrigin="",n.href=e,s&&n.setAttribute("nonce",s),document.head.appendChild(n),t?new Promise((t,r)=>{n.addEventListener("load",t),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return n.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};var T3=Uint8Array,E3=Uint16Array,_3=Int32Array,P3=new T3([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),D3=new T3([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),O3=new T3([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L3=function(e,t){for(var r=new E3(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];var s=new _3(r[30]);for(n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)s[a]=a-r[n]<<5|n;return{b:r,r:s}},M3=L3(P3,2),I3=M3.b,R3=M3.r;I3[28]=258,R3[258]=28;for(var z3=L3(D3,0).r,F3=new E3(32768),B3=0;B3<32768;++B3){var q3=(43690&B3)>>1|(21845&B3)<<1;q3=(61680&(q3=(52428&q3)>>2|(13107&q3)<<2))>>4|(3855&q3)<<4,F3[B3]=((65280&q3)>>8|(255&q3)<<8)>>1}var $3=function(e,t,r){for(var n=e.length,s=0,a=new E3(t);s<n;++s)e[s]&&++a[e[s]-1];var i,o=new E3(t);for(s=1;s<t;++s)o[s]=o[s-1]+a[s-1]<<1;if(r){i=new E3(1<<t);var l=15-t;for(s=0;s<n;++s)if(e[s])for(var c=s<<4|e[s],d=t-e[s],u=o[e[s]-1]++<<d,m=u|(1<<d)-1;u<=m;++u)i[F3[u]>>l]=c}else for(i=new E3(n),s=0;s<n;++s)e[s]&&(i[s]=F3[o[e[s]-1]++]>>15-e[s]);return i},U3=new T3(288);for(B3=0;B3<144;++B3)U3[B3]=8;for(B3=144;B3<256;++B3)U3[B3]=9;for(B3=256;B3<280;++B3)U3[B3]=7;for(B3=280;B3<288;++B3)U3[B3]=8;var W3=new T3(32);for(B3=0;B3<32;++B3)W3[B3]=5;var V3=$3(U3,9,0),H3=$3(W3,5,0),G3=function(e){return(e+7)/8|0},K3=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Y3=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},X3=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var s=r.length,a=r.slice();if(!s)return{t:n4,l:0};if(1==s){var i=new T3(r[0].s+1);return i[r[0].s]=1,{t:i,l:1}}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,d=1,u=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=s-1;)o=r[r[c].f<r[u].f?c++:u++],l=r[c!=d&&r[c].f<r[u].f?c++:u++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};var m=a[0].s;for(n=1;n<s;++n)a[n].s>m&&(m=a[n].s);var h=new E3(m+1),p=J3(r[d-1],h,0);if(p>t){n=0;var f=0,x=p-t,g=1<<x;for(a.sort(function(e,t){return h[t.s]-h[e.s]||e.f-t.f});n<s;++n){var b=a[n].s;if(!(h[b]>t))break;f+=g-(1<<p-h[b]),h[b]=t}for(f>>=x;f>0;){var y=a[n].s;h[y]<t?f-=1<<t-h[y]++-1:++n}for(;n>=0&&f;--n){var v=a[n].s;h[v]==t&&(--h[v],++f)}p=t}return{t:new T3(h),l:p}},J3=function(e,t,r){return-1==e.s?Math.max(J3(e.l,t,r+1),J3(e.r,t,r+1)):t[e.s]=r},Q3=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new E3(++t),n=0,s=e[0],a=1,i=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==s&&o!=t)++a;else{if(!s&&a>2){for(;a>138;a-=138)i(32754);a>2&&(i(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(i(s),--a;a>6;a-=6)i(8304);a>2&&(i(a-3<<5|8208),a=0)}for(;a--;)i(s);a=1,s=e[o]}return{c:r.subarray(0,n),n:t}},Z3=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},e4=function(e,t,r){var n=r.length,s=G3(t+2);e[s]=255&n,e[s+1]=n>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<n;++a)e[s+a+4]=r[a];return 8*(s+4+n)},t4=function(e,t,r,n,s,a,i,o,l,c,d){K3(t,d++,r),++s[256];for(var u=X3(s,15),m=u.t,h=u.l,p=X3(a,15),f=p.t,x=p.l,g=Q3(m),b=g.c,y=g.n,v=Q3(f),j=v.c,w=v.n,N=new E3(19),k=0;k<b.length;++k)++N[31&b[k]];for(k=0;k<j.length;++k)++N[31&j[k]];for(var S=X3(N,7),C=S.t,A=S.l,T=19;T>4&&!C[O3[T-1]];--T);var E,_,P,D,O=c+5<<3,L=Z3(s,U3)+Z3(a,W3)+i,M=Z3(s,m)+Z3(a,f)+i+14+3*T+Z3(N,C)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&O<=L&&O<=M)return e4(t,d,e.subarray(l,l+c));if(K3(t,d,1+(M<L)),d+=2,M<L){E=$3(m,h,0),_=m,P=$3(f,x,0),D=f;var I=$3(C,A,0);K3(t,d,y-257),K3(t,d+5,w-1),K3(t,d+10,T-4),d+=14;for(k=0;k<T;++k)K3(t,d+3*k,C[O3[k]]);d+=3*T;for(var R=[b,j],z=0;z<2;++z){var F=R[z];for(k=0;k<F.length;++k){var B=31&F[k];K3(t,d,I[B]),d+=C[B],B>15&&(K3(t,d,F[k]>>5&127),d+=F[k]>>12)}}}else E=V3,_=U3,P=H3,D=W3;for(k=0;k<o;++k){var q=n[k];if(q>255){Y3(t,d,E[(B=q>>18&31)+257]),d+=_[B+257],B>7&&(K3(t,d,q>>23&31),d+=P3[B]);var $=31&q;Y3(t,d,P[$]),d+=D[$],$>3&&(Y3(t,d,q>>5&8191),d+=D3[$])}else Y3(t,d,E[q]),d+=_[q]}return Y3(t,d,E[256]),d+_[256]},r4=new _3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),n4=new T3(0),s4=function(e,t,r,n,s,a){var i=a.z||e.length,o=new T3(n+i+5*(1+Math.ceil(i/7e3))+s),l=o.subarray(n,o.length-s),c=a.l,d=7&(a.r||0);if(t){d&&(l[0]=a.r>>3);for(var u=r4[t-1],m=u>>13,h=8191&u,p=(1<<r)-1,f=a.p||new E3(32768),x=a.h||new E3(p+1),g=Math.ceil(r/3),b=2*g,y=function(t){return(e[t]^e[t+1]<<g^e[t+2]<<b)&p},v=new _3(25e3),j=new E3(288),w=new E3(32),N=0,k=0,S=a.i||0,C=0,A=a.w||0,T=0;S+2<i;++S){var E=y(S),_=32767&S,P=x[E];if(f[_]=P,x[E]=_,A<=S){var D=i-S;if((N>7e3||C>24576)&&(D>423||!c)){d=t4(e,l,0,v,j,w,k,C,T,S-T,d),C=N=k=0,T=S;for(var O=0;O<286;++O)j[O]=0;for(O=0;O<30;++O)w[O]=0}var L=2,M=0,I=h,R=_-P&32767;if(D>2&&E==y(S-R))for(var z=Math.min(m,D)-1,F=Math.min(32767,S),B=Math.min(258,D);R<=F&&--I&&_!=P;){if(e[S+L]==e[S+L-R]){for(var q=0;q<B&&e[S+q]==e[S+q-R];++q);if(q>L){if(L=q,M=R,q>z)break;var $=Math.min(R,q-2),U=0;for(O=0;O<$;++O){var W=S-R+O&32767,V=W-f[W]&32767;V>U&&(U=V,P=W)}}}R+=(_=P)-(P=f[_])&32767}if(M){v[C++]=268435456|R3[L]<<18|z3[M];var H=31&R3[L],G=31&z3[M];k+=P3[H]+D3[G],++j[257+H],++w[G],A=S+L,++N}else v[C++]=e[S],++j[e[S]]}}for(S=Math.max(S,A);S<i;++S)v[C++]=e[S],++j[e[S]];d=t4(e,l,c,v,j,w,k,C,T,S-T,d),c||(a.r=7&d|l[d/8|0]<<3,d-=7,a.h=x,a.p=f,a.i=S,a.w=A)}else{for(S=a.w||0;S<i+c;S+=65535){var K=S+65535;K>=i&&(l[d/8|0]=c,K=i),d=e4(l,d+1,e.subarray(S,K))}a.i=i}return function(e,t,r){return(null==r||r>e.length)&&(r=e.length),new T3(e.subarray(t,r))}(o,0,n+G3(d)+s)},a4=function(){var e=1,t=0;return{p:function(r){for(var n=e,s=t,a=0|r.length,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=n+=r[i];n=(65535&n)+15*(n>>16),s=(65535&s)+15*(s>>16)}e=n,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},i4=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8};function o4(e,t){t||(t={});var r=a4();r.p(e);var n=function(e,t,r,n,s){if(!s&&(s={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),i=new T3(a.length+e.length);i.set(a),i.set(e,a.length),e=i,s.w=a.length}return s4(e,null==t.level?6:t.level,null==t.mem?s.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,r,n,s)}(e,t,t.dictionary?6:2,4);return function(e,t){var r=t.level,n=0==r?0:r<6?1:9==r?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=a4();s.p(t.dictionary),i4(e,2,s.d())}}(n,t),i4(n,n.length-4,r.d()),n}var l4="undefined"!=typeof TextDecoder&&new TextDecoder;try{l4.decode(n4,{stream:!0})}catch(sde){}function c4(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,a,i,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,0===t);else for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(d){c=!0,s=d}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw s}}return o}}(e,t)||ln(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d4(e,t="utf8"){return new TextDecoder(t).decode(e)}const u4=new TextEncoder;const m4=(()=>{const e=new Uint8Array(4);return!((new Uint32Array(e.buffer)[0]=1)&e[0])})(),h4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class p4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=8192,t={}){let r=!1;"number"==typeof e?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const n=t.offset?t.offset>>>0:0,s=e.byteLength-n;let a=n;(ArrayBuffer.isView(e)||e instanceof p4)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+n),e=e.buffer),this.lastWrittenByte=r?s:0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),r=new Uint8Array(t);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=t,this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=h4[t].BYTES_PER_ELEMENT*e,n=this.byteOffset+this.offset,s=this.buffer.slice(n,n+r);if(this.littleEndian===m4&&"uint8"!==t&&"int8"!==t){const e=new Uint8Array(this.buffer.slice(n,n+r));e.reverse();const s=new h4[t](e.buffer);return this.offset+=r,s.reverse(),s}const a=new h4[t](s);return this.offset+=r,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return d4(this.readBytes(e))}decodeText(e=1,t="utf8"){return d4(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return u4.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function f4(e){let t=e.length;for(;--t>=0;)e[t]=0}f4(new Array(576));f4(new Array(60));f4(new Array(512));f4(new Array(256));f4(new Array(29));f4(new Array(30));var x4=(e,t,r,n)=>{let s=65535&e,a=e>>>16&65535,i=0;for(;0!==r;){i=r>2e3?2e3:r,r-=i;do{s=s+t[n++]|0,a=a+s|0}while(--i);s%=65521,a%=65521}return s|a<<16};const g4=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var b4=(e,t,r,n)=>{const s=g4,a=n+r;e^=-1;for(let i=n;i<a;i++)e=e>>>8^s[255&(e^t[i])];return-1^e},y4={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},v4={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const j4=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var w4=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const t in r)j4(r,t)&&(e[t]=r[t])}}return e},N4=e=>{let t=0;for(let n=0,s=e.length;n<s;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,s=0,a=e.length;n<a;n++){let t=e[n];r.set(t,s),s+=t.length}return r};let k4=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ade){k4=!1}const S4=new Uint8Array(256);for(let $=0;$<256;$++)S4[$]=$>=252?6:$>=248?5:$>=240?4:$>=224?3:$>=192?2:1;S4[254]=S4[254]=1;var C4=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,s,a,i=e.length,o=0;for(s=0;s<i;s++)r=e.charCodeAt(s),55296==(64512&r)&&s+1<i&&(n=e.charCodeAt(s+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),s++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,s=0;a<o;s++)r=e.charCodeAt(s),55296==(64512&r)&&s+1<i&&(n=e.charCodeAt(s+1),56320==(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|63&r):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|63&r):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|63&r);return t},A4=(e,t)=>{const r=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,s;const a=new Array(2*r);for(s=0,n=0;n<r;){let t=e[n++];if(t<128){a[s++]=t;continue}let i=S4[t];if(i>4)a[s++]=65533,n+=i-1;else{for(t&=2===i?31:3===i?15:7;i>1&&n<r;)t=t<<6|63&e[n++],i--;i>1?a[s++]=65533:t<65536?a[s++]=t:(t-=65536,a[s++]=55296|t>>10&1023,a[s++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&k4)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(a,s)},T4=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+S4[e[r]]>t?r:t};var E4=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const _4=16209;var P4=function(e,t){let r,n,s,a,i,o,l,c,d,u,m,h,p,f,x,g,b,y,v,j,w,N,k,S;const C=e.state;r=e.next_in,k=e.input,n=r+(e.avail_in-5),s=e.next_out,S=e.output,a=s-(t-e.avail_out),i=s+(e.avail_out-257),o=C.dmax,l=C.wsize,c=C.whave,d=C.wnext,u=C.window,m=C.hold,h=C.bits,p=C.lencode,f=C.distcode,x=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;e:do{h<15&&(m+=k[r++]<<h,h+=8,m+=k[r++]<<h,h+=8),b=p[m&x];t:for(;;){if(y=b>>>24,m>>>=y,h-=y,y=b>>>16&255,0===y)S[s++]=65535&b;else{if(!(16&y)){if(64&y){if(32&y){C.mode=16191;break e}e.msg="invalid literal/length code",C.mode=_4;break e}b=p[(65535&b)+(m&(1<<y)-1)];continue t}for(v=65535&b,y&=15,y&&(h<y&&(m+=k[r++]<<h,h+=8),v+=m&(1<<y)-1,m>>>=y,h-=y),h<15&&(m+=k[r++]<<h,h+=8,m+=k[r++]<<h,h+=8),b=f[m&g];;){if(y=b>>>24,m>>>=y,h-=y,y=b>>>16&255,16&y){if(j=65535&b,y&=15,h<y&&(m+=k[r++]<<h,h+=8,h<y&&(m+=k[r++]<<h,h+=8)),j+=m&(1<<y)-1,j>o){e.msg="invalid distance too far back",C.mode=_4;break e}if(m>>>=y,h-=y,y=s-a,j>y){if(y=j-y,y>c&&C.sane){e.msg="invalid distance too far back",C.mode=_4;break e}if(w=0,N=u,0===d){if(w+=l-y,y<v){v-=y;do{S[s++]=u[w++]}while(--y);w=s-j,N=S}}else if(d<y){if(w+=l+d-y,y-=d,y<v){v-=y;do{S[s++]=u[w++]}while(--y);if(w=0,d<v){y=d,v-=y;do{S[s++]=u[w++]}while(--y);w=s-j,N=S}}}else if(w+=d-y,y<v){v-=y;do{S[s++]=u[w++]}while(--y);w=s-j,N=S}for(;v>2;)S[s++]=N[w++],S[s++]=N[w++],S[s++]=N[w++],v-=3;v&&(S[s++]=N[w++],v>1&&(S[s++]=N[w++]))}else{w=s-j;do{S[s++]=S[w++],S[s++]=S[w++],S[s++]=S[w++],v-=3}while(v>2);v&&(S[s++]=S[w++],v>1&&(S[s++]=S[w++]))}break}if(64&y){e.msg="invalid distance code",C.mode=_4;break e}b=f[(65535&b)+(m&(1<<y)-1)]}}break}}while(r<n&&s<i);v=h>>3,r-=v,h-=v<<3,m&=(1<<h)-1,e.next_in=r,e.next_out=s,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=s<i?i-s+257:257-(s-i),C.hold=m,C.bits=h};const D4=15,O4=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),L4=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),M4=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),I4=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var R4=(e,t,r,n,s,a,i,o)=>{const l=o.bits;let c,d,u,m,h,p,f=0,x=0,g=0,b=0,y=0,v=0,j=0,w=0,N=0,k=0,S=null;const C=new Uint16Array(16),A=new Uint16Array(16);let T,E,_,P=null;for(f=0;f<=D4;f++)C[f]=0;for(x=0;x<n;x++)C[t[r+x]]++;for(y=l,b=D4;b>=1&&0===C[b];b--);if(y>b&&(y=b),0===b)return s[a++]=20971520,s[a++]=20971520,o.bits=1,0;for(g=1;g<b&&0===C[g];g++);for(y<g&&(y=g),w=1,f=1;f<=D4;f++)if(w<<=1,w-=C[f],w<0)return-1;if(w>0&&(0===e||1!==b))return-1;for(A[1]=0,f=1;f<D4;f++)A[f+1]=A[f]+C[f];for(x=0;x<n;x++)0!==t[r+x]&&(i[A[t[r+x]]++]=x);if(0===e?(S=P=i,p=20):1===e?(S=O4,P=L4,p=257):(S=M4,P=I4,p=0),k=0,x=0,f=g,h=a,v=y,j=0,u=-1,N=1<<y,m=N-1,1===e&&N>852||2===e&&N>592)return 1;for(;;){T=f-j,i[x]+1<p?(E=0,_=i[x]):i[x]>=p?(E=P[i[x]-p],_=S[i[x]-p]):(E=96,_=0),c=1<<f-j,d=1<<v,g=d;do{d-=c,s[h+(k>>j)+d]=T<<24|E<<16|_}while(0!==d);for(c=1<<f-1;k&c;)c>>=1;if(0!==c?(k&=c-1,k+=c):k=0,x++,0===--C[f]){if(f===b)break;f=t[r+i[x]]}if(f>y&&(k&m)!==u){for(0===j&&(j=y),h+=g,v=f-j,w=1<<v;v+j<b&&(w-=C[v+j],!(w<=0));)v++,w<<=1;if(N+=1<<v,1===e&&N>852||2===e&&N>592)return 1;u=k&m,s[u]=y<<24|v<<16|h-a}}return 0!==k&&(s[h+k]=f-j<<24|64<<16),o.bits=y,0};const{Z_FINISH:z4,Z_BLOCK:F4,Z_TREES:B4,Z_OK:q4,Z_STREAM_END:$4,Z_NEED_DICT:U4,Z_STREAM_ERROR:W4,Z_DATA_ERROR:V4,Z_MEM_ERROR:H4,Z_BUF_ERROR:G4,Z_DEFLATED:K4}=v4,Y4=16180,X4=16190,J4=16191,Q4=16192,Z4=16194,e5=16199,t5=16200,r5=16206,n5=16209,s5=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function a5(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const i5=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Y4||t.mode>16211?1:0},o5=e=>{if(i5(e))return W4;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Y4,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,q4},l5=e=>{if(i5(e))return W4;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,o5(e)},c5=(e,t)=>{let r;if(i5(e))return W4;const n=e.state;return t<0?(r=0,t=-t):(r=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?W4:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,l5(e))},d5=(e,t)=>{if(!e)return W4;const r=new a5;e.state=r,r.strm=e,r.window=null,r.mode=Y4;const n=c5(e,t);return n!==q4&&(e.state=null),n};let u5,m5,h5=!0;const p5=e=>{if(h5){u5=new Int32Array(512),m5=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(R4(1,e.lens,0,288,u5,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;R4(2,e.lens,0,32,m5,0,e.work,{bits:5}),h5=!1}e.lencode=u5,e.lenbits=9,e.distcode=m5,e.distbits=5},f5=(e,t,r,n)=>{let s;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(s=a.wsize-a.wnext,s>n&&(s=n),a.window.set(t.subarray(r-n,r-n+s),a.wnext),(n-=s)?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var x5={inflateReset:l5,inflateReset2:c5,inflateResetKeep:o5,inflateInit:e=>d5(e,15),inflateInit2:d5,inflate:(e,t)=>{let r,n,s,a,i,o,l,c,d,u,m,h,p,f,x,g,b,y,v,j,w,N,k=0;const S=new Uint8Array(4);let C,A;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(i5(e)||!e.output||!e.input&&0!==e.avail_in)return W4;r=e.state,r.mode===J4&&(r.mode=Q4),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,u=o,m=l,N=q4;e:for(;;)switch(r.mode){case Y4:if(0===r.wrap){r.mode=Q4;break}for(;d<16;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(2&r.wrap&&35615===c){0===r.wbits&&(r.wbits=15),r.check=0,S[0]=255&c,S[1]=c>>>8&255,r.check=b4(r.check,S,2,0),c=0,d=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=n5;break}if((15&c)!==K4){e.msg="unknown compression method",r.mode=n5;break}if(c>>>=4,d-=4,w=8+(15&c),0===r.wbits&&(r.wbits=w),w>15||w>r.wbits){e.msg="invalid window size",r.mode=n5;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=512&c?16189:J4,c=0,d=0;break;case 16181:for(;d<16;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==K4){e.msg="unknown compression method",r.mode=n5;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=n5;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=b4(r.check,S,2,0)),c=0,d=0,r.mode=16182;case 16182:for(;d<32;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,S[2]=c>>>16&255,S[3]=c>>>24&255,r.check=b4(r.check,S,4,0)),c=0,d=0,r.mode=16183;case 16183:for(;d<16;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=b4(r.check,S,2,0)),c=0,d=0,r.mode=16184;case 16184:if(1024&r.flags){for(;d<16;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&4&r.wrap&&(S[0]=255&c,S[1]=c>>>8&255,r.check=b4(r.check,S,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&(h=r.length,h>o&&(h=o),h&&(r.head&&(w=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),w)),512&r.flags&&4&r.wrap&&(r.check=b4(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===o)break e;h=0;do{w=n[a+h++],r.head&&w&&r.length<65536&&(r.head.name+=String.fromCharCode(w))}while(w&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=b4(r.check,n,h,a)),o-=h,a+=h,w)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===o)break e;h=0;do{w=n[a+h++],r.head&&w&&r.length<65536&&(r.head.comment+=String.fromCharCode(w))}while(w&&h<o);if(512&r.flags&&4&r.wrap&&(r.check=b4(r.check,n,h,a)),o-=h,a+=h,w)break e}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;d<16;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(4&r.wrap&&c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=n5;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=J4;break;case 16189:for(;d<32;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}e.adler=r.check=s5(c),c=0,d=0,r.mode=X4;case X4:if(0===r.havedict)return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,U4;e.adler=r.check=1,r.mode=J4;case J4:if(t===F4||t===B4)break e;case Q4:if(r.last){c>>>=7&d,d-=7&d,r.mode=r5;break}for(;d<3;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=16193;break;case 1:if(p5(r),r.mode=e5,t===B4){c>>>=2,d-=2;break e}break;case 2:r.mode=16196;break;case 3:e.msg="invalid block type",r.mode=n5}c>>>=2,d-=2;break;case 16193:for(c>>>=7&d,d-=7&d;d<32;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=n5;break}if(r.length=65535&c,c=0,d=0,r.mode=Z4,t===B4)break e;case Z4:r.mode=16195;case 16195:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),0===h)break e;s.set(n.subarray(a,a+h),i),o-=h,a+=h,l-=h,i+=h,r.length-=h;break}r.mode=J4;break;case 16196:for(;d<14;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=n5;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;d<3;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.lens[T[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,C={bits:r.lenbits},N=R4(0,r.lens,0,19,r.lencode,0,r.work,C),r.lenbits=C.bits,N){e.msg="invalid code lengths set",r.mode=n5;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;k=r.lencode[c&(1<<r.lenbits)-1],x=k>>>24,g=k>>>16&255,b=65535&k,!(x<=d);){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(b<16)c>>>=x,d-=x,r.lens[r.have++]=b;else{if(16===b){for(A=x+2;d<A;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(c>>>=x,d-=x,0===r.have){e.msg="invalid bit length repeat",r.mode=n5;break}w=r.lens[r.have-1],h=3+(3&c),c>>>=2,d-=2}else if(17===b){for(A=x+3;d<A;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}c>>>=x,d-=x,w=0,h=3+(7&c),c>>>=3,d-=3}else{for(A=x+7;d<A;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}c>>>=x,d-=x,w=0,h=11+(127&c),c>>>=7,d-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=n5;break}for(;h--;)r.lens[r.have++]=w}}if(r.mode===n5)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=n5;break}if(r.lenbits=9,C={bits:r.lenbits},N=R4(1,r.lens,0,r.nlen,r.lencode,0,r.work,C),r.lenbits=C.bits,N){e.msg="invalid literal/lengths set",r.mode=n5;break}if(r.distbits=6,r.distcode=r.distdyn,C={bits:r.distbits},N=R4(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,C),r.distbits=C.bits,N){e.msg="invalid distances set",r.mode=n5;break}if(r.mode=e5,t===B4)break e;case e5:r.mode=t5;case t5:if(o>=6&&l>=258){e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,P4(e,m),i=e.next_out,s=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,d=r.bits,r.mode===J4&&(r.back=-1);break}for(r.back=0;k=r.lencode[c&(1<<r.lenbits)-1],x=k>>>24,g=k>>>16&255,b=65535&k,!(x<=d);){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(g&&!(240&g)){for(y=x,v=g,j=b;k=r.lencode[j+((c&(1<<y+v)-1)>>y)],x=k>>>24,g=k>>>16&255,b=65535&k,!(y+x<=d);){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=x,d-=x,r.back+=x,r.length=b,0===g){r.mode=16205;break}if(32&g){r.back=-1,r.mode=J4;break}if(64&g){e.msg="invalid literal/length code",r.mode=n5;break}r.extra=15&g,r.mode=16201;case 16201:if(r.extra){for(A=r.extra;d<A;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;k=r.distcode[c&(1<<r.distbits)-1],x=k>>>24,g=k>>>16&255,b=65535&k,!(x<=d);){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(!(240&g)){for(y=x,v=g,j=b;k=r.distcode[j+((c&(1<<y+v)-1)>>y)],x=k>>>24,g=k>>>16&255,b=65535&k,!(y+x<=d);){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}c>>>=y,d-=y,r.back+=y}if(c>>>=x,d-=x,r.back+=x,64&g){e.msg="invalid distance code",r.mode=n5;break}r.offset=b,r.extra=15&g,r.mode=16203;case 16203:if(r.extra){for(A=r.extra;d<A;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=n5;break}r.mode=16204;case 16204:if(0===l)break e;if(h=m-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=n5;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),f=r.window}else f=s,p=i-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do{s[i++]=f[p++]}while(--h);0===r.length&&(r.mode=t5);break;case 16205:if(0===l)break e;s[i++]=r.length,l--,r.mode=t5;break;case r5:if(r.wrap){for(;d<32;){if(0===o)break e;o--,c|=n[a++]<<d,d+=8}if(m-=l,e.total_out+=m,r.total+=m,4&r.wrap&&m&&(e.adler=r.check=r.flags?b4(r.check,s,m,i-m):x4(r.check,s,m,i-m)),m=l,4&r.wrap&&(r.flags?c:s5(c))!==r.check){e.msg="incorrect data check",r.mode=n5;break}c=0,d=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;d<32;){if(0===o)break e;o--,c+=n[a++]<<d,d+=8}if(4&r.wrap&&c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=n5;break}c=0,d=0}r.mode=16208;case 16208:N=$4;break e;case n5:N=V4;break e;case 16210:return H4;default:return W4}return e.next_out=i,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=d,(r.wsize||m!==e.avail_out&&r.mode<n5&&(r.mode<r5||t!==z4))&&f5(e,e.output,e.next_out,m-e.avail_out),u-=e.avail_in,m-=e.avail_out,e.total_in+=u,e.total_out+=m,r.total+=m,4&r.wrap&&m&&(e.adler=r.check=r.flags?b4(r.check,s,m,e.next_out-m):x4(r.check,s,m,e.next_out-m)),e.data_type=r.bits+(r.last?64:0)+(r.mode===J4?128:0)+(r.mode===e5||r.mode===Z4?256:0),(0===u&&0===m||t===z4)&&N===q4&&(N=G4),N},inflateEnd:e=>{if(i5(e))return W4;let t=e.state;return t.window&&(t.window=null),e.state=null,q4},inflateGetHeader:(e,t)=>{if(i5(e))return W4;const r=e.state;return 2&r.wrap?(r.head=t,t.done=!1,q4):W4},inflateSetDictionary:(e,t)=>{const r=t.length;let n,s,a;return i5(e)?W4:(n=e.state,0!==n.wrap&&n.mode!==X4?W4:n.mode===X4&&(s=1,s=x4(s,t,r,0),s!==n.check)?V4:(a=f5(e,t,r,r),a?(n.mode=16210,H4):(n.havedict=1,q4)))},inflateInfo:"pako inflate (from Nodeca project)"};var g5=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const b5=Object.prototype.toString,{Z_NO_FLUSH:y5,Z_FINISH:v5,Z_OK:j5,Z_STREAM_END:w5,Z_NEED_DICT:N5,Z_STREAM_ERROR:k5,Z_DATA_ERROR:S5,Z_MEM_ERROR:C5}=v4;function A5(e){this.options=w4({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new E4,this.strm.avail_out=0;let r=x5.inflateInit2(this.strm,t.windowBits);if(r!==j5)throw new Error(y4[r]);if(this.header=new g5,x5.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=C4(t.dictionary):"[object ArrayBuffer]"===b5.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=x5.inflateSetDictionary(this.strm,t.dictionary),r!==j5)))throw new Error(y4[r])}A5.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let a,i,o;if(this.ended)return!1;for(i=t===~~t?t:!0===t?v5:y5,"[object ArrayBuffer]"===b5.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=x5.inflate(r,i),a===N5&&s&&(a=x5.inflateSetDictionary(r,s),a===j5?a=x5.inflate(r,i):a===S5&&(a=N5));r.avail_in>0&&a===w5&&r.state.wrap>0&&0!==e[r.next_in];)x5.inflateReset(r),a=x5.inflate(r,i);switch(a){case k5:case S5:case N5:case C5:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(0===r.avail_out||a===w5))if("string"===this.options.to){let e=T4(r.output,r.next_out),t=r.next_out-e,s=A4(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(s)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(a!==j5||0!==o){if(a===w5)return a=x5.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},A5.prototype.onData=function(e){this.chunks.push(e)},A5.prototype.onEnd=function(e){e===j5&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=N4(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var T5={Inflate:A5,inflate:function(e,t){const r=new A5(t);if(r.push(e),r.err)throw r.msg||y4[r.err];return r.result}};const{Inflate:E5,inflate:_5}=T5;var P5=E5,D5=_5;const O5=[];for(let $=0;$<256;$++){let e=$;for(let t=0;t<8;t++)1&e?e=3988292384^e>>>1:e>>>=1;O5[$]=e}const L5=4294967295;function M5(e,t){return(function(e,t,r){let n=e;for(let s=0;s<r;s++)n=O5[255&(n^t[s])]^n>>>8;return n}(L5,e,t)^L5)>>>0}function I5(e,t,r){const n=e.readUint32(),s=M5(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function R5(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function z5(e,t,r,n){let s=0;for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}function F5(e,t,r,n){let s=0;if(0===r.length)for(;s<n;s++)t[s]=e[s];else for(;s<n;s++)t[s]=e[s]+r[s]&255}function B5(e,t,r,n,s){let a=0;if(0===r.length){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-s]>>1)&255}else{for(;a<s;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-s]+r[a]>>1)&255}}function q5(e,t,r,n,s){let a=0;if(0===r.length){for(;a<s;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-s]&255}else{for(;a<s;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+$5(t[a-s],r[a],r[a-s])&255}}function $5(e,t,r){const n=e+t-r,s=Math.abs(n-e),a=Math.abs(n-t),i=Math.abs(n-r);return s<=a&&s<=i?e:a<=i?t:r}function U5(e,t,r,n,s,a){switch(e){case 0:R5(t,r,s);break;case 1:z5(t,r,s,a);break;case 2:F5(t,r,n,s);break;case 3:B5(t,r,n,s,a);break;case 4:q5(t,r,n,s,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const W5=new Uint16Array([255]),V5=255===new Uint8Array(W5.buffer)[0];function H5(e){return(255&e)<<8|e>>8&255}const G5=new Uint16Array([255]),K5=255===new Uint8Array(G5.buffer)[0],Y5=new Uint8Array(0);function X5(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,i=Math.ceil(a/8)*s,o=Math.ceil(a/8*s*r),l=new Uint8Array(n*o);let c,d,u=Y5,m=0;for(let h=0;h<n;h++){switch(c=t.subarray(m+1,m+1+o),d=l.subarray(h*o,(h+1)*o),t[m]){case 0:R5(c,d,o);break;case 1:z5(c,d,o,i);break;case 2:F5(c,d,u,o);break;case 3:B5(c,d,u,o,i);break;case 4:q5(c,d,u,o,i);break;default:throw new Error(`Unsupported filter: ${t[m]}`)}u=d,m+=o+1}if(16===a){const e=new Uint16Array(l.buffer);if(K5)for(let t=0;t<e.length;t++)e[t]=J5(e[t]);return e}return l}function J5(e){return(255&e)<<8|e>>8&255}const Q5=Uint8Array.of(137,80,78,71,13,10,26,10);function Z5(e){if(!function(e){if(e.length<Q5.length)return!1;for(let t=0;t<Q5.length;t++)if(e[t]!==Q5[t])return!1;return!0}(e.readBytes(Q5.length)))throw new Error("wrong PNG signature")}const e6=new TextDecoder("latin1");function t6(e){if(function(e){if(!r6.test(e))throw new Error("invalid latin1 text")}(e),0===e.length||e.length>79)throw new Error("keyword length must be between 1 and 79")}const r6=/^[\u0000-\u00FF]*$/;function n6(e,t,r){const n=s6(t);e[n]=function(e,t){return e6.decode(e.readBytes(t))}(t,r-n.length-1)}function s6(e){for(e.mark();0!==e.readByte(););const t=e.offset;e.reset();const r=e6.decode(e.readBytes(t-e.offset-1));return e.skip(1),t6(r),r}const a6=-1,i6=0,o6=2,l6=3,c6=4,d6=6,u6=-1,m6=0,h6=-1,p6=0,f6=-1,x6=0,g6=1,b6=0,y6=1,v6=2,j6=0,w6=1;class N6 extends p4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new P5,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=u6,this._filterMethod=h6,this._interlaceMethod=f6,this._colorType=a6,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Z5(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for(Z5(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":n6(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?I5(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch("fdAT"!==t&&"IDAT"!==t&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?I5(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let r;switch(this._colorType=t,t){case i6:r=1;break;case o6:r=3;break;case l6:r=1;break;case c6:r=2;break;case d6:r=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==m6)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let n=0;n<t;n++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case i6:case o6:if(e%2!=0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break;case l6:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=s6(this),r=this.readUint8();if(r!==m6)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:D5(n)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:8===this._apng.depth?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=X5({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),0===e||0===r.xOffset&&0===r.yOffset&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const n=this._apng.frames.at(e-1);this.disposeFrame(r,n,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case b6:break;case y6:for(let t=0;t<this._png.height;t++)for(let n=0;n<this._png.width;n++){const s=(t*e.width+n)*this._png.channels;for(let e=0;e<this._png.channels;e++)r.data[s+e]=0}break;case v6:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,n=(e,r)=>({index:((e+t.yOffset)*this._png.width+t.xOffset+r)*this._png.channels,frameIndex:(e*t.width+r)*this._png.channels});switch(t.blendOp){case j6:for(let r=0;r<t.height;r++)for(let s=0;s<t.width;s++){const{index:a,frameIndex:i}=n(r,s);for(let r=0;r<this._png.channels;r++)e.data[a+r]=t.data[i+r]}break;case w6:for(let s=0;s<t.height;s++)for(let a=0;a<t.width;a++){const{index:i,frameIndex:o}=n(s,a);for(let n=0;n<this._png.channels;n++){const s=t.data[o+this._png.channels-1]/r,a=n%(this._png.channels-1)==0?1:t.data[o+n],l=Math.floor(s*a+(1-s)*e.data[i+n]);e.data[i+n]+=l}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==p6)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===x6)this._png.data=X5({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else{if(this._interlaceMethod!==g6)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._png.data=function(e){const{data:t,width:r,height:n,channels:s,depth:a}=e,i=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*s,l=new Uint8Array(n*r*o);let c=0;for(let d=0;d<7;d++){const e=i[d],s=Math.ceil((r-e.x)/e.xStep),a=Math.ceil((n-e.y)/e.yStep);if(s<=0||a<=0)continue;const u=s*o,m=new Uint8Array(u);for(let i=0;i<a;i++){const a=t[c++],d=t.subarray(c,c+u);c+=u;const h=new Uint8Array(u);U5(a,d,h,m,u,o),m.set(h);for(let t=0;t<s;t++){const s=e.x+t*e.xStep,a=e.y+i*e.yStep;if(!(s>=r||a>=n))for(let e=0;e<o;e++)l[(a*r+s)*o+e]=h[t*o+e]}}}if(16===a){const e=new Uint16Array(l.buffer);if(V5)for(let t=0;t<e.length;t++)e[t]=H5(e[t]);return e}return l}({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth})}this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:b6,blendOp:j6,data:e}),this._inflator=new P5,this._writingDataChunks=!1}}var k6,S6;(S6=k6||(k6={}))[S6.UNKNOWN=0]="UNKNOWN",S6[S6.METRE=1]="METRE";var C6=function(){return"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:this}();function A6(){C6.console&&"function"==typeof C6.console.log&&C6.console.log.apply(C6.console,arguments)}var T6={log:A6,warn:function(e){C6.console&&("function"==typeof C6.console.warn?C6.console.warn.apply(C6.console,arguments):A6.call(null,arguments))},error:function(e){C6.console&&("function"==typeof C6.console.error?C6.console.error.apply(C6.console,arguments):A6(e))}};function E6(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){D6(n.response,t,r)},n.onerror=function(){T6.error("could not download file")},n.send()}function _6(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(r){}return t.status>=200&&t.status<=299}function P6(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var D6=C6.saveAs||("object"!==("undefined"==typeof window?"undefined":cn(window))||window!==C6?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=C6.URL||C6.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?_6(s.href)?E6(e,t,r):P6(s,s.target="_blank"):P6(s)):(s.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){P6(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download","string"==typeof e)if(_6(e))E6(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){P6(n)})}else navigator.msSaveOrOpenBlob((s=e,void 0===(a=r)?a={autoBom:!1}:"object"!==cn(a)&&(T6.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob([String.fromCharCode(65279),s],{type:s.type}):s),t);var s,a}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),"string"==typeof e)return E6(e,t,r);var s="application/octet-stream"===e.type,a=/constructor/i.test(C6.HTMLElement)||C6.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||s&&a)&&"object"===("undefined"==typeof FileReader?"undefined":cn(FileReader))){var o=new FileReader;o.onloadend=function(){var e=o.result;e=i?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=e:location=e,n=null},o.readAsDataURL(e)}else{var l=C6.URL||C6.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function O6(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,a=r[n].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),r=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),"#"+e+t+r}}var L6=C6.atob.bind(C6),M6=C6.btoa.bind(C6);function I6(e,t){var r=e[0],n=e[1],s=e[2],a=e[3];r=z6(r,n,s,a,t[0],7,-680876936),a=z6(a,r,n,s,t[1],12,-389564586),s=z6(s,a,r,n,t[2],17,606105819),n=z6(n,s,a,r,t[3],22,-1044525330),r=z6(r,n,s,a,t[4],7,-176418897),a=z6(a,r,n,s,t[5],12,1200080426),s=z6(s,a,r,n,t[6],17,-1473231341),n=z6(n,s,a,r,t[7],22,-45705983),r=z6(r,n,s,a,t[8],7,1770035416),a=z6(a,r,n,s,t[9],12,-1958414417),s=z6(s,a,r,n,t[10],17,-42063),n=z6(n,s,a,r,t[11],22,-1990404162),r=z6(r,n,s,a,t[12],7,1804603682),a=z6(a,r,n,s,t[13],12,-40341101),s=z6(s,a,r,n,t[14],17,-1502002290),r=F6(r,n=z6(n,s,a,r,t[15],22,1236535329),s,a,t[1],5,-165796510),a=F6(a,r,n,s,t[6],9,-1069501632),s=F6(s,a,r,n,t[11],14,643717713),n=F6(n,s,a,r,t[0],20,-373897302),r=F6(r,n,s,a,t[5],5,-701558691),a=F6(a,r,n,s,t[10],9,38016083),s=F6(s,a,r,n,t[15],14,-660478335),n=F6(n,s,a,r,t[4],20,-405537848),r=F6(r,n,s,a,t[9],5,568446438),a=F6(a,r,n,s,t[14],9,-1019803690),s=F6(s,a,r,n,t[3],14,-187363961),n=F6(n,s,a,r,t[8],20,1163531501),r=F6(r,n,s,a,t[13],5,-1444681467),a=F6(a,r,n,s,t[2],9,-51403784),s=F6(s,a,r,n,t[7],14,1735328473),r=B6(r,n=F6(n,s,a,r,t[12],20,-1926607734),s,a,t[5],4,-378558),a=B6(a,r,n,s,t[8],11,-2022574463),s=B6(s,a,r,n,t[11],16,1839030562),n=B6(n,s,a,r,t[14],23,-35309556),r=B6(r,n,s,a,t[1],4,-1530992060),a=B6(a,r,n,s,t[4],11,1272893353),s=B6(s,a,r,n,t[7],16,-155497632),n=B6(n,s,a,r,t[10],23,-1094730640),r=B6(r,n,s,a,t[13],4,681279174),a=B6(a,r,n,s,t[0],11,-358537222),s=B6(s,a,r,n,t[3],16,-722521979),n=B6(n,s,a,r,t[6],23,76029189),r=B6(r,n,s,a,t[9],4,-640364487),a=B6(a,r,n,s,t[12],11,-421815835),s=B6(s,a,r,n,t[15],16,530742520),r=q6(r,n=B6(n,s,a,r,t[2],23,-995338651),s,a,t[0],6,-198630844),a=q6(a,r,n,s,t[7],10,1126891415),s=q6(s,a,r,n,t[14],15,-1416354905),n=q6(n,s,a,r,t[5],21,-57434055),r=q6(r,n,s,a,t[12],6,1700485571),a=q6(a,r,n,s,t[3],10,-1894986606),s=q6(s,a,r,n,t[10],15,-1051523),n=q6(n,s,a,r,t[1],21,-2054922799),r=q6(r,n,s,a,t[8],6,1873313359),a=q6(a,r,n,s,t[15],10,-30611744),s=q6(s,a,r,n,t[6],15,-1560198380),n=q6(n,s,a,r,t[13],21,1309151649),r=q6(r,n,s,a,t[4],6,-145523070),a=q6(a,r,n,s,t[11],10,-1120210379),s=q6(s,a,r,n,t[2],15,718787259),n=q6(n,s,a,r,t[9],21,-343485551),e[0]=Y6(r,e[0]),e[1]=Y6(n,e[1]),e[2]=Y6(s,e[2]),e[3]=Y6(a,e[3])}function R6(e,t,r,n,s,a){return t=Y6(Y6(t,e),Y6(n,a)),Y6(t<<s|t>>>32-s,r)}function z6(e,t,r,n,s,a,i){return R6(t&r|~t&n,e,t,s,a,i)}function F6(e,t,r,n,s,a,i){return R6(t&n|r&~n,e,t,s,a,i)}function B6(e,t,r,n,s,a,i){return R6(t^r^n,e,t,s,a,i)}function q6(e,t,r,n,s,a,i){return R6(r^(t|~n),e,t,s,a,i)}function $6(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)I6(n,U6(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(I6(n,s),t=0;t<16;t++)s[t]=0;return s[14]=8*r,I6(n,s),n}function U6(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var W6="0123456789abcdef".split("");function V6(e){for(var t="",r=0;r<4;r++)t+=W6[e>>8*r+4&15]+W6[e>>8*r&15];return t}function H6(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function G6(e){return $6(e).map(H6).join("")}var K6="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=V6(e[t]);return e.join("")}($6("hello"));function Y6(e,t){if(K6){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}function X6(e,t){var r,n,s,a;if(e!==r){for(var i=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}r=e,n=o}else o=n;var u=t.length,m=0,h=0,p="";for(l=0;l<u;l++)h=(h+(d=o[m=(m+1)%256]))%256,o[m]=o[h],o[h]=d,i=o[(o[m]+o[h])%256],p+=String.fromCharCode(t.charCodeAt(l)^i);return p}var J6={print:4,modify:8,copy:16,"annot-forms":32};function Q6(e,t,r,n){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==J6.perm)throw new Error("Invalid permission: "+e);s+=J6[e]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),i=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=G6(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=X6(this.encryptionKey,this.padding)}function Z6(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var s=e.charCodeAt(n);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[n]}return t}function e9(e){if("object"!==cn(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,n){if(n=n||!1,"string"!=typeof e||"function"!=typeof r||"boolean"!=typeof n)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!n],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],0===Object.keys(t[r]).length&&delete t[r],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[r]){var i=t[r][a];try{i[0].apply(e,n)}catch(o){C6.console&&T6.error("jsPDF PubSub Error",o.message,o)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function t9(e){if(!(this instanceof t9))return new t9(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function r9(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function n9(e,t,r,n,s){if(!(this instanceof n9))return new n9(e,t,r,n,s);this.type="axial"===e?2:3,this.coords=t,this.colors=r,r9.call(this,n,s)}function s9(e,t,r,n,s){if(!(this instanceof s9))return new s9(e,t,r,n,s);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,r9.call(this,n,s)}function a9(e){var t,r="string"==typeof arguments[0]?arguments[0]:"p",n=arguments[1],s=arguments[2],a=arguments[3],i=[],o=1,l=16,c="S",d=null;"object"===cn(e=e||{})&&(r=e.orientation,n=e.unit||n,s=e.format||s,a=e.compress||e.compressPdf||a,null!==(d=e.encryption||null)&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),i=e.filters||(!0===a?["FlateEncode"]:i),n=n||"mm",r=(""+(r||"P")).toLowerCase();var u=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=e9;var p="1.3",f=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(e){p=e};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var g=h.__private__.getPageFormat=function(e){return x[e]};s=s||"a4";var b="compat",y="advanced",v=b;function j(){this.saveGraphicsState(),J(new Pe(me,0,0,-me,0,mr()*me).toString()+" cm"),this.setFontSize(this.getFontSize()/me),c="n",v=y}function w(){this.restoreGraphicsState(),c="S",v=b}var N=h.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};h.advancedAPI=function(e){var t=v===b;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},h.compatAPI=function(e){var t=v===y;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},h.isAdvancedAPI=function(){return v===y};var k,S=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},C=h.roundToPrecision=h.__private__.roundToPrecision=function(e,r){var n=t||r;if(isNaN(e)||isNaN(n))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(n).replace(/0+$/,"")};k=h.hpf=h.__private__.hpf="number"==typeof l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,l)}:"smart"===l?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return C(e,16)};var A=h.f2=h.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return C(e,2)},T=h.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return C(e,3)},E=h.scale=h.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*me:v===y?e:void 0},_=function(e){return E((t=e,v===b?mr()-t:v===y?t:void 0));var t};h.__private__.setPrecision=h.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var P,D="00000000000000000000000000000000",O=h.__private__.getFileId=function(){return D},L=h.__private__.setFileId=function(e){return D=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():D.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==d&&(bt=new Q6(d.userPermissions,d.userPassword,d.ownerPassword,D)),D};h.setFileId=function(e){return L(e),this},h.getFileId=function(){return O()};var M=h.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),r=t<0?"+":"-",n=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),a=[r,B(n),"'",B(s),"'"].join("");return["D:",e.getFullYear(),B(e.getMonth()+1),B(e.getDate()),B(e.getHours()),B(e.getMinutes()),B(e.getSeconds()),a].join("")},I=h.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),r=parseInt(e.substr(6,2),10)-1,n=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,r,n,s,a,i,0)},R=h.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=M(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return P=t},z=h.__private__.getCreationDate=function(e){var t=P;return"jsDate"===e&&(t=I(P)),t};h.setCreationDate=function(e){return R(e),this},h.getCreationDate=function(e){return z(e)};var F,B=h.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},q=h.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},$=0,U=[],W=[],V=0,H=[],G=[],K=!1,Y=W;h.__private__.setCustomOutputDestination=function(e){K=!0,Y=e};var X=function(e){K||(Y=e)};h.__private__.resetCustomOutputDestination=function(){K=!1,Y=W};var J=h.__private__.out=function(e){return e=e.toString(),V+=e.length+1,Y.push(e),Y},Q=h.__private__.write=function(e){return J(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},Z=h.__private__.getArrayBuffer=function(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r);t--;)n[t]=e.charCodeAt(t);return r},ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ee};var te=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(e){return te=v===y?e/me:e,this};var re,ne=h.__private__.getFontSize=h.getFontSize=function(){return v===b?te:te*me},se=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(e){return se=e,this},h.__private__.getR2L=h.getR2L=function(){return se};var ae,ie=h.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))re=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');re=e}else re=parseInt(e,10)};h.__private__.getZoomMode=function(){return re};var oe,le=h.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ae=e};h.__private__.getPageMode=function(){return ae};var ce=h.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');oe=e};h.__private__.getLayoutMode=function(){return oe},h.__private__.setDisplayMode=h.setDisplayMode=function(e,t,r){return ie(e),ce(t),le(r),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(e){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[e]},h.__private__.getDocumentProperties=function(){return de},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(e){for(var t in de)de.hasOwnProperty(t)&&e[t]&&(de[t]=e[t]);return this},h.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(de).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[e]=t};var ue,me,he,pe,fe,xe={},ge={},be=[],ye={},ve={},je={},we={},Ne=null,ke=0,Se=[],Ce=new e9(h),Ae=e.hotfixes||[],Te={},Ee={},_e=[],Pe=function e(t,r,n,s,a,i){if(!(this instanceof e))return new e(t,r,n,s,a,i);isNaN(t)&&(t=1),isNaN(r)&&(r=0),isNaN(n)&&(n=0),isNaN(s)&&(s=1),isNaN(a)&&(a=0),isNaN(i)&&(i=0),this._matrix=[t,r,n,s,a,i]};Object.defineProperty(Pe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Pe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Pe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Pe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Pe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Pe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Pe.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Pe.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Pe.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Pe.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Pe.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Pe.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Pe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Pe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Pe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Pe.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Pe.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(e)},Pe.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,r=e.sx*this.shy+e.shy*this.sy,n=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Pe(t,r,n,s,a,i)},Pe.prototype.decompose=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*r+(t/=i)*n;r-=e*o,n-=t*o;var l=Math.sqrt(r*r+n*n);return o/=l,e*(n/=l)<t*(r/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new Pe(i,0,0,l,0,0),translate:new Pe(1,0,0,1,s,a),rotate:new Pe(e,t,-t,e,0,0),skew:new Pe(1,0,o,1,0,0)}},Pe.prototype.toString=function(e){return this.join(" ")},Pe.prototype.inversed=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty,i=1/(e*n-t*r),o=n*i,l=-t*i,c=-r*i,d=e*i;return new Pe(o,l,c,d,-o*s-c*a,-l*s-d*a)},Pe.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,r=e.x*this.shy+e.y*this.sy+this.ty;return new tr(t,r)},Pe.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),r=this.applyToPoint(new tr(e.x+e.w,e.y+e.h));return new rr(t.x,t.y,r.x-t.x,r.y-t.y)},Pe.prototype.clone=function(){var e=this.sx,t=this.shy,r=this.shx,n=this.sy,s=this.tx,a=this.ty;return new Pe(e,t,r,n,s,a)},h.Matrix=Pe;var De=h.matrixMult=function(e,t){return t.multiply(e)},Oe=new Pe(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Oe;var Le=function(e,t){if(!ve[e]){var r=(t instanceof n9?"Sh":"P")+(Object.keys(ye).length+1).toString(10);t.id=r,ve[e]=r,ye[r]=t,Ce.publish("addPattern",t)}};h.ShadingPattern=n9,h.TilingPattern=s9,h.addShadingPattern=function(e,t){return S("addShadingPattern()"),Le(e,t),this},h.beginTilingPattern=function(e){S("beginTilingPattern()"),sr(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},h.endTilingPattern=function(e,t){S("endTilingPattern()"),t.stream=G[F].join("\n"),Le(e,t),Ce.publish("endTilingPattern",t),_e.pop().restore()};var Me,Ie=h.__private__.newObject=function(){var e=Re();return ze(e,!0),e},Re=h.__private__.newObjectDeferred=function(){return $++,U[$]=function(){return V},$},ze=function(e,t){return t="boolean"==typeof t&&t,U[e]=V,t&&J(e+" 0 obj"),e},Fe=h.__private__.newAdditionalObject=function(){var e={objId:Re(),content:""};return H.push(e),e},Be=Re(),qe=Re(),$e=h.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var r=parseFloat(t[0]);t=[r,r,r,"r"]}for(var n="#",s=0;s<3;s++)n+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return n},Ue=h.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var r=e.ch1,n=e.ch2,s=e.ch3,a=e.ch4,i="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof r&&"#"!==r.charAt(0)){var o=new O6(r);if(o.ok)r=o.toHex();else if(!/^\d*\.?\d*$/.test(r))throw new Error('Invalid color "'+r+'" passed to jsPDF.encodeColorString.')}if("string"==typeof r&&/^#[0-9A-Fa-f]{3}$/.test(r)&&(r="#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]),"string"==typeof r&&/^#[0-9A-Fa-f]{6}$/.test(r)){var l=parseInt(r.substr(1),16);r=l>>16&255,n=l>>8&255,s=255&l}if(void 0===n||void 0===a&&r===n&&n===s)t="string"==typeof r?r+" "+i[0]:2===e.precision?A(r/255)+" "+i[0]:T(r/255)+" "+i[0];else if(void 0===a||"object"===cn(a)){if(a&&!isNaN(a.a)&&0===a.a)return["1.","1.","1.",i[1]].join(" ");t="string"==typeof r?[r,n,s,i[1]].join(" "):2===e.precision?[A(r/255),A(n/255),A(s/255),i[1]].join(" "):[T(r/255),T(n/255),T(s/255),i[1]].join(" ")}else t="string"==typeof r?[r,n,s,a,i[2]].join(" "):2===e.precision?[A(r),A(n),A(s),A(a),i[2]].join(" "):[T(r),T(n),T(s),T(a),i[2]].join(" ");return t},We=h.__private__.getFilters=function(){return i},Ve=h.__private__.putStream=function(e){var t=(e=e||{}).data||"",r=e.filters||We(),n=e.alreadyAppliedFilters||[],s=e.addLength1||!1,a=t.length,i=e.objectId,o=function(e){return e};if(null!==d&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==d&&(o=bt.encryptor(i,0));var l={};!0===r&&(r=["FlateEncode"]);var c=e.additionalKeyValues||[],u=(l=void 0!==a9.API.processDataByFilters?a9.API.processDataByFilters(t,r):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(n)?n.join(" "):n.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===s&&c.push({key:"Length1",value:a})),0!=u.length)if(u.split("/").length-1==1)c.push({key:"Filter",value:u});else{c.push({key:"Filter",value:"["+u+"]"});for(var m=0;m<c.length;m+=1)if("DecodeParms"===c[m].key){for(var h=[],p=0;p<l.reverseChain.split("/").length-1;p+=1)h.push("null");h.push(c[m].value),c[m].value="["+h.join(" ")+"]"}}J("<<");for(var f=0;f<c.length;f++)J("/"+c[f].key+" "+c[f].value);J(">>"),0!==l.data.length&&(J("stream"),J(o(l.data)),J("endstream"))},He=h.__private__.putPage=function(e){var t=e.number,r=e.data,n=e.objId,s=e.contentsObjId;ze(n,!0),J("<</Type /Page"),J("/Parent "+e.rootDictionaryObjId+" 0 R"),J("/Resources "+e.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(k(e.mediaBox.bottomLeftX))+" "+parseFloat(k(e.mediaBox.bottomLeftY))+" "+k(e.mediaBox.topRightX)+" "+k(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&J("/CropBox ["+k(e.cropBox.bottomLeftX)+" "+k(e.cropBox.bottomLeftY)+" "+k(e.cropBox.topRightX)+" "+k(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&J("/BleedBox ["+k(e.bleedBox.bottomLeftX)+" "+k(e.bleedBox.bottomLeftY)+" "+k(e.bleedBox.topRightX)+" "+k(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&J("/TrimBox ["+k(e.trimBox.bottomLeftX)+" "+k(e.trimBox.bottomLeftY)+" "+k(e.trimBox.topRightX)+" "+k(e.trimBox.topRightY)+"]"),null!==e.artBox&&J("/ArtBox ["+k(e.artBox.bottomLeftX)+" "+k(e.artBox.bottomLeftY)+" "+k(e.artBox.topRightX)+" "+k(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&J("/UserUnit "+e.userUnit),Ce.publish("putPage",{objId:n,pageContext:Se[t],pageNumber:t,page:r}),J("/Contents "+s+" 0 R"),J(">>"),J("endobj");var a=r.join("\n");return v===y&&(a+="\nQ"),ze(s,!0),Ve({data:a,filters:We(),objectId:s}),J("endobj"),n},Ge=h.__private__.putPages=function(){var e,t,r=[];for(e=1;e<=ke;e++)Se[e].objId=Re(),Se[e].contentsObjId=Re();for(e=1;e<=ke;e++)r.push(He({number:e,data:G[e],objId:Se[e].objId,contentsObjId:Se[e].contentsObjId,mediaBox:Se[e].mediaBox,cropBox:Se[e].cropBox,bleedBox:Se[e].bleedBox,trimBox:Se[e].trimBox,artBox:Se[e].artBox,userUnit:Se[e].userUnit,rootDictionaryObjId:Be,resourceDictionaryObjId:qe}));ze(Be,!0),J("<</Type /Pages");var n="/Kids [";for(t=0;t<ke;t++)n+=r[t]+" 0 R ";J(n+"]"),J("/Count "+ke),J(">>"),J("endobj"),Ce.publish("postPutPages")},Ke=function(e){Ce.publish("putFont",{font:e,out:J,newObject:Ie,putStream:Ve}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ie(),J("<<"),J("/Type /Font"),J("/BaseFont /"+Z6(e.postScriptName)),J("/Subtype /Type1"),"string"==typeof e.encoding&&J("/Encoding /"+e.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Ye=function(e){e.objectNumber=Ie();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[k(e.x),k(e.y),k(e.x+e.width),k(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var r=e.pages[1].join("\n");Ve({data:r,additionalKeyValues:t,objectId:e.objectNumber}),J("endobj")},Xe=function(e,t){t||(t=21);var r=Ie(),n=function(e,t){var r,n=[],s=1/(t-1);for(r=0;r<1;r+=s)n.push(r);if(n.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<n.length;c++){for(r=n[c];r>e[l+1].offset;)l++;var d=e[l].offset,u=(r-d)/(e[l+1].offset-d),m=e[l].color,h=e[l+1].color;o+=q(Math.round((1-u)*m[0]+u*h[0]).toString(16))+q(Math.round((1-u)*m[1]+u*h[1]).toString(16))+q(Math.round((1-u)*m[2]+u*h[2]).toString(16))}return o.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:n,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:r}),J("endobj"),e.objectNumber=Ie(),J("<< /ShadingType "+e.type),J("/ColorSpace /DeviceRGB");var a="/Coords ["+k(parseFloat(e.coords[0]))+" "+k(parseFloat(e.coords[1]))+" ";2===e.type?a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3])):a+=k(parseFloat(e.coords[2]))+" "+k(parseFloat(e.coords[3]))+" "+k(parseFloat(e.coords[4]))+" "+k(parseFloat(e.coords[5])),J(a+="]"),e.matrix&&J("/Matrix ["+e.matrix.toString()+"]"),J("/Function "+r+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Je=function(e,t){var r=Re(),n=Ie();t.push({resourcesOid:r,objectOid:n}),e.objectNumber=n;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(k).join(" ")+"]"}),s.push({key:"XStep",value:k(e.xStep)}),s.push({key:"YStep",value:k(e.yStep)}),s.push({key:"Resources",value:r+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),Ve({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),J("endobj")},Qe=function(e){for(var t in e.objectNumber=Ie(),J("<<"),e)switch(t){case"opacity":J("/ca "+A(e[t]));break;case"stroke-opacity":J("/CA "+A(e[t]))}J(">>"),J("endobj")},Ze=function(e){ze(e.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in J("/Font <<"),xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&m.hasOwnProperty(e))&&J("/"+e+" "+xe[e].objectNumber+" 0 R");J(">>")}(),function(){if(Object.keys(ye).length>0){for(var e in J("/Shading <<"),ye)ye.hasOwnProperty(e)&&ye[e]instanceof n9&&ye[e].objectNumber>=0&&J("/"+e+" "+ye[e].objectNumber+" 0 R");Ce.publish("putShadingPatternDict"),J(">>")}}(),function(e){if(Object.keys(ye).length>0){for(var t in J("/Pattern <<"),ye)ye.hasOwnProperty(t)&&ye[t]instanceof h.TilingPattern&&ye[t].objectNumber>=0&&ye[t].objectNumber<e&&J("/"+t+" "+ye[t].objectNumber+" 0 R");Ce.publish("putTilingPatternDict"),J(">>")}}(e.objectOid),function(){if(Object.keys(je).length>0){var e;for(e in J("/ExtGState <<"),je)je.hasOwnProperty(e)&&je[e].objectNumber>=0&&J("/"+e+" "+je[e].objectNumber+" 0 R");Ce.publish("putGStateDict"),J(">>")}}(),function(){for(var e in J("/XObject <<"),Te)Te.hasOwnProperty(e)&&Te[e].objectNumber>=0&&J("/"+e+" "+Te[e].objectNumber+" 0 R");Ce.publish("putXobjectDict"),J(">>")}(),J(">>"),J("endobj")},et=function(e){ge[e.fontName]=ge[e.fontName]||{},ge[e.fontName][e.fontStyle]=e.id},tt=function(e,t,r,n,s){var a={id:"F"+(Object.keys(xe).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:r,encoding:n,isStandardFont:s||!1,metadata:{}};return Ce.publish("addFont",{font:a,instance:this}),xe[a.id]=a,et(a),a.id},rt=h.__private__.pdfEscape=h.pdfEscape=function(e,t){return function(e,t){var r,n,s,a,i,o,l,c,d;if(s=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&xe[ue].metadata&&xe[ue].metadata[s]&&xe[ue].metadata[s].encoding&&(a=xe[ue].metadata[s].encoding,!i&&xe[ue].encoding&&(i=xe[ue].encoding),!i&&a.codePages&&(i=a.codePages[0]),"string"==typeof i&&(i=a[i]),i)){for(l=!1,o=[],r=0,n=e.length;r<n;r++)(c=i[e.charCodeAt(r)])?o.push(String.fromCharCode(c)):o.push(e[r]),o[r].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(r=e.length;void 0===l&&0!==r;)e.charCodeAt(r-1)>>8&&(l=!0),r--;if(!l)return e;for(o=t.noBOM?[]:[254,255],r=0,n=e.length;r<n;r++){if((d=(c=e.charCodeAt(r))>>8)>>8)throw new Error("Character at position "+r+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},nt=h.__private__.beginPage=function(e){G[++ke]=[],Se[ke]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},it(ke),X(G[F])},st=function(e,t){var n,a,i;switch(r=t||r,"string"==typeof e&&(n=g(e.toLowerCase()),Array.isArray(n)&&(a=n[0],i=n[1])),Array.isArray(e)&&(a=e[0]*me,i=e[1]*me),isNaN(a)&&(a=s[0],i=s[1]),(a>14400||i>14400)&&(T6.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),a=Math.min(14400,a),i=Math.min(14400,i)),s=[a,i],r.substr(0,1)){case"l":i>a&&(s=[i,a]);break;case"p":a>i&&(s=[i,a])}nt(s),zt(It),J(Ht),0!==Qt&&J(Qt+" J"),0!==Zt&&J(Zt+" j"),Ce.publish("addPage",{pageNumber:ke})},at=function(e){e>0&&e<=ke&&(G.splice(e,1),Se.splice(e,1),ke--,F>ke&&(F=ke),this.setPage(F))},it=function(e){e>0&&e<=ke&&(F=e)},ot=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return G.length-1},lt=function(e,t,r){var n,s=void 0;return r=r||{},e=void 0!==e?e:xe[ue].fontName,t=void 0!==t?t:xe[ue].fontStyle,n=e.toLowerCase(),void 0!==ge[n]&&void 0!==ge[n][t]?s=ge[n][t]:void 0!==ge[e]&&void 0!==ge[e][t]?s=ge[e][t]:!1===r.disableWarning&&T6.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||r.noFallback||null==(s=ge.times[t])&&(s=ge.times.normal),s},ct=h.__private__.putInfo=function(){var e=Ie(),t=function(e){return e};for(var r in null!==d&&(t=bt.encryptor(e,0)),J("<<"),J("/Producer ("+rt(t("jsPDF "+a9.version))+")"),de)de.hasOwnProperty(r)&&de[r]&&J("/"+r.substr(0,1).toUpperCase()+r.substr(1)+" ("+rt(t(de[r]))+")");J("/CreationDate ("+rt(t(P))+")"),J(">>"),J("endobj")},dt=h.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||Be;switch(Ie(),J("<<"),J("/Type /Catalog"),J("/Pages "+t+" 0 R"),re||(re="fullwidth"),re){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var r=""+re;"%"===r.substr(r.length-1)&&(re=parseInt(re)/100),"number"==typeof re&&J("/OpenAction [3 0 R /XYZ null null "+A(re)+"]")}switch(oe||(oe="continuous"),oe){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}ae&&J("/PageMode /"+ae),Ce.publish("putCatalog"),J(">>"),J("endobj")},ut=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+($+1)),J("/Root "+$+" 0 R"),J("/Info "+($-1)+" 0 R"),null!==d&&J("/Encrypt "+bt.oid+" 0 R"),J("/ID [ <"+D+"> <"+D+"> ]"),J(">>")},mt=h.__private__.putHeader=function(){J("%PDF-"+p),J("%")},ht=h.__private__.putXRef=function(){var e="0000000000";J("xref"),J("0 "+($+1)),J("0000000000 65535 f ");for(var t=1;t<=$;t++)"function"==typeof U[t]?J((e+U[t]()).slice(-10)+" 00000 n "):void 0!==U[t]?J((e+U[t]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},pt=h.__private__.buildDocument=function(){var e;$=0,V=0,W=[],U=[],H=[],Be=Re(),qe=Re(),X(W),Ce.publish("buildDocument"),mt(),Ge(),function(){Ce.publish("putAdditionalObjects");for(var e=0;e<H.length;e++){var t=H[e];ze(t.objId,!0),J(t.content),J("endobj")}Ce.publish("postPutAdditionalObjects")}(),e=[],function(){for(var e in xe)xe.hasOwnProperty(e)&&(!1===u||!0===u&&m.hasOwnProperty(e))&&Ke(xe[e])}(),function(){var e;for(e in je)je.hasOwnProperty(e)&&Qe(je[e])}(),function(){for(var e in Te)Te.hasOwnProperty(e)&&Ye(Te[e])}(),function(e){var t;for(t in ye)ye.hasOwnProperty(t)&&(ye[t]instanceof n9?Xe(ye[t]):ye[t]instanceof s9&&Je(ye[t],e))}(e),Ce.publish("putResources"),e.forEach(Ze),Ze({resourcesOid:qe,objectOid:Number.MAX_SAFE_INTEGER}),Ce.publish("postPutResources"),null!==d&&(bt.oid=Ie(),J("<<"),J("/Filter /Standard"),J("/V "+bt.v),J("/R "+bt.r),J("/U <"+bt.toHexString(bt.U)+">"),J("/O <"+bt.toHexString(bt.O)+">"),J("/P "+bt.P),J(">>"),J("endobj")),ct(),dt();var t=V;return ht(),ut(),J("startxref"),J(""+t),J("%%EOF"),X(G[F]),W.join("\n")},ft=h.__private__.getBlob=function(e){return new Blob([Z(e)],{type:"application/pdf"})},xt=h.output=h.__private__.output=((Me=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return pt();case"save":h.save(t.filename);break;case"arraybuffer":return Z(pt());case"blob":return ft(pt());case"bloburi":case"bloburl":if(void 0!==C6.URL&&"function"==typeof C6.URL.createObjectURL)return C6.URL&&C6.URL.createObjectURL(ft(pt()))||void 0;T6.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var r="",n=pt();try{r=M6(n)}catch(p){r=M6(unescape(encodeURIComponent(n)))}return"data:application/pdf;filename="+t.filename+";base64,"+r;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(C6)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,a="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=C6.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(C6)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=C6.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(C6))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',m=C6.open();if(null!==m&&(m.document.write(u),m.document.title=t.filename),m||"undefined"==typeof safari)return m;break;case"datauri":case"dataurl":return C6.document.location.href=this.output("datauristring",t);default:return null}}).foo=function(){try{return Me.apply(this,arguments)}catch(r){var e=r.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+r.message;if(!C6.console)throw new Error(t);C6.console.error(t,r),C6.alert&&alert(t)}},Me.foo.bar=Me,Me.foo),gt=function(e){return!0===Array.isArray(Ae)&&Ae.indexOf(e)>-1};switch(n){case"pt":me=1;break;case"mm":me=72/25.4;break;case"cm":me=72/2.54;break;case"in":me=72;break;case"px":me=1==gt("px_scaling")?.75:96/72;break;case"pc":case"em":me=12;break;case"ex":me=6;break;default:if("number"!=typeof n)throw new Error("Invalid unit: "+n);me=n}var bt=null;R(),L();var yt=h.__private__.getPageInfo=h.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Se[e].objId,pageNumber:e,pageContext:Se[e]}},vt=h.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Se)if(Se[t].objId===e)break;return yt(t)},jt=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Se[F].objId,pageNumber:F,pageContext:Se[F]}};h.addPage=function(){return st.apply(this,arguments),this},h.setPage=function(){return it.apply(this,arguments),X.call(this,G[F]),this},h.insertPage=function(e){return this.addPage(),this.movePage(F,e),this},h.movePage=function(e,t){var r,n;if(e>t){r=G[e],n=Se[e];for(var s=e;s>t;s--)G[s]=G[s-1],Se[s]=Se[s-1];G[t]=r,Se[t]=n,this.setPage(t)}else if(e<t){r=G[e],n=Se[e];for(var a=e;a<t;a++)G[a]=G[a+1],Se[a]=Se[a+1];G[t]=r,Se[t]=n,this.setPage(t)}return this},h.deletePage=function(){return at.apply(this,arguments),this},h.__private__.text=h.text=function(e,t,r,n,s){var a,i,o,l,c,d,u,h,p,f=(n=n||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof r||Array.isArray(r))){var x=r;r=t,t=e,e=x}if(arguments[3]instanceof Pe==0?(o=arguments[4],l=arguments[5],"object"===cn(u=arguments[3])&&null!==u||("string"==typeof o&&(l=o,o=null),"string"==typeof u&&(l=u,u=null),"number"==typeof u&&(o=u,u=null),n={flags:u,angle:o,align:l})):(S("The transform parameter of text() with a Matrix value"),p=s),isNaN(t)||isNaN(r)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return f;var g,b="",j="number"==typeof n.lineHeightFactor?n.lineHeightFactor:Mt,w=f.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(n.TabLen||9).join(" ")),rt(e,u)}function C(e){for(var t,r=e.concat(),n=[],s=r.length;s--;)"string"==typeof(t=r.shift())?n.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?n.push(t[0]):n.push([t[0],t[1],t[2]]);return n}function A(e,t){var r;if("string"==typeof e)r=t(e)[0];else if(Array.isArray(e)){for(var n,s,a=e.concat(),i=[],o=a.length;o--;)"string"==typeof(n=a.shift())?i.push(t(n)[0]):Array.isArray(n)&&"string"==typeof n[0]&&(s=t(n[0],n[1],n[2]),i.push([s[0],s[1],s[2]]));r=i}return r}var T=!1,_=!0;if("string"==typeof e)T=!0;else if(Array.isArray(e)){var P=e.concat();i=[];for(var D,O=P.length;O--;)("string"!=typeof(D=P.shift())||Array.isArray(D)&&"string"!=typeof D[0])&&(_=!1);T=_}if(!1===T)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var L=te/f.internal.scaleFactor,M=L*(j-1);switch(n.baseline){case"bottom":r-=M;break;case"top":r+=L-M;break;case"hanging":r+=L-2*M;break;case"middle":r+=L/2-M}if((d=n.maxWidth||0)>0&&("string"==typeof e?e=f.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(f.splitTextToSize(t,d))},[]))),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:xe,activeFontSize:te}},Ce.publish("preProcessText",a),e=a.text,o=(n=a.options).angle,p instanceof Pe==0&&o&&"number"==typeof o){o*=Math.PI/180,0===n.rotationDirection&&(o=-o),v===y&&(o=-o);var I=Math.cos(o),R=Math.sin(o);p=new Pe(I,R,-R,I,0,0)}else o&&o instanceof Pe&&(p=o);v!==y||p||(p=Oe),void 0!==(c=n.charSpace||Xt)&&(b+=k(E(c))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(h=n.horizontalScale)&&(b+=k(100*h)+" Tz\n"),n.lang;var z=-1,F=void 0!==n.renderingMode?n.renderingMode:n.stroke,B=f.internal.getCurrentPageInfo().pageContext;switch(F){case 0:case!1:case"fill":z=0;break;case 1:case!0:case"stroke":z=1;break;case 2:case"fillThenStroke":z=2;break;case 3:case"invisible":z=3;break;case 4:case"fillAndAddForClipping":z=4;break;case 5:case"strokeAndAddPathForClipping":z=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":z=6;break;case 7:case"addToPathForClipping":z=7}var q=void 0!==B.usedRenderingMode?B.usedRenderingMode:-1;-1!==z?b+=z+" Tr\n":-1!==q&&(b+="0 Tr\n"),-1!==z&&(B.usedRenderingMode=z),l=n.align||"left";var $,U=te*j,W=f.internal.pageSize.getWidth(),V=xe[ue];c=n.charSpace||Xt,d=n.maxWidth||0,u=Object.assign({autoencode:!0,noBOM:!0},n.flags);var H=[],G=function(e){return f.getStringUnitWidth(e,{font:V,charSpace:c,fontSize:te,doKerning:!1})*te/w};if("[object Array]"===Object.prototype.toString.call(e)){var K;i=C(e),"left"!==l&&($=i.map(G));var Y,X=0;if("right"===l){t-=$[0],e=[],O=i.length;for(var Q=0;Q<O;Q++)0===Q?(Y=$t(t),K=Ut(r)):(Y=E(X-$[Q]),K=-U),e.push([i[Q],Y,K]),X=$[Q]}else if("center"===l){t-=$[0]/2,e=[],O=i.length;for(var Z=0;Z<O;Z++)0===Z?(Y=$t(t),K=Ut(r)):(Y=E((X-$[Z])/2),K=-U),e.push([i[Z],Y,K]),X=$[Z]}else if("left"===l){e=[],O=i.length;for(var ee=0;ee<O;ee++)e.push(i[ee])}else if("justify"===l&&"Identity-H"===V.encoding){e=[],O=i.length,d=0!==d?d:W;for(var re=0,ne=0;ne<O;ne++)if(K=0===ne?Ut(r):-U,Y=0===ne?$t(t):re,ne<O-1){var ae=E((d-$[ne])/(i[ne].split(" ").length-1)),ie=i[ne].split(" ");e.push([ie[0]+" ",Y,K]),re=0;for(var oe=1;oe<ie.length;oe++){var le=(G(ie[oe-1]+" "+ie[oe])-G(ie[oe]))*w+ae;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),re-=le}}else e.push([i[ne],Y,K]);e.push(["",re,0])}else{if("justify"!==l)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],O=i.length,d=0!==d?d:W,ne=0;ne<O;ne++){K=0===ne?Ut(r):-U,Y=0===ne?$t(t):0;var ce=i[ne].split(" ").length-1,de=ce>0?(d-$[ne])/ce:0;ne<O-1?H.push(k(E(de))):H.push(0),e.push([i[ne],Y,K])}}}!0===("boolean"==typeof n.R2L?n.R2L:se)&&(e=A(e,function(e,t,r){return[e.split("").reverse().join(""),t,r]})),a={text:e,x:t,y:r,options:n,mutex:{pdfEscape:rt,activeFontKey:ue,fonts:xe,activeFontSize:te}},Ce.publish("postProcessText",a),e=a.text,g=a.mutex.isHex||!1;var me=xe[ue].encoding;"WinAnsiEncoding"!==me&&"StandardEncoding"!==me||(e=A(e,function(e,t,r){return[N(e),t,r]})),i=C(e),e=[];for(var he,pe,fe,ge=Array.isArray(i[0])?1:0,be="",ye=function(e,t,r){var s="";return r instanceof Pe?(r="number"==typeof n.angle?De(r,new Pe(1,0,0,1,e,t)):De(new Pe(1,0,0,1,e,t),r),v===y&&(r=De(new Pe(1,0,0,-1,0,0),r)),s=r.join(" ")+" Tm\n"):s=k(e)+" "+k(t)+" Td\n",s},ve=0;ve<i.length;ve++){switch(be="",ge){case 1:fe=(g?"<":"(")+i[ve][0]+(g?">":")"),he=parseFloat(i[ve][1]),pe=parseFloat(i[ve][2]);break;case 0:fe=(g?"<":"(")+i[ve]+(g?">":")"),he=$t(t),pe=Ut(r)}void 0!==H&&void 0!==H[ve]&&(be=H[ve]+" Tw\n"),0===ve?e.push(be+ye(he,pe,p)+fe):0===ge?e.push(be+fe):1===ge&&e.push(be+ye(he,pe,p)+fe)}e=0===ge?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var je="BT\n/";return je+=ue+" "+te+" Tf\n",je+=k(te*j)+" TL\n",je+=Kt+"\n",je+=b,je+=e,J(je+="ET"),m[ue]=!0,f};var wt=h.__private__.clip=h.clip=function(e){return J("evenodd"===e?"W*":"W"),this};h.clipEvenOdd=function(){return wt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Nt=h.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(e){return Nt(e)&&(c=e),this};var kt=h.__private__.getStyle=h.getStyle=function(e){var t=c;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},St=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(e){return Ct("f",e),this},h.fillEvenOdd=function(e){return Ct("f*",e),this},h.fillStroke=function(e){return Ct("B",e),this},h.fillStrokeEvenOdd=function(e){return Ct("B*",e),this};var Ct=function(e,t){"object"===cn(t)?Et(t,e):J(e)},At=function(e){null===e||v===y&&void 0===e||(e=kt(e),J(e))};function Tt(e,t,r,n,s){var a=new s9(t||this.boundingBox,r||this.xStep,n||this.yStep,this.gState,s||this.matrix);a.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return Le(i,a),a}var Et=function(e,t){var r=ve[e.key],n=ye[r];if(n instanceof n9)J("q"),J(_t(t)),n.gState&&h.setGState(n.gState),J(e.matrix.toString()+" cm"),J("/"+r+" sh"),J("Q");else if(n instanceof s9){var s=new Pe(1,0,0,-1,0,mr());e.matrix&&(s=s.multiply(e.matrix||Oe),r=Tt.call(n,e.key,e.boundingBox,e.xStep,e.yStep,s).id),J("q"),J("/Pattern cs"),J("/"+r+" scn"),n.gState&&h.setGState(n.gState),J(t),J("Q")}},_t=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Pt=h.moveTo=function(e,t){return J(k(E(e))+" "+k(_(t))+" m"),this},Dt=h.lineTo=function(e,t){return J(k(E(e))+" "+k(_(t))+" l"),this},Ot=h.curveTo=function(e,t,r,n,s,a){return J([k(E(e)),k(_(t)),k(E(r)),k(_(n)),k(E(s)),k(_(a)),"c"].join(" ")),this};h.__private__.line=h.line=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[r-e,n-t]],e,t,[1,1],s||"S"):this.lines([[r-e,n-t]],e,t,[1,1]).stroke()},h.__private__.lines=h.lines=function(e,t,r,n,s,a){var i,o,l,c,d,u,m,h,p,f,x,g;if("number"==typeof e&&(g=r,r=t,t=e,e=g),n=n||[1,1],a=a||!1,isNaN(t)||isNaN(r)||!Array.isArray(e)||!Array.isArray(n)||!Nt(s)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Pt(t,r),i=n[0],o=n[1],c=e.length,f=t,x=r,l=0;l<c;l++)2===(d=e[l]).length?(f=d[0]*i+f,x=d[1]*o+x,Dt(f,x)):(u=d[0]*i+f,m=d[1]*o+x,h=d[2]*i+f,p=d[3]*o+x,f=d[4]*i+f,x=d[5]*o+x,Ot(u,m,h,p,f,x));return a&&St(),At(s),this},h.path=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r.c;switch(r.op){case"m":Pt(n[0],n[1]);break;case"l":Dt(n[0],n[1]);break;case"c":Ot.apply(this,n);break;case"h":St()}}return this},h.__private__.rect=h.rect=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(n=-n),J([k(E(e)),k(_(t)),k(E(r)),k(E(n)),"re"].join(" ")),At(s),this},h.__private__.triangle=h.triangle=function(e,t,r,n,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[r-e,n-t],[s-r,a-n],[e-s,t-a]],e,t,[1,1],i,!0),this},h.__private__.roundedRect=h.roundedRect=function(e,t,r,n,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a)||!Nt(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*r),a=Math.min(a,.5*n),this.lines([[r-2*s,0],[s*o,0,s,a-a*o,s,a],[0,n-2*a],[0,a*o,-s*o,a,-s,a],[2*s-r,0],[-s*o,0,-s,-a*o,-s,-a],[0,2*a-n],[0,-a*o,s*o,-a,s,-a]],e+s,t,[1,1],i,!0),this},h.__private__.ellipse=h.ellipse=function(e,t,r,n,s){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||!Nt(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*r,i=4/3*(Math.SQRT2-1)*n;return Pt(e+r,t),Ot(e+r,t-i,e+a,t-n,e,t-n),Ot(e-a,t-n,e-r,t-i,e-r,t),Ot(e-r,t+i,e-a,t+n,e,t+n),Ot(e+a,t+n,e+r,t+i,e+r,t),At(s),this},h.__private__.circle=h.circle=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||!Nt(n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,r,r,n)},h.setFont=function(e,t,r){return r&&(t=N(t,r)),ue=lt(e,t,{disableWarning:!1}),this};var Lt=h.__private__.getFont=h.getFont=function(){return xe[lt.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var e,t,r={};for(e in ge)if(ge.hasOwnProperty(e))for(t in r[e]=[],ge[e])ge[e].hasOwnProperty(t)&&r[e].push(t);return r},h.addFont=function(e,t,r,n,s){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(r=N(r,n)),tt.call(this,e,t,r,s=s||"Identity-H")};var Mt,It=e.lineWidth||.200025,Rt=h.__private__.getLineWidth=h.getLineWidth=function(){return It},zt=h.__private__.setLineWidth=h.setLineWidth=function(e){return It=e,J(k(E(e))+" w"),this};h.__private__.setLineDash=a9.API.setLineDash=a9.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return k(E(e))}).join(" "),t=k(E(t)),J("["+e+"] "+t+" d"),this};var Ft=h.__private__.getLineHeight=h.getLineHeight=function(){return te*Mt};h.__private__.getLineHeight=h.getLineHeight=function(){return te*Mt};var Bt=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Mt=e),this},qt=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Mt};Bt(e.lineHeight);var $t=h.__private__.getHorizontalCoordinate=function(e){return E(e)},Ut=h.__private__.getVerticalCoordinate=function(e){return v===y?e:Se[F].mediaBox.topRightY-Se[F].mediaBox.bottomLeftY-E(e)},Wt=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(e){return k($t(e))},Vt=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(e){return k(Ut(e))},Ht=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return $e(Ht)},h.__private__.setStrokeColor=h.setDrawColor=function(e,t,r,n){return Ht=Ue({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"draw",precision:2}),J(Ht),this};var Gt=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return $e(Gt)},h.__private__.setFillColor=h.setFillColor=function(e,t,r,n){return Gt=Ue({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"fill",precision:2}),J(Gt),this};var Kt=e.textColor||"0 g",Yt=h.__private__.getTextColor=h.getTextColor=function(){return $e(Kt)};h.__private__.setTextColor=h.setTextColor=function(e,t,r,n){return Kt=Ue({ch1:e,ch2:t,ch3:r,ch4:n,pdfColorType:"text",precision:3}),this};var Xt=e.charSpace,Jt=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Xt||0)};h.__private__.setCharSpace=h.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Xt=e,this};var Qt=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qt=t,J(t+" J"),this};var Zt=0;h.__private__.setLineJoin=h.setLineJoin=function(e){var t=h.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Zt=t,J(t+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(k(E(e))+" M"),this},h.GState=t9,h.setGState=function(e){(e="string"==typeof e?je[we[e]]:er(null,e)).equals(Ne)||(J("/"+e.id+" gs"),Ne=e)};var er=function(e,t){if(!e||!we[e]){var r=!1;for(var n in je)if(je.hasOwnProperty(n)&&je[n].equals(t)){r=!0;break}if(r)t=je[n];else{var s="GS"+(Object.keys(je).length+1).toString(10);je[s]=t,t.id=s}return e&&(we[e]=t.id),Ce.publish("addGState",t),t}};h.addGState=function(e,t){return er(e,t),this},h.saveGraphicsState=function(){return J("q"),be.push({key:ue,size:te,color:Kt}),this},h.restoreGraphicsState=function(){J("Q");var e=be.pop();return ue=e.key,te=e.size,Kt=e.color,Ne=null,this},h.setCurrentTransformationMatrix=function(e){return J(e.toString()+" cm"),this},h.comment=function(e){return J("#"+e),this};var tr=function(e,t){var r=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var n=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},rr=function(e,t,r,n){tr.call(this,e,t),this.type="rect";var s=r||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var a=n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},nr=function(){this.page=ke,this.currentPage=F,this.pages=G.slice(0),this.pagesContext=Se.slice(0),this.x=he,this.y=pe,this.matrix=fe,this.width=ir(F),this.height=lr(F),this.outputDestination=Y,this.id="",this.objectNumber=-1};nr.prototype.restore=function(){ke=this.page,F=this.currentPage,Se=this.pagesContext,G=this.pages,he=this.x,pe=this.y,fe=this.matrix,or(F,this.width),cr(F,this.height),Y=this.outputDestination};var sr=function(e,t,r,n,s){_e.push(new nr),ke=F=0,G=[],he=e,pe=t,fe=s,nt([r,n])};for(var ar in h.beginFormObject=function(e,t,r,n,s){return sr(e,t,r,n,s),this},h.endFormObject=function(e){return function(e){if(Ee[e])_e.pop().restore();else{var t=new nr,r="Xo"+(Object.keys(Te).length+1).toString(10);t.id=r,Ee[e]=r,Te[r]=t,Ce.publish("addFormObject",t),_e.pop().restore()}}(e),this},h.doFormObject=function(e,t){var r=Te[Ee[e]];return J("q"),J(t.toString()+" cm"),J("/"+r.id+" Do"),J("Q"),this},h.getFormObject=function(e){var t=Te[Ee[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},h.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(D6(ft(pt()),e),"function"==typeof D6.unload&&C6.setTimeout&&setTimeout(D6.unload,911),this):new Promise(function(t,r){try{var n=D6(ft(pt()),e);"function"==typeof D6.unload&&C6.setTimeout&&setTimeout(D6.unload,911),t(n)}catch(s){r(s.message)}})},a9.API)a9.API.hasOwnProperty(ar)&&("events"===ar&&a9.API.events.length?function(e,t){var r,n,s;for(s=t.length-1;-1!==s;s--)r=t[s][0],n=t[s][1],e.subscribe.apply(e,[r].concat("function"==typeof n?[n]:n))}(Ce,a9.API.events):h[ar]=a9.API[ar]);function ir(e){return Se[e].mediaBox.topRightX-Se[e].mediaBox.bottomLeftX}function or(e,t){Se[e].mediaBox.topRightX=t+Se[e].mediaBox.bottomLeftX}function lr(e){return Se[e].mediaBox.topRightY-Se[e].mediaBox.bottomLeftY}function cr(e,t){Se[e].mediaBox.topRightY=t+Se[e].mediaBox.bottomLeftY}var dr=h.getPageWidth=function(e){return ir(e=e||F)/me},ur=h.setPageWidth=function(e,t){or(e,t*me)},mr=h.getPageHeight=function(e){return lr(e=e||F)/me},hr=h.setPageHeight=function(e,t){cr(e,t*me)};return h.internal={pdfEscape:rt,getStyle:kt,getFont:Lt,getFontSize:ne,getCharSpace:Jt,getTextColor:Yt,getLineHeight:Ft,getLineHeightFactor:qt,getLineWidth:Rt,write:Q,getHorizontalCoordinate:$t,getVerticalCoordinate:Ut,getCoordinateString:Wt,getVerticalCoordinateString:Vt,collections:{},newObject:Ie,newAdditionalObject:Fe,newObjectDeferred:Re,newObjectDeferredBegin:ze,getFilters:We,putStream:Ve,events:Ce,scaleFactor:me,pageSize:{getWidth:function(){return dr(F)},setWidth:function(e){ur(F,e)},getHeight:function(){return mr(F)},setHeight:function(e){hr(F,e)}},encryptionOptions:d,encryption:bt,getEncryptor:function(e){return null!==d?bt.encryptor(e,0):function(e){return e}},output:xt,getNumberOfPages:ot,get pages(){return G},out:J,f2:A,f3:T,getPageInfo:yt,getPageInfoByObjId:vt,getCurrentPageInfo:jt,getPDFVersion:f,Point:tr,Rectangle:rr,Matrix:Pe,hasHotfix:gt},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return dr(F)},set:function(e){ur(F,e)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return mr(F)},set:function(e){hr(F,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,r=ee.length;t<r;t++){var n=tt.call(this,e[t][0],e[t][1],e[t][2],ee[t][3],!0);!1===u&&(m[n]=!0);var s=e[t][0].split("-");et({id:n,fontName:s[0],fontStyle:s[1]||""})}Ce.publish("addFonts",{fonts:xe,dictionary:ge})}.call(h,ee),ue="F1",st(s,r),Ce.publish("initialized"),h}Q6.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Q6.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Q6.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Q6.prototype.processOwnerPassword=function(e,t){return X6(G6(t).substr(0,5),e)},Q6.prototype.encryptor=function(e,t){var r=G6(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return X6(r,e)}},t9.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||cn(e)!==cn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return 0===n},a9.API={events:[]},a9.version="3.0.4";var i9=a9.API,o9=1,l9=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},c9=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},d9=function(e){return e.toFixed(2)},u9=function(e){return e.toFixed(5)};i9.__acroform__={};var m9=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},h9=function(e){return e*o9},p9=function(e){var t=new _9,r=W9.internal.getHeight(e)||0,n=W9.internal.getWidth(e)||0;return t.BBox=[0,0,Number(d9(n)),Number(d9(r))],t},f9=i9.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},x9=i9.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},g9=i9.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},b9=i9.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return g9(e,t-1)},y9=i9.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return f9(e,t-1)},v9=i9.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return x9(e,t-1)},j9=i9.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(s+i)||0,l.upperRight_Y=n(a)||0,[Number(d9(l.lowerLeft_X)),Number(d9(l.lowerLeft_Y)),Number(d9(l.upperRight_X)),Number(d9(l.upperRight_Y))]},w9=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=N9(e,r),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+d9(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=p9(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},N9=function(e,t){var r=0===e.fontSize?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var a=r,i=W9.internal.getHeight(e)||0;i=i<0?-i:i;var o=W9.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,r,n){if(t+1<s.length){var a=r+" "+s[t+1][0];return k9(a,e,n).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=k9("3",e,a).height,m=e.multiline?i-a:(i-u)/2,h=m+=2,p=0,f=0,x=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+k9(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var g="",b=0,y=0;y<s.length;y++)if(s.hasOwnProperty(y)){var v=!1;if(1!==s[y].length&&x!==s[y].length-1){if((u+2)*(b+2)+2>i)continue e;g+=s[y][x],v=!0,f=y,y--}else{g=" "==(g+=s[y][x]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var j=parseInt(y),w=l(j,g,a),N=y>=s.length-1;if(w&&!N){g+=" ",x=0;continue}if(w||N){if(N)f=j;else if(e.multiline&&(u+2)*(b+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(b+2)+2>i)continue e;f=j}}for(var k="",S=p;S<=f;S++){var C=s[S];if(e.multiline){if(S===f){k+=C[x]+" ",x=(x+1)%C.length;continue}if(S===p){k+=C[C.length-1]+" ";continue}}k+=C[0]+" "}switch(k=" "==k.substr(k.length-1)?k.substr(0,k.length-1):k,d=k9(k,e,a).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=d9(c)+" "+d9(h)+" Td\n",t+="("+l9(k)+") Tj\n",t+=-d9(c)+" 0 Td\n",h=-(a+2),d=0,p=v?f:f+1,b++,g=""}break}return n.text=t,n.fontSize=a,n},k9=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},S9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},C9=function(e,t){var r={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===r.type&&e.object===r.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},A9=i9.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(e){return e};if(Array.isArray(e)){for(var s="[",a=0;a<e.length;a++)switch(0!==a&&(s+=" "),cn(e[a])){case"boolean":case"number":case"object":s+=e[a].toString();break;case"string":"/"!==e[a].substr(0,1)?(void 0!==t&&r&&(n=r.internal.getEncryptor(t)),s+="("+l9(n(e[a].toString()))+")"):s+=e[a].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},T9=function(e,t,r){var n=function(e){return e};return void 0!==t&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+l9(n(e))+")"},E9=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};E9.prototype.toString=function(){return this.objId+" 0 R"},E9.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},E9.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var r in t)if(!1===Object.getOwnPropertyDescriptor(this,t[r]).configurable){var n=t[r],s=this[n];s&&(Array.isArray(s)?e.push({key:n,value:A9(s,this.objId,this.scope)}):s instanceof E9?(s.scope=this.scope,e.push({key:n,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:n,value:s}))}return e};var _9=function(){E9.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};m9(_9,E9);var P9=function(){E9.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+l9(t(e))+")"}},set:function(t){e=t}})};m9(P9,E9);var D9=function e(){E9.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(t,3))},set:function(e){!0===Boolean(e)?this.F=y9(t,3):this.F=v9(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');r=e}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==n.length)return n},set:function(e){n=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(e){n[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(e){n[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(e){n[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(e){n[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof B9)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+l9(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/o9:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof B9||this instanceof $9))return T9(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof R9==0?T9(m,this.objId,this.scope):m},set:function(e){e=e.toString(),m=this instanceof R9==0?"("===e.substr(0,1)?c9(e.substr(1,e.length-2)):c9(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof R9==1?c9(m.substr(1,m.length-1)):m},set:function(e){e=e.toString(),m=this instanceof R9==1?"/"+e:e}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof R9==0?T9(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof R9==0?"("===e.substr(0,1)?c9(e.substr(1,e.length-2)):c9(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof R9==1?c9(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof R9==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(e){e=Boolean(e),f=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(e){p=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,1):this.Ff=v9(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,2):this.Ff=v9(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,3):this.Ff=v9(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==x)return x},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');x=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(x){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:x=2;break;case"center":case 1:x=1;break;default:x=0}}})};m9(D9,E9);var O9=function(){D9.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return A9(t,this.objId,this.scope)},set:function(e){var r,n;n=[],"string"==typeof(r=e)&&(n=function(e,t,r){r||(r=1);for(var n,s=[];n=t.exec(e);)s.push(n[r]);return s}(r,/\((.*?)\)/g)),t=n}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==r););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,18):this.Ff=v9(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=y9(this.Ff,19):this.Ff=v9(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=y9(this.Ff,20),t.sort()):this.Ff=v9(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,22):this.Ff=v9(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,23):this.Ff=v9(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,27):this.Ff=v9(this.Ff,27)}}),this.hasAppearanceStream=!1};m9(O9,D9);var L9=function(){O9.call(this),this.fontName="helvetica",this.combo=!1};m9(L9,O9);var M9=function(){L9.call(this),this.combo=!0};m9(M9,L9);var I9=function(){M9.call(this),this.edit=!0};m9(I9,M9);var R9=function(){D9.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,15):this.Ff=v9(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,16):this.Ff=v9(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,17):this.Ff=v9(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,26):this.Ff=v9(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var r,n=[];for(r in n.push("<<"),t)n.push("/"+r+" ("+l9(e(t[r]))+")");return n.push(">>"),n.join("\n")}},set:function(e){"object"===cn(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};m9(R9,D9);var z9=function(){R9.call(this),this.pushButton=!0};m9(z9,R9);var F9=function(){R9.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};m9(F9,R9);var B9=function(){var e,t;D9.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,r=[];for(t in r.push("<<"),n)r.push("/"+t+" ("+l9(e(n[t]))+")");return r.push(">>"),r.join("\n")},set:function(e){"object"===cn(e)&&(n=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(e){"string"==typeof e&&(n.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=W9.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};m9(B9,D9),F9.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},F9.prototype.createOption=function(e){var t=new B9;return t.Parent=this,t.optionName=e,this.Kids.push(t),G9.call(this.scope,t),t};var q9=function(){R9.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=W9.CheckBox.createAppearanceStream()};m9(q9,R9);var $9=function(){D9.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,13):this.Ff=v9(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,21):this.Ff=v9(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,23):this.Ff=v9(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,24):this.Ff=v9(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,25):this.Ff=v9(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,26):this.Ff=v9(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};m9($9,D9);var U9=function(){$9.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(b9(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=y9(this.Ff,14):this.Ff=v9(this.Ff,14)}}),this.password=!0};m9(U9,$9);var W9={CheckBox:{createAppearanceStream:function(){return{N:{On:W9.CheckBox.YesNormal},D:{On:W9.CheckBox.YesPushDown,Off:W9.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=N9(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+d9(W9.internal.getWidth(e))+" "+d9(W9.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+d9(a.fontSize)+" Tf "+s),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join("\n"),t},YesNormal:function(e){var t=p9(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),s=[],a=W9.internal.getHeight(e),i=W9.internal.getWidth(e),o=N9(e,e.caption);return s.push("1 g"),s.push("0 0 "+d9(i)+" "+d9(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+d9(i-1)+" "+d9(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+d9(o.fontSize)+" Tf "+n),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+d9(W9.internal.getWidth(e))+" "+d9(W9.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:W9.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=W9.RadioButton.Circle.YesNormal,t.D[e]=W9.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=p9(e);t.scope=e.scope;var r=[],n=W9.internal.getWidth(e)<=W9.internal.getHeight(e)?W9.internal.getWidth(e)/4:W9.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=W9.internal.Bezier_C,a=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+u9(W9.internal.getWidth(e)/2)+" "+u9(W9.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=[],n=W9.internal.getWidth(e)<=W9.internal.getHeight(e)?W9.internal.getWidth(e)/4:W9.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*W9.internal.Bezier_C).toFixed(5)),i=Number((n*W9.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+u9(W9.internal.getWidth(e)/2)+" "+u9(W9.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+u9(W9.internal.getWidth(e)/2)+" "+u9(W9.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=[],n=W9.internal.getWidth(e)<=W9.internal.getHeight(e)?W9.internal.getWidth(e)/4:W9.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),a=Number((s*W9.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+u9(W9.internal.getWidth(e)/2)+" "+u9(W9.internal.getHeight(e)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),r.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),r.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),r.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:W9.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=W9.RadioButton.Cross.YesNormal,t.D[e]=W9.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=p9(e);t.scope=e.scope;var r=[],n=W9.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+d9(W9.internal.getWidth(e)-2)+" "+d9(W9.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(d9(n.x1.x)+" "+d9(n.x1.y)+" m"),r.push(d9(n.x2.x)+" "+d9(n.x2.y)+" l"),r.push(d9(n.x4.x)+" "+d9(n.x4.y)+" m"),r.push(d9(n.x3.x)+" "+d9(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},YesPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=W9.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+d9(W9.internal.getWidth(e))+" "+d9(W9.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+d9(W9.internal.getWidth(e)-2)+" "+d9(W9.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(d9(r.x1.x)+" "+d9(r.x1.y)+" m"),n.push(d9(r.x2.x)+" "+d9(r.x2.y)+" l"),n.push(d9(r.x4.x)+" "+d9(r.x4.y)+" m"),n.push(d9(r.x3.x)+" "+d9(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=p9(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+d9(W9.internal.getWidth(e))+" "+d9(W9.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};W9.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=W9.internal.getWidth(e),r=W9.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},W9.internal.getWidth=function(e){var t=0;return"object"===cn(e)&&(t=h9(e.Rect[2])),t},W9.internal.getHeight=function(e){var t=0;return"object"===cn(e)&&(t=h9(e.Rect[3])),t};var V9,H9,G9=i9.addField=function(e){if(function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(D9.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(S9)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o9=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new P9,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.objId=void 0,n.hasAnnotation&&C9(n,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var r=!e;for(var n in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(n)){var s=e[n],a=[],i=s.Rect;if(s.Rect&&(s.Rect=j9(s.Rect,t)),t.internal.newObjectDeferredBegin(s.objId,!0),s.DA=W9.createDefaultAppearanceStream(s),"object"===cn(s)&&"function"==typeof s.getKeyValueListForStream&&(a=s.getKeyValueListForStream()),s.Rect=i,s.hasAppearanceStream&&!s.appearanceStreamContent){var o=w9(s);a.push({key:"AP",value:"<</N "+o+">>"}),t.internal.acroformPlugin.xForms.push(o)}if(s.appearanceStreamContent){var l="";for(var c in s.appearanceStreamContent)if(s.appearanceStreamContent.hasOwnProperty(c)){var d=s.appearanceStreamContent[c];if(l+="/"+c+" ",l+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var n in d)if(d.hasOwnProperty(n)){var u=d[n];"function"==typeof u&&(u=u.call(t,s)),l+="/"+n+" "+u+" ",t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u)}}else"function"==typeof(u=d)&&(u=u.call(t,s)),l+="/"+n+" "+u,t.internal.acroformPlugin.xForms.indexOf(u)>=0||t.internal.acroformPlugin.xForms.push(u);l+=">>"}a.push({key:"AP",value:"<<\n"+l+">>"})}t.internal.putStream({additionalKeyValues:a,objectId:s.objId}),t.internal.out("endobj")}r&&function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,s=e[r];t.internal.newObjectDeferredBegin(s.objId,!0),"object"===cn(s)&&"function"==typeof s.putStream&&s.putStream(),delete e[n]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}}(this,e),!(e instanceof D9))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};function K9(e){return e.reduce(function(e,t,r){return e[t]=r,e},{})}i9.AcroFormChoiceField=O9,i9.AcroFormListBox=L9,i9.AcroFormComboBox=M9,i9.AcroFormEditBox=I9,i9.AcroFormButton=R9,i9.AcroFormPushButton=z9,i9.AcroFormRadioButton=F9,i9.AcroFormCheckBox=q9,i9.AcroFormTextField=$9,i9.AcroFormPasswordField=U9,i9.AcroFormAppearance=W9,i9.AcroForm={ChoiceField:O9,ListBox:L9,ComboBox:M9,EditBox:I9,Button:R9,PushButton:z9,RadioButton:F9,CheckBox:q9,TextField:$9,PasswordField:U9,Appearance:W9},a9.AcroForm={ChoiceField:O9,ListBox:L9,ComboBox:M9,EditBox:I9,Button:R9,PushButton:z9,RadioButton:F9,CheckBox:q9,TextField:$9,PasswordField:U9,Appearance:W9},a9.AcroForm,function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(e,t){var s,a,i,o,l,c=r;if("RGBA"===(t=t||r)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(w(e))for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e[a]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){c=l;break}}return c===r&&t!==r&&(c=t),c},a=function e(t){for(var r=this.internal.write,n=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)&&t.transparency.length>0){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(n({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),r("endobj"),"sMask"in t&&void 0!==t.sMask){var d,u=null!==(d=t.sMaskBitsPerComponent)&&void 0!==d?d:t.bitsPerComponent,m={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:u,data:t.sMask};"filter"in t&&(m.decodeParameters="/Predictor ".concat(t.predictor," /Colors 1 /BitsPerComponent ").concat(u," /Columns ").concat(t.width),m.filter=t.filter),e.call(this,m)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();n({data:k(new Uint8Array(t.palette)),objectId:h}),r("endobj")}},i=function(){var e=this.internal.collections[t+"images"];for(var r in e)a.call(this,e[r])},o=function(){var e,r=this.internal.collections[t+"images"],n=this.internal.write;for(var s in r)n("/I"+(e=r[s]).index,e.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections[t+"images"];return l.call(this),e},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},m=function(e){return"object"===cn(e)&&1===e.nodeType},h=function(t,r){if("IMG"===t.nodeName&&t.hasAttribute("src")){var n=""+t.getAttribute("src");if(0===n.indexOf("data:image/"))return L6(unescape(n).split("base64,").pop());var s=e.loadFile(n,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(r){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return L6(t.toDataURL(a,1).split("base64,").pop())}},p=function(e){var r=this.internal.collections[t+"images"];if(r)for(var n in r)if(e===r[n].alias)return r[n]},f=function(e,t,r){return e||t||(e=-96,t=-96),e<0&&(e=-1*r.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*r.height*72/t/this.internal.scaleFactor),0===e&&(e=t*r.width/r.height),0===t&&(t=e*r.height/r.width),[e,t]},x=function(e,t,r,n,s,a){var i=f.call(this,r,n,s),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(r=i[0],n=i[1],d[s.index]=s,a){a*=Math.PI/180;var u=Math.cos(a),m=Math.sin(a),h=function(e){return e.toFixed(4)},p=[h(u),h(m),h(-1*m),h(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+n),"cm"].join(" ")),this.internal.write(p.join(" ")),this.internal.write([o(r),"0","0",o(n),"0","0","cm"].join(" "))):this.internal.write([o(r),"0","0",o(n),o(e),l(t+n),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=e.__addimage__.sHashCode=function(e){var t,r,n=0;if("string"==typeof e)for(r=e.length,t=0;t<r;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;else if(w(e))for(r=e.byteLength/2,t=0;t<r;t++)n=(n<<5)-n+e[t],n|=0;return n},v=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},j=e.__addimage__.extractImageFromDataUrl=function(e){if(null==e)return null;if(!(e=e.trim()).startsWith("data:"))return null;var t=e.indexOf(",");return t<0?null:e.substring(0,t).trim().endsWith("base64")?e.substring(t+1):null};e.__addimage__.isArrayBuffer=function(e){return e instanceof ArrayBuffer};var w=e.__addimage__.isArrayBufferView=function(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r},k=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",r=w(e)?e:new Uint8Array(e),n=0;n<r.length;n+=8192)t+=String.fromCharCode.apply(null,r.subarray(n,n+8192));return t};e.addImage=function(){var e,t,n,s,a,i,o,c,d;if("number"==typeof arguments[1]?(t=r,n=arguments[1],s=arguments[2],a=arguments[3],i=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7]):(t=arguments[1],n=arguments[2],s=arguments[3],a=arguments[4],i=arguments[5],o=arguments[6],c=arguments[7],d=arguments[8]),"object"===cn(e=arguments[0])&&!m(e)&&"imageData"in e){var u=e;e=u.imageData,t=u.format||t||r,n=u.x||n||0,s=u.y||s||0,a=u.w||u.width||a,i=u.h||u.height||i,o=u.alias||o,c=u.compression||c,d=u.rotation||u.angle||d}var h=this.internal.getFilters();if(void 0===c&&-1!==h.indexOf("FlateEncode")&&(c="SLOW"),isNaN(n)||isNaN(s))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var p=S.call(this,e,t,o,c);return x.call(this,n,s,a,i,p,d),this};var S=function(t,n,a,i){var o,l,c,f;if("string"==typeof t&&s(t)===r){t=unescape(t);var x=C(t,!1);(""!==x||void 0!==(x=e.loadFile(t,!0)))&&(t=x)}if(m(t)&&(t=h(t,n)),n=s(t,n),!u(n))throw new Error("addImage does not support files of type '"+n+"', please ensure that a plugin for '"+n+"' support is added.");if((null==(c=a)||0===c.length)&&(a="string"==typeof(f=t)||w(f)?y(f):w(f.data)?y(f.data):null),(o=p.call(this,a))||(t instanceof Uint8Array||"RGBA"===n||(l=t,t=N(t)),o=this["process"+n.toUpperCase()](t,d.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:b.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},C=e.__addimage__.convertBase64ToBinaryString=function(e,t){t="boolean"!=typeof t||t;var r,n="";if("string"==typeof e){var s;r=null!==(s=j(e))&&void 0!==s?s:e;try{n=L6(r)}catch(a){if(t)throw v(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+a.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return n};e.getImageProperties=function(t){var n,a,i="";if(m(t)&&(t=h(t)),"string"==typeof t&&s(t)===r&&(""===(i=C(t,!1))&&(i=e.loadFile(t)||""),t=i),a=s(t),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(t instanceof Uint8Array||(t=N(t)),!(n=this["process"+a.toUpperCase()](t)))throw new Error("An unknown error occurred whilst processing the image");return n.fileType=a,n}}(a9.API),
/**
* @license
* Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
V9=a9.API,H9=function(e){if(void 0!==e&&""!=e)return!0},a9.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),V9.events.push(["putPage",function(e){for(var t,r,n,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,i=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,l=!1,c=0;c<o.length&&!l;c++)switch((t=o[c]).type){case"link":(H9(t.options.url)||H9(t.options.pageNumber))&&(l=!0);break;case"reference":case"text":case"freetext":l=!0}if(0!=l){this.internal.write("/Annots [");for(var d=0;d<o.length;d++){t=o[d];var u=this.internal.pdfEscape,m=this.internal.getEncryptor(e.objId);switch(t.type){case"reference":this.internal.write(" "+t.object.objId+" 0 R ");break;case"text":var h=this.internal.newAdditionalObject(),p=this.internal.newAdditionalObject(),f=this.internal.getEncryptor(h.objId),x=t.title||"Note";n="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(t.bounds.x)+" "+a(t.bounds.y+t.bounds.h)+" "+s(t.bounds.x+t.bounds.w)+" "+a(t.bounds.y)+"] ")+"/Contents ("+u(f(t.contents))+")",n+=" /Popup "+p.objId+" 0 R",n+=" /P "+i.objId+" 0 R",n+=" /T ("+u(f(x))+") >>",h.content=n;var g=h.objId+" 0 R";n="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(t.bounds.x+30)+" "+a(t.bounds.y+t.bounds.h)+" "+s(t.bounds.x+t.bounds.w+30)+" "+a(t.bounds.y)+"] ")+" /Parent "+g,t.open&&(n+=" /Open true"),n+=" >>",p.content=n,this.internal.write(h.objId,"0 R",p.objId,"0 R");break;case"freetext":r="/Rect ["+s(t.bounds.x)+" "+a(t.bounds.y)+" "+s(t.bounds.x+t.bounds.w)+" "+a(t.bounds.y+t.bounds.h)+"] ";var b=t.color||"#000000";n="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+u(m(t.contents))+")",n+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",n+=" /Border [0 0 0]",n+=" >>",this.internal.write(n);break;case"link":if(t.options.name){var y=this.annotations._nameMap[t.options.name];t.options.pageNumber=y.page,t.options.top=y.y}else t.options.top||(t.options.top=0);if(r="/Rect ["+t.finalBounds.x+" "+t.finalBounds.y+" "+t.finalBounds.w+" "+t.finalBounds.h+"] ",n="",t.options.url)n="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+u(m(t.options.url))+") >>";else if(t.options.pageNumber)switch(n="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(t.options.pageNumber).objId+" 0 R",t.options.magFactor=t.options.magFactor||"XYZ",t.options.magFactor){case"Fit":n+=" /Fit]";break;case"FitH":n+=" /FitH "+t.options.top+"]";break;case"FitV":t.options.left=t.options.left||0,n+=" /FitV "+t.options.left+"]";break;default:var v=a(t.options.top);t.options.left=t.options.left||0,void 0===t.options.zoom&&(t.options.zoom=0),n+=" /XYZ "+t.options.left+" "+v+" "+t.options.zoom+"]"}""!=n&&(n+=" >>",this.internal.write(n))}}this.internal.write("]")}}]),V9.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},V9.link=function(e,t,r,n,s){var a=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+r),h:o(t+n)},options:s,type:"link"})},V9.textWithLink=function(e,t,r,n){var s,a,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==n.maxWidth){a=n.maxWidth;var l=this.splitTextToSize(e,a).length;s=Math.ceil(o*l)}else a=i,s=o;return this.text(e,t,r,n),r+=.2*o,"center"===n.align&&(t-=i/2),"right"===n.align&&(t-=i),this.link(t,r-o,a,s,n),i},V9.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor},
/**
* @license
* Copyright (c) 2017 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,n=r,s="",a=0;for(t=0;t<e.length;t+=1)void 0!==n[e.charCodeAt(t)]?(a++,"number"==typeof(n=n[e.charCodeAt(t)])&&(s+=String.fromCharCode(n),n=r,a=0),t===e.length-1&&(n=r,s+=e.charAt(t-(a-1)),t-=a-1,a=0)):(n=r,s+=e.charAt(t-a),t-=a,a=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==n[e.charCodeAt(0)]};var m=e.__arabicParser__.getCorrectForm=function(e,t,r){return i(e)?!1===a(e)?-1:!c(e)||!i(t)&&!i(r)||!i(r)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(r)&&c(r)?3:o(e)||!i(r)?1:2:-1},h=function(e){var r=0,n=0,s=0,a="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(r=0;r<c.length;r+=1){for(d.push(""),n=0;n<c[r].length;n+=1)a=c[r][n],o=c[r][n-1],l=c[r][n+1],i(a)?(s=m(a,o,l),d[r]+=-1!==s?String.fromCharCode(t[a.charCodeAt(0)][s]):a):d[r]+=a;d[r]=u(d[r])}return d.join(" ")},p=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,r=[];if(Array.isArray(t)){var n=0;for(r=[],n=0;n<t.length;n+=1)Array.isArray(t[n])?r.push([h(t[n][0]),t[n][1],t[n][2]]):r.push([h(t[n])]);e=r}else e=h(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",p])}(a9.API),a9.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform","javascript"===e.variant?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},
/**
* @license
* Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(e){r=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var n=[];Object.defineProperty(this,"childNodes",{get:function(){return n},set:function(e){n=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var r;if("2d"!==(e=e||"2d"))return null;for(r in t)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=t[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(a9.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var r=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var n=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return n.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){n.call(this);var r=(t=t||{}).fontSize||this.getFontSize(),s=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:s})*r)&&(i=l);return 0!==i&&(o=e.length),{w:i/=a,h:Math.max((o*r*this.getLineHeightFactor()-r*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=e.cell=function(){var e;e=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var s=this.internal.__cell__.lastCell,i=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==s.lineNumber&&(s.lineNumber===e.lineNumber?(e.x=(s.x||0)+(s.width||0),e.y=s.y||0):s.y+s.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=s.y+s.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===r?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-i,e.y+i,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+i,{align:"center",baseline:"top",maxWidth:e.width-i-i}):this.text(e.text,e.x+i,e.y+i,{align:"left",baseline:"top",maxWidth:e.width-i-i})),this.internal.__cell__.lastCell=e,this};e.table=function(e,r,l,c,d){if(n.call(this),!l)throw new Error("No data for PDF table.");var u,m,h,p,f=[],x=[],g=[],b={},y={},v=[],j=[],w=(d=d||{}).autoSize||!1,N=!1!==d.printHeaders,k=d.css&&void 0!==d.css["font-size"]?16*d.css["font-size"]:d.fontSize||12,S=d.margins||Object.assign({width:this.getPageWidth()},t),C="number"==typeof d.padding?d.padding:3,A=d.headerBackgroundColor||"#c8c8c8",T=d.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=S,this.internal.__cell__.table_font_size=k,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=T,this.setFontSize(k),null==c)x=f=Object.keys(l[0]),g=f.map(function(){return"left"});else if(Array.isArray(c)&&"object"===cn(c[0]))for(f=c.map(function(e){return e.name}),x=c.map(function(e){return e.prompt||e.name||""}),g=c.map(function(e){return e.align||"left"}),u=0;u<c.length;u+=1)y[c[u].name]=.7499990551181103*c[u].width;else Array.isArray(c)&&"string"==typeof c[0]&&(x=f=c,g=f.map(function(){return"left"}));if(w||Array.isArray(c)&&"string"==typeof c[0])for(u=0;u<f.length;u+=1){for(b[p=f[u]]=l.map(function(e){return e[p]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(x[u],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=b[p],this.setFont(void 0,"normal"),h=0;h<m.length;h+=1)v.push(this.getTextDimensions(m[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[p]=Math.max.apply(null,v)+C+C,v=[]}if(N){var E={};for(u=0;u<f.length;u+=1)E[f[u]]={},E[f[u]].text=x[u],E[f[u]].align=g[u];var _=o.call(this,E,y);j=f.map(function(t){return new a(e,r,y[t],_,E[t].text,void 0,E[t].align)}),this.setTableHeaderRow(j),this.printHeaderRow(1,!1)}var P=c.reduce(function(e,t){return e[t.name]=t.align,e},{});for(u=0;u<l.length;u+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:u,data:l[u]},this);var D=o.call(this,l[u],y);for(h=0;h<f.length;h+=1){var O=l[u][f[h]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:u,col:h,data:O},this),i.call(this,new a(e,r,y[f[h]],D,O,u+2,P[f[h]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=r,this};var o=function(e,t){var r=this.internal.__cell__.padding,n=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(n){var s=e[n];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[n]-r-r)},this).map(function(e){return this.getLineHeightFactor()*e.length*n/s+r+r},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){n.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var s;if(r=!0,"function"==typeof this.internal.__cell__.headerFunction){var o=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(o[0],o[1],o[2],o[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){s=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(s.y=this.internal.__cell__.margins.top||0,l.push(s)),s.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,s),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),r=!1}}(a9.API);var Y9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],J9=K9(X9),Q9=[100,200,300,400,500,600,700,800,900],Z9=K9(Q9);function e7(e){var t,r=e.family.replace(/"|'/g,"").toLowerCase(),n=(t=e.style,Y9[t=t||"normal"]?t:"normal"),s=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),a=function(e){return"number"==typeof J9[e=e||"normal"]?e:"normal"}(e.stretch);return{family:r,style:n,weight:s,stretch:a,src:e.src||[],ref:e.ref||{name:r,style:[a,n,s].join(" ")}}}function t7(e,t,r,n){var s;for(s=r;s>=0&&s<t.length;s+=n)if(e[t[s]])return e[t[s]];for(s=r;s>=0&&s<t.length;s-=n)if(e[t[s]])return e[t[s]]}var r7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},n7={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s7(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function a7(e){return e.trimLeft()}function i7(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function o7(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var l7,c7,d7,u7,m7,h7,p7,f7,x7=["times"];function g7(e,t,r,n,s){var a=4,i=v7;switch(s){case a9.API.image_compression.FAST:a=1,i=y7;break;case a9.API.image_compression.MEDIUM:a=6,i=j7;break;case a9.API.image_compression.SLOW:a=9,i=w7}e=function(e,t,r,n){for(var s,a=e.length/t,i=new Uint8Array(e.length+a),o=[b7,y7,v7,j7,w7],l=0;l<a;l+=1){var c=l*t,d=e.subarray(c,c+t);if(n)i.set(n(d,r,s),c+l);else{for(var u=o.length,m=[],h=0;h<u;h+=1)m[h]=o[h](d,r,s);var p=k7(m.concat());i.set(m[p],c+l)}s=d}return i}(e,t,Math.ceil(r*n/8),i);var o=o4(e,{level:a});return a9.API.__addimage__.arrayBufferToBinaryString(o)}function b7(e){var t=Array.apply([],e);return t.unshift(0),t}function y7(e,t){var r=e.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var a=e[s-t]||0;n[s+1]=e[s]-a+256&255}return n}function v7(e,t,r){var n=e.length,s=[];s[0]=2;for(var a=0;a<n;a+=1){var i=r&&r[a]||0;s[a+1]=e[a]-i+256&255}return s}function j7(e,t,r){var n=e.length,s=[];s[0]=3;for(var a=0;a<n;a+=1){var i=e[a-t]||0,o=r&&r[a]||0;s[a+1]=e[a]+256-(i+o>>>1)&255}return s}function w7(e,t,r){var n=e.length,s=[];s[0]=4;for(var a=0;a<n;a+=1){var i=N7(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);s[a+1]=e[a]-i+256&255}return s}function N7(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),s=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=s&&n<=a?e:s<=a?t:r}function k7(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))}function S7(e,t,r){var n=t*r,s=Math.floor(n/8),a=16-(n-8*s+r),i=(1<<r)-1;return A7(e,s)>>a&i}function C7(e,t,r,n){var s=r*n,a=Math.floor(s/8),i=16-(s-8*a+n),o=(1<<n)-1,l=(t&o)<<i;!function(e,t,r){if(t+1<e.byteLength)e.setUint16(t,r,!1);else{var n=r>>8&255;e.setUint8(t,n)}}(e,a,A7(e,a)&~(o<<i)&65535|l)}function A7(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function T7(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,m=null,h=0,p=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var f=e[t++];u=e[t++]|e[t++]<<8,m=e[t++],1&f||(m=null),h=f>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,v=e[t++],j=v>>6&1,w=1<<1+(7&v),N=o,k=l,S=!1;v>>7&&(S=!0,N=t,k=w,t+=3*w);var C=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(0===A)break;t+=A}d.push({x:x,y:g,width:b,height:y,has_local_palette:S,palette_offset:N,palette_size:k,data_offset:C,data_length:t-C,transparent_index:m,interlaced:!!j,delay:u,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,n){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);E7(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=r-c,u=c,m=4*(s.y*r+s.x),h=4*((s.y+s.height)*r+s.x),p=m,f=4*d;!0===s.interlaced&&(f+=4*r*7);for(var x=8,g=0,b=i.length;g<b;++g){var y=i[g];if(0===u&&(u=c,(p+=f)>=h&&(f=4*d+4*r*(x-1),p=m+(c+d)*(x<<1),x>>=1)),y===l)p+=4;else{var v=e[o+3*y],j=e[o+3*y+1],w=e[o+3*y+2];n[p++]=w,n[p++]=j,n[p++]=v,n[p++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,n){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);E7(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=r-c,u=c,m=4*(s.y*r+s.x),h=4*((s.y+s.height)*r+s.x),p=m,f=4*d;!0===s.interlaced&&(f+=4*r*7);for(var x=8,g=0,b=i.length;g<b;++g){var y=i[g];if(0===u&&(u=c,(p+=f)>=h&&(f=4*d+4*r*(x-1),p=m+(c+d)*(x<<1),x>>=1)),y===l)p+=4;else{var v=e[o+3*y],j=e[o+3*y+1],w=e[o+3*y+2];n[p++]=v,n[p++]=j,n[p++]=w,n[p++]=255}--u}}}function E7(e,t,r,n){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,l=s+1,c=(1<<l)-1,d=0,u=0,m=0,h=e[t++],p=new Int32Array(4096),f=null;;){for(;d<16&&0!==h;)u|=e[t++]<<d,d+=8,1===h?h=e[t++]:--h;if(d<l)break;var x=u&c;if(u>>=l,d-=l,x!==a){if(x===i)break;for(var g=x<o?x:f,b=0,y=g;y>a;)y=p[y]>>8,++b;var v=y;if(m+b+(g!==x?1:0)>n)return void T6.log("Warning, gif stream longer than expected.");r[m++]=v;var j=m+=b;for(g!==x&&(r[m++]=v),y=g;b--;)y=p[y],r[--j]=255&y,y>>=8;null!==f&&o<4096&&(p[o++]=f<<8|v,o>=c+1&&l<12&&(++l,c=c<<1|1)),f=x}else o=i+1,c=(1<<(l=s+1))-1,f=null}return m!==n&&T6.log("Warning, gif stream shorter than expected."),r}function _7(e){var t,r,n,s,a,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),m=new Array(65535),h=new Array(64),p=new Array(64),f=[],x=0,g=7,b=new Array(64),y=new Array(64),v=new Array(64),j=new Array(256),w=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],_=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],P=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function D(e,t){for(var r=0,n=0,s=new Array,a=1;a<=16;a++){for(var i=1;i<=e[a];i++)s[t[n]]=[],s[t[n]][0]=r,s[t[n]][1]=a,n++,r++;r*=2}return s}function O(e){for(var t=e[0],r=e[1]-1;r>=0;)t&1<<r&&(x|=1<<g),r--,--g<0&&(255==x?(L(255),L(0)):L(x),g=7,x=0)}function L(e){f.push(e)}function M(e){L(e>>8&255),L(255&e)}function I(e,t,r,n,s){for(var a,i=s[0],o=s[240],l=function(e,t){var r,n,s,a,i,o,l,c,d,u,m=0;for(d=0;d<8;++d){r=e[m],n=e[m+1],s=e[m+2],a=e[m+3],i=e[m+4],o=e[m+5],l=e[m+6];var p=r+(c=e[m+7]),f=r-c,x=n+l,g=n-l,b=s+o,y=s-o,v=a+i,j=a-i,w=p+v,N=p-v,k=x+b,S=x-b;e[m]=w+k,e[m+4]=w-k;var C=.707106781*(S+N);e[m+2]=N+C,e[m+6]=N-C;var A=.382683433*((w=j+y)-(S=g+f)),T=.5411961*w+A,E=1.306562965*S+A,_=.707106781*(k=y+g),P=f+_,D=f-_;e[m+5]=D+T,e[m+3]=D-T,e[m+1]=P+E,e[m+7]=P-E,m+=8}for(m=0,d=0;d<8;++d){r=e[m],n=e[m+8],s=e[m+16],a=e[m+24],i=e[m+32],o=e[m+40],l=e[m+48];var O=r+(c=e[m+56]),L=r-c,M=n+l,I=n-l,R=s+o,z=s-o,F=a+i,B=a-i,q=O+F,$=O-F,U=M+R,W=M-R;e[m]=q+U,e[m+32]=q-U;var V=.707106781*(W+$);e[m+16]=$+V,e[m+48]=$-V;var H=.382683433*((q=B+z)-(W=I+L)),G=.5411961*q+H,K=1.306562965*W+H,Y=.707106781*(U=z+I),X=L+Y,J=L-Y;e[m+40]=J+G,e[m+24]=J-G,e[m+8]=X+K,e[m+56]=X-K,m++}for(d=0;d<64;++d)u=e[d]*t[d],h[d]=u>0?u+.5|0:u-.5|0;return h}(e,t),c=0;c<64;++c)p[N[c]]=l[c];var d=p[0]-r;r=p[0],0==d?O(n[0]):(O(n[m[a=32767+d]]),O(u[a]));for(var f=63;f>0&&0==p[f];)f--;if(0==f)return O(i),r;for(var x,g=1;g<=f;){for(var b=g;0==p[g]&&g<=f;)++g;var y=g-b;if(y>=16){x=y>>4;for(var v=1;v<=x;++v)O(o);y&=15}a=32767+p[g],O(s[(y<<4)+m[a]]),O(u[a]),g++}return 63!=f&&O(i),r}function R(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],r=0;r<64;r++){var n=i((t[r]*e+50)/100);n=Math.min(Math.max(n,1),255),o[N[r]]=n}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=i((s[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[N[a]]=u}for(var m=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],h=0,p=0;p<8;p++)for(var f=0;f<8;f++)c[h]=1/(o[N[h]]*m[p]*m[f]*8),d[h]=1/(l[N[h]]*m[p]*m[f]*8),h++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){var i,u;a&&R(a),f=new Array,x=0,g=7,M(65496),M(65504),M(16),L(74),L(70),L(73),L(70),L(0),L(1),L(1),L(0),M(1),M(1),L(0),L(0),function(){M(65499),M(132),L(0);for(var e=0;e<64;e++)L(o[e]);L(1);for(var t=0;t<64;t++)L(l[t])}(),i=e.width,u=e.height,M(65472),M(17),L(8),M(u),M(i),L(3),L(1),L(17),L(0),L(2),L(17),L(1),L(3),L(17),L(1),function(){M(65476),M(418),L(0);for(var e=0;e<16;e++)L(k[e+1]);for(var t=0;t<=11;t++)L(S[t]);L(16);for(var r=0;r<16;r++)L(C[r+1]);for(var n=0;n<=161;n++)L(A[n]);L(1);for(var s=0;s<16;s++)L(T[s+1]);for(var a=0;a<=11;a++)L(E[a]);L(17);for(var i=0;i<16;i++)L(_[i+1]);for(var o=0;o<=161;o++)L(P[o])}(),M(65498),M(12),L(3),L(1),L(0),L(2),L(17),L(3),L(17),L(0),L(63),L(0);var m=0,h=0,p=0;x=0,g=7,this.encode.displayName="_encode_";for(var j,N,D,z,F,B,q,$,U,W=e.data,V=e.width,H=e.height,G=4*V,K=0;K<H;){for(j=0;j<G;){for(F=G*K+j,q=-1,$=0,U=0;U<64;U++)B=F+($=U>>3)*G+(q=4*(7&U)),K+$>=H&&(B-=G*(K+1+$-H)),j+q>=G&&(B-=j+q-G+4),N=W[B++],D=W[B++],z=W[B++],b[U]=(w[N]+w[D+256|0]+w[z+512|0]>>16)-128,y[U]=(w[N+768|0]+w[D+1024|0]+w[z+1280|0]>>16)-128,v[U]=(w[N+1280|0]+w[D+1536|0]+w[z+1792|0]>>16)-128;m=I(b,c,m,t,n),h=I(y,d,h,r,s),p=I(v,d,p,r,s),j+=32}K+=8}if(g>=0){var Y=[];Y[1]=g+1,Y[0]=(1<<g+1)-1,O(Y)}return M(65497),new Uint8Array(f)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)j[t]=e(t)}(),t=D(k,S),r=D(T,E),n=D(C,A),s=D(_,P),function(){for(var e=1,t=2,r=1;r<=15;r++){for(var n=e;n<t;n++)m[32767+n]=r,u[32767+n]=[],u[32767+n][1]=r,u[32767+n][0]=n;for(var s=-(t-1);s<=-e;s++)m[32767+s]=r,u[32767+s]=[],u[32767+s][1]=r,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),R(e)}function P7(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function D7(e){function t(e){if(!e)throw Error("assert :P")}function r(e,t,r){for(var n=0;4>n;n++)if(e[t+n]!=r.charCodeAt(n))return!0;return!1}function n(e,t,r,n,s){for(var a=0;a<s;a++)e[t+a]=r[n+a]}function s(e,t,r,n){for(var s=0;s<n;s++)e[t+s]=r}function a(e){return new Int32Array(e)}function i(e,t){for(var r=[],n=0;n<e;n++)r.push(new t);return r}function o(e,t){var r=[];return function e(r,n,s){for(var a=s[n],i=0;i<a&&(r.push(s.length>n+1?[]:new t),!(s.length<n+1));i++)e(r[i],n+1,s)}(r,0,e),r}var l=function(){var e=this;function l(e,t){for(var r=1<<t-1>>>0;e&r;)r>>>=1;return r?(e&r-1)+r:e}function c(e,r,n,s,a){t(!(s%n));do{e[r+(s-=n)]=a}while(0<s)}function d(e,r,n,s,i){if(t(2328>=i),512>=i)var o=a(512);else if(null==(o=a(i)))return 0;return function(e,r,n,s,i,o){var d,m,h=r,p=1<<n,f=a(16),x=a(16);for(t(0!=i),t(null!=s),t(null!=e),t(0<n),m=0;m<i;++m){if(15<s[m])return 0;++f[s[m]]}if(f[0]==i)return 0;for(x[1]=0,d=1;15>d;++d){if(f[d]>1<<d)return 0;x[d+1]=x[d]+f[d]}for(m=0;m<i;++m)d=s[m],0<s[m]&&(o[x[d]++]=m);if(1==x[15])return(s=new u).g=0,s.value=o[0],c(e,h,1,p,s),p;var g,b=-1,y=p-1,v=0,j=1,w=1,N=1<<n;for(m=0,d=1,i=2;d<=n;++d,i<<=1){if(j+=w<<=1,0>(w-=f[d]))return 0;for(;0<f[d];--f[d])(s=new u).g=d,s.value=o[m++],c(e,h+v,i,N,s),v=l(v,d)}for(d=n+1,i=2;15>=d;++d,i<<=1){if(j+=w<<=1,0>(w-=f[d]))return 0;for(;0<f[d];--f[d]){if(s=new u,(v&y)!=b){for(h+=N,g=1<<(b=d)-n;15>b&&!(0>=(g-=f[b]));)++b,g<<=1;p+=N=1<<(g=b-n),e[r+(b=v&y)].g=g+n,e[r+b].value=h-r-b}s.g=d-n,s.value=o[m++],c(e,h+(v>>n),i,N,s),v=l(v,d)}}return j!=2*x[15]-1?0:p}(e,r,n,s,i,o)}function u(){this.value=this.g=0}function m(){this.value=this.g=0}function h(){this.G=i(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Rr,m)}function p(e,r,n,s){t(null!=e),t(null!=r),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=r,e.pa=n,e.Jd=r,e.Yc=n+s,e.Zc=4<=s?n+s-4+1:n,C(e)}function f(e,t){for(var r=0;0<t--;)r|=T(e,128)<<t;return r}function x(e,t){var r=f(e,t);return A(e)?-r:r}function g(e,r,n,s){var a,i=0;for(t(null!=e),t(null!=r),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),a=0;a<s;++a)i+=r[n+a]<<8*a;e.Ra=i,e.bb=s,e.oa=r,e.pa=n}function b(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<Br-8>>>0,++e.bb,e.u-=8;N(e)&&(e.h=1,e.u=0)}function y(e,r){if(t(0<=r),!e.h&&r<=Fr){var n=w(e)&zr[r];return e.u+=r,b(e),n}return e.h=1,e.u=0}function v(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&Br-1)>>>0}function N(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>Br}function k(e,t){e.u=t,e.h=N(e)}function S(e){e.u>=qr&&(t(e.u>=qr),b(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function A(e){return f(e,1)}function T(e,t){var r=e.Ca;0>e.b&&C(e);var n=e.b,s=r*t>>>8,a=(e.I>>>n>s)+0;for(a?(r-=s,e.I-=s+1<<n>>>0):r=s+1,n=r,s=0;256<=n;)s+=8,n>>=8;return n=7^s+$r[n],e.b-=n,e.Ca=(r<<n)-1,a}function E(e,t,r){e[t+0]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r}function _(e,t){return e[t+0]|e[t+1]<<8}function P(e,t){return _(e,t)|e[t+2]<<16}function D(e,t){return _(e,t)|_(e,t+2)<<16}function O(e,r){var n=1<<r;return t(null!=e),t(0<r),e.X=a(n),null==e.X?0:(e.Mb=32-r,e.Xa=r,1)}function L(e,r){t(null!=e),t(null!=r),t(e.Xa==r.Xa),n(r.X,0,e.X,0,1<<r.Xa)}function M(){this.X=[],this.Xa=this.Mb=0}function I(e,r,n,s){t(null!=n),t(null!=s);var a=n[0],i=s[0];return 0==a&&(a=(e*i+r/2)/r),0==i&&(i=(r*a+e/2)/e),0>=a||0>=i?0:(n[0]=a,s[0]=i,1)}function R(e,t){return e+(1<<t)-1>>>t}function z(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function F(t,r){e[r]=function(r,n,s,a,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],s,a+c);o[l+c]=z(r[n+c],d)}}}function B(){this.ud=this.hd=this.jd=0}function q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function $(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function U(e,t){return $(e+(e-t+.5>>1))}function W(e,t,r){return Math.abs(t-r)-Math.abs(e-r)}function V(e,t,r,n,s,a,i){for(n=a[i-1],r=0;r<s;++r)a[i+r]=n=z(e[t+r],n)}function H(e,t,r,n,s){var a;for(a=0;a<r;++a){var i=e[t+a],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));n[s+a]=(4278255360&i)+l>>>0}}function G(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function K(e,t,r,n,s,a){var i;for(i=0;i<n;++i){var o=t[r+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),s[a+i]=(4278255360&o)+(d<<16)+c}}function Y(t,r,n,s,a){e[r]=function(e,t,r,n,i,o,l,c,d){for(n=l;n<c;++n)for(l=0;l<d;++l)i[o++]=a(r[s(e[t++])])},e[t]=function(t,r,i,o,l,c,d){var u=8>>t.b,m=t.Ea,h=t.K[0],p=t.w;if(8>u)for(t=(1<<t.b)-1,p=(1<<u)-1;r<i;++r){var f,x=0;for(f=0;f<m;++f)f&t||(x=s(o[l++])),c[d++]=a(h[x&p]),x>>=u}else e["VP8LMapColor"+n](o,l,h,p,c,d,r,i,m)}}function X(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=a>>16&255,n[s++]=a>>8&255,n[s++]=255&a}}function J(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=a>>16&255,n[s++]=a>>8&255,n[s++]=255&a,n[s++]=a>>24&255}}function Q(e,t,r,n,s){for(r=t+r;t<r;){var a=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;n[s++]=a,n[s++]=i}}function Z(e,t,r,n,s){for(r=t+r;t<r;){var a=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;n[s++]=a,n[s++]=i}}function ee(e,t,r,n,s){for(r=t+r;t<r;){var a=e[t++];n[s++]=255&a,n[s++]=a>>8&255,n[s++]=a>>16&255}}function te(e,t,r,s,a,i){if(0==i)for(r=t+r;t<r;)E(s,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),a+=32;else n(s,a,e,t,r)}function re(t,r){e[r][0]=e[t+"0"],e[r][1]=e[t+"1"],e[r][2]=e[t+"2"],e[r][3]=e[t+"3"],e[r][4]=e[t+"4"],e[r][5]=e[t+"5"],e[r][6]=e[t+"6"],e[r][7]=e[t+"7"],e[r][8]=e[t+"8"],e[r][9]=e[t+"9"],e[r][10]=e[t+"10"],e[r][11]=e[t+"11"],e[r][12]=e[t+"12"],e[r][13]=e[t+"13"],e[r][14]=e[t+"0"],e[r][15]=e[t+"0"]}function ne(e){return e==$n||e==Un||e==Wn||e==Vn}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var r=e.T,s=t.ba.f.RGBA,a=s.eb,i=s.fb+e.ka*s.A,o=xs[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,m=e.ea,h=e.W,p=t.cc,f=t.dc,x=t.Mc,g=t.Nc,b=e.ka,y=e.ka+e.T,v=e.U,j=v+1>>1;for(0==b?o(l,c,null,null,d,u,m,h,d,u,m,h,a,i,null,null,v):(o(t.ec,t.fc,l,c,p,f,x,g,d,u,m,h,a,i-s.A,a,i,v),++r);b+2<y;b+=2)p=d,f=u,x=m,g=h,u+=e.Rc,h+=e.Rc,i+=2*s.A,o(l,(c+=2*e.fa)-e.fa,l,c,p,f,x,g,d,u,m,h,a,i-s.A,a,i,v);return c+=e.fa,e.j+y<e.o?(n(t.ec,t.fc,l,c,v),n(t.cc,t.dc,d,u,j),n(t.Mc,t.Nc,m,h,j),r--):1&y||o(l,c,null,null,d,u,m,h,d,u,m,h,a,i+s.A,null,null,v),r}function ue(e,r,n){var s=e.F,a=[e.J];if(null!=s){var i=e.U,o=r.ba.S,l=o==Fn||o==Wn;r=r.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=r.eb;d=r.fb+d*r.A,e=kn(s,a[0],e.width,i,c,u,d+(l?0:3),r.A),t(n==c),e&&ne(o)&&wn(u,d,l,i,c,r.A)}return 0}function me(e){var t=e.ma,r=t.ba.S,n=11>r,s=r==In||r==zn||r==Fn||r==Bn||12==r||ne(r);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Lr(t.Oa,e,s?11:12))return 0;if(s&&ne(r)&&gr(),e.da)alert("todo:use_scaling");else{if(n){if(t.Ib=ce,e.Kb){if(r=e.U+1>>1,t.memory=a(e.U+2*r),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+r,t.Ib=de,gr()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,n&&fr())}if(n&&!Es){for(e=0;256>e;++e)_s[e]=89858*(e-128)+Ss>>ks,Os[e]=-22014*(e-128)+Ss,Ds[e]=-45773*(e-128),Ps[e]=113618*(e-128)+Ss>>ks;for(e=Cs;e<As;++e)t=76283*(e-16)+Ss>>ks,Ls[e-Cs]=Ve(t,255),Ms[e-Cs]=Ve(t+8>>4,15);Es=1}return 1}function he(e){var r=e.ma,n=e.U,s=e.T;return t(!(1&e.ka)),0>=n||0>=s?0:(n=r.Ib(e,r),null!=r.Jb&&r.Jb(e,r,n),r.Dc+=n,1)}function pe(e){e.ma.memory=null}function fe(e,t,r,n){return 47!=y(e,8)?0:(t[0]=y(e,14)+1,r[0]=y(e,14)+1,n[0]=y(e,1),0!=y(e,3)?0:!e.h)}function xe(e,t){if(4>e)return e+1;var r=e-2>>1;return(2+(1&e)<<r)+y(t,r)+1}function ge(e,t){return 120<t?t-120:1<=(r=((r=Jn[t-1])>>4)*e+(8-(15&r)))?r:1;var r}function be(e,t,r){var n=w(r),s=e[t+=255&n].g-8;return 0<s&&(k(r,r.u+8),n=w(r),t+=e[t].value,t+=n&(1<<s)-1),k(r,r.u+e[t].g),e[t].value}function ye(e,r,n){return n.g+=e.g,n.value+=e.value<<r>>>0,t(8>=n.g),e.g}function ve(e,r,n){var s=e.xc;return t((r=0==s?0:e.vc[e.md*(n>>s)+(r>>s)])<e.Wb),e.Ya[r]}function je(e,r,s,a){var i=e.ab,o=e.c*r,l=e.C;r=l+r;var c=s,d=a;for(a=e.Ta,s=e.Ua;0<i--;){var u=e.gc[i],m=l,h=r,p=c,f=d,x=(d=a,c=s,u.Ea);switch(t(m<h),t(h<=u.nc),u.hc){case 2:Vr(p,f,(h-m)*x,d,c);break;case 0:var g=m,b=h,y=d,v=c,j=(C=u).Ea;0==g&&(Ur(p,f,null,null,1,y,v),V(p,f+1,0,0,j-1,y,v+1),f+=j,v+=j,++g);for(var w=1<<C.b,N=w-1,k=R(j,C.b),S=C.K,C=C.w+(g>>C.b)*k;g<b;){var A=S,T=C,E=1;for(Wr(p,f,y,v-j,1,y,v);E<j;){var _=(E&~N)+w;_>j&&(_=j),(0,Xr[A[T++]>>8&15])(p,f+ +E,y,v+E-j,_-E,y,v+E),E=_}f+=j,v+=j,++g&N||(C+=k)}h!=u.nc&&n(d,c-x,d,c+(h-m-1)*x,x);break;case 1:for(x=p,b=f,j=(p=u.Ea)-(v=p&~(y=(f=1<<u.b)-1)),g=R(p,u.b),w=u.K,u=u.w+(m>>u.b)*g;m<h;){for(N=w,k=u,S=new B,C=b+v,A=b+p;b<C;)G(N[k++],S),Jr(S,x,b,f,d,c),b+=f,c+=f;b<A&&(G(N[k++],S),Jr(S,x,b,j,d,c),b+=j,c+=j),++m&y||(u+=g)}break;case 3:if(p==d&&f==c&&0<u.b){for(b=d,p=x=c+(h-m)*x-(v=(h-m)*R(u.Ea,u.b)),f=d,y=c,g=[],v=(j=v)-1;0<=v;--v)g[v]=f[y+v];for(v=j-1;0<=v;--v)b[p+v]=g[v];Hr(u,m,h,d,x,d,c)}else Hr(u,m,h,p,f,d,c)}c=a,d=s}d!=s&&n(a,s,c,d,o)}function we(e,r){var n=e.V,s=e.Ba+e.c*e.C,a=r-e.C;if(t(r<=e.l.o),t(16>=a),0<a){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(je(e,a,n,s),a=l=[l],t((n=e.C)<(s=r)),t(i.v<i.va),s>i.o&&(s=i.o),n<i.j){var d=i.j-n;n=i.j,a[0]+=d*c}if(n>=s?n=0:(a[0]+=4*i.v,i.ka=n-i.j,i.U=i.va-i.v,i.T=s-n,n=1),n){if(l=l[0],11>(n=e.ca).S){var u=n.f.RGBA,m=(s=n.S,a=i.U,i=i.T,d=u.eb,u.A),h=i;for(u=u.fb+e.Ma*u.A;0<h--;){var p=o,f=l,x=a,g=d,b=u;switch(s){case Mn:Qr(p,f,x,g,b);break;case In:Zr(p,f,x,g,b);break;case $n:Zr(p,f,x,g,b),wn(g,b,0,x,1,0);break;case Rn:rn(p,f,x,g,b);break;case zn:te(p,f,x,g,b,1);break;case Un:te(p,f,x,g,b,1),wn(g,b,0,x,1,0);break;case Fn:te(p,f,x,g,b,0);break;case Wn:te(p,f,x,g,b,0),wn(g,b,1,x,1,0);break;case Bn:en(p,f,x,g,b);break;case Vn:en(p,f,x,g,b),Nn(g,b,x,1,0);break;case qn:tn(p,f,x,g,b);break;default:t(0)}l+=c,u+=m}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=n.height)}}e.C=r,t(e.C<=e.i)}function Ne(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var r=e.Ya[t].G,n=e.Ya[t].H;if(0<r[1][n[1]+0].g||0<r[2][n[2]+0].g||0<r[3][n[3]+0].g)return 0}return 1}function ke(e,r,n,s,a,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=fs[e.Z]);r<n;++r)fs[e.Z](o,l,s,a,s,a,i),o=s,l=a,a+=i;e.qd=o,e.rd=l}}function Se(e,r){var n=e.l.ma,s=0==n.Z||1==n.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(r<=e.l.o),r>s){var a=e.l.width,i=n.ca,o=n.tb+a*s,l=e.V,c=e.Ba+e.c*s,d=e.gc;t(1==e.ab),t(3==d[0].hc),Kr(d[0],s,r,l,c,i,o),ke(n,s,r,i,o,a)}e.C=e.Ma=r}function Ce(e,r,n,s,a,i,o){var l=e.$/s,c=e.$%s,d=e.m,u=e.s,m=n+e.$,h=m;a=n+s*a;var p=n+s*i,f=280+u.ua,x=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,b=u.wc,y=m<p?ve(u,c,l):null;t(e.C<i),t(p<=a);var v=!1;e:for(;;){for(;v||m<p;){var j=0;if(l>=x){var C=m-n;t((x=e).Pb),x.wd=x.m,x.xd=C,0<x.s.ua&&L(x.s.Wa,x.s.vb),x=l+Zn}if(c&b||(y=ve(u,c,l)),t(null!=y),y.Qb&&(r[m]=y.qb,v=!0),!v)if(S(d),y.jc){j=d,C=r;var A=m,T=y.pd[w(j)&Rr-1];t(y.jc),256>T.g?(k(j,j.u+T.g),C[A]=T.value,j=0):(k(j,j.u+T.g-256),t(256<=T.value),j=T.value),0==j&&(v=!0)}else j=be(y.G[0],y.H[0],d);if(d.h)break;if(v||256>j){if(!v)if(y.nd)r[m]=(y.qb|j<<8)>>>0;else{if(S(d),v=be(y.G[1],y.H[1],d),S(d),C=be(y.G[2],y.H[2],d),A=be(y.G[3],y.H[3],d),d.h)break;r[m]=(A<<24|v<<16|j<<8|C)>>>0}if(v=!1,++m,++c>=s&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=g))for(;h<m;)j=r[h++],g.X[(506832829*j&4294967295)>>>g.Mb]=j}else if(280>j){if(j=xe(j-256,d),C=be(y.G[4],y.H[4],d),S(d),C=ge(s,C=xe(C,d)),d.h)break;if(m-n<C||a-m<j)break e;for(A=0;A<j;++A)r[m+A]=r[m+A-C];for(m+=j,c+=j;c>=s;)c-=s,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(m<=a),c&b&&(y=ve(u,c,l)),null!=g)for(;h<m;)j=r[h++],g.X[(506832829*j&4294967295)>>>g.Mb]=j}else{if(!(j<f))break e;for(v=j-280,t(null!=g);h<m;)j=r[h++],g.X[(506832829*j&4294967295)>>>g.Mb]=j;j=m,t(!(v>>>(C=g).Xa)),r[j]=C.X[v],v=!0}v||t(d.h==N(d))}if(e.Pb&&d.h&&m<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&L(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=m-n}return 1}return e.a=3,0}function Ae(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var r=e.Wa;null!=r&&(r.X=null),e.vb=null,t(null!=e)}function Te(){var t=new ar;return null==t?null:(t.a=0,t.xb=ps,re("Predictor","VP8LPredictors"),re("Predictor","VP8LPredictors_C"),re("PredictorAdd","VP8LPredictorsAdd"),re("PredictorAdd","VP8LPredictorsAdd_C"),Vr=H,Jr=K,Qr=X,Zr=J,en=Q,tn=Z,rn=ee,e.VP8LMapColor32b=Gr,e.VP8LMapColor8b=Yr,t)}function Ee(e,r,n,o,l){var c=1,m=[e],p=[r],f=o.m,x=o.s,g=null,b=0;e:for(;;){if(n)for(;c&&y(f,1);){var v=m,j=p,N=o,C=1,A=N.m,T=N.gc[N.ab],E=y(A,2);if(N.Oc&1<<E)c=0;else{switch(N.Oc|=1<<E,T.hc=E,T.Ea=v[0],T.nc=j[0],T.K=[null],++N.ab,t(4>=N.ab),E){case 0:case 1:T.b=y(A,3)+2,C=Ee(R(T.Ea,T.b),R(T.nc,T.b),0,N,T.K),T.K=T.K[0];break;case 3:var _,P=y(A,8)+1,D=16<P?0:4<P?1:2<P?2:3;if(v[0]=R(T.Ea,D),T.b=D,_=C=Ee(P,1,0,N,T.K)){var L,M=P,I=T,F=1<<(8>>I.b),B=a(F);if(null==B)_=0;else{var q=I.K[0],$=I.w;for(B[0]=I.K[0][0],L=1;L<1*M;++L)B[L]=z(q[$+L],B[L-1]);for(;L<4*F;++L)B[L]=0;I.K[0]=null,I.K[0]=B,_=1}}C=_;break;case 2:break;default:t(0)}c=C}}if(m=m[0],p=p[0],c&&y(f,1)&&!(c=1<=(b=y(f,4))&&11>=b)){o.a=3;break e}var U;if(U=c)t:{var W,V,H,G=o,K=m,Y=p,X=b,J=n,Q=G.m,Z=G.s,ee=[null],te=1,re=0,ne=Qn[X];r:for(;;){if(J&&y(Q,1)){var se=y(Q,3)+2,ae=R(K,se),ie=R(Y,se),oe=ae*ie;if(!Ee(ae,ie,0,G,ee))break r;for(ee=ee[0],Z.xc=se,W=0;W<oe;++W){var le=ee[W]>>8&65535;ee[W]=le,le>=te&&(te=le+1)}}if(Q.h)break r;for(V=0;5>V;++V){var ce=Kn[V];!V&&0<X&&(ce+=1<<X),re<ce&&(re=ce)}var de=i(te*ne,u),ue=te,me=i(ue,h);if(null==me)var he=null;else t(65536>=ue),he=me;var pe=a(re);if(null==he||null==pe||null==de){G.a=1;break r}var fe=de;for(W=H=0;W<te;++W){var xe=he[W],ge=xe.G,be=xe.H,ve=0,je=1,we=0;for(V=0;5>V;++V){ce=Kn[V],ge[V]=fe,be[V]=H,!V&&0<X&&(ce+=1<<X);n:{var Ne,ke=ce,Se=G,Te=pe,_e=fe,Pe=H,De=0,Oe=Se.m,Le=y(Oe,1);if(s(Te,0,0,ke),Le){var Me=y(Oe,1)+1,Ie=y(Oe,1),Re=y(Oe,0==Ie?1:8);Te[Re]=1,2==Me&&(Te[Re=y(Oe,8)]=1);var ze=1}else{var Fe=a(19),Be=y(Oe,4)+4;if(19<Be){Se.a=3;var qe=0;break n}for(Ne=0;Ne<Be;++Ne)Fe[Xn[Ne]]=y(Oe,3);var $e=void 0,Ue=void 0,We=Se,Ve=Fe,He=ke,Ge=Te,Ke=0,Ye=We.m,Xe=8,Je=i(128,u);s:for(;d(Je,0,7,Ve,19);){if(y(Ye,1)){var Qe=2+2*y(Ye,3);if(($e=2+y(Ye,Qe))>He)break s}else $e=He;for(Ue=0;Ue<He&&$e--;){S(Ye);var Ze=Je[0+(127&w(Ye))];k(Ye,Ye.u+Ze.g);var et=Ze.value;if(16>et)Ge[Ue++]=et,0!=et&&(Xe=et);else{var tt=16==et,rt=et-16,nt=Gn[rt],st=y(Ye,Hn[rt])+nt;if(Ue+st>He)break s;for(var at=tt?Xe:0;0<st--;)Ge[Ue++]=at}}Ke=1;break s}Ke||(We.a=3),ze=Ke}(ze=ze&&!Oe.h)&&(De=d(_e,Pe,8,Te,ke)),ze&&0!=De?qe=De:(Se.a=3,qe=0)}if(0==qe)break r;if(je&&1==Yn[V]&&(je=0==fe[H].g),ve+=fe[H].g,H+=qe,3>=V){var it,ot=pe[0];for(it=1;it<ce;++it)pe[it]>ot&&(ot=pe[it]);we+=ot}}if(xe.nd=je,xe.Qb=0,je&&(xe.qb=(ge[3][be[3]+0].value<<24|ge[1][be[1]+0].value<<16|ge[2][be[2]+0].value)>>>0,0==ve&&256>ge[0][be[0]+0].value&&(xe.Qb=1,xe.qb+=ge[0][be[0]+0].value<<8)),xe.jc=!xe.Qb&&6>we,xe.jc){var lt,ct=xe;for(lt=0;lt<Rr;++lt){var dt=lt,ut=ct.pd[dt],mt=ct.G[0][ct.H[0]+dt];256<=mt.value?(ut.g=mt.g+256,ut.value=mt.value):(ut.g=0,ut.value=0,dt>>=ye(mt,8,ut),dt>>=ye(ct.G[1][ct.H[1]+dt],16,ut),dt>>=ye(ct.G[2][ct.H[2]+dt],0,ut),ye(ct.G[3][ct.H[3]+dt],24,ut))}}}Z.vc=ee,Z.Wb=te,Z.Ya=he,Z.yc=de,U=1;break t}U=0}if(!(c=U)){o.a=3;break e}if(0<b){if(x.ua=1<<b,!O(x.Wa,b)){o.a=1,c=0;break e}}else x.ua=0;var ht=o,pt=m,ft=p,xt=ht.s,gt=xt.xc;if(ht.c=pt,ht.i=ft,xt.md=R(pt,gt),xt.wc=0==gt?-1:(1<<gt)-1,n){o.xb=hs;break e}if(null==(g=a(m*p))){o.a=1,c=0;break e}c=(c=Ce(o,g,0,m,p,p,null))&&!f.h;break e}return c?(null!=l?l[0]=g:(t(null==g),t(n)),o.$=0,n||Ae(x)):Ae(x),c}function _e(e,r){var n=e.c*e.i,s=n+r+16*r;return t(e.c<=r),e.V=a(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+n+r,1)}function Pe(e,r){var n=e.C,s=r-n,a=e.V,i=e.Ba+e.c*n;for(t(r<=e.l.o);0<s;){var o=16<s?16:s,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,m=l.tb+c*n,h=e.Ta,p=e.Ua;je(e,o,a,i),Sn(h,p,u,m,d),ke(l,n,n+o,u,m,c),s-=o,a+=o*e.c,n+=o}t(n==r),e.C=e.Ma=r}function De(){this.ub=this.yd=this.td=this.Rb=0}function Oe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Le(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Me(){var e;this.Yb=(function e(t,r,n){for(var s=n[r],a=0;a<s&&(t.push(n.length>r+1?[]:0),!(n.length<r+1));a++)e(t[a],r+1,n)}(e=[],0,[3,11]),e)}function Ie(){this.jb=a(3),this.Wc=o([4,8],Me),this.Xc=o([4,17],Me)}function Re(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function ze(){this.ld=this.La=this.dd=this.tc=0}function Fe(){this.Na=this.la=0}function Be(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qe(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function $e(){this.uc=this.M=this.Nb=0,this.wa=Array(new ze),this.Y=0,this.ya=Array(new qe),this.aa=0,this.l=new He}function Ue(){this.y=a(16),this.f=a(8),this.ea=a(8)}function We(){this.cb=this.a=0,this.sc="",this.m=new v,this.Od=new De,this.Kc=new Oe,this.ed=new Re,this.Qa=new Le,this.Ic=this.$c=this.Aa=0,this.D=new $e,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,v),this.ia=0,this.pb=i(4,Be),this.Pa=new Ie,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ue),this.Hd=0,this.rb=Array(new Fe),this.sb=0,this.wa=Array(new ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qe),this.L=this.aa=0,this.gd=o([4,2],ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ve(e,t){return 0>e?0:e>t?t:e}function He(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ge(){var e=new We;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rs||(rs=Je)),e}function Ke(e,t,r){return 0==e.a&&(e.a=t,e.sc=r,e.cb=0),0}function Ye(e,t,r){return 3<=r&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Xe(e,r){if(null==e)return 0;if(e.a=0,e.sc="OK",null==r)return Ke(e,2,"null VP8Io passed to VP8GetHeaders()");var n=r.data,a=r.w,i=r.ha;if(4>i)return Ke(e,7,"Truncated header.");var o=n[a+0]|n[a+1]<<8|n[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ke(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ke(e,4,"Frame not displayable.");a+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Ke(e,7,"cannot parse picture header");if(!Ye(n,a,i))return Ke(e,3,"Bad code word");c.c=16383&(n[a+4]<<8|n[a+3]),c.Td=n[a+4]>>6,c.i=16383&(n[a+6]<<8|n[a+5]),c.Ud=n[a+6]>>6,a+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,r.width=c.c,r.height=c.i,r.Da=0,r.j=0,r.v=0,r.va=r.width,r.o=r.height,r.da=0,r.ib=r.width,r.hb=r.height,r.U=r.width,r.T=r.height,s((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>i)return Ke(e,7,"bad partition length");p(o=e.m,n,a,l.ub),a+=l.ub,i-=l.ub,l.Rb&&(c.Ld=A(o),c.Kd=A(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=A(o),c.Cb){if(c.Bb=A(o),A(o)){for(c.Fb=A(o),d=0;4>d;++d)c.Zb[d]=A(o)?x(o,7):0;for(d=0;4>d;++d)c.Lb[d]=A(o)?x(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=A(o)?f(o,8):255}else c.Bb=0;if(o.Ka)return Ke(e,3,"cannot parse segment header");if((c=e.ed).zd=A(o),c.Tb=f(o,6),c.wb=f(o,3),c.Pc=A(o),c.Pc&&A(o)){for(u=0;4>u;++u)A(o)&&(c.vd[u]=x(o,6));for(u=0;4>u;++u)A(o)&&(c.od[u]=x(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ke(e,3,"cannot parse filter header");var m=i;if(i=d=a,a=d+m,c=m,e.Xb=(1<<f(e.m,2))-1,m<3*(u=e.Xb))n=7;else{for(d+=3*u,c-=3*u,m=0;m<u;++m){var h=n[i+0]|n[i+1]<<8|n[i+2]<<16;h>c&&(h=c),p(e.Jc[+m],n,d,h),d+=h,c-=h,i+=3}p(e.Jc[+u],n,d,c),n=d<a?0:5}if(0!=n)return Ke(e,n,"cannot parse partitions");for(n=f(d=e.m,7),i=A(d)?x(d,4):0,a=A(d)?x(d,4):0,c=A(d)?x(d,4):0,u=A(d)?x(d,4):0,d=A(d)?x(d,4):0,m=e.Qa,h=0;4>h;++h){if(m.Cb){var g=m.Zb[h];m.Fb||(g+=n)}else{if(0<h){e.pb[h]=e.pb[0];continue}g=n}var b=e.pb[h];b.Sc[0]=es[Ve(g+i,127)],b.Sc[1]=ts[Ve(g+0,127)],b.Eb[0]=2*es[Ve(g+a,127)],b.Eb[1]=101581*ts[Ve(g+c,127)]>>16,8>b.Eb[1]&&(b.Eb[1]=8),b.Qc[0]=es[Ve(g+u,117)],b.Qc[1]=ts[Ve(g+d,127)],b.lc=g+d}if(!l.Rb)return Ke(e,4,"Not a key frame.");for(A(o),l=e.Pa,n=0;4>n;++n){for(i=0;8>i;++i)for(a=0;3>a;++a)for(c=0;11>c;++c)u=T(o,ls[n][i][a][c])?f(o,8):is[n][i][a][c],l.Wc[n][i].Yb[a][c]=u;for(i=0;17>i;++i)l.Xc[n][i]=l.Wc[n][cs[i]]}return e.kc=A(o),e.kc&&(e.Bd=f(o,8)),e.cb=1}function Je(e,t,r,n,s,a,i){var o=t[s].Yb[r];for(r=0;16>s;++s){if(!T(e,o[r+0]))return s;for(;!T(e,o[r+1]);)if(o=t[++s].Yb[0],r=0,16==s)return 16;var l=t[s+1].Yb;if(T(e,o[r+2])){var c=e,d=0;if(T(c,(m=o)[(u=r)+3]))if(T(c,m[u+6])){for(o=0,u=2*(d=T(c,m[u+8]))+(m=T(c,m[u+9+d])),d=0,m=ns[u];m[o];++o)d+=d+T(c,m[o]);d+=3+(8<<u)}else T(c,m[u+7])?(d=7+2*T(c,165),d+=T(c,145)):d=5+T(c,159);else d=T(c,m[u+4])?3+T(c,m[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+ss[s],0>(c=e).b&&C(c);var u,m=c.b,h=(u=c.Ca>>1)-(c.I>>m)>>31;--c.b,c.Ca+=h,c.Ca|=1,c.I-=(u+1&h)<<m,a[l]=((d^h)-h)*n[(0<s)+0]}return 16}function Qe(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function Ze(e,t,r,n,s){s=e[t+r+32*n]+(s>>3),e[t+r+32*n]=-256&s?0>s?0:255:s}function et(e,t,r,n,s,a){Ze(e,t,0,r,n+s),Ze(e,t,1,r,n+a),Ze(e,t,2,r,n-a),Ze(e,t,3,r,n-s)}function tt(e){return(20091*e>>16)+e}function rt(e,t,r,n){var s,i=0,o=a(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-tt(e[t+12]),u=tt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(s=i=0;4>s;++s)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-tt(o[i+12]),Ze(r,n,0,0,l+(u=tt(o[i+4])+(35468*o[i+12]>>16))),Ze(r,n,1,0,c+d),Ze(r,n,2,0,c-d),Ze(r,n,3,0,l-u),i++,n+=32}function nt(e,t,r,n){var s=e[t+0]+4,a=35468*e[t+4]>>16,i=tt(e[t+4]),o=35468*e[t+1]>>16;et(r,n,0,s+i,e=tt(e[t+1]),o),et(r,n,1,s+a,e,o),et(r,n,2,s-a,e,o),et(r,n,3,s-i,e,o)}function st(e,t,r,n,s){rt(e,t,r,n),s&&rt(e,t+16,r,n+4)}function at(e,t,r,n){sn(e,t+0,r,n,1),sn(e,t+32,r,n+128,1)}function it(e,t,r,n){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)Ze(r,n,t,s,e)}function ot(e,t,r,n){e[t+0]&&ln(e,t+0,r,n),e[t+16]&&ln(e,t+16,r,n+4),e[t+32]&&ln(e,t+32,r,n+128),e[t+48]&&ln(e,t+48,r,n+128+4)}function lt(e,t,r,n){var s,i=a(16);for(s=0;4>s;++s){var o=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],c=e[t+4+s]-e[t+8+s],d=e[t+0+s]-e[t+12+s];i[0+s]=o+l,i[8+s]=o-l,i[4+s]=d+c,i[12+s]=d-c}for(s=0;4>s;++s)o=(e=i[0+4*s]+3)+i[3+4*s],l=i[1+4*s]+i[2+4*s],c=i[1+4*s]-i[2+4*s],d=e-i[3+4*s],r[n+0]=o+l>>3,r[n+16]=d+c>>3,r[n+32]=o-l>>3,r[n+48]=d-c>>3,n+=64}function ct(e,t,r){var n,s=t-32,a=On,i=255-e[s-1];for(n=0;n<r;++n){var o,l=a,c=i+e[t-1];for(o=0;o<r;++o)e[t+o]=l[c+e[s+o]];t+=32}}function dt(e,t){ct(e,t,4)}function ut(e,t){ct(e,t,8)}function mt(e,t){ct(e,t,16)}function ht(e,t){var r;for(r=0;16>r;++r)n(e,t+32*r,e,t-32,16)}function pt(e,t){var r;for(r=16;0<r;--r)s(e,t,e[t-1],16),t+=32}function ft(e,t,r){var n;for(n=0;16>n;++n)s(t,r+32*n,e,16)}function xt(e,t){var r,n=16;for(r=0;16>r;++r)n+=e[t-1+32*r]+e[t+r-32];ft(n>>5,e,t)}function gt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t-1+32*r];ft(n>>4,e,t)}function bt(e,t){var r,n=8;for(r=0;16>r;++r)n+=e[t+r-32];ft(n>>4,e,t)}function yt(e,t){ft(128,e,t)}function vt(e,t,r){return e+2*t+r+2>>2}function jt(e,t){var r,s=t-32;for(s=new Uint8Array([vt(e[s-1],e[s+0],e[s+1]),vt(e[s+0],e[s+1],e[s+2]),vt(e[s+1],e[s+2],e[s+3]),vt(e[s+2],e[s+3],e[s+4])]),r=0;4>r;++r)n(e,t+32*r,s,0,s.length)}function wt(e,t){var r=e[t-1],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96];E(e,t+0,16843009*vt(e[t-1-32],r,n)),E(e,t+32,16843009*vt(r,n,s)),E(e,t+64,16843009*vt(n,s,a)),E(e,t+96,16843009*vt(s,a,a))}function Nt(e,t){var r,n=4;for(r=0;4>r;++r)n+=e[t+r-32]+e[t-1+32*r];for(n>>=3,r=0;4>r;++r)s(e,t+32*r,n,4)}function kt(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(n,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(r,n,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(a,r,n),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(i,a,r),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,i,a),e[t+3+32]=e[t+2+0]=vt(l,o,i),e[t+3+0]=vt(c,l,o)}function St(e,t){var r=e[t+1-32],n=e[t+2-32],s=e[t+3-32],a=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],r,n),e[t+1+0]=e[t+0+32]=vt(r,n,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(n,s,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(s,a,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(a,i,o),e[t+3+64]=e[t+2+96]=vt(i,o,l),e[t+3+96]=vt(o,l,l)}function Ct(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(s,n,r),e[t+0+64]=vt(n,r,a),e[t+0+32]=e[t+1+96]=vt(r,a,i),e[t+1+32]=e[t+2+96]=vt(a,i,o),e[t+2+32]=e[t+3+96]=vt(i,o,l),e[t+3+32]=vt(o,l,c)}function At(e,t){var r=e[t+0-32],n=e[t+1-32],s=e[t+2-32],a=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=r+n+1>>1,e[t+1+0]=e[t+0+64]=n+s+1>>1,e[t+2+0]=e[t+1+64]=s+a+1>>1,e[t+3+0]=e[t+2+64]=a+i+1>>1,e[t+0+32]=vt(r,n,s),e[t+1+32]=e[t+0+96]=vt(n,s,a),e[t+2+32]=e[t+1+96]=vt(s,a,i),e[t+3+32]=e[t+2+96]=vt(a,i,o),e[t+3+64]=vt(i,o,l),e[t+3+96]=vt(o,l,c)}function Tt(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96];e[t+0+0]=r+n+1>>1,e[t+2+0]=e[t+0+32]=n+s+1>>1,e[t+2+32]=e[t+0+64]=s+a+1>>1,e[t+1+0]=vt(r,n,s),e[t+3+0]=e[t+1+32]=vt(n,s,a),e[t+3+32]=e[t+1+64]=vt(s,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Et(e,t){var r=e[t-1+0],n=e[t-1+32],s=e[t-1+64],a=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=r+i+1>>1,e[t+0+32]=e[t+2+64]=n+r+1>>1,e[t+0+64]=e[t+2+96]=s+n+1>>1,e[t+0+96]=a+s+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(i,o,l),e[t+1+0]=e[t+3+32]=vt(r,i,o),e[t+1+32]=e[t+3+64]=vt(n,r,i),e[t+1+64]=e[t+3+96]=vt(s,n,r),e[t+1+96]=vt(a,s,n)}function _t(e,t){var r;for(r=0;8>r;++r)n(e,t+32*r,e,t-32,8)}function Pt(e,t){var r;for(r=0;8>r;++r)s(e,t,e[t-1],8),t+=32}function Dt(e,t,r){var n;for(n=0;8>n;++n)s(t,r+32*n,e,8)}function Ot(e,t){var r,n=8;for(r=0;8>r;++r)n+=e[t+r-32]+e[t-1+32*r];Dt(n>>4,e,t)}function Lt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t+r-32];Dt(n>>3,e,t)}function Mt(e,t){var r,n=4;for(r=0;8>r;++r)n+=e[t-1+32*r];Dt(n>>3,e,t)}function It(e,t){Dt(128,e,t)}function Rt(e,t,r){var n=e[t-r],s=e[t+0],a=3*(s-n)+Pn[1020+e[t-2*r]-e[t+r]],i=Dn[112+(a+4>>3)];e[t-r]=On[255+n+Dn[112+(a+3>>3)]],e[t+0]=On[255+s-i]}function zt(e,t,r,n){var s=e[t+0],a=e[t+r];return Ln[255+e[t-2*r]-e[t-r]]>n||Ln[255+a-s]>n}function Ft(e,t,r,n){return 4*Ln[255+e[t-r]-e[t+0]]+Ln[255+e[t-2*r]-e[t+r]]<=n}function Bt(e,t,r,n,s){var a=e[t-3*r],i=e[t-2*r],o=e[t-r],l=e[t+0],c=e[t+r],d=e[t+2*r],u=e[t+3*r];return 4*Ln[255+o-l]+Ln[255+i-c]>n?0:Ln[255+e[t-4*r]-a]<=s&&Ln[255+a-i]<=s&&Ln[255+i-o]<=s&&Ln[255+u-d]<=s&&Ln[255+d-c]<=s&&Ln[255+c-l]<=s}function qt(e,t,r,n){var s=2*n+1;for(n=0;16>n;++n)Ft(e,t+n,r,s)&&Rt(e,t+n,r)}function $t(e,t,r,n){var s=2*n+1;for(n=0;16>n;++n)Ft(e,t+n*r,1,s)&&Rt(e,t+n*r,1)}function Ut(e,t,r,n){var s;for(s=3;0<s;--s)qt(e,t+=4*r,r,n)}function Wt(e,t,r,n){var s;for(s=3;0<s;--s)$t(e,t+=4,r,n)}function Vt(e,t,r,n,s,a,i,o){for(a=2*a+1;0<s--;){if(Bt(e,t,r,a,i))if(zt(e,t,r,o))Rt(e,t,r);else{var l=e,c=t,d=r,u=l[c-2*d],m=l[c-d],h=l[c+0],p=l[c+d],f=l[c+2*d],x=27*(b=Pn[1020+3*(h-m)+Pn[1020+u-p]])+63>>7,g=18*b+63>>7,b=9*b+63>>7;l[c-3*d]=On[255+l[c-3*d]+b],l[c-2*d]=On[255+u+g],l[c-d]=On[255+m+x],l[c+0]=On[255+h-x],l[c+d]=On[255+p-g],l[c+2*d]=On[255+f-b]}t+=n}}function Ht(e,t,r,n,s,a,i,o){for(a=2*a+1;0<s--;){if(Bt(e,t,r,a,i))if(zt(e,t,r,o))Rt(e,t,r);else{var l=e,c=t,d=r,u=l[c-d],m=l[c+0],h=l[c+d],p=Dn[112+(4+(f=3*(m-u))>>3)],f=Dn[112+(f+3>>3)],x=p+1>>1;l[c-2*d]=On[255+l[c-2*d]+x],l[c-d]=On[255+u+f],l[c+0]=On[255+m-p],l[c+d]=On[255+h-x]}t+=n}}function Gt(e,t,r,n,s,a){Vt(e,t,r,1,16,n,s,a)}function Kt(e,t,r,n,s,a){Vt(e,t,1,r,16,n,s,a)}function Yt(e,t,r,n,s,a){var i;for(i=3;0<i;--i)Ht(e,t+=4*r,r,1,16,n,s,a)}function Xt(e,t,r,n,s,a){var i;for(i=3;0<i;--i)Ht(e,t+=4,1,r,16,n,s,a)}function Jt(e,t,r,n,s,a,i,o){Vt(e,t,s,1,8,a,i,o),Vt(r,n,s,1,8,a,i,o)}function Qt(e,t,r,n,s,a,i,o){Vt(e,t,1,s,8,a,i,o),Vt(r,n,1,s,8,a,i,o)}function Zt(e,t,r,n,s,a,i,o){Ht(e,t+4*s,s,1,8,a,i,o),Ht(r,n+4*s,s,1,8,a,i,o)}function er(e,t,r,n,s,a,i,o){Ht(e,t+4,1,s,8,a,i,o),Ht(r,n+4,1,s,8,a,i,o)}function tr(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nr(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function sr(){this.ua=0,this.Wa=new M,this.vb=new M,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new h,this.yc=new u}function ar(){this.xb=this.a=0,this.l=new He,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new sr,this.ab=0,this.gc=i(4,nr),this.Oc=0}function ir(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new He,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(e,t,r,n,s,a,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)s[a+t]=e+r[n+t]&255,e=s[a+t]}function lr(e,t,r,n,s,a,i){var o;if(null==e)or(null,null,r,n,s,a,i);else for(o=0;o<i;++o)s[a+o]=e[t+o]+r[n+o]&255}function cr(e,t,r,n,s,a,i){if(null==e)or(null,null,r,n,s,a,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=r[n+o]+(-256&c?0>c?0:255:c)&255,c=l,s[a+o]=d}}function dr(e,r,s,i){var o=r.width,l=r.o;if(t(null!=e&&null!=r),0>s||0>=i||s+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ir,(c=null==e.ga)||(c=r.width*r.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,m=e.qc,h=e.mb,p=e.nb,f=u+1,x=m-1,b=c.l;if(t(null!=d&&null!=h&&null!=r),fs[0]=null,fs[1]=or,fs[2]=lr,fs[3]=cr,c.ca=h,c.tb=p,c.c=r.width,c.i=r.height,t(0<c.c&&0<c.i),1>=m)r=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)r=0;else if(b.put=he,b.ac=me,b.bc=pe,b.ma=c,b.width=r.width,b.height=r.height,b.Da=r.Da,b.v=r.v,b.va=r.va,b.j=r.j,b.o=r.o,c.$a)e:{t(1==c.$a),r=Te();t:for(;;){if(null==r){r=0;break e}if(t(null!=c),c.mc=r,r.c=c.c,r.i=c.i,r.l=c.l,r.l.ma=c,r.l.width=c.c,r.l.height=c.i,r.a=0,g(r.m,d,f,x),!Ee(c.c,c.i,1,r,null))break t;if(1==r.ab&&3==r.gc[0].hc&&Ne(r.s)?(c.ic=1,d=r.c*r.i,r.Ta=null,r.Ua=0,r.V=a(d),r.Ba=0,null==r.V?(r.a=1,r=0):r=1):(c.ic=0,r=_e(r,c.c)),!r)break t;r=1;break e}c.mc=null,r=0}else r=x>=c.c*c.i;c=!r}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-s}t(null!=e.ga),t(s+i<=l);e:{if(r=(d=e.ga).c,l=d.l.o,0==d.$a){if(f=e.rc,x=e.Vc,b=e.Fa,u=e.P+1+s*r,m=e.mb,h=e.nb+s*r,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=fs[d.Z]),c=0;c<i;++c)fs[d.Z](f,x,b,u,m,h,r),f=m,x=h,h+=r,u+=r;else for(c=0;c<i;++c)n(m,h,b,u,r),f=m,x=h,h+=r,u+=r;e.rc=f,e.Vc=x}else{if(t(null!=d.mc),r=s+i,t(null!=(c=d.mc)),t(r<=c.i),c.C>=r)r=1;else if(d.ic||fr(),d.ic){d=c.V,f=c.Ba,x=c.c;var y=c.i,v=(b=1,u=c.$/x,m=c.$%x,h=c.m,p=c.s,c.$),j=x*y,w=x*r,k=p.wc,C=v<w?ve(p,m,u):null;t(v<=j),t(r<=y),t(Ne(p));t:for(;;){for(;!h.h&&v<w;){if(m&k||(C=ve(p,m,u)),t(null!=C),S(h),256>(y=be(C.G[0],C.H[0],h)))d[f+v]=y,++v,++m>=x&&(m=0,++u<=r&&!(u%16)&&Se(c,u));else{if(!(280>y)){b=0;break t}y=xe(y-256,h);var A,T=be(C.G[4],C.H[4],h);if(S(h),!(v>=(T=ge(x,T=xe(T,h)))&&j-v>=y)){b=0;break t}for(A=0;A<y;++A)d[f+v+A]=d[f+v+A-T];for(v+=y,m+=y;m>=x;)m-=x,++u<=r&&!(u%16)&&Se(c,u);v<w&&m&k&&(C=ve(p,m,u))}t(h.h==N(h))}Se(c,u>r?r:u);break t}!b||h.h&&v<j?(b=0,c.a=h.h?5:3):c.$=v,r=b}else r=Ce(c,c.V,c.Ba,c.c,c.i,r,Pe);if(!r){i=0;break e}}s+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*o}function ur(e,t,r,n,s,a){for(;0<s--;){var i,o=e,l=t+(r?1:0),c=e,d=t+(r?0:3);for(i=0;i<n;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=a}}function mr(e,t,r,n,s){for(;0<n--;){var a;for(a=0;a<r;++a){var i=e[t+2*a+0],o=15&(c=e[t+2*a+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|o}t+=s}}function hr(e,t,r,n,s,a,i,o){var l,c,d=255;for(c=0;c<s;++c){for(l=0;l<n;++l){var u=e[t+l];a[i+4*l]=u,d&=u}t+=r,i+=o}return 255!=d}function pr(e,t,r,n,s){var a;for(a=0;a<s;++a)r[n+a]=e[t+a]>>8}function fr(){wn=ur,Nn=mr,kn=hr,Sn=pr}function xr(r,n,s){e[r]=function(e,r,a,i,o,l,c,d,u,m,h,p,f,x,g,b,y){var v,j=y-1>>1,w=o[l+0]|c[d+0]<<16,N=u[m+0]|h[p+0]<<16;t(null!=e);var k=3*w+N+131074>>2;for(n(e[r+0],255&k,k>>16,f,x),null!=a&&(k=3*N+w+131074>>2,n(a[i+0],255&k,k>>16,g,b)),v=1;v<=j;++v){var S=o[l+v]|c[d+v]<<16,C=u[m+v]|h[p+v]<<16,A=w+S+N+C+524296,T=A+2*(S+N)>>3;k=T+w>>1,w=(A=A+2*(w+C)>>3)+S>>1,n(e[r+2*v-1],255&k,k>>16,f,x+(2*v-1)*s),n(e[r+2*v-0],255&w,w>>16,f,x+(2*v-0)*s),null!=a&&(k=A+N>>1,w=T+C>>1,n(a[i+2*v-1],255&k,k>>16,g,b+(2*v-1)*s),n(a[i+2*v+0],255&w,w>>16,g,b+(2*v+0)*s)),w=S,N=C}1&y||(k=3*w+N+131074>>2,n(e[r+y-1],255&k,k>>16,f,x+(y-1)*s),null!=a&&(k=3*N+w+131074>>2,n(a[i+y-1],255&k,k>>16,g,b+(y-1)*s)))}}function gr(){xs[Mn]=gs,xs[In]=ys,xs[Rn]=bs,xs[zn]=vs,xs[Fn]=js,xs[Bn]=ws,xs[qn]=Ns,xs[$n]=ys,xs[Un]=vs,xs[Wn]=js,xs[Vn]=ws}function br(e){return-16384&e?0>e?0:255:e>>Ts}function yr(e,t){return br((19077*e>>8)+(26149*t>>8)-14234)}function vr(e,t,r){return br((19077*e>>8)-(6419*t>>8)-(13320*r>>8)+8708)}function jr(e,t){return br((19077*e>>8)+(33050*t>>8)-17685)}function wr(e,t,r,n,s){n[s+0]=yr(e,r),n[s+1]=vr(e,t,r),n[s+2]=jr(e,t)}function Nr(e,t,r,n,s){n[s+0]=jr(e,t),n[s+1]=vr(e,t,r),n[s+2]=yr(e,r)}function kr(e,t,r,n,s){var a=vr(e,t,r);t=a<<3&224|jr(e,t)>>3,n[s+0]=248&yr(e,r)|a>>5,n[s+1]=t}function Sr(e,t,r,n,s){var a=240&jr(e,t)|15;n[s+0]=240&yr(e,r)|vr(e,t,r)>>4,n[s+1]=a}function Cr(e,t,r,n,s){n[s+0]=255,wr(e,t,r,n,s+1)}function Ar(e,t,r,n,s){Nr(e,t,r,n,s),n[s+3]=255}function Tr(e,t,r,n,s){wr(e,t,r,n,s),n[s+3]=255}function Er(t,r,n){e[t]=function(e,t,s,a,i,o,l,c,d){for(var u=c+(-2&d)*n;c!=u;)r(e[t+0],s[a+0],i[o+0],l,c),r(e[t+1],s[a+0],i[o+0],l,c+n),t+=2,++a,++o,c+=2*n;1&d&&r(e[t+0],s[a+0],i[o+0],l,c)}}function _r(e,t,r){return 0==r?0==e?0==t?6:5:0==t?4:0:r}function Pr(e,t,r,n,s){switch(e>>>30){case 3:sn(t,r,n,s,0);break;case 2:an(t,r,n,s);break;case 1:ln(t,r,n,s)}}function Dr(e,t){var r,a,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,m=e.oc,h=e.pc+600;for(r=0;16>r;++r)l[c+32*r-1]=129;for(r=0;8>r;++r)d[u+32*r-1]=129,m[h+32*r-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=m[h-1-32]=129:(s(l,c-32-1,127,21),s(d,u-32-1,127,9),s(m,h-32-1,127,9)),a=0;a<e.za;++a){var p=t.ya[t.aa+a];if(0<a){for(r=-1;16>r;++r)n(l,c+32*r-4,l,c+32*r+12,4);for(r=-1;8>r;++r)n(d,u+32*r-4,d,u+32*r+4,4),n(m,h+32*r-4,m,h+32*r+4,4)}var f=e.Gd,x=e.Hd+a,g=p.ad,b=p.Hc;if(0<i&&(n(l,c-32,f[x].y,0,16),n(d,u-32,f[x].f,0,8),n(m,h-32,f[x].ea,0,8)),p.Za){var y=l,v=c-32+16;for(0<i&&(a>=e.za-1?s(y,v,f[x].y[15],4):n(y,v,f[x+1].y,0,4)),r=0;4>r;r++)y[v+128+r]=y[v+256+r]=y[v+384+r]=y[v+0+r];for(r=0;16>r;++r,b<<=2)y=l,v=c+Is[r],us[p.Ob[r]](y,v),Pr(b,g,16*+r,y,v)}else if(y=_r(a,i,p.Ob[0]),ds[y](l,c),0!=b)for(r=0;16>r;++r,b<<=2)Pr(b,g,16*+r,l,c+Is[r]);for(r=p.Gc,y=_r(a,i,p.Dd),ms[y](d,u),ms[y](m,h),b=g,y=d,v=u,255&(p=0|r)&&(170&p?on(b,256,y,v):cn(b,256,y,v)),p=m,b=h,255&(r>>=8)&&(170&r?on(g,320,p,b):cn(g,320,p,b)),i<e.Ub-1&&(n(f[x].y,0,l,c+480,16),n(f[x].f,0,d,u+224,8),n(f[x].ea,0,m,h+224,8)),r=8*o*e.B,f=e.sa,x=e.ta+16*a+16*o*e.R,g=e.qa,p=e.ra+8*a+r,b=e.Ha,y=e.Ia+8*a+r,r=0;16>r;++r)n(f,x+r*e.R,l,c+32*r,16);for(r=0;8>r;++r)n(g,p+r*e.B,d,u+32*r,8),n(b,y+r*e.B,m,h+32*r,8)}}function Or(e,n,s,a,i,o,l,c,d){var u=[0],m=[0],h=0,p=null!=d?d.kd:0,f=null!=d?d:new rr;if(null==e||12>s)return 7;f.data=e,f.w=n,f.ha=s,n=[n],s=[s],f.gb=[f.gb];e:{var x=n,b=s,y=f.gb;if(t(null!=e),t(null!=b),t(null!=y),y[0]=0,12<=b[0]&&!r(e,x[0],"RIFF")){if(r(e,x[0]+8,"WEBP")){y=3;break e}var v=D(e,x[0]+4);if(12>v||4294967286<v){y=3;break e}if(p&&v>b[0]-8){y=7;break e}y[0]=v,x[0]+=12,b[0]-=12}y=0}if(0!=y)return y;for(v=0<f.gb[0],s=s[0];;){e:{var w=e;b=n,y=s;var N=u,k=m,S=x=[0];if((T=h=[h])[0]=0,8>y[0])y=7;else{if(!r(w,b[0],"VP8X")){if(10!=D(w,b[0]+4)){y=3;break e}if(18>y[0]){y=7;break e}var C=D(w,b[0]+8),A=1+P(w,b[0]+12);if(2147483648<=A*(w=1+P(w,b[0]+15))){y=3;break e}null!=S&&(S[0]=C),null!=N&&(N[0]=A),null!=k&&(k[0]=w),b[0]+=18,y[0]-=18,T[0]=1}y=0}}if(h=h[0],x=x[0],0!=y)return y;if(b=!!(2&x),!v&&h)return 3;if(null!=o&&(o[0]=!!(16&x)),null!=l&&(l[0]=b),null!=c&&(c[0]=0),l=u[0],x=m[0],h&&b&&null==d){y=0;break}if(4>s){y=7;break}if(v&&h||!v&&!h&&!r(e,n[0],"ALPH")){s=[s],f.na=[f.na],f.P=[f.P],f.Sa=[f.Sa];e:{C=e,y=n,v=s;var T=f.gb;N=f.na,k=f.P,S=f.Sa,A=22,t(null!=C),t(null!=v),w=y[0];var E=v[0];for(t(null!=N),t(null!=S),N[0]=null,k[0]=null,S[0]=0;;){if(y[0]=w,v[0]=E,8>E){y=7;break e}var _=D(C,w+4);if(4294967286<_){y=3;break e}var O=8+_+1&-2;if(A+=O,0<T&&A>T){y=3;break e}if(!r(C,w,"VP8 ")||!r(C,w,"VP8L")){y=0;break e}if(E[0]<O){y=7;break e}r(C,w,"ALPH")||(N[0]=C,k[0]=w+8,S[0]=_),w+=O,E-=O}}if(s=s[0],f.na=f.na[0],f.P=f.P[0],f.Sa=f.Sa[0],0!=y)break}s=[s],f.Ja=[f.Ja],f.xa=[f.xa];e:if(T=e,y=n,v=s,N=f.gb[0],k=f.Ja,S=f.xa,C=y[0],w=!r(T,C,"VP8 "),A=!r(T,C,"VP8L"),t(null!=T),t(null!=v),t(null!=k),t(null!=S),8>v[0])y=7;else{if(w||A){if(T=D(T,C+4),12<=N&&T>N-12){y=3;break e}if(p&&T>v[0]-8){y=7;break e}k[0]=T,y[0]+=8,v[0]-=8,S[0]=A}else S[0]=5<=v[0]&&47==T[C+0]&&!(T[C+4]>>5),k[0]=v[0];y=0}if(s=s[0],f.Ja=f.Ja[0],f.xa=f.xa[0],n=n[0],0!=y)break;if(4294967286<f.Ja)return 3;if(null==c||b||(c[0]=f.xa?2:1),l=[l],x=[x],f.xa){if(5>s){y=7;break}c=l,p=x,b=o,null==e||5>s?e=0:5<=s&&47==e[n+0]&&!(e[n+4]>>5)?(v=[0],T=[0],N=[0],g(k=new j,e,n,s),fe(k,v,T,N)?(null!=c&&(c[0]=v[0]),null!=p&&(p[0]=T[0]),null!=b&&(b[0]=N[0]),e=1):e=0):e=0}else{if(10>s){y=7;break}c=x,null==e||10>s||!Ye(e,n+3,s-3)?e=0:(p=e[n+0]|e[n+1]<<8|e[n+2]<<16,b=16383&(e[n+7]<<8|e[n+6]),e=16383&(e[n+9]<<8|e[n+8]),1&p||3<(p>>1&7)||!(p>>4&1)||p>>5>=f.Ja||!b||!e?e=0:(l&&(l[0]=b),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],x=x[0],h&&(u[0]!=l||m[0]!=x))return 3;null!=d&&(d[0]=f,d.offset=n-d.w,t(4294967286>n-d.w),t(d.offset==d.ha-s));break}return 0==y||7==y&&h&&null==d?(null!=o&&(o[0]|=null!=f.na&&0<f.na.length),null!=a&&(a[0]=l),null!=i&&(i[0]=x),0):y}function Lr(e,t,r){var n=t.width,s=t.height,a=0,i=0,o=n,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,i=e.j,11>r||(a&=-2,i&=-2),0>a||0>i||0>=o||0>=l||a+o>n||i+l>s))return 0;if(t.v=a,t.j=i,t.va=a+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!I(o,l,r=[e.ib],a=[e.hb]))return 0;t.ib=r[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*n/4&&t.hb<3*s/4,t.Kb=0),1}function Mr(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Ir(e,t,r,n){if(null==n||0>=e||0>=t)return 2;if(null!=r){if(r.Da){var s=r.cd,i=r.bd,o=-2&r.v,l=-2&r.j;if(0>o||0>l||0>=s||0>=i||o+s>e||l+i>t)return 2;e=s,t=i}if(r.da){if(!I(e,t,s=[r.ib],i=[r.hb]))return 2;e=s[0],t=i[0]}}n.width=e,n.height=t;e:{var c=n.width,d=n.height;if(e=n.S,0>=c||0>=d||!(e>=Mn&&13>e))e=2;else{if(0>=n.Rd&&null==n.sd){o=i=s=t=0;var u=(l=c*Fs[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(s=c)*d)),null==(d=a(u+2*i+o))){e=1;break e}n.sd=d,11>e?((c=n.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=n.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=s)}if(t=1,s=n.S,i=n.width,o=n.height,s>=Mn&&13>s)if(11>s)e=n.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*Fs[s],t&=null!=e.eb;else{e=n.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var m=Math.abs(e.Db),h=Math.abs(e.lb),p=h*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=m*(u-1)+l<=e.Ed)&c>=i&d>=l&m>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=h>=i,t&=p<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=r&&r.fd&&(e=Mr(n)),e}var Rr=64,zr=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fr=24,Br=32,qr=8,$r=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];F("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,r){return t[r+0]},e.Predictor3=function(e,t,r){return t[r+1]},e.Predictor4=function(e,t,r){return t[r-1]},e.Predictor5=function(e,t,r){return q(q(e,t[r+1]),t[r+0])},e.Predictor6=function(e,t,r){return q(e,t[r-1])},e.Predictor7=function(e,t,r){return q(e,t[r+0])},e.Predictor8=function(e,t,r){return q(t[r-1],t[r+0])},e.Predictor9=function(e,t,r){return q(t[r+0],t[r+1])},e.Predictor10=function(e,t,r){return q(q(e,t[r-1]),q(t[r+0],t[r+1]))},e.Predictor11=function(e,t,r){var n=t[r+0];return 0>=W(n>>24&255,e>>24&255,(t=t[r-1])>>24&255)+W(n>>16&255,e>>16&255,t>>16&255)+W(n>>8&255,e>>8&255,t>>8&255)+W(255&n,255&e,255&t)?n:e},e.Predictor12=function(e,t,r){var n=t[r+0];return($((e>>24&255)+(n>>24&255)-((t=t[r-1])>>24&255))<<24|$((e>>16&255)+(n>>16&255)-(t>>16&255))<<16|$((e>>8&255)+(n>>8&255)-(t>>8&255))<<8|$((255&e)+(255&n)-(255&t)))>>>0},e.Predictor13=function(e,t,r){var n=t[r-1];return(U((e=q(e,t[r+0]))>>24&255,n>>24&255)<<24|U(e>>16&255,n>>16&255)<<16|U(e>>8&255,n>>8&255)<<8|U(255&e,255&n))>>>0};var Ur=e.PredictorAdd0;e.PredictorAdd1=V,F("Predictor2","PredictorAdd2"),F("Predictor3","PredictorAdd3"),F("Predictor4","PredictorAdd4"),F("Predictor5","PredictorAdd5"),F("Predictor6","PredictorAdd6"),F("Predictor7","PredictorAdd7"),F("Predictor8","PredictorAdd8"),F("Predictor9","PredictorAdd9"),F("Predictor10","PredictorAdd10"),F("Predictor11","PredictorAdd11"),F("Predictor12","PredictorAdd12"),F("Predictor13","PredictorAdd13");var Wr=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var Vr,Hr=e.ColorIndexInverseTransform,Gr=e.MapARGB,Kr=e.VP8LColorIndexInverseTransformAlpha,Yr=e.MapAlpha,Xr=e.VP8LPredictorsAdd=[];Xr.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var Jr,Qr,Zr,en,tn,rn,nn,sn,an,on,ln,cn,dn,un,mn,hn,pn,fn,xn,gn,bn,yn,vn,jn,wn,Nn,kn,Sn,Cn=a(511),An=a(2041),Tn=a(225),En=a(767),_n=0,Pn=An,Dn=Tn,On=En,Ln=Cn,Mn=0,In=1,Rn=2,zn=3,Fn=4,Bn=5,qn=6,$n=7,Un=8,Wn=9,Vn=10,Hn=[2,3,7],Gn=[3,3,11],Kn=[280,256,256,256,40],Yn=[0,1,1,1,0],Xn=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jn=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Qn=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Zn=8,es=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ts=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,ns=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ss=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],as=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],is=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],os=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ls=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],cs=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ds=[],us=[],ms=[],hs=1,ps=2,fs=[],xs=[];xr("UpsampleRgbLinePair",wr,3),xr("UpsampleBgrLinePair",Nr,3),xr("UpsampleRgbaLinePair",Tr,4),xr("UpsampleBgraLinePair",Ar,4),xr("UpsampleArgbLinePair",Cr,4),xr("UpsampleRgba4444LinePair",Sr,2),xr("UpsampleRgb565LinePair",kr,2);var gs=e.UpsampleRgbLinePair,bs=e.UpsampleBgrLinePair,ys=e.UpsampleRgbaLinePair,vs=e.UpsampleBgraLinePair,js=e.UpsampleArgbLinePair,ws=e.UpsampleRgba4444LinePair,Ns=e.UpsampleRgb565LinePair,ks=16,Ss=1<<ks-1,Cs=-227,As=482,Ts=6,Es=0,_s=a(256),Ps=a(256),Ds=a(256),Os=a(256),Ls=a(As-Cs),Ms=a(As-Cs);Er("YuvToRgbRow",wr,3),Er("YuvToBgrRow",Nr,3),Er("YuvToRgbaRow",Tr,4),Er("YuvToBgraRow",Ar,4),Er("YuvToArgbRow",Cr,4),Er("YuvToRgba4444Row",Sr,2),Er("YuvToRgb565Row",kr,2);var Is=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rs=[0,2,8],zs=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(e,r,o,l,c){var d=In,u=new tr,m=new ie;u.ba=m,m.S=d,m.width=[m.width],m.height=[m.height];var h=m.width,p=m.height,f=new oe;if(null==f||null==e)var x=2;else t(null!=f),x=Or(e,r,o,f.width,f.height,f.Pd,f.Qd,f.format,null);if(0!=x?h=0:(null!=h&&(h[0]=f.width[0]),null!=p&&(p[0]=f.height[0]),h=1),h){m.width=m.width[0],m.height=m.height[0],null!=l&&(l[0]=m.width),null!=c&&(c[0]=m.height);e:{if(l=new He,(c=new rr).data=e,c.w=r,c.ha=o,c.kd=1,r=[0],t(null!=c),(0==(e=Or(c.data,c.w,c.ha,null,null,null,r,null,c))||7==e)&&r[0]&&(e=4),0==(r=e)){if(t(null!=u),l.data=c.data,l.w=c.w+c.offset,l.ha=c.ha-c.offset,l.put=he,l.ac=me,l.bc=pe,l.ma=u,c.xa){if(null==(e=Te())){u=1;break e}if(function(e,r){var n=[0],s=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==r)return e.a=2,0;if(e.l=r,e.a=0,g(e.m,r.data,r.w,r.ha),!fe(e.m,n,s,a)){e.a=3;break t}if(e.xb=ps,r.width=n[0],r.height=s[0],!Ee(n[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,l)){if(l=0==(r=Ir(l.width,l.height,u.Oa,u.ba))){t:{l=e;r:for(;;){if(null==l){l=0;break t}if(t(null!=l.s.yc),t(null!=l.s.Ya),t(0<l.s.Wb),t(null!=(o=l.l)),t(null!=(c=o.ma)),0!=l.xb){if(l.ca=c.ba,l.tb=c.tb,t(null!=l.ca),!Lr(c.Oa,o,zn)){l.a=2;break r}if(!_e(l,o.width))break r;if(o.da)break r;if((o.da||ne(l.ca.S))&&fr(),11>l.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=l.ca.f.kb.F&&fr()),l.Pb&&0<l.s.ua&&null==l.s.vb.X&&!O(l.s.vb,l.s.Wa.Xa)){l.a=1;break r}l.xb=0}if(!Ce(l,l.V,l.Ba,l.c,l.i,o.o,we))break r;c.Dc=l.Ma,l=1;break t}t(0!=l.a),l=0}l=!l}l&&(r=e.a)}else r=e.a}else{if(null==(e=new Ge)){u=1;break e}if(e.Fa=c.na,e.P=c.P,e.qc=c.Sa,Xe(e,l)){if(0==(r=Ir(l.width,l.height,u.Oa,u.ba))){if(e.Aa=0,o=u.Oa,t(null!=(c=e)),null!=o){if(0<(h=0>(h=o.Md)?0:100<h?255:255*h/100)){for(p=f=0;4>p;++p)12>(x=c.pb[p]).lc&&(x.ia=h*zs[0>x.lc?0:x.lc]>>3),f|=x.ia;f&&(alert("todo:VP8InitRandom"),c.ia=1)}c.Ga=o.Id,100<c.Ga?c.Ga=100:0>c.Ga&&(c.Ga=0)}(function(e,r){if(null==e)return 0;if(null==r)return Ke(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Xe(e,r))return 0;if(t(e.cb),null==r.ac||r.ac(r)){r.ob&&(e.L=0);var o=Rs[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=r.v-o>>4,e.zb=r.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=r.o+15+o>>4,e.Hb=r.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],m=d;if(l.Pc&&(m+=l.vd[0],c&&(m+=l.od[0])),0<(m=0>m?0:63<m?63:m)){var h=m;0<l.wb&&(h=4<l.wb?h>>2:h>>1)>9-l.wb&&(h=9-l.wb),1>h&&(h=1),u.dd=h,u.tc=2*m+h,u.ld=40<=m?2:15<=m?1:0}else u.tc=0;u.La=c}}}o=0}else Ke(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=1);t:{o=e.Ic,l=4*(h=e.za);var p=32*h,f=h+1,x=0<e.L?h*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*h;if((u=l+832+(c=3*(16*o+Rs[e.L])/2*p)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){o=Ke(e,1,"no memory during frame initialization.");break t}e.Vb=u}u=e.Ec,m=e.Fc,e.Ac=u,e.Bc=m,m+=l,e.Gd=i(p,Ue),e.Hd=0,e.rb=i(f+1,Fe),e.sb=1,e.wa=x?i(x,ze):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=h),t(!0),e.oc=u,e.pc=m,m+=832,e.ya=i(g,qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=h),e.R=16*h,e.B=8*h,h=(p=Rs[e.L])*e.R,p=p/2*e.B,e.sa=u,e.ta=m+h,e.qa=e.sa,e.ra=e.ta+16*o*e.R+p,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+p,e.$c=0,m+=c,e.mb=d?u:null,e.nb=d?m:null,t(m+d<=e.Fc+e.Vb),Qe(e),s(e.Ac,e.Bc,0,l),o=1}}if(o){if(r.ka=0,r.y=e.sa,r.O=e.ta,r.f=e.qa,r.N=e.ra,r.ea=e.Ha,r.Vd=e.Ia,r.fa=e.R,r.Rc=e.B,r.F=null,r.J=0,!_n){for(o=-255;255>=o;++o)Cn[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)An[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Tn[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)En[255+o]=0>o?0:255<o?255:o;_n=1}nn=lt,sn=st,on=at,ln=it,cn=ot,an=nt,dn=Gt,un=Kt,mn=Jt,hn=Qt,pn=Yt,fn=Xt,xn=Zt,gn=er,bn=qt,yn=$t,vn=Ut,jn=Wt,us[0]=Nt,us[1]=dt,us[2]=jt,us[3]=wt,us[4]=kt,us[5]=Ct,us[6]=St,us[7]=At,us[8]=Et,us[9]=Tt,ds[0]=xt,ds[1]=mt,ds[2]=ht,ds[3]=pt,ds[4]=gt,ds[5]=bt,ds[6]=yt,ms[0]=Ot,ms[1]=ut,ms[2]=_t,ms[3]=Pt,ms[4]=Mt,ms[5]=Lt,ms[6]=It,o=1}else o=0}o&&(o=function(e,r){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,m=u.Ac,h=u.Bc+4*i,p=u.zc,f=u.ya[u.aa+i];if(u.Qa.Bb?f.$b=T(d,u.Pa.jb[0])?2+T(d,u.Pa.jb[2]):T(d,u.Pa.jb[1]):f.$b=0,u.kc&&(f.Ad=T(d,u.Bd)),f.Za=!T(d,145)+0,f.Za){var x=f.Ob,g=0;for(u=0;4>u;++u){var b,y=p[0+u];for(b=0;4>b;++b){y=os[m[h+b]][y];for(var v=as[T(d,y[0])];0<v;)v=as[2*v+T(d,y[v])];y=-v,m[h+b]=y}n(x,g,m,h,4),g+=4,p[0+u]=y}}else y=T(d,156)?T(d,128)?1:3:T(d,163)?2:0,f.Ob[0]=y,s(m,h,y,4),s(p,0,y,4);f.Dd=T(d,142)?T(d,114)?T(d,183)?1:3:2:0}if(c.m.Ka)return Ke(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],m=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],h=l.kc?i.Ad:0)d.la=m.la=0,i.Za||(d.Na=m.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var j,w;if(d=m,m=c,h=l.Pa.Xc,p=l.ya[l.aa+l.ja],f=l.pb[p.$b],u=p.ad,x=0,g=l.rb[l.sb-1],y=b=0,s(u,x,0,384),p.Za)var N=0,k=h[3];else{v=a(16);var S=d.Na+g.Na;if(S=rs(m,h[1],S,f.Eb,0,v,0),d.Na=g.Na=(0<S)+0,1<S)nn(v,0,u,x);else{var C=v[0]+3>>3;for(v=0;256>v;v+=16)u[x+v]=C}N=1,k=h[0]}var A=15&d.la,E=15&g.la;for(v=0;4>v;++v){var _=1&E;for(C=w=0;4>C;++C)A=A>>1|(_=(S=rs(m,k,S=_+(1&A),f.Sc,N,u,x))>N)<<7,w=w<<2|(3<S?3:1<S?2:0!=u[x+0]),x+=16;A>>=4,E=E>>1|_<<7,b=(b<<8|w)>>>0}for(k=A,N=E>>4,j=0;4>j;j+=2){for(w=0,A=d.la>>4+j,E=g.la>>4+j,v=0;2>v;++v){for(_=1&E,C=0;2>C;++C)S=_+(1&A),A=A>>1|(_=0<(S=rs(m,h[2],S,f.Qc,0,u,x)))<<3,w=w<<2|(3<S?3:1<S?2:0!=u[x+0]),x+=16;A>>=2,E=E>>1|_<<5}y|=w<<4*j,k|=A<<4<<j,N|=(240&E)<<j}d.la=k,g.la=N,p.Hc=b,p.Gc=y,p.ia=43690&y?0:f.ia,h=!(b|y)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!h),c.Ka)return Ke(e,7,"Premature end-of-file encountered.")}if(Qe(e),l=r,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)t:{if(i.M=o.M,i.uc=d,Dr(o,i),c=1,i=(w=o.D).Nb,d=(y=Rs[o.L])*o.R,m=y/2*o.B,v=16*i*o.R,C=8*i*o.B,h=o.sa,p=o.ta-d+v,f=o.qa,u=o.ra-m+C,x=o.Ha,g=o.Ia-m+C,E=0==(A=w.M),b=A>=o.Va-1,2==o.Aa&&Dr(o,w),w.uc)for(_=(S=o).D.M,t(S.D.uc),w=S.yb;w<S.Hb;++w){N=w,k=_;var P=(D=(q=S).D).Nb;j=q.R;var D=D.wa[D.Y+N],O=q.sa,L=q.ta+16*P*j+16*N,M=D.dd,I=D.tc;if(0!=I)if(t(3<=I),1==q.L)0<N&&yn(O,L,j,I+4),D.La&&jn(O,L,j,I),0<k&&bn(O,L,j,I+4),D.La&&vn(O,L,j,I);else{var R=q.B,z=q.qa,F=q.ra+8*P*R+8*N,B=q.Ha,q=q.Ia+8*P*R+8*N;P=D.ld,0<N&&(un(O,L,j,I+4,M,P),hn(z,F,B,q,R,I+4,M,P)),D.La&&(fn(O,L,j,I,M,P),gn(z,F,B,q,R,I,M,P)),0<k&&(dn(O,L,j,I+4,M,P),mn(z,F,B,q,R,I+4,M,P)),D.La&&(pn(O,L,j,I,M,P),xn(z,F,B,q,R,I,M,P))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*A,A=16*(A+1),E?(l.y=o.sa,l.O=o.ta+v,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(w-=y,l.y=h,l.O=p,l.f=f,l.N=u,l.ea=x,l.W=g),b||(A-=y),A>l.o&&(A=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&w<A&&(l.J=dr(o,l,w,A-w),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ke(o,3,"Could not decode alpha data.");break t}w<l.j&&(y=l.j-w,w=l.j,t(!(1&y)),l.O+=o.R*y,l.N+=o.B*(y>>1),l.W+=o.B*(y>>1),null!=l.F&&(l.J+=l.width*y)),w<A&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=A-w,c=l.put(l))}i+1!=o.Ic||b||(n(o.sa,o.ta-d,h,p+16*o.R,d),n(o.qa,o.ra-m,f,u+8*o.B,m),n(o.Ha,o.Ia-m,x,g+8*o.B,m))}if(!c)return Ke(e,6,"Output aborted.")}return 1}(e,r)),null!=r.bc&&r.bc(r),o&=1}return o?(e.cb=0,o):0})(e,l)||(r=e.a)}}else r=e.a}0==r&&null!=u.Oa&&u.Oa.fd&&(r=Mr(u.ba))}u=r}d=0!=u?null:11>d?m.f.RGBA.eb:m.f.kb.y}else d=null;return d};var Fs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var r="",n=0;n<4;n++)r+=String.fromCharCode(e[t++]);return r}function d(e,t){return e[t+0]|e[t+1]<<8}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function m(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],p=[0],f=[],x=new l,g=e,b=function(e,t){var r={},n=0,s=!1,a=0,i=0;if(r.frames=[],!
/** @license
     * Copyright (c) 2017 Dominik Homberger
    Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
    The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
    THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
    https://webpjs.appspot.com
    WebPRiffParser dominikhlbg@gmail.com
    */
function(e,t){for(var r=0;r<4;r++)if(e[t+r]!="RIFF".charCodeAt(r))return!0;return!1}(e,t)){for(m(e,t+=4),t+=8;t<e.length;){var o=c(e,t),l=m(e,t+=4);t+=4;var h=l+(1&l);switch(o){case"VP8 ":case"VP8L":void 0===r.frames[n]&&(r.frames[n]={}),(x=r.frames[n]).src_off=s?i:t-8,x.src_size=a+l+8,n++,s&&(s=!1,a=0,i=0);break;case"VP8X":(x=r.header={}).feature_flags=e[t];var p=t+4;x.canvas_width=1+u(e,p),p+=3,x.canvas_height=1+u(e,p),p+=3;break;case"ALPH":s=!0,a=h+8,i=t-8;break;case"ANIM":(x=r.header).bgcolor=m(e,t),p=t+4,x.loop_count=d(e,p),p+=2;break;case"ANMF":var f,x;(x=r.frames[n]={}).offset_x=2*u(e,t),t+=3,x.offset_y=2*u(e,t),t+=3,x.width=1+u(e,t),t+=3,x.height=1+u(e,t),t+=3,x.duration=u(e,t),t+=3,f=e[t++],x.dispose=1&f,x.blend=f>>1&1}"ANMF"!=o&&(t+=h)}return r}}(g,0);b.response=g,b.rgbaoutput=!0,b.dataurl=!1;var y=b.header?b.header:null,v=b.frames?b.frames:null;if(y){y.loop_counter=y.loop_count,h=[y.canvas_height],p=[y.canvas_width];for(var j=0;j<v.length&&0!=v[j].blend;j++);}var w=v[0],N=x.WebPDecodeRGBA(g,w.src_off,w.src_size,p,h);w.rgba=N,w.imgwidth=p[0],w.imgheight=h[0];for(var k=0;k<p[0]*h[0]*4;k++)f[k]=N[k];return this.width=p,this.height=h,this.data=f,this}!function(e){var t,r,n,s,a,i,o,l,c,d=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new l,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new i,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new i,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new u(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new d}]);var u=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var r=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var n=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),c.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(e){e instanceof d&&(c=e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(e){c.path=e}});var u=[];Object.defineProperty(this,"ctxStack",{get:function(){return u},set:function(e){u=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=m(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=m(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null,p=null,f=null;Object.defineProperty(this,"fontFaces",{get:function(){return f},set:function(e){h=null,p=null,f=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(e))){var r=t[1];t[2];var n=t[3],s=t[4];t[5];var a=t[6],i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===i?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(e){var t,r,n=[],s=e.trim();if(""===s)return x7;if(s in n7)return[n7[s]];for(;""!==s;){switch(r=null,t=(s=a7(s)).charAt(0)){case'"':case"'":r=i7(s.substring(1),t);break;default:r=o7(s)}if(null===r)return x7;if(n.push(r[0]),""!==(s=a7(r[1]))&&","!==s.charAt(0))return x7;s=s.replace(/^,/,"")}return n}(a);if(this.fontFaces){var l=function(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",s=Object.assign({},r7,r.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=e7(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[n]))throw new Error("Could not find a font-family for the rule '"+s7(a)+"' and default family '"+n+"'.");if(i=function(e,t){if(t[e])return t[e];var r=J9[e],n=r<=J9.normal?-1:1,s=t7(t,X9,r,n);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(a.stretch,i),i=function(e,t){if(t[e])return t[e];for(var r=Y9[e],n=0;n<r.length;++n)if(t[r[n]])return t[r[n]];throw new Error("Could not find a matching font-style for "+e)}(a.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var r=Z9[e],n=t7(t,Q9,r,e<400?-1:1);if(!n)throw new Error("Could not find a matching font-weight for value "+e);return n}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+s7(a)+"'.");return i}(function(e,t){var r,n,s=e.getFontList(),a=JSON.stringify(s);if(null===h||p!==a){var i=(r=s,n=[],Object.keys(r).forEach(function(e){r[e].forEach(function(t){var r=null;switch(t){case"bold":r={family:e,weight:"bold"};break;case"italic":r={family:e,style:"italic"};break;case"bolditalic":r={family:e,weight:"bold",style:"italic"};break;case"":case"normal":r={family:e}}null!==r&&(r.ref={name:e,style:t},n.push(r))})}),n);h=function(e){for(var t={},r=0;r<e.length;++r){var n=e7(e[r]),s=n.family,a=n.stretch,i=n.style,o=n.weight;t[s]=t[s]||{},t[s][a]=t[s][a]||{},t[s][a][i]=t[s][a][i]||{},t[s][a][i][o]=n}return t}(i.concat(t)),p=a}return h}(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:n,style:r}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===n||parseInt(n,10)>=700||"bold"===r)&&(c="bold"),"italic"===r&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},m=0;m<o.length;m++){if(void 0!==this.pdf.internal.getFont(o[m],c,{noFallback:!0,disableWarning:!0})){d=o[m];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[m],"bold",{noFallback:!0,disableWarning:!0}))d=o[m],c="bold";else if(void 0!==this.pdf.internal.getFont(o[m],"normal",{noFallback:!0,disableWarning:!0})){d=o[m],c="normal";break}}if(""===d)for(var f=0;f<o.length;f++)if(u[o[f]]){d=u[o[f]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,R.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,R.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};u.prototype.setLineDash=function(e){this.lineDash=e},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){v.call(this,"fill",!1)},u.prototype.stroke=function(){v.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw T6.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"mt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(e,t)},u.prototype.closePath=function(){var e=new i(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===cn(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new i(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(e.x,e.y)},u.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw T6.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var r=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"lt",x:r.x,y:r.y}),this.ctx.lastPoint=new i(r.x,r.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},u.prototype.quadraticCurveTo=function(e,t,r,n){if(isNaN(r)||isNaN(n)||isNaN(e)||isNaN(t))throw T6.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new i(r,n)),a=this.ctx.transform.applyToPoint(new i(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:s.x,y:s.y}),this.ctx.lastPoint=new i(s.x,s.y)},u.prototype.bezierCurveTo=function(e,t,r,n,s,a){if(isNaN(s)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw T6.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var o=this.ctx.transform.applyToPoint(new i(s,a)),l=this.ctx.transform.applyToPoint(new i(e,t)),c=this.ctx.transform.applyToPoint(new i(r,n));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:o.x,y:o.y}),this.ctx.lastPoint=new i(o.x,o.y)},u.prototype.arc=function(e,t,r,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s))throw T6.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var o=this.ctx.transform.applyToPoint(new i(e,t));e=o.x,t=o.y;var l=this.ctx.transform.applyToPoint(new i(0,r)),c=this.ctx.transform.applyToPoint(new i(0,0));r=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(s-n)>=2*Math.PI&&(n=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:r,startAngle:n,endAngle:s,counterclockwise:a})},u.prototype.arcTo=function(e,t,r,n,s){throw new Error("arcTo not implemented.")},u.prototype.rect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw T6.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+r,t),this.lineTo(e+r,t+n),this.lineTo(e,t+n),this.lineTo(e,t),this.lineTo(e+r,t),this.lineTo(e,t)},u.prototype.fillRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw T6.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,r,n),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},u.prototype.strokeRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw T6.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(e,t,r,n),this.stroke())},u.prototype.clearRect=function(e,t,r,n){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n))throw T6.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,r,n))},u.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var n=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=n}},u.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,r=0;r<this.pdf.internal.getNumberOfPages();r++)this.pdf.setPage(r+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(e){var t,r,n,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,r=0,n=0,s=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),s=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),r=parseInt(a[2]),n=parseInt(a[3]),s=parseFloat(a[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new O6(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,r=e.substring(2,3),r+=r,n=e.substring(3,4),n+=n):(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7)),t=parseInt(t,16),r=parseInt(r,16),n=parseInt(n,16)}}return{r:t,g:r,b:n,a:s,style:e}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};u.prototype.fillText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw T6.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(n=isNaN(n)?void 0:n,!h.call(this)){var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;T.call(this,{text:e,x:t,y:r,scale:a,angle:s,align:this.textAlign,maxWidth:n})}},u.prototype.strokeText=function(e,t,r,n){if(isNaN(t)||isNaN(r)||"string"!=typeof e)throw T6.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){n=isNaN(n)?void 0:n;var s=L(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;T.call(this,{text:e,x:t,y:r,scale:a,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:n})}},u.prototype.measureText=function(e){if("string"!=typeof e)throw T6.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,r=this.pdf.internal.scaleFactor,n=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*n/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*r/72*1e4)/1e4})},u.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw T6.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var r=new l(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.rotate=function(e){if(isNaN(e))throw T6.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new l(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},u.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw T6.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var r=new l(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(r)},u.prototype.transform=function(e,t,r,n,s,a){if(isNaN(e)||isNaN(t)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(a))throw T6.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new l(e,t,r,n,s,a);this.ctx.transform=this.ctx.transform.multiply(i)},u.prototype.setTransform=function(e,t,r,n,s,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,r=isNaN(r)?0:r,n=isNaN(n)?1:n,s=isNaN(s)?0:s,a=isNaN(a)?0:a,this.ctx.transform=new l(e,t,r,n,s,a)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(e,t,r,n,s,a,i,c,d){var u=this.pdf.getImageProperties(e),m=1,h=1,p=1,g=1;void 0!==n&&void 0!==c&&(p=c/n,g=d/s,m=u.width/n*c/n,h=u.height/s*d/s),void 0===a&&(a=t,i=r,t=0,r=0),void 0!==n&&void 0===c&&(c=n,d=s),void 0===n&&void 0===c&&(c=u.width,d=u.height);var v=this.ctx.transform.decompose(),w=L(v.rotate.shx),N=new l,k=(N=(N=(N=N.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new o(a-t*p,i-r*g,n*m,s*h));if(this.autoPaging){for(var S,C=x.call(this,k),A=[],T=0;T<C.length;T+=1)-1===A.indexOf(C[T])&&A.push(C[T]);y(A);for(var E=A[0],_=A[A.length-1],P=E;P<_+1;P++){this.pdf.setPage(P);var D=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],O=1===P?this.posY+this.margin[0]:this.margin[0],M=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],I=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],R=1===P?0:M+(P-2)*I;if(0!==this.ctx.clip_path.length){var z=this.path;S=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(S,this.posX+this.margin[3],-R+O+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=z}var F=JSON.parse(JSON.stringify(k));F=b([F],this.posX+this.margin[3],-R+O+this.ctx.prevPageLastElemOffset)[0];var B=(P>E||P<_)&&f.call(this);B&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],D,I,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",F.x,F.y,F.w,F.h,null,null,w),B&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(e,"JPEG",k.x,k.y,k.w,k.h,null,null,w)};var x=function(e,t,r){var n=[];t=t||this.pdf.internal.pageSize.width,r=r||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":n.push(Math.floor((e.y+s)/r)+1);break;case"arc":n.push(Math.floor((e.y+s-e.radius)/r)+1),n.push(Math.floor((e.y+s+e.radius)/r)+1);break;case"qct":var a=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);n.push(Math.floor((a.y+s)/r)+1),n.push(Math.floor((a.y+a.h+s)/r)+1);break;case"bct":var i=I(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);n.push(Math.floor((i.y+s)/r)+1),n.push(Math.floor((i.y+i.h+s)/r)+1);break;case"rect":n.push(Math.floor((e.y+s)/r)+1),n.push(Math.floor((e.y+e.h+s)/r)+1)}for(var o=0;o<n.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<n[o];)g.call(this);return n},g=function(){var e=this.fillStyle,t=this.strokeStyle,r=this.font,n=this.lineCap,s=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=r,this.lineCap=n,this.lineWidth=s,this.lineJoin=a},b=function(e,t,r){for(var n=0;n<e.length;n++)switch(e[n].type){case"bct":e[n].x2+=t,e[n].y2+=r;case"qct":e[n].x1+=t,e[n].y1+=r;default:e[n].x+=t,e[n].y+=r}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){var r=this.fillStyle,n=this.strokeStyle,s=this.lineCap,a=this.lineWidth,i=Math.abs(a*this.ctx.transform.scaleX),o=this.lineJoin;if(this.autoPaging){for(var l,c,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),m=[],h=0;h<u.length;h++)if(void 0!==u[h].x)for(var p=x.call(this,u[h]),v=0;v<p.length;v+=1)-1===m.indexOf(p[v])&&m.push(p[v]);for(var w=0;w<m.length;w++)for(;this.pdf.internal.getNumberOfPages()<m[w];)g.call(this);y(m);for(var N=m[0],k=m[m.length-1],S=N;S<k+1;S++){this.pdf.setPage(S),this.fillStyle=r,this.strokeStyle=n,this.lineCap=s,this.lineWidth=i,this.lineJoin=o;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],A=1===S?this.posY+this.margin[0]:this.margin[0],T=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],E=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_=1===S?0:T+(S-2)*E;if(0!==this.ctx.clip_path.length){var P=this.path;l=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(l,this.posX+this.margin[3],-_+A+this.ctx.prevPageLastElemOffset),j.call(this,e,!0),this.path=P}if(c=JSON.parse(JSON.stringify(d)),this.path=b(c,this.posX+this.margin[3],-_+A+this.ctx.prevPageLastElemOffset),!1===t||0===S){var D=(S>N||S<k)&&f.call(this);D&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,E,null).clip().discardPath()),j.call(this,e,t),D&&this.pdf.restoreGraphicsState()}this.lineWidth=a}this.path=d}else this.lineWidth=i,j.call(this,e,t),this.lineWidth=a},j=function(e,t){if(("stroke"!==e||t||!p.call(this))&&("stroke"===e||t||!h.call(this))){for(var r,n,s=[],a=this.path,i=0;i<a.length;i++){var o=a[i];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(a[i-1]&&!isNaN(a[i-1].x)&&(r=[o.x-a[i-1].x,o.y-a[i-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(r),s[l-1].abs.push(o);break}break;case"bct":r=[o.x1-a[i-1].x,o.y1-a[i-1].y,o.x2-a[i-1].x,o.y2-a[i-1].y,o.x-a[i-1].x,o.y-a[i-1].y],s[s.length-1].deltas.push(r);break;case"qct":var c=a[i-1].x+2/3*(o.x1-a[i-1].x),d=a[i-1].y+2/3*(o.y1-a[i-1].y),u=o.x+2/3*(o.x1-o.x),m=o.y+2/3*(o.y1-o.y),f=o.x,x=o.y;r=[c-a[i-1].x,d-a[i-1].y,u-a[i-1].x,m-a[i-1].y,f-a[i-1].x,x-a[i-1].y],s[s.length-1].deltas.push(r);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}n=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,b=0;b<s.length;b++)if(s[b].arc)for(var y=s[b].abs,v=0;v<y.length;v++){var j=y[v];"arc"===j.type?k.call(this,j.x,j.y,j.radius,j.startAngle,j.endAngle,j.counterclockwise,void 0,t,!g):E.call(this,j.x,j.y),g=!0}else if(!0===s[b].close)this.pdf.internal.out("h"),g=!1;else if(!0!==s[b].begin){var w=s[b].start.x,N=s[b].start.y;_.call(this,s[b].deltas,w,N),g=!0}n&&S.call(this,n),t&&C.call(this)}},w=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,r=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-r;case"top":return e+t-r;case"hanging":return e+t-2*r;case"middle":return e+t/2-r;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(e,t,r,n,s,a,i,o,l){for(var c=D.call(this,r,n,s,a),d=0;d<c.length;d++){var u=c[d];0===d&&(l?A.call(this,u.x1+e,u.y1+t):E.call(this,u.x1+e,u.y1+t)),P.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?C.call(this):S.call(this,i)},S=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},C=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(e,t){this.pdf.internal.out(r(e)+" "+n(t)+" m")},T=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var r,n,s,a=this.pdf.getTextDimensions(e.text),c=w.call(this,e.y),d=N.call(this,c)-a.h,u=this.ctx.transform.applyToPoint(new i(e.x,c));if(this.autoPaging){var m=this.ctx.transform.decompose(),h=new l;h=(h=(h=h.multiply(m.translate)).multiply(m.skew)).multiply(m.scale);for(var p=this.ctx.transform.applyToRectangle(new o(e.x,c,a.w,a.h)),g=h.applyToRectangle(new o(e.x,d,a.w,a.h)),v=x.call(this,g),k=[],S=0;S<v.length;S+=1)-1===k.indexOf(v[S])&&k.push(v[S]);y(k);for(var C=k[0],A=k[k.length-1],T=C;T<A+1;T++){this.pdf.setPage(T);var E=1===T?this.posY+this.margin[0]:this.margin[0],_=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],P=this.pdf.internal.pageSize.height-this.margin[2],D=P-this.margin[0],O=this.pdf.internal.pageSize.width-this.margin[1],L=O-this.margin[3],M=1===T?0:_+(T-2)*D;if(0!==this.ctx.clip_path.length){var I=this.path;r=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(r,this.posX+this.margin[3],-1*M+E),j.call(this,"fill",!0),this.path=I}var R=b([JSON.parse(JSON.stringify(g))],this.posX+this.margin[3],-M+E+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale);var z="text"!==this.autoPaging;if(z||R.y+R.h<=P){if(z||R.y>=E&&R.x<=O){var F=z?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||O-R.x)[0],B=b([JSON.parse(JSON.stringify(p))],this.posX+this.margin[3],-M+E+this.ctx.prevPageLastElemOffset)[0],q=z&&(T>C||T<A)&&f.call(this);q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],L,D,null).clip().discardPath()),this.pdf.text(F,B.x,B.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),q&&this.pdf.restoreGraphicsState()}}else R.y<P&&(this.ctx.prevPageLastElemOffset+=P-R.y);e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=s)}}else e.scale>=.01&&(n=this.pdf.internal.getFontSize(),this.pdf.setFontSize(n*e.scale),s=this.lineWidth,this.lineWidth=s*e.scale),this.pdf.text(e.text,u.x+this.posX,u.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(n),this.lineWidth=s)},E=function(e,t,s,a){s=s||0,a=a||0,this.pdf.internal.out(r(e+s)+" "+n(t+a)+" l")},_=function(e,t,r){return this.pdf.lines(e,t,r,null,null)},P=function(e,r,n,i,o,l,c,d){this.pdf.internal.out([t(s(n+e)),t(a(i+r)),t(s(o+e)),t(a(l+r)),t(s(c+e)),t(a(d+r)),"c"].join(" "))},D=function(e,t,r,n){for(var s=2*Math.PI,a=Math.PI/2;t>r;)t-=s;var i=Math.abs(r-t);i<s&&n&&(i=s-i);for(var o=[],l=n?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,a);o.push(O.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},O=function(e,t,r){var n=(r-t)/2,s=e*Math.cos(n),a=e*Math.sin(n),i=s,o=-a,l=i*i+o*o,c=l+i*s+o*a,d=4/3*(Math.sqrt(2*l*c)-c)/(i*a-o*s),u=i-d*o,m=o+d*i,h=u,p=-m,f=n+t,x=Math.cos(f),g=Math.sin(f);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*x-m*g,y2:u*g+m*x,x3:h*x-p*g,y3:h*g+p*x,x4:e*Math.cos(r),y4:e*Math.sin(r)}},L=function(e){return 180*e/Math.PI},M=function(e,t,r,n,s,a){var i=e+.5*(r-e),l=t+.5*(n-t),c=s+.5*(r-s),d=a+.5*(n-a),u=Math.min(e,s,i,c),m=Math.max(e,s,i,c),h=Math.min(t,a,l,d),p=Math.max(t,a,l,d);return new o(u,h,m-u,p-h)},I=function(e,t,r,n,s,a,i,l){var c,d,u,m,h,p,f,x,g,b,y,v,j,w,N=r-e,k=n-t,S=s-r,C=a-n,A=i-s,T=l-a;for(d=0;d<41;d++)g=(f=(u=e+(c=d/40)*N)+c*((h=r+c*S)-u))+c*(h+c*(s+c*A-h)-f),b=(x=(m=t+c*k)+c*((p=n+c*C)-m))+c*(p+c*(a+c*T-p)-x),0==d?(y=g,v=b,j=g,w=b):(y=Math.min(y,g),v=Math.min(v,b),j=Math.max(j,g),w=Math.max(w,b));return new o(Math.round(y),Math.round(v),Math.round(j-y),Math.round(w-v))},R=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,r=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==r&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=r)}}}(a9.API),
/**
* @license
* jsPDF filters PlugIn
* Copyright (c) 2014 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t=function(e){var t,r,n,s,a,i,o,l,c,d;for(r=[],n=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>n;n+=4)0!==(a=(e.charCodeAt(n)<<24)+(e.charCodeAt(n+1)<<16)+(e.charCodeAt(n+2)<<8)+e.charCodeAt(n+3))?(i=(a=((a=((a=((a=(a-(d=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,r.push(i+33,o+33,l+33,c+33,d+33)):r.push(122);return function(e,t){for(var r=t;r>0;r--)e.pop()}(r,t.length),String.fromCharCode.apply(String,r)+"~>"},r=function(e){var t,r,n,s,a,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),n=[],s=0,a=(e+=t="uuuuu"[d](e[o]%5||5))[o];a>s;s+=5)r=52200625*(e[c](s)-33)+614125*(e[c](s+1)-33)+7225*(e[c](s+2)-33)+85*(e[c](s+3)-33)+(e[c](s+4)-33),n.push(l&r>>24,l&r>>16,l&r>>8,l&r);return function(e,t){for(var r=t;r>0;r--)e.pop()}(n,t[o]),i.fromCharCode.apply(i,n)},n=function(e){return e.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var r="",n=0;n<e.length;n+=2)r+=String.fromCharCode("0x"+(e[n]+e[n+1]));return r},a=function(e){for(var t=new Uint8Array(e.length),r=e.length;r--;)t[r]=e.charCodeAt(r);return(t=o4(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,i){var o=0,l=e||"",c=[];for("string"==typeof(i=i||[])&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=s(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=n(l),c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(a9.API),
/**
* @license
* jsPDF fileloading PlugIn
* Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){e.loadFile=function(e,t,r){return function(e,t,r){t=!1!==t,r="function"==typeof r?r:function(){};var n=void 0;try{n=function(e,t,r){var n=new XMLHttpRequest,s=0,a=function(e){var t=e.length,r=[],n=String.fromCharCode;for(s=0;s<t;s+=1)r.push(n(255&e.charCodeAt(s)));return r.join("")};if(n.open("GET",e,!t),n.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(n.onload=function(){200===n.status?r(a(this.responseText)):r(void 0)}),n.send(null),t&&200===n.status)return a(n.responseText)}(e,t,r)}catch(s){}return n}(e,t,r)},e.loadImageFile=e.loadFile}(a9.API),function(e){function t(){return(C6.html2canvas?Promise.resolve(C6.html2canvas):A3(()=>import("./html2canvas.esm-C2s7aB6S.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function r(){return(C6.DOMPurify?Promise.resolve(C6.DOMPurify):A3(()=>import("./purify.es-DKmS7_S0.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var n=function(e){var t=cn(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},s=function(e,t){var r=document.createElement(e);for(var n in t.className&&(r.className=t.className),t.innerHTML&&t.dompurify&&(r.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)r.style[n]=t.style[n];return r},a=function e(t,r){for(var n=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==r&&1===s.nodeType&&"SCRIPT"===s.nodeName||n.appendChild(e(s,r));return 1===t.nodeType&&("CANVAS"===t.nodeName?(n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(n.value=t.value),n.addEventListener("load",function(){n.scrollTop=t.scrollTop,n.scrollLeft=t.scrollLeft},!0)),n},i=function e(t){var r=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),n=e.convert(Promise.resolve(),r);return(n=n.setProgress(1,e,1,[e])).set(t)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(e,t){return e.__proto__=t||i.prototype,e},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(n(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(r).then(function(t){return this.set({src:s("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},i.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,r=this.opt.fontFaces,n="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:n,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=r,r)for(var a=0;a<r.length;++a){var i=r[a],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(e,t,r){return"img"===(r=r||"pdf").toLowerCase()||"image"===r.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},i.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},i.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},i.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(e){if("object"!==n(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in i.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},i.prototype.get=function(e,t){return this.then(function(){var r=e in i.template.prop?this.prop[e]:this.opt[e];return t?t(r):r})},i.prototype.setMargin=function(e){return this.then(function(){switch(n(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},i.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||a9.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},i.prototype.setProgress=function(e,t,r,n){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=r&&(this.progress.n=r),null!=n&&(this.progress.stack=n),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(e,t,r,n){return this.setProgress(e?this.progress.val+e:null,t||null,r?this.progress.n+r:null,n?this.progress.stack.concat(n):null)},i.prototype.then=function(e,t){var r=this;return this.thenCore(e,t,function(e,t){return r.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return r.updateProgress(null,e),t}).then(e,t).then(function(e){return r.updateProgress(1),e})})},i.prototype.thenCore=function(e,t,r){r=r||Promise.prototype.then;var n=this;e&&(e=e.bind(n)),t&&(t=t.bind(n));var s=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?n:i.convert(Object.assign({},n),Promise.prototype),a=r.call(s,e,t);return i.convert(a,n.__proto__)},i.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},i.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},i.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return i.convert(t,this)},i.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},i.prototype.error=function(e){return this.then(function(){throw new Error(e)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,a9.getPageSize=function(e,t,r){if("object"===cn(e)){var n=e;e=n.orientation,t=n.unit||t,r=n.format||r}t=t||"mm",r=r||"a4",e=(""+(e||"P")).toLowerCase();var s,a=(""+r).toLowerCase(),i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":s=1;break;case"mm":s=72/25.4;break;case"cm":s=72/2.54;break;case"in":s=72;break;case"px":s=.75;break;case"pc":case"em":s=12;break;case"ex":s=6;break;default:throw"Invalid unit: "+t}var o,l=0,c=0;if(i.hasOwnProperty(a))l=i[a][1]/s,c=i[a][0]/s;else try{l=r[1],c=r[0]}catch(d){throw new Error("Invalid format: "+r)}if("p"===e||"portrait"===e)e="p",c>l&&(o=c,c=l,l=o);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",l>c&&(o=c,c=l,l=o)}return{width:c,height:l,unit:t,k:s,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(e7):null;var r=new i(t);return t.worker?r:r.from(e).doCallback()}}(a9.API),a9.API.addJS=function(e){return d7=e,this.internal.events.subscribe("postPutResources",function(){l7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(l7+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),c7=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+d7+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==l7&&void 0!==c7&&this.internal.out("/Names <</JavaScript "+l7+" 0 R>>")}),this},
/**
* @license
* Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t;e.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var n=e.outline.render().split(/\r\n/),s=0;s<n.length;s++){var a=n[s],i=r.exec(a);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var m=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<c.length;s++)e.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+m+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var e=this;e.outline.root.children.length>0&&(e.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&e.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,r){var n={title:t,options:r,children:[]};return null==e&&(e=this.root),e.children.push(n),n},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var r=0;r<t.children.length;r++)this.genIds_r(t.children[r])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,n=0;n<t.children.length;n++){var s=t.children[n];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),n>0&&this.line("/Prev "+this.makeRef(t.children[n-1])),n<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[n+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var i=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var r=0;r<t.children.length;r++)e.count++,this.count_r(e,t.children[r]);return e.count}}])}(a9.API),
/**
* @license
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,r,n,s,a,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var r,n=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,a={width:0,height:0,numcomponents:1},i=4;i<s;i+=2){if(i+=n,-1!==t.indexOf(e.charCodeAt(i+1))){r=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),a={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:r,numcomponents:e.charCodeAt(i+9)};break}n=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:r,alias:n}}return c}}(a9.API),a9.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var s,a=new N6(e,{checkCrc:!0}).decode(),i=a.width,o=a.height,l=a.channels,c=a.palette,d=a.depth;s=c&&1===l?function(e){for(var t=e.width,r=e.height,n=e.data,s=e.palette,a=e.depth,i=!1,o=[],l=[],c=void 0,d=!1,u=0,m=0;m<s.length;m++){var h=c4(s[m],4),p=h[0],f=h[1],x=h[2],g=h[3];o.push(p,f,x),null!=g&&(0===g?(u++,l.length<1&&l.push(m)):g<255&&(d=!0))}if(d||u>1){i=!0,l=void 0;var b=t*r;c=new Uint8Array(b);for(var y=new DataView(n.buffer),v=0;v<b;v++){var j=c4(s[S7(y,v,a)],4)[3];c[v]=j}}else 0===u&&(l=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:i?8:void 0,colorBytes:n,alphaBytes:c,needSMask:i,palette:o,mask:l}}(a):2===l||4===l?function(e){for(var t=e.data,r=e.width,n=e.height,s=e.channels,a=e.depth,i=2===s?"DeviceGray":"DeviceRGB",o=s-1,l=r*n,c=o,d=l*c,u=1*l,m=Math.ceil(d*a/8),h=Math.ceil(u*a/8),p=new Uint8Array(m),f=new Uint8Array(h),x=new DataView(t.buffer),g=new DataView(p.buffer),b=new DataView(f.buffer),y=!1,v=0;v<l;v++){for(var j=v*s,w=0;w<c;w++)C7(g,S7(x,j+w,a),v*c+w,a);var N=S7(x,j+c,a);N<(1<<a)-1&&(y=!0),C7(b,N,1*v,a)}return{colorSpace:i,colorsPerPixel:o,sMaskBitsPerComponent:y?a:void 0,colorBytes:p,alphaBytes:f,needSMask:y}}(a):function(e){var t=e.data,r=1===e.channels?"DeviceGray":"DeviceRGB";return{colorSpace:r,colorsPerPixel:"DeviceGray"===r?1:3,colorBytes:t instanceof Uint16Array?function(e){for(var t=e.length,r=new Uint8Array(2*t),n=new DataView(r.buffer,r.byteOffset,r.byteLength),s=0;s<t;s++)n.setUint16(2*s,e[s],!1);return r}(t):t,needSMask:!1}}(a);var u,m,h,p=s,f=p.colorSpace,x=p.colorsPerPixel,g=p.sMaskBitsPerComponent,b=p.colorBytes,y=p.alphaBytes,v=p.needSMask,j=p.palette,w=p.mask,N=null;return n!==a9.API.image_compression.NONE?(N=function(e){var t;switch(e){case a9.API.image_compression.FAST:t=11;break;case a9.API.image_compression.MEDIUM:t=13;break;case a9.API.image_compression.SLOW:t=14;break;default:t=12}return t}(n),u=this.decode.FLATE_DECODE,m="/Predictor ".concat(N," /Colors ").concat(x," /BitsPerComponent ").concat(d," /Columns ").concat(i),e=g7(b,Math.ceil(i*x*d/8),x,d,n),v&&(h=g7(y,Math.ceil(i*g/8),1,g,n))):(u=void 0,m=void 0,e=b,v&&(h=y)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:u,decodeParameters:m,transparency:w,palette:j,sMask:h,predictor:N,width:i,height:o,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:f}}},function(e){e.processGIF89A=function(t,r,n,s){var a=new T7(t),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new _7(100).encode(c,100);return e.processJPEG.call(this,d,r,n,s)},e.processGIF87A=e.processGIF89A}(a9.API),P7.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},P7.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){T6.log("bit decode error:"+r)}},P7.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==r&&(this.pos+=4-r)}},P7.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+2*s*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},P7.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},P7.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=n*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},P7.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&r)/r*255|0,c=(i>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},P7.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*r;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=n,this.data[i+3]=255}this.pos+=this.width%4}},P7.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=i}},P7.prototype.getData=function(){return this.data},
/**
* @license
* Copyright (c) 2018 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){e.processBMP=function(t,r,n,s){var a=new P7(t,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},c=new _7(100).encode(l,100);return e.processJPEG.call(this,c,r,n,s)}}(a9.API),D7.prototype.getData=function(){return this.data},
/**
* @license
* Copyright (c) 2019 Aras Abbasi
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){e.processWEBP=function(t,r,n,s){var a=new D7(t),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},c=new _7(100).encode(l,100);return e.processJPEG.call(this,c,r,n,s)}}(a9.API),a9.API.processRGBA=function(e,t,r){for(var n=e.data,s=n.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var d=n[c],u=n[c+1],m=n[c+2],h=n[c+3];a[o++]=d,a[o++]=u,a[o++]=m,i[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:p,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},a9.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},u7=a9.API,m7=u7.getCharWidthsArray=function(e,t){var r,n,s=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:s.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:s.metadata.Unicode.kerning,d=c.fof?c.fof:1,u=!1!==t.doKerning,m=0,h=e.length,p=0,f=o[0]||l,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),"function"==typeof s.metadata.widthOfString?x.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+i*(1e3/a)||0)/1e3):(m=u&&"object"===cn(c[n])&&!isNaN(parseInt(c[n][p],10))?c[n][p]/d:0,x.push((o[n]||f)/l+m)),p=n;return x},h7=u7.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return u7.processArabic&&(e=u7.processArabic(e)),"function"==typeof n.metadata.widthOfString?n.metadata.widthOfString(e,r,s)/r:m7.apply(this,arguments).reduce(function(e,t){return e+t},0)},p7=function(e,t,r,n){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<r;)o+=t[a],a++;s.push(e.slice(0,a));var l=a;for(o=0;a!==i;)o+t[a]>n&&(s.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&s.push(e.slice(l,a)),s},f7=function(e,t,r){r||(r={});var n,s,a,i,o,l,c,d=[],u=[d],m=r.textIndent||0,h=0,p=0,f=e.split(" "),x=m7.apply(this,[" ",r])[0];if(l=-1===r.lineIndent?f[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),b=[];f.map(function(e){(e=e.split(/\s*\n/)).length>1?b=b.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):b.push(e[0])}),f=b,l=h7.apply(this,[g,r])}for(a=0,i=f.length;a<i;a++){var y=0;if(n=f[a],l&&"\n"==n[0]&&(n=n.substr(1),y=1),m+h+(p=(s=m7.apply(this,[n,r])).reduce(function(e,t){return e+t},0))>t||y){if(p>t){for(o=p7.apply(this,[n,s,t-(m+h),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);p=s.slice(n.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[n];u.push(d),m=p+l,h=x}else d.push(n),m+=h+p,h=x}return c=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},u7.splitTextToSize=function(e,t,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return t.metadata[r]?{widths:t.metadata[r].widths||{0:1},kerning:t.metadata[r].kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(f7.apply(this,[n[o],i,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[r[a]]=t[a],s[t[a]]=r[a];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,r,n,a,l=["{"];for(var c in e){if(t=e[c],isNaN(parseInt(c,10))?r="'"+c+"'":(c=parseInt(c,10),r=(r=i(c).slice(2)).slice(0,-1)+s[r.slice(-1)]),"number"==typeof t)t<0?(n=i(t).slice(3),a="-"):(n=i(t).slice(2),a=""),n=a+n.slice(0,-1)+s[n.slice(-1)];else{if("object"!==cn(t))throw new Error("Don't know what to do with value type "+cn(t)+".");n=o(t)}l.push(r+n)}return l.push("}"),l.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,s,a,i={},o=1,l=i,c=[],d="",u="",m=e.length-1,h=1;h<m;h+=1)"'"==(a=e[h])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,s]),l={},s=void 0):"}"==a?((r=c.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==a?o=-1:void 0===s?n.hasOwnProperty(a)?(d+=n[a],s=parseInt(d,16)*o,o=1,d=""):d+=a:n.hasOwnProperty(a)?(u+=n[a],l[s]=parseInt(u,16)*o,o=1,s=void 0,u=""):u+=a;return i},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,r=u.Unicode[t.postScriptName];r&&(t.metadata.Unicode={},t.metadata.Unicode.widths=r.widths,t.metadata.Unicode.kerning=r.kerning);var n=d.Unicode[t.postScriptName];n&&(t.metadata.Unicode.encoding=n,t.encoding=n.codePages[0])}])}(a9.API),
/**
* @license
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t=function(e){for(var t=e.length,r=new Uint8Array(t),n=0;n<t;n++)r[n]=e.charCodeAt(n);return r};e.API.events.push(["addFont",function(r){var n,s,a=void 0,i=r.font,o=r.instance;if(!i.isStandardFont){if(void 0===o)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if("string"!=typeof(a=!1===o.existsFileInVFS(i.postScriptName)?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");n=i,s=/^\x00\x01\x00\x00/.test(s=a)?t(s):t(L6(s)),n.metadata=e.API.TTFFont.open(s),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}}])}(a9),a9.API.addSvgAsImage=function(e,t,r,n,s,a,i,o){if(isNaN(t)||isNaN(r))throw T6.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw T6.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},u=this;return(C6.canvg?Promise.resolve(C6.canvg):A3(()=>import("./index.es-Bfc146yu.js"),__vite__mapDeps([0,1,2,3]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e}).then(function(t){return t.fromString(c,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(d)}).then(function(){u.addImage(l.toDataURL("image/jpeg",1),t,r,n,s,i,o)})},a9.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(t,r);return this},a9.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,s,a,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],c=0,d=0,u=0;function m(e,t){var r,n=!1;for(r=0;r<e.length;r+=1)e[r]===t&&(n=!0);return n}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var h=o.length;for(u=0;u<h;u+=1)r[o[u]].value=r[o[u]].defaultValue,r[o[u]].explicitSet=!1}if("object"===cn(e))for(s in e)if(a=e[s],m(o,s)&&void 0!==a){if("boolean"===r[s].type&&"boolean"==typeof a)r[s].value=a;else if("name"===r[s].type&&m(r[s].valueSet,a))r[s].value=a;else if("integer"===r[s].type&&Number.isInteger(a))r[s].value=a;else if("array"===r[s].type){for(c=0;c<a.length;c+=1)if(n=!0,1===a[c].length&&"number"==typeof a[c][0])l.push(String(a[c]-1));else if(a[c].length>1){for(d=0;d<a[c].length;d+=1)"number"!=typeof a[c][d]&&(n=!1);!0===n&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in r)!0===r[e].explicitSet&&("name"===r[e].type?t.push("/"+e+" /"+r[e].value):t.push("/"+e+" "+r[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},
/** ====================================================================
* @license
* jsPDF XMP metadata plugin
* Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
*
* Permission is hereby granted, free of charge, to any person obtaining
* a copy of this software and associated documentation files (the
* "Software"), to deal in the Software without restriction, including
* without limitation the rights to use, copy, modify, merge, publish,
* distribute, sublicense, and/or sell copies of the Software, and to
* permit persons to whom the Software is furnished to do so, subject to
* the following conditions:
*
* The above copyright notice and this permission notice shall be
* included in all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
* EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
* MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
* NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
* LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
* OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
* WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
* ====================================================================
*/
function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),r=unescape(encodeURIComponent(e)),n=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),i=r.length+n.length+s.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+r+n+s+a),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,n){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:n||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(a9.API),function(e){var t=e.API,r=t.pdfEscape16=function(e,t){for(var r,n=t.metadata.Unicode.widths,s=["","0","00","000","0000"],a=[""],i=0,o=e.length;i<o;++i){if(r=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(r),t.metadata.toUnicode[r]=e.charCodeAt(i),-1==n.indexOf(r)&&(n.push(r),n.push([parseInt(t.metadata.widthOfGlyph(r),10)])),"0"==r)return a.join("");r=r.toString(16),a.push(s[4-r.length],r)}return a.join("")},n=function(e){var t,r,n,s,a,i,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",n=[],i=0,o=(r=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=r[i],n.length>=100&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar",n=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),n.push("<"+t+"><"+s+">"));return n.length&&(a+="\n"+n.length+" beginbfchar\n"+n.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,a=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"Identity-H"===r.encoding){for(var o=r.metadata.Unicode.widths,l=r.metadata.subset.encode(r.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=a();i({data:c,addLength1:!0,objectId:u}),s("endobj");var m=a();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:m}),s("endobj");var h=a();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Z6(r.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/Flags "+r.metadata.flags),s("/StemV "+r.metadata.stemV),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s(">>"),s("endobj");var p=a();s("<<"),s("/Type /Font"),s("/BaseFont /"+Z6(r.fontName)),s("/FontDescriptor "+h+" 0 R"),s("/W "+e.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+r.encoding+")"),s(">>"),s(">>"),s("endobj"),r.objectNumber=a(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+m+" 0 R"),s("/BaseFont /"+Z6(r.fontName)),s("/Encoding /"+r.encoding),s("/DescendantFonts ["+p+" 0 R]"),s(">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var r=t.font,s=t.out,a=t.newObject,i=t.putStream;if(r.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===r.encoding){for(var o=r.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=a();i({data:l,addLength1:!0,objectId:d}),s("endobj");var u=a();i({data:n(r.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var m=a();s("<<"),s("/Descent "+r.metadata.decender),s("/CapHeight "+r.metadata.capHeight),s("/StemV "+r.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+d+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(r.metadata.bbox)),s("/FontName /"+Z6(r.fontName)),s("/ItalicAngle "+r.metadata.italicAngle),s("/Ascent "+r.metadata.ascender),s(">>"),s("endobj"),r.objectNumber=a();for(var h=0;h<r.metadata.hmtx.widths.length;h++)r.metadata.hmtx.widths[h]=parseInt(r.metadata.hmtx.widths[h]*(1e3/r.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Z6(r.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+r.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(r.metadata.hmtx.widths)+">>"),s("endobj"),r.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,n=e.text||"",s=e.x,a=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,m="",h=0,p="",f=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:n,x:s,y:a,options:i,mutex:o};for(p=n,u=c,Array.isArray(n)&&(p=n[0]),h=0;h<p.length;h+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[p[h].charCodeAt(0)]),t||p[h].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?m+=p[h]:m+="";var x="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===f?x=l(m,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===f&&(x=r(m,d[u])),o.isHex=!0,{text:x,x:s,y:a,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",r=[],n={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?r.push([s(Object.assign({},n,{text:t[a][0]})).text,t[a][1],t[a][2]]):r.push(s(Object.assign({},n,{text:t[a]})).text);e.text=r}else e.text=s(Object.assign({},n,{text:t})).text}])}(a9),
/**
* @license
* jsPDF virtual FileSystem functionality
*
* Licensed under the MIT License.
* http://opensource.org/licenses/mit-license
*/
function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(a9.API),
/**
* @license
* Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
* MIT License
*/
function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var r,n,s,a,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},h={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},p=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],f=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,g=0;this.__bidiEngine__={};var b=function(e){var t=e.charCodeAt(),r=t>>8,n=h[r];return void 0!==n?c[256*n+(255&t)]:252===r||253===r?"AL":f.test(r)?"L":8===r?"R":"N"},y=function(e){for(var t,r=0;r<e.length;r++){if("L"===(t=b(e.charAt(r))))return!1;if("R"===t)return!0}return!1},v=function(e,t,i,o){var l,c,d,u,m=t[o];switch(m){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(m="AN");break;case"AL":x=!0,m="R";break;case"WS":case"BN":m="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?m="N":x&&(c="AN"),m=c===l?c:"N";break;case"ES":m="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){m="EN";break}if(x){m="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;m=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(s&&!a){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var h=e[o],p=h>=1425&&h<=2303||64286===h;if(l=t[d],p&&("R"===l||"AL"===l)){m="R";break}}}m=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":x=!1,r=!0,m=g;break;case"S":n=!0,m="N"}return m},j=function(e,t,r){var n=e.split("");return r&&w(n,r,{hiLevel:g}),n.reverse(),t&&t.reverse(),n.join("")},w=function(e,t,s){var a,i,o,l,c,h=-1,p=e.length,f=0,y=[],j=g?u:d,w=[];for(x=!1,r=!1,n=!1,i=0;i<p;i++)w[i]=b(e[i]);for(o=0;o<p;o++){if(c=f,y[o]=v(e,w,y,o),a=240&(f=j[c][m[y[o]]]),f&=15,t[o]=l=j[f][5],a>0)if(16===a){for(i=h;i<o;i++)t[i]=1;h=-1}else h=-1;if(j[f][6])-1===h&&(h=o);else if(h>-1){for(i=h;i<o;i++)t[i]=l;h=-1}"B"===w[o]&&(t[o]=0),s.hiLevel|=l}n&&function(e,t,r){for(var n=0;n<r;n++)if("S"===e[n]){t[n]=g;for(var s=n-1;s>=0&&"WS"===e[s];s--)t[s]=g}}(w,t,p)},N=function(e,t,n,s,a){if(!(a.hiLevel<e)){if(1===e&&1===g&&!r)return t.reverse(),void(n&&n.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(s[u]>=e){for(l=u+1;l<d&&s[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,n&&(i=n[c],n[c]=n[o],n[o]=i);u=l}u++}}},k=function(e,t,r){var n=e.split(""),s={hiLevel:g};return r||(r=[]),w(n,r,s),function(e,t,r){if(0!==r.hiLevel&&l)for(var n,s=0;s<e.length;s++)1===t[s]&&(n=p.indexOf(e[s]))>=0&&(e[s]=p[n+1])}(n,r,s),N(2,n,t,r,s),N(1,n,t,r,s),n.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,r){if(function(e,t){if(t)for(var r=0;r<e.length;r++)t[r]=r;void 0===a&&(a=y(e)),void 0===o&&(o=y(e))}(e,t),s||!i||o)if(s&&i&&a^o)g=a?1:0,e=j(e,t,r);else if(!s&&i&&o)g=a?1:0,e=k(e,t,r),e=j(e,t);else if(!s||a||i||o){if(s&&!i&&a^o)e=j(e,t),a?(g=0,e=k(e,t,r)):(g=1,e=k(e,t,r),e=j(e,t));else if(s&&a&&!i&&o)g=1,e=k(e,t,r),e=j(e,t);else if(!s&&!i&&a^o){var n=l;a?(g=1,e=k(e,t,r),g=0,l=!1,e=k(e,t,r),l=n):(g=0,e=k(e,t,r),e=j(e,t),g=1,l=!1,e=k(e,t,r),l=n,e=j(e,t))}}else g=0,e=k(e,t,r);else g=a?1:0,e=k(e,t,r);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,i=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text;e.x,e.y;var n=e.options||{};e.mutex,n.lang;var s=[];if(n.isInputVisual="boolean"!=typeof n.isInputVisual||n.isInputVisual,r.setOptions(n),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(s=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?s.push([r.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):s.push([r.doBidiReorder(t[a])]);e.text=s}else e.text=r.doBidiReorder(t);r.setOptions({isInputVisual:!0})}])}(a9),a9.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new L7(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Z7(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new M7(this.contents),this.head=new z7(this),this.name=new V7(this),this.cmap=new B7(this),this.toUnicode={},this.hhea=new q7(this),this.maxp=new H7(this),this.hmtx=new G7(this),this.post=new U7(this),this.os2=new $7(this),this.loca=new Q7(this),this.glyf=new Y7(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,r,n,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,r,n,s;for(s=[],t=0,r=(n=this.bbox).length;t<r;t++)e=n[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(r=255&(n=this.post.italic_angle),32768&(t=n>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,r){var n,s,a,i;for(a=0,s=0,i=(e=""+e).length;0<=i?s<i:s>i;s=0<=i?++s:--s)n=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(n))+r*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var r;return null==t&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},e}();var O7,L7=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(e){var t,r,n;for(n=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)n.push(this.writeByte(e.charCodeAt(t)));return n},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,r,n,s,a,i,o;return e=this.readByte(),t=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^n)+16777216*(255^s)+65536*(255^a)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*n+16777216*s+65536*a+256*i+o},e.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},e.prototype.write=function(e){var t,r,n,s;for(s=[],r=0,n=e.length;r<n;r++)t=e[r],s.push(this.writeByte(t));return s},e}(),M7=function(){var e;function t(e){var t,r,n;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,n=this.tableCount;0<=n?r<n:r>n;r=0<=n?++r:--r)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var r,n,s,a,i,o,l,c,d,u,m,h,p;for(p in m=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(m)/o),a=Math.floor(d/o),c=16*m-d,(n=new L7).writeInt(this.scalarType),n.writeShort(m),n.writeShort(d),n.writeShort(a),n.writeShort(c),s=16*m,l=n.pos+s,i=null,h=[],t)for(u=t[p],n.writeString(p),n.writeInt(e(u)),n.writeInt(l),n.writeInt(u.length),h=h.concat(u),"head"===p&&(i=l),l+=u.length;l%4;)h.push(0),l++;return n.write(h),r=2981146554-e(n.data),n.pos=i+8,n.writeUInt32(r),n.data},e=function(e){var t,r,n,s;for(e=K7.call(e);e.length%4;)e.push(0);for(n=new L7(e),r=0,t=0,s=e.length;t<s;t=t+=4)r+=n.readUInt32();return 4294967295&r},t}(),I7={}.hasOwnProperty,R7=function(e,t){for(var r in t)I7.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};O7=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var z7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new L7).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),F7=function(){function e(e,t){var r,n,s,a,i,o,l,c,d,u,m,h,p,f,x,g,b;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(m=e.readUInt16(),u=m/2,e.pos+=6,s=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),e.pos+=2,p=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),l=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),c=function(){var t,r;for(r=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)r.push(e.readUInt16());return r}(),n=(this.length-e.pos+this.offset)/2,i=function(){var t,r;for(r=[],o=t=0;0<=n?t<n:t>n;o=0<=n?++t:--t)r.push(e.readUInt16());return r}(),o=x=0,b=s.length;x<b;o=++x)for(f=s[o],r=g=h=p[o];h<=f?g<=f:g>=f;r=h<=f?++g:--g)0===c[o]?a=r+l[o]:0!==(a=i[c[o]/2+(r-h)-(u-o)]||0)&&(a+=l[o]),this.codeMap[r]=65535&a}e.pos=d}return e.encode=function(e,t){var r,n,s,a,i,o,l,c,d,u,m,h,p,f,x,g,b,y,v,j,w,N,k,S,C,A,T,E,_,P,D,O,L,M,I,R,z,F,B,q,$,U,W,V,H,G;switch(E=new L7,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(p=0,f=function(){var e=[];for(h=0;h<256;++h)e.push(0);return e}(),g={0:0},s={},_=0,L=a.length;_<L;_++)null==g[W=e[n=a[_]]]&&(g[W]=++p),s[n]={old:e[n],new:g[e[n]]},f[n]=g[e[n]];return E.writeUInt16(1),E.writeUInt16(0),E.writeUInt32(12),E.writeUInt16(0),E.writeUInt16(262),E.writeUInt16(0),E.write(f),{charMap:s,subtable:E.data,maxGlyphID:p+1};case"unicode":for(A=[],d=[],b=0,g={},r={},x=l=null,P=0,M=a.length;P<M;P++)null==g[v=e[n=a[P]]]&&(g[v]=++b),r[n]={old:v,new:g[v]},i=g[v]-n,null!=x&&i===l||(x&&d.push(x),A.push(n),l=i),x=n;for(x&&d.push(x),d.push(65535),A.push(65535),S=2*(k=A.length),N=2*Math.pow(Math.log(k)/Math.LN2,2),u=Math.log(N/2)/Math.LN2,w=2*k-N,o=[],j=[],m=[],h=D=0,I=A.length;D<I;h=++D){if(C=A[h],c=d[h],65535===C){o.push(0),j.push(0);break}if(C-(T=r[C].new)>=32768)for(o.push(0),j.push(2*(m.length+k-h)),n=O=C;C<=c?O<=c:O>=c;n=C<=c?++O:--O)m.push(r[n].new);else o.push(T-C),j.push(0)}for(E.writeUInt16(3),E.writeUInt16(1),E.writeUInt32(12),E.writeUInt16(4),E.writeUInt16(16+8*k+2*m.length),E.writeUInt16(0),E.writeUInt16(S),E.writeUInt16(N),E.writeUInt16(u),E.writeUInt16(w),$=0,R=d.length;$<R;$++)n=d[$],E.writeUInt16(n);for(E.writeUInt16(0),U=0,z=A.length;U<z;U++)n=A[U],E.writeUInt16(n);for(V=0,F=o.length;V<F;V++)i=o[V],E.writeUInt16(i);for(H=0,B=j.length;H<B;H++)y=j[H],E.writeUInt16(y);for(G=0,q=m.length;G<q;G++)p=m[G],E.writeUInt16(p);return{charMap:r,subtable:E.data,maxGlyphID:b+1}}},e}(),B7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,r,n;for(e.pos=this.offset,this.version=e.readUInt16(),n=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=n?r<n:r>n;r=0<=n?++r:--r)t=new F7(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var r,n;return null==t&&(t="macroman"),r=F7.encode(e,t),(n=new L7).writeUInt16(0),n.writeUInt16(1),r.table=n.data.concat(r.subtable),r},e}(),q7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),$7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r}(),this.charRange=function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),U7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="post",e.prototype.parse=function(e){var t,r,n;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],n=[];e.pos<this.offset+this.length;)t=e.readByte(),n.push(this.names.push(e.readString(t)));return n;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var t,r,n;for(n=[],s=t=0,r=this.file.maxp.numGlyphs;0<=r?t<r:t>r;s=0<=r?++t:--t)n.push(e.readUInt32());return n}.call(this)}},e}(),W7=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},V7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="name",e.prototype.parse=function(e){var t,r,n,s,a,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},s=c=0,d=r.length;c<d;s=++c)n=r[s],e.pos=n.offset,l=e.readString(n.length),a=new W7(l,n),null==o[u=n.nameID]&&(o[u]=[]),o[n.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(m){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),H7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),G7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,r,n,s,a,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(n=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var r,s;for(s=[],t=r=0;0<=n?r<n:r>n;t=0<=n?++r:--r)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,r,n;for(n=[],e=0,t=(r=this.metrics).length;e<t;e++)s=r[e],n.push(s.advance);return n}.call(this),r=this.widths[this.widths.length-1],o=[],t=a=0;0<=n?a<n:a>n;t=0<=n?++a:--a)o.push(this.widths.push(r));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),K7=[].slice,Y7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,r,n,s,a,i,o,l,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),0===(n=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+r,a=(i=new L7(t.read(n))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===a?new J7(i,l,d,o,c):new X7(i,a,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,r){var n,s,a,i,o;for(a=[],s=[],i=0,o=t.length;i<o;i++)n=e[t[i]],s.push(a.length),n&&(a=a.concat(n.encode(r)));return s.push(a.length),{table:a,offsets:s}},e}(),X7=function(){function e(e,t,r,n,s,a){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),J7=function(){function e(e,t,r,n,s){var a,i;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=n,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;i=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&i;)a.pos+=1&i?4:2,128&i?a.pos+=8:64&i?a.pos+=4:8&i&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,r;for(t=new L7(K7.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),Q7=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return R7(e,O7),e.prototype.tag="loca",e.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=2)n.push(2*e.readUInt16());return n}.call(this):function(){var t,n;for(n=[],r=0,t=this.length;r<t;r+=4)n.push(e.readUInt32());return n}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),n=0,s=0,a=0;a<r.length;++a)if(r[a]=n,s<t.length&&t[s]==a){++s,r[a]=n;var i=this.offsets[a],o=this.offsets[a+1]-i;o>0&&(n+=o)}for(var l=new Array(4*r.length),c=0;c<r.length;++c)l[4*c+3]=255&r[c],l[4*c+2]=(65280&r[c])>>8,l[4*c+1]=(16711680&r[c])>>16,l[4*c]=(4278190080&r[c])>>24;return l},e}(),Z7=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,r,n,s;for(t in n=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=n[r];return e},e.prototype.glyphsFor=function(e){var t,r,n,s,a,i,o;for(n={},a=0,i=e.length;a<i;a++)n[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],n)(null!=(r=n[s])?r.compound:void 0)&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in o=this.glyphsFor(t))r=o[s],n[s]=r;return n},e.prototype.encode=function(e,t){var r,n,s,a,i,o,l,c,d,u,m,h,p,f,x;for(n in r=B7.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),m={0:0},x=r.charMap)m[(o=x[n]).old]=o.new;for(h in u=r.maxGlyphID,a)h in m||(m[h]=u++);return c=function(e){var t,r;for(t in r={},e)r[e[t]]=t;return r}(m),d=Object.keys(c).sort(function(e,t){return e-t}),p=function(){var e,t,r;for(r=[],e=0,t=d.length;e<t;e++)i=d[e],r.push(c[i]);return r}(),s=this.font.glyf.encode(a,p,m),l=this.font.loca.encode(s.offsets,p),f={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(f["OS/2"]=this.font.os2.raw()),this.font.directory.encode(f)},e}();function e8(e,t,r,n,s){n=n||{};var a=s.internal.scaleFactor,i=s.internal.getFontSize()/a,o=i*(s.getLineHeightFactor?s.getLineHeightFactor():1.15),l="",c=1;if("middle"!==n.valign&&"bottom"!==n.valign&&"center"!==n.halign&&"right"!==n.halign||(c=(l="string"==typeof e?e.split(/\r\n|\r|\n/g):e).length||1),r+=i*(2-1.15),"middle"===n.valign?r-=c/2*o:"bottom"===n.valign&&(r-=c*o),"center"===n.halign||"right"===n.halign){var d=i;if("center"===n.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)s.text(l[u],t-s.getStringUnitWidth(l[u])*d,r),r+=o;return s}t-=s.getStringUnitWidth(e)*d}return"justify"===n.halign?s.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(e,t,r),s}a9.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(r){var n,s,a,i;if(Array.isArray(r))return"["+function(){var e,s,a;for(a=[],e=0,s=r.length;e<s;e++)n=r[e],a.push(t.convert(n));return a}().join(" ")+"]";if("string"==typeof r)return"/"+r;if(null!=r?r.isString:void 0)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(r)){for(s in a=["<<"],r)i=r[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join("\n")}return""+r},t}();var t8={},r8=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:t8=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"==typeof e?[e,e,e]:"string"==typeof e?[e]:null},e.prototype.applyStyles=function(t,r){var n,s,a;void 0===r&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var d=e.unifyColor(t.fillColor);d&&(n=this.jsPDFDocument).setFillColor.apply(n,d),(d=e.unifyColor(t.textColor))&&(s=this.jsPDFDocument).setTextColor.apply(s,d),(d=e.unifyColor(t.lineColor))&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),"number"==typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},e.prototype.rect=function(e,t,r,n,s){return this.jsPDFDocument.rect(e,t,r,n,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return t8||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),n8=function(e,t){return(n8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function s8(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n8(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}"function"==typeof SuppressedError&&SuppressedError;var a8=function(e){function t(t){var r=e.call(this)||this;return r._element=t,r}return s8(t,e),t}(Array);function i8(e,t,r){return r.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return r.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)}function o8(e,t,r,n){var s=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:s,lineColor:a});var i=l8(s,!1);i&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,i)}function l8(e,t){var r=e>0,n=t||0===t;return r&&n?"DF":r?"S":n?"F":null}function c8(e,t){var r,n,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"==typeof e?("number"==typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"==typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(r=e.left)&&void 0!==r?r:t,top:null!==(n=e.top)&&void 0!==n?n:t,right:null!==(s=e.right)&&void 0!==s?s:t,bottom:null!==(a=e.bottom)&&void 0!==a?a:t}):("number"!=typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}function d8(e,t){var r=c8(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function u8(e,t,r,n,s){var a={},i=96/72,o=m8(t,function(e){return s.getComputedStyle(e).backgroundColor});null!=o&&(a.fillColor=o);var l=m8(t,function(e){return s.getComputedStyle(e).color});null!=l&&(a.textColor=l);var c=function(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),s=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(e){return parseInt(e||"0")/n}),i=c8(a,0);s>i.top&&(i.top=s);s>i.bottom&&(i.bottom=s);return i}(n,r);c&&(a.cellPadding=c);var d="borderTopColor",u=i*r,m=n.borderTopWidth;if(n.borderBottomWidth===m&&n.borderRightWidth===m&&n.borderLeftWidth===m){var h=(parseFloat(m)||0)/u;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/u,right:(parseFloat(n.borderRightWidth)||0)/u,bottom:(parseFloat(n.borderBottomWidth)||0)/u,left:(parseFloat(n.borderLeftWidth)||0)/u},a.lineWidth.top||(a.lineWidth.right?d="borderRightColor":a.lineWidth.bottom?d="borderBottomColor":a.lineWidth.left&&(d="borderLeftColor"));var p=m8(t,function(e){return s.getComputedStyle(e)[d]});null!=p&&(a.lineColor=p);var f=["left","right","center","justify"];-1!==f.indexOf(n.textAlign)&&(a.halign=n.textAlign),-1!==(f=["middle","bottom","top"]).indexOf(n.verticalAlign)&&(a.valign=n.verticalAlign);var x=parseInt(n.fontSize||"");isNaN(x)||(a.fontSize=x/i);var g=function(e){var t="";("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold");"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic");return t}(n);g&&(a.fontStyle=g);var b=(n.fontFamily||"").toLowerCase();return-1!==e.indexOf(b)&&(a.font=b),a}function m8(e,t){var r=h8(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])];return 0===parseInt(n[4])||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function h8(e,t){var r=t(e);return"rgba(0, 0, 0, 0)"===r||"transparent"===r||"initial"===r||"inherit"===r?null==e.parentElement?null:h8(e.parentElement,t):r}function p8(e,t,r,n,s){var a,i,o;void 0===n&&(n=!1),void 0===s&&(s=!1),o="string"==typeof t?r.document.querySelector(t):t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),d=[],u=[],m=[];if(!o)return{head:d,body:u,foot:m};for(var h=0;h<o.rows.length;h++){var p=o.rows[h],f=null===(i=null===(a=null==p?void 0:p.parentElement)||void 0===a?void 0:a.tagName)||void 0===i?void 0:i.toLowerCase(),x=f8(l,c,r,p,n,s);x&&("thead"===f?d.push(x):"tfoot"===f?m.push(x):u.push(x))}return{head:d,body:u,foot:m}}function f8(e,t,r,n,s,a){for(var i=new a8(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(s||"none"!==c.display){var d=void 0;a&&(d=u8(e,l,t,c,r)),i.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:d,_element:l,content:x8(l)})}}var u=r.getComputedStyle(n);if(i.length>0&&(s||"none"!==u.display))return i}function x8(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}function g8(e,t,r,n,s){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function b8(e,t){var r=new r8(e),n=r.getDocumentOptions(),s=r.getGlobalOptions();!function(e,t,r){for(var n=0,s=[e,t,r];n<s.length;n++){var a=s[n];a.startY&&"number"!=typeof a.startY&&delete a.startY}}(s,n,t);var a,i=g8({},s,n,t);"undefined"!=typeof window&&(a=window);var o=function(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(s){if("columnStyles"===s){var a=e[s],i=t[s],o=r[s];n.columnStyles=g8({},a,i,o)}else{var l=[e,t,r].map(function(e){return e[s]||{}});n[s]=g8({},l[0],l[1],l[2])}},a=0,i=Object.keys(n);a<i.length;a++){s(i[a])}return n}(s,n,t),l=function(e,t,r){for(var n={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=[e,t,r];s<a.length;s++){var i=a[s];i.didParseCell&&n.didParseCell.push(i.didParseCell),i.willDrawCell&&n.willDrawCell.push(i.willDrawCell),i.didDrawCell&&n.didDrawCell.push(i.didDrawCell),i.willDrawPage&&n.willDrawPage.push(i.willDrawPage),i.didDrawPage&&n.didDrawPage.push(i.didDrawPage)}return n}(s,n,t),c=function(e,t){var r,n,s,a,i,o,l,c,d,u,m,h,p,f,x=c8(t.margin,40/e.scaleFactor()),g=null!==(r=function(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),s=e.pageNumber(),a=!1;if(r&&r.startPageNumber){a=r.startPageNumber+r.pageNumber-1===s}if("number"==typeof t)return t;if((null==t||!1===t)&&a&&null!=(null==r?void 0:r.finalY))return r.finalY+20/n;return null}(e,t.startY))&&void 0!==r?r:x.top;p=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(n=t.showFoot)&&void 0!==n?n:"everyPage";f=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(s=t.showHead)&&void 0!==s?s:"everyPage";var b=null!==(a=t.useCss)&&void 0!==a&&a,y=t.theme||(b?"plain":"striped"),v=!!t.horizontalPageBreak,j=null!==(i=t.horizontalPageBreakRepeat)&&void 0!==i?i:null;return{includeHiddenHtml:null!==(o=t.includeHiddenHtml)&&void 0!==o&&o,useCss:b,theme:y,startY:g,margin:x,pageBreak:null!==(l=t.pageBreak)&&void 0!==l?l:"auto",rowPageBreak:null!==(c=t.rowPageBreak)&&void 0!==c?c:"auto",tableWidth:null!==(d=t.tableWidth)&&void 0!==d?d:"auto",showHead:f,showFoot:p,tableLineWidth:null!==(u=t.tableLineWidth)&&void 0!==u?u:0,tableLineColor:null!==(m=t.tableLineColor)&&void 0!==m?m:200,horizontalPageBreak:v,horizontalPageBreakRepeat:j,horizontalPageBreakBehaviour:null!==(h=t.horizontalPageBreakBehaviour)&&void 0!==h?h:"afterAllRows"}}(r,i),d=function(e,t,r){var n=t.head||[],s=t.body||[],a=t.foot||[];if(t.html){var i=t.includeHiddenHtml;if(r){var o=p8(e,t.html,r,i,t.useCss)||{};n=o.head||n,s=o.body||n,a=o.foot||n}}var l=t.columns||function(e,t,r){var n=e[0]||t[0]||r[0]||[],s=[];return Object.keys(n).filter(function(e){return"_element"!==e}).forEach(function(e){var t,r=1;"object"!=typeof(t=Array.isArray(n)?n[parseInt(e)]:n[e])||Array.isArray(t)||(r=(null==t?void 0:t.colSpan)||1);for(var a=0;a<r;a++){var i={dataKey:Array.isArray(n)?s.length:e+(a>0?"_".concat(a):"")};s.push(i)}}),s}(n,s,a);return{columns:l,head:n,body:s,foot:a}}(r,i,a);return{id:t.tableId,content:d,hooks:l,styles:o,settings:c}}var y8,v8=function(){return function(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}}(),j8=function(e){function t(t,r,n,s,a,i){var o=e.call(this,t,r,i)||this;return o.cell=n,o.row=s,o.column=a,o.section=s.section,o}return s8(t,e),t}(v8),w8=function(){function e(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,r,n,s,a){for(var i=0,o=t;i<o.length;i++){var l=!1===(0,o[i])(new j8(e,this,r,n,s,a));if(r.text=Array.isArray(r.text)?r.text:[r.text],l)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,n=this.hooks.didDrawPage;r<n.length;r++){(0,n[r])(new v8(e,this,t))}},e.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,n=this.hooks.willDrawPage;r<n.length;r++){(0,n[r])(new v8(e,this,t))}},e.prototype.getWidth=function(e){if("number"==typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}(),N8=function(){function e(e,t,r,n,s){void 0===s&&(s=!1),this.height=0,this.raw=e,e instanceof a8&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=n,this.spansMultiplePages=s}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,r){var n;return Math.max(e,(null===(n=t.cells[r.index])||void 0===n?void 0:n.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var r=t.cells[e.index];return!!r&&r.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(e,n){var s=r.cells[n.index];if(!s)return 0;var a=t.getLineHeight(s.styles.fontSize),i=s.padding("vertical")+a;return i>e?i:e},0)},e}(),k8=function(){function e(e,t,r){var n;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var s=e;null==e||"object"!=typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=null!==(n=e.content)&&void 0!==n?n:e,e._element&&(this.raw=e._element));var a=null!=s?""+s:"";this.text=a.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var n=this.width-this.padding("horizontal");t=this.x+n/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var r=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(r,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=c8(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}(),S8=function(){function e(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,n=e.allRows();r<n.length;r++){var s=n[r].cells[this.index];s&&"number"==typeof s.styles.cellWidth&&(t=Math.max(t,s.styles.cellWidth))}return t},e}();function C8(e,t){!function(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,s=d8(e,t);t.allRows().forEach(function(a){for(var i=0,o=t.columns;i<o.length;i++){var l=o[i],c=a.cells[l.index];if(c){var d=t.hooks.didParseCell;t.callCellHooks(e,d,c,a,l,null);var u=c.padding("horizontal");c.contentWidth=i8(c.text,c.styles,e)+u;var m=i8(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=m+c.padding("horizontal"),"number"==typeof c.styles.cellWidth)c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if("wrap"===c.styles.cellWidth||!0===n)c.contentWidth>s?(c.minWidth=s,c.wrappedWidth=s):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/r;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(e){for(var r=0,n=t.columns;r<n.length;r++){var s=n[r],a=e.cells[s.index];if(a&&1===a.colSpan)s.wrappedWidth=Math.max(s.wrappedWidth,a.wrappedWidth),s.minWidth=Math.max(s.minWidth,a.minWidth),s.minReadableWidth=Math.max(s.minReadableWidth,a.minReadableWidth);else{var i=t.styles.columnStyles[s.dataKey]||t.styles.columnStyles[s.index]||{},o=i.cellWidth||i.minCellWidth;o&&"number"==typeof o&&(s.minWidth=o,s.wrappedWidth=o)}a&&(a.colSpan>1&&!s.minWidth&&(s.minWidth=a.minWidth),a.colSpan>1&&!s.wrappedWidth&&(s.wrappedWidth=a.minWidth))}})}(e,t);var r=[],n=0;t.columns.forEach(function(e){var s=e.getMaxCustomCellWidth(t);s?e.width=s:(e.width=e.wrappedWidth,r.push(e)),n+=e.width});var s=t.getWidth(e.pageSize().width)-n;s&&(s=A8(r,s,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),s&&(s=A8(r,s,function(e){return e.minWidth})),s=Math.abs(s),!t.settings.horizontalPageBreak&&s>.1/e.scaleFactor()&&(s=s<1?s:Math.round(s)),function(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],s=null,a=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((i-=1)>1&&e.columns[o+1])a+=l.width,delete n.cells[l.index];else if(s){var c=s;delete n.cells[l.index],s=null,c.width=l.width+a}else{if(!(c=n.cells[l.index]))continue;if(i=c.colSpan,a=0,c.colSpan>1){s=c,a+=l.width;continue}c.width=l.width+a}}}(t),function(e,t){for(var r={count:0,height:0},n=0,s=e.allRows();n<s.length;n++){for(var a=s[n],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=a.cells[l.index];if(c){t.applyStyles(c.styles,!0);var d=c.width-c.padding("horizontal");if("linebreak"===c.styles.overflow)c.text=t.splitTextToSize(c.text,d+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if("ellipsize"===c.styles.overflow)c.text=T8(c.text,d,c.styles,t,"...");else if("hidden"===c.styles.overflow)c.text=T8(c.text,d,c.styles,t,"");else if("function"==typeof c.styles.overflow){var u=c.styles.overflow(c.text,d);c.text="string"==typeof u?[u]:u}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var m=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<m*c.rowSpan?r={height:m,count:c.rowSpan}:r&&r.count>0&&r.height>m&&(m=r.height),m>a.height&&(a.height=m)}}r.count--}}(t,e),function(e){for(var t={},r=1,n=e.allRows(),s=0;s<n.length;s++)for(var a=n[s],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=t[l.index];if(r>1)r--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,r=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var u=n.length-s,m=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:m,row:a}}}}}(t)}function A8(e,t,r){for(var n=t,s=e.reduce(function(e,t){return e+t.wrappedWidth},0),a=0;a<e.length;a++){var i=e[a],o=n*(i.wrappedWidth/s),l=i.width+o,c=r(i),d=l<c?c:l;t-=d-i.width,i.width=d}if(t=Math.round(1e10*t)/1e10){var u=e.filter(function(e){return!(t<0)||e.width>r(e)});u.length&&(t=A8(u,t,r))}return t}function T8(e,t,r,n,s){return e.map(function(e){return function(e,t,r,n,s){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=i8(e,r,n))return e;for(;t<i8(e+s,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+s}(e,t,r,n,s)})}function E8(e,t){var r=new r8(e),n=function(e,t){var r=e.content,n=function(e){return e.map(function(e,t){var r,n;return n="object"==typeof e&&null!==(r=e.dataKey)&&void 0!==r?r:t,new S8(n,e,t)})}(r.columns);if(0===r.head.length){(s=P8(n,"head"))&&r.head.push(s)}if(0===r.foot.length){var s;(s=P8(n,"foot"))&&r.foot.push(s)}var a=e.settings.theme,i=e.styles;return{columns:n,head:_8("head",r.head,n,i,a,t),body:_8("body",r.body,n,i,a,t),foot:_8("foot",r.foot,n,i,a,t)}}(t,r.scaleFactor()),s=new w8(t,n);return C8(r,s),r.applyStyles(r.userStyles),s}function _8(e,t,r,n,s,a){var i={};return t.map(function(t,o){for(var l=0,c={},d=0,u=0,m=0,h=r;m<h.length;m++){var p=h[m];if(null==i[p.index]||0===i[p.index].left)if(0===u){var f=void 0,x={};"object"!=typeof(f=Array.isArray(t)?t[p.index-d-l]:t[p.dataKey])||Array.isArray(f)||(x=(null==f?void 0:f.styles)||{});var g=D8(e,p,o,s,n,a,x),b=new k8(f,g,e);c[p.dataKey]=b,c[p.index]=b,u=b.colSpan-1,i[p.index]={left:b.rowSpan-1,times:u}}else u--,d++;else i[p.index].left--,u=i[p.index].times,l++}return new N8(t,o,e,c)})}function P8(e,t){var r={};return e.forEach(function(e){if(null!=e.raw){var n=function(e,t){if("head"===e){if("object"==typeof t)return t.header||null;if("string"==typeof t||"number"==typeof t)return t}else if("foot"===e&&"object"==typeof t)return t.footer;return null}(t,e.raw);null!=n&&(r[e.dataKey]=n)}}),Object.keys(r).length>0?r:null}function D8(e,t,r,n,s,a,i){var o,l={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[n];"head"===e?o=s.headStyles:"body"===e?o=s.bodyStyles:"foot"===e&&(o=s.footStyles);var c=g8({},l.table,l[e],s.styles,o),d=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},u="body"===e?d:{},m="body"===e&&r%2==0?g8({},l.alternateRow,s.alternateRowStyles):{},h=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}(a),p=g8({},h,c,m,u);return g8(p,i)}function O8(e,t,r){var n;void 0===r&&(r={});var s=d8(e,t),a=new Map,i=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:"string"!=typeof t.settings.horizontalPageBreakRepeat&&"number"!=typeof t.settings.horizontalPageBreakRepeat||(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(e){var r=t.columns.find(function(t){return t.dataKey===e||t.index===e});r&&!a.has(r.index)&&(a.set(r.index,!0),i.push(r.index),o.push(t.columns[r.index]),s-=r.wrappedWidth)});for(var c=!0,d=null!==(n=null==r?void 0:r.start)&&void 0!==n?n:0;d<t.columns.length;)if(a.has(d))d++;else{var u=t.columns[d].wrappedWidth;if(!(c||s>=u))break;c=!1,i.push(d),o.push(t.columns[d]),s-=u,d++}return{colIndexes:i,columns:o,lastIndex:d-1}}function L8(e,t){var r=t.settings,n=r.startY,s=r.margin,a={x:s.left,y:n},i=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+s.bottom+i;"avoid"===r.pageBreak&&(o+=t.body.reduce(function(e,t){return e+t.height},0));var l=new r8(e);("always"===r.pageBreak||null!=r.startY&&o>l.pageSize().height)&&(W8(l),a.y=s.top),t.callWillDrawPageHooks(l,a);var c=g8({},a);t.startPageNumber=l.pageNumber(),r.horizontalPageBreak?function(e,t,r,n){var s=function(e,t){for(var r=[],n=0;n<t.columns.length;n++){var s=O8(e,t,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}(e,t),a=t.settings;if("afterAllRows"===a.horizontalPageBreakBehaviour)s.forEach(function(s,a){e.applyStyles(e.userStyles),a>0?U8(e,t,r,n,s.columns,!0):M8(e,t,n,s.columns),function(e,t,r,n,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,i){var o=i===t.body.length-1;F8(e,t,a,o,r,n,s)})}(e,t,r,n,s.columns),R8(e,t,n,s.columns)});else for(var i=-1,o=s[0],l=function(){var a=i;if(o){e.applyStyles(e.userStyles);var l=o.columns;i>=0?U8(e,t,r,n,l,!0):M8(e,t,n,l),a=I8(e,t,i+1,n,l),R8(e,t,n,l)}var c=a-i;s.slice(1).forEach(function(s){e.applyStyles(e.userStyles),U8(e,t,r,n,s.columns,!0),I8(e,t,i+1,n,s.columns,c),R8(e,t,n,s.columns)}),i=a};i<t.body.length-1;)l()}(l,t,c,a):(l.applyStyles(l.userStyles),"firstPage"!==r.showHead&&"everyPage"!==r.showHead||t.head.forEach(function(e){return B8(l,t,e,a,t.columns)}),l.applyStyles(l.userStyles),t.body.forEach(function(e,r){var n=r===t.body.length-1;F8(l,t,e,n,c,a,t.columns)}),l.applyStyles(l.userStyles),"lastPage"!==r.showFoot&&"everyPage"!==r.showFoot||t.foot.forEach(function(e){return B8(l,t,e,a,t.columns)})),o8(l,t,c,a),t.callEndPageHooks(l,a),t.finalY=a.y,e.lastAutoTable=t,l.applyStyles(l.userStyles)}function M8(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),"firstPage"!==s.showHead&&"everyPage"!==s.showHead||t.head.forEach(function(s){return B8(e,t,s,r,n)})}function I8(e,t,r,n,s,a){e.applyStyles(e.userStyles),a=null!=a?a:t.body.length;var i=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,i).forEach(function(a,i){var l=r+i===t.body.length-1,c=$8(e,t,l,n);a.canEntireRowFit(c,s)&&(B8(e,t,a,n,s),o=r+i)}),o}function R8(e,t,r,n){var s=t.settings;e.applyStyles(e.userStyles),"lastPage"!==s.showFoot&&"everyPage"!==s.showFoot||t.foot.forEach(function(s){return B8(e,t,s,r,n)})}function z8(e,t,r){var n=r.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/n);return Math.max(0,a)}function F8(e,t,r,n,s,a,i){var o=$8(e,t,n,a);if(r.canEntireRowFit(o,i))B8(e,t,r,a,i);else if(function(e,t,r,n){var s=e.pageSize().height,a=n.settings.margin,i=s-(a.top+a.bottom);"body"===t.section&&(i-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var o=t.getMinimumRowHeight(n.columns,e);if(o>i)return!0;if(!(o<r))return!1;var l=t.hasRowSpan(n.columns);return!!(t.getMaxCellHeight(n.columns)>i)||!l&&"avoid"!==n.settings.rowPageBreak}(e,r,o,t)){var l=function(e,t,r,n){var s={};e.spansMultiplePages=!0,e.height=0;for(var a=0,i=0,o=r.columns;i<o.length;i++){var l=o[i];if(x=e.cells[l.index]){Array.isArray(x.text)||(x.text=[x.text]),(f=g8(f=new k8(x.raw,x.styles,x.section),x)).text=[];var c=z8(x,t,n);x.text.length>c&&(f.text=x.text.splice(c,x.text.length));var d=n.scaleFactor(),u=n.getLineHeightFactor();x.contentHeight=x.getContentHeight(d,u),x.contentHeight>=t&&(x.contentHeight=t,f.styles.minCellHeight-=t),x.contentHeight>e.height&&(e.height=x.contentHeight),f.contentHeight=f.getContentHeight(d,u),f.contentHeight>a&&(a=f.contentHeight),s[l.index]=f}}var m=new N8(e.raw,-1,e.section,s,!0);m.height=a;for(var h=0,p=r.columns;h<p.length;h++){var f,x;l=p[h],(f=m.cells[l.index])&&(f.height=m.height),(x=e.cells[l.index])&&(x.height=e.height)}return m}(r,o,t,e);B8(e,t,r,a,i),U8(e,t,s,a,i),F8(e,t,l,n,s,a,i)}else U8(e,t,s,a,i),F8(e,t,r,n,s,a,i)}function B8(e,t,r,n,s){n.x=t.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var o=i[a],l=r.cells[o.index];if(l)if(e.applyStyles(l.styles),l.x=n.x,l.y=n.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n)){q8(e,l,n);var c=l.getTextPos();e8(l.text,c.x,c.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}else n.x+=o.width;else n.x+=o.width}n.y+=r.height}function q8(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"==typeof n.lineWidth){var s=l8(n.lineWidth,n.fillColor);s&&e.rect(t.x,r.y,t.width,t.height,s)}else"object"==typeof n.lineWidth&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),function(e,t,r,n){var s,a,i,o;n.top&&(s=r.x,a=r.y,i=r.x+t.width,o=r.y,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),l(n.top,s,a,i,o));n.bottom&&(s=r.x,a=r.y+t.height,i=r.x+t.width,o=r.y+t.height,n.right&&(i+=.5*n.right),n.left&&(s-=.5*n.left),l(n.bottom,s,a,i,o));n.left&&(s=r.x,a=r.y,i=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,s,a,i,o));n.right&&(s=r.x+t.width,a=r.y,i=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,s,a,i,o));function l(t,r,n,s,a){e.getDocument().setLineWidth(t),e.getDocument().line(r,n,s,a,"S")}}(e,t,r,n.lineWidth))}function $8(e,t,r,n){var s=t.settings.margin.bottom,a=t.settings.showFoot;return("everyPage"===a||"lastPage"===a&&r)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-s}function U8(e,t,r,n,s,a){void 0===s&&(s=[]),void 0===a&&(a=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||a||t.foot.forEach(function(r){return B8(e,t,r,n,s)}),t.callEndPageHooks(e,n);var i=t.settings.margin;o8(e,t,r,n),W8(e),t.pageNumber++,n.x=i.left,n.y=i.top,r.y=i.top,t.callWillDrawPageHooks(e,n),"everyPage"===t.settings.showHead&&(t.head.forEach(function(r){return B8(e,t,r,n,s)}),e.applyStyles(e.userStyles))}function W8(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}function V8(e,t){L8(e,E8(e,b8(e,t)))}try{if("undefined"!=typeof window&&window){var H8=window,G8=H8.jsPDF||(null===(y8=H8.jspdf)||void 0===y8?void 0:y8.jsPDF);G8&&function(e){e.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return L8(this,E8(this,b8(this,e[0]))),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(e,t,r,n){e8(e,t,r,n,this)},e.API.autoTableSetDefaults=function(e){return r8.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){r8.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var r;if(void 0===t&&(t=!1),"undefined"==typeof window)return null;var n=p8(new r8(this),e,window,t,!1),s=n.head,a=n.body;return{columns:(null===(r=s[0])||void 0===r?void 0:r.map(function(e){return e.content}))||[],rows:a,data:a}}}(G8)}}catch(ide){}const K8=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},Y8=(e,t)=>isNaN(e)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e),X8=e=>{if(!e)return"N/A";return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},J8=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"animate-spin w-4 h-4 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,Q8=e=>{if(!e)return new Date;try{const t=new Date(e);return isNaN(t.getTime())?new Date:t}catch(sde){return new Date}};function Z8(){$r();const[t,r]=qr.useState("pending"),[a,i]=qr.useState(null),[o,d]=qr.useState(""),[u,m]=qr.useState("all"),[h,p]=qr.useState(!1),[f,x]=qr.useState(!1),[g,b]=qr.useState(!1),[y,j]=qr.useState(!1),[w,N]=qr.useState(!1),[k,C]=qr.useState(null),[A,E]=qr.useState(!1),[P,D]=qr.useState(null),[O,L]=qr.useState(!1),[M,I]=qr.useState(!0),[R,z]=qr.useState(""),[F,B]=qr.useState("success"),[q,$]=qr.useState(!1),[U,W]=qr.useState([]),V="https://backend.nexusmwi.com",[H,G]=qr.useState({internalNotes:"",expenseNotes:{},approvalDecision:"approve",reimbursementMethod:"bank-transfer",reimbursementAmount:0,reimbursementCurrency:"",reimbursementDate:on(new Date,"yyyy-MM-dd")}),[K,Y]=qr.useState({reason:"",details:"",requestedItems:[],dueDate:on(new Date(Date.now()+2592e5),"yyyy-MM-dd")});qr.useEffect(()=>{(async()=>{I(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${V}/api/travel-requests/pending/recon`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch completed travel requests");const r=await t.json(),n=r.map(e=>{const t=Q8(e.departureDate),r=Q8(e.returnDate||new Date(t.getTime()+864e5)),n=e.reconciled||!1,s=e.reconciliation?e.reconciliation.status:e.status,a=e.payment?.expenses?.reduce((e,t)=>e+(t.amount||0),0)||0,i=e.payment?.perDiemAmount||("MWK"===e.currency?1e5:1e3),o=e.employee||{},l=o.name||"Unknown Employee",c=o.department||"Unknown Department",d=o._id||"Unknown ID";return{id:e._id,employeeName:l,employeeId:d,department:c,purpose:e.purpose,country:"international"===e.travelType?"International":e.location||"Local",city:e.location||"Local",departureDate:t,returnDate:r,status:s,reconciled:n,perDiemAmount:i,currency:e.currency||"USD",submittedDate:Q8(e.reconciliation?.submittedDate||e.createdAt),totalExpenses:a,remainingBalance:i-a,tripReport:e.reconciliation?.tripReport||"No trip report submitted",additionalNotes:e.reconciliation?.notes||"",email:o.email||"unknown@company.com",expenses:e.payment?.expenses?.map(t=>({id:t._id||Math.random().toString(36).substr(2,9),category:t.category||"Miscellaneous",description:t.description||"No description",amount:t.amount||0,currency:e.currency||"USD",date:Q8(t.date||e.departureDate),paymentMethod:t.paymentMethod||"card",receipt:t.receipt||null,status:t.status||"recorded"}))||[],reconciliation:e.reconciliation?{submittedDate:Q8(e.reconciliation.submittedDate||e.updatedAt),approvedDate:e.reconciliation.approvedDate?Q8(e.reconciliation.approvedDate):null,approvedBy:e.reconciliation.approvedBy||e.finalApprover,totalSpent:a,remainingBalance:i-a,status:e.reconciliation.status,notes:e.reconciliation.notes||""}:null,bankDetails:e.bankDetails||{accountName:"John Doe",accountNumber:"1234567890",bankName:"Example Bank",routingNumber:"987654321"}}});W(n),n.length>0&&(i(n[0]),G({internalNotes:"",expenseNotes:{},approvalDecision:"approve",reimbursementMethod:n[0].remainingBalance<0?"bank-transfer":"n/a",reimbursementAmount:n[0].remainingBalance<0?Math.abs(n[0].remainingBalance):0,reimbursementCurrency:n[0].currency,reimbursementDate:on(new Date,"yyyy-MM-dd")}))}catch(ide){z("Failed to fetch completed travel requests"),B("error"),$(!0)}finally{I(!1)}})()},[V]);const X=U.filter(e=>{const r=e.employeeName.toLowerCase().includes(o.toLowerCase())||e.id.toLowerCase().includes(o.toLowerCase())||e.country.toLowerCase().includes(o.toLowerCase())||e.city.toLowerCase().includes(o.toLowerCase()),n="all"===u||e.department.toLowerCase()===u.toLowerCase(),s="pending"===t?"pending"===e.reconciliation?.status:"pending_reconciliation"===t?"pending_reconciliation"===e.status:e.reconciliation?.status===t;return r&&n&&s}),J=(e,t)=>{G({...H,expenseNotes:{...H.expenseNotes,[e]:t}})},Q=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:0,maximumFractionDigits:2}).format(e),ee=e=>e.amount>({Meals:100,Entertainment:150,Transportation:50,Accommodation:200,Miscellaneous:50}[e.category]||100),te=e=>!e.receipt,re=t=>{switch(t){case"pending":case"pending_reconciliation":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-2xl text-xs font-medium bg-amber-100 text-amber-800 border border-amber-200",children:[e.jsx(l,{size:12,className:"mr-1"}),"pending_reconciliation"===t?"Pending Reconciliation":"Pending Review"]});case"clarification-requested":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-2xl text-xs font-medium bg-blue-100 text-blue-800 border border-blue-200",children:[e.jsx(Ne,{size:12,className:"mr-1"}),"Clarification Requested"]});case"approved":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-2xl text-xs font-medium bg-green-100 text-green-800 border border-green-200",children:[e.jsx(n,{size:12,className:"mr-1"}),"Approved"]});case"rejected":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-2xl text-xs font-medium bg-red-100 text-red-800 border border-red-200",children:[e.jsx(s,{size:12,className:"mr-1"}),"Rejected"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-2xl text-xs font-medium bg-gray-100 text-gray-800 border border-gray-200",children:t})}},ne=t=>{switch(t){case"pending":return e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-2xl text-xs font-medium",children:"Pending"});case"approved":return e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-2xl text-xs font-medium",children:"Approved"});case"rejected":return e.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-2xl text-xs font-medium",children:"Rejected"});default:return e.jsx("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-2xl text-xs font-medium",children:t})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(J8,{isVisible:M,message:"Loading Reconciliation Data..."}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Reconciliation Reviews"}),e.jsxs("select",{value:u,onChange:e=>m(e.target.value),className:"px-2 py-1 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-xs",children:[e.jsx("option",{value:"all",children:"All Departments"}),e.jsx("option",{value:"Engineering",children:"Engineering"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Product",children:"Product"})]})]}),e.jsxs("div",{className:"relative mb-3",children:[e.jsx(Re,{className:"absolute left-2 top-2 h-3 w-3 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reconciliations...",value:o,onChange:e=>d(e.target.value),className:"w-full pl-7 pr-3 py-1.5 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white text-xs"})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("button",{onClick:()=>r("pending_reconciliation"),className:"px-2 py-1 rounded-2xl text-xs font-medium transition-colors "+("pending_reconciliation"===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Review"}),e.jsx("button",{onClick:()=>r("approved"),className:"px-2 py-1 rounded-2xl text-xs font-medium transition-colors "+("approved"===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Approved"}),e.jsx("button",{onClick:()=>r("rejected"),className:"px-2 py-1 rounded-2xl text-xs font-medium transition-colors "+("rejected"===t?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Rejected"})]})]}),e.jsx("div",{className:"space-y-2 max-h-[calc(100vh-300px)] overflow-y-auto",children:0===X.length?e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-2xl flex items-center justify-center",children:e.jsx(c,{size:24,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:["No ",t," reconciliations found"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"All reconciliations have been processed"})]})]})}):X.map((t,r)=>e.jsxs("div",{onClick:()=>(e=>{i(e),p(!1),x(!1),G({internalNotes:"",expenseNotes:{},approvalDecision:"approve",reimbursementMethod:e.remainingBalance<0?"bank-transfer":"n/a",reimbursementAmount:e.remainingBalance<0?Math.abs(e.remainingBalance):0,reimbursementCurrency:e.currency,reimbursementDate:on(new Date,"yyyy-MM-dd")}),Y({reason:"",details:"",requestedItems:[],dueDate:on(new Date(Date.now()+2592e5),"yyyy-MM-dd")})})(t),className:"bg-white rounded-2xl border p-2 hover:shadow-sm transition-shadow cursor-pointer "+(a?.id===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:t.employeeName}),e.jsx("p",{className:"text-gray-600 text-xs",children:t.id})]}),re(t.status)]}),e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[e.jsx(De,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[t.city,", ",t.country]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-700",children:[e.jsx(v,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[on(t.departureDate,"MMM d")," -"," ",on(t.returnDate,"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-2xl text-xs font-medium",children:t.department})}),e.jsx("span",{className:"text-xs text-gray-500",children:on(t.submittedDate,"MMM d")})]})]},t.id))})]}),e.jsx("div",{className:"space-y-3",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-3 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-xl text-white",children:e.jsx(c,{size:16})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:a.purpose}),re(a.status)]}),e.jsxs("p",{className:"text-gray-600 text-xs mt-0.5",children:[a.id,"  ",a.department]})]})]}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(He,{size:16})})]})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Employee Information"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center text-white font-semibold text-xs",children:a.employeeName.split(" ").map(e=>e[0]).join("")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:a.employeeName}),e.jsx("p",{className:"text-xs text-gray-600",children:a.employeeId})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Trip Details"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"text-blue-500",size:12}),e.jsxs("span",{className:"text-gray-900 text-xs",children:[a.city,", ",a.country]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"text-blue-500",size:12}),e.jsxs("span",{className:"text-gray-900 text-xs",children:[on(a.departureDate,"MMM d, yyyy")," -"," ",on(a.returnDate,"MMM d, yyyy")]}),e.jsxs("span",{className:"bg-gray-100 text-gray-800 px-1.5 py-0.5 rounded-2xl text-xs font-medium ml-1",children:[(se=a.departureDate,ae=a.returnDate,un(ae,se)+1)," ","days"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(l,{className:"text-blue-500",size:12}),e.jsxs("span",{className:"text-gray-900 text-xs",children:["Submitted ",on(a.submittedDate,"MMM d, yyyy")]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Financial Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Per Diem Allowance:"}),e.jsx("span",{className:"font-medium text-xs",children:Q(a.perDiemAmount,a.currency)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Total Expenses:"}),e.jsx("span",{className:"font-medium text-xs",children:Q(a.totalExpenses,a.currency)})]}),e.jsx("hr",{className:"my-1"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-xs",children:"Remaining Balance:"}),e.jsx("span",{className:"font-medium text-xs "+(a.remainingBalance<0?"text-red-600":"text-green-600"),children:Q(a.remainingBalance,a.currency)})]})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:Q(a.perDiemAmount,a.currency)})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full "+(a.totalExpenses>a.perDiemAmount?"bg-red-500":"bg-blue-500"),style:{width:`${Math.min(a.totalExpenses/a.perDiemAmount*100,100)}%`}})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Trip Report"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-2",children:e.jsx("p",{className:"text-xs text-gray-700",children:a.tripReport})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Additional Notes"}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-2",children:e.jsx("p",{className:"text-xs text-gray-700",children:a.additionalNotes||"No additional notes provided."})})]}),"clarification-requested"===a.status&&a.reconciliation?.clarificationRequest&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Clarification Request"}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-2",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-1 text-xs",children:a.reconciliation.clarificationRequest.reason}),e.jsx("p",{className:"text-blue-700 text-xs mb-2",children:a.reconciliation.clarificationRequest.details}),e.jsxs("div",{className:"mb-2",children:[e.jsx("p",{className:"text-xs text-blue-600 font-medium mb-1",children:"Requested items:"}),e.jsx("ul",{className:"list-disc list-inside text-xs text-blue-700 space-y-0.5",children:a.reconciliation.clarificationRequest.requestedItems.map((t,r)=>e.jsx("li",{children:t},r))})]}),e.jsxs("div",{className:"flex justify-between text-xs text-blue-600",children:[e.jsxs("span",{children:["By: ",a.reconciliation.clarificationRequest.requestedBy]}),e.jsxs("span",{children:["Due:"," ",on(new Date(a.reconciliation.clarificationRequest.dueDate),"MMM d")]})]})]})]}),"approved"===a.status&&a.reconciliation?.approvedDate&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Approval Details"}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(Ge,{size:12,className:"text-green-600"}),e.jsxs("span",{className:"font-medium text-green-800 text-xs",children:["Approved by ",a.reconciliation.approvedBy]})]}),e.jsx("p",{className:"text-green-700 text-xs mb-1",children:a.reconciliation.notes}),"n/a"!==H.reimbursementMethod&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-green-600 font-medium mb-0.5",children:"Reimbursement Details:"}),e.jsxs("p",{className:"text-green-700 text-xs",children:[Q(H.reimbursementAmount,a.currency)," ","via ",H.reimbursementMethod]}),H.reimbursementDate&&e.jsxs("p",{className:"text-xs text-green-600 mt-0.5",children:["Processed: ",on(new Date(H.reimbursementDate),"MMM d, yyyy")]})]})]})]}),"rejected"===a.status&&a.reconciliation?.notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Rejection Details"}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-2",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(s,{size:12,className:"text-red-600"}),e.jsxs("span",{className:"font-medium text-red-800 text-xs",children:["Rejected by ",a.reconciliation.approvedBy]})]}),e.jsx("p",{className:"text-red-700 text-xs",children:a.reconciliation.notes})]})]})]})]}),("pending"===a.status||"pending_reconciliation"===a.status)&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"text-amber-600",size:16}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-amber-800 text-xs",children:"Action Required"}),e.jsx("p",{className:"text-amber-700 text-xs mt-0.5",children:"This reconciliation requires your review. Please check all expenses and the trip report for accuracy."})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-3 flex justify-between items-center rounded-b-2xl",children:[("pending"===a.status||"pending_reconciliation"===a.status)&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>x(!0),className:"px-3 py-1.5 bg-blue-100 text-blue-700 border border-blue-200 rounded-2xl hover:bg-blue-200 transition-colors flex items-center gap-1 text-xs",children:[e.jsx(Ne,{size:12}),"Request Clarification"]}),e.jsxs("button",{onClick:()=>p(!0),className:"px-3 py-1.5 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors flex items-center gap-1 text-xs",children:[e.jsx(S,{size:12}),"Review & Process"]})]}),"clarification-requested"===a.status&&e.jsxs("button",{className:"px-3 py-1.5 bg-blue-100 text-blue-700 border border-blue-200 rounded-2xl hover:bg-blue-200 transition-colors flex items-center gap-1 text-xs",children:[e.jsx(Ke,{size:12}),"View History"]}),"approved"===a.status&&e.jsxs("button",{onClick:async()=>{b(!0);try{await(e=>{try{const t=new a9;if(t.setFontSize(18),t.setTextColor(40,40,40),t.text("Travel Reconciliation Approval Report",15,20),t.setFontSize(12),t.text(`Approved on: ${K8(new Date)}`,15,30),t.text(`Reconciliation ID: ${e.id}`,15,40),t.setFontSize(14),t.text("Employee Information",15,55),t.setFontSize(12),t.text(`Name: ${e.employeeName}`,15,65),t.text(`Department: ${e.department}`,15,75),t.text(`Employee ID: ${e.employeeId}`,15,85),t.setFontSize(14),t.text("Trip Details",15,100),t.setFontSize(12),t.text(`Purpose: ${e.purpose}`,15,110),t.text(`Destination: ${e.city}, ${e.country}`,15,120),t.text(`Dates: ${K8(e.departureDate)} - ${K8(e.returnDate)}`,15,130),t.setFontSize(14),t.text("Financial Summary",15,145),V8(t,{startY:155,head:[["Item","Amount"]],body:[["Per Diem Allowance",Y8(e.perDiemAmount,e.currency)],["Total Expenses",Y8(e.totalExpenses,e.currency)],["Remaining Balance",Y8(e.remainingBalance,e.currency)]],theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{cellPadding:5}}),e.expenses&&e.expenses.length>0){t.setFontSize(14),t.text("Expense Details",15,t.lastAutoTable.finalY+20);const r=e.expenses.map(t=>[K8(t.date),t.category,t.description,Y8(t.amount,e.currency),t.status]);V8(t,{startY:t.lastAutoTable.finalY+30,head:[["Date","Category","Description","Amount","Status"]],body:r,theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{cellPadding:3,fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:60},3:{cellWidth:25},4:{cellWidth:20}}})}if(e.reconciliation?.notes){t.setFontSize(14),t.text("Approval Notes",15,t.lastAutoTable?t.lastAutoTable.finalY+20:180),t.setFontSize(12);const r=t.splitTextToSize(e.reconciliation.notes,180);t.text(r,15,t.lastAutoTable?t.lastAutoTable.finalY+30:190)}e.remainingBalance<0&&e.bankDetails&&(t.setFontSize(14),t.text("Reimbursement Details",15,t.lastAutoTable?t.lastAutoTable.finalY+50:220),t.setFontSize(12),t.text(`Account Name: ${e.bankDetails.accountName}`,15,t.lastAutoTable?t.lastAutoTable.finalY+60:230),t.text(`Account Number: ${e.bankDetails.accountNumber}`,15,t.lastAutoTable?t.lastAutoTable.finalY+70:240),t.text(`Bank: ${e.bankDetails.bankName}`,15,t.lastAutoTable?t.lastAutoTable.finalY+80:250)),t.setFontSize(10),t.setTextColor(150),t.text("Generated by HRMS Travel System",15,t.internal.pageSize.height-10),t.save(`Reconciliation_Approval_${e.id}.pdf`)}catch(ide){throw ide}})(a),z("Report downloaded successfully"),B("success")}catch(ide){z("Failed to generate report"),B("error")}finally{$(!0),b(!1)}},disabled:g,className:"px-3 py-1.5 bg-green-100 text-green-700 border border-green-200 rounded-2xl hover:bg-green-200 transition-colors flex items-center gap-1 disabled:opacity-50 text-xs",children:[g?e.jsx(Ye,{size:12,className:"animate-spin"}):e.jsx(Ie,{size:12}),g?"Generating...":"Download Report"]}),"rejected"===a.status&&e.jsxs("button",{className:"px-3 py-1.5 bg-red-100 text-red-700 border border-red-200 rounded-2xl hover:bg-red-200 transition-colors flex items-center gap-1 text-xs",children:[e.jsx(Ke,{size:12}),"View Details"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-3 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl",children:e.jsx(Xe,{size:16,className:"text-blue-600"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Expenses"})]}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-2xl text-xs font-medium",children:[a.expenses.length," items"]})]})}),e.jsx("div",{className:"overflow-x-auto",children:0===a.expenses.length?e.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No expenses recorded"}):e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[a.expenses.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 "+(ee(t)?"bg-amber-50":""),children:[e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:on(Q8(t.date),"MMM d, yyyy")}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900",children:t.category}),e.jsx("td",{className:"px-3 py-2 text-xs text-gray-900",children:t.description}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 text-right font-medium",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[Q(t.amount,a.currency),ee(t)&&e.jsxs("div",{className:"group relative",children:[e.jsx(T,{size:12,className:"text-amber-500"}),e.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-48 p-2 bg-gray-900 text-white text-xs rounded-xl opacity-0 group-hover:opacity-100 transition-opacity",children:"Unusually high amount for this category"})]})]})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:ne(t.status)}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:t.receipt?e.jsxs("button",{onClick:()=>{C(t),E(!0)},className:"text-blue-600 hover:text-blue-800 text-xs font-medium flex items-center gap-1",children:[e.jsx(_,{size:12}),"View"]}):e.jsx("span",{className:"bg-red-100 text-red-800 px-1.5 py-0.5 rounded-2xl text-xs font-medium",children:"Missing"})}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap",children:e.jsx("button",{className:"text-gray-400 hover:text-gray-600 p-0.5 rounded-xl",children:e.jsx(He,{size:12})})})]},t.id)),e.jsxs("tr",{className:"bg-gray-100 font-medium",children:[e.jsx("td",{colSpan:3,className:"px-3 py-2 text-right text-xs text-gray-900",children:"Total"}),e.jsx("td",{className:"px-3 py-2 whitespace-nowrap text-xs text-gray-900 text-right font-bold",children:Q(a.totalExpenses,a.currency)}),e.jsx("td",{colSpan:3})]})]})]})})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(S,{size:20,className:"text-green-500"}),"Review & Process Reconciliation"]}),e.jsxs("p",{className:"text-gray-600 text-xs mt-0.5",children:["Review and process ",a?.employeeName,"'s reconciliation for"," ",a?.city]})]}),e.jsx("button",{onClick:()=>p(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Decision"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("label",{className:"p-3 border-2 rounded-2xl cursor-pointer transition-colors "+("approve"===H.approvalDecision?"border-green-300 bg-green-50":"border-gray-200 hover:border-green-200"),children:[e.jsx("input",{type:"radio",name:"decision",value:"approve",checked:"approve"===H.approvalDecision,onChange:e=>G({...H,approvalDecision:e.target.value}),className:"sr-only"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border-2 "+("approve"===H.approvalDecision?"border-green-500 bg-green-500":"border-gray-300"),children:"approve"===H.approvalDecision&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),e.jsx("span",{className:"font-medium text-sm",children:"Approve Reconciliation"})]})]}),e.jsxs("label",{className:"p-3 border-2 rounded-2xl cursor-pointer transition-colors "+("reject"===H.approvalDecision?"border-red-300 bg-red-50":"border-gray-200 hover:border-red-200"),children:[e.jsx("input",{type:"radio",name:"decision",value:"reject",checked:"reject"===H.approvalDecision,onChange:e=>G({...H,approvalDecision:e.target.value}),className:"sr-only"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full border-2 "+("reject"===H.approvalDecision?"border-red-500 bg-red-500":"border-gray-300"),children:"reject"===H.approvalDecision&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50"})}),e.jsx("span",{className:"font-medium text-sm",children:"Reject Reconciliation"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Internal Notes"}),e.jsx("textarea",{placeholder:"Add notes about this reconciliation (visible to finance team only)",value:H.internalNotes,onChange:e=>G({...H,internalNotes:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]}),a.remainingBalance<0&&"approve"===H.approvalDecision&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Reimbursement Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reimbursement Method"}),e.jsxs("select",{value:H.reimbursementMethod,onChange:e=>G({...H,reimbursementMethod:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",children:[e.jsx("option",{value:"bank-transfer",children:"Bank Transfer"}),e.jsx("option",{value:"payroll",children:"Add to Next Payroll"}),e.jsx("option",{value:"check",children:"Check"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reimbursement Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:a.currency}),e.jsx("input",{type:"number",value:H.reimbursementAmount,onChange:e=>G({...H,reimbursementAmount:Number.parseFloat(e.target.value)}),className:"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Default:"," ",Q(Math.abs(a.remainingBalance),a.currency)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Processing Date"}),e.jsx("input",{type:"date",value:H.reimbursementDate,onChange:e=>G({...H,reimbursementDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Je,{size:14,className:"text-blue-600"}),e.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"Payment Details"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Account Name:"}),e.jsx("span",{className:"text-blue-600 ml-2",children:a.bankDetails.accountName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Account Number:"}),e.jsx("span",{className:"text-blue-600 ml-2",children:a.bankDetails.accountNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Bank:"}),e.jsx("span",{className:"text-blue-600 ml-2",children:a.bankDetails.bankName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-blue-700",children:"Routing Number:"}),e.jsx("span",{className:"text-blue-600 ml-2",children:a.bankDetails.routingNumber})]})]})]})]}),a.remainingBalance>0&&"approve"===H.approvalDecision&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"text-green-600",size:16}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-green-800 text-sm",children:"Remaining Balance"}),e.jsxs("p",{className:"text-green-700 text-xs mt-1",children:["The employee has a remaining balance of"," ",Q(a.remainingBalance,a.currency),". This amount will be returned to the company account."]})]})]})}),"reject"===H.approvalDecision&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"text-red-600",size:16}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-800 text-sm",children:"Rejection Notice"}),e.jsx("p",{className:"text-red-700 text-xs mt-1",children:"The employee will be notified that their reconciliation has been rejected. They will need to resubmit with corrections."})]})]})}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Expense Review"}),e.jsx("div",{className:"space-y-3",children:a.expenses.map(t=>e.jsxs("div",{className:"p-3 border rounded-2xl "+(ee(t)?"border-amber-200 bg-amber-50":"border-gray-200"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 text-sm",children:[t.category,": ",t.description]}),e.jsx("p",{className:"text-xs text-gray-600",children:on(Q8(t.date),"MMM d, yyyy")})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:Q(t.amount,a.currency)}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Payment: ",t.paymentMethod]})]})]}),ee(t)&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"text-amber-600",size:12}),e.jsx("span",{className:"font-medium text-amber-800 text-xs",children:"Warning"})]}),e.jsx("p",{className:"text-amber-700 text-xs mt-0.5",children:"This expense amount is unusually high for this category."})]}),te(t)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(T,{className:"text-red-600",size:12}),e.jsx("span",{className:"font-medium text-red-800 text-xs",children:"Error"})]}),e.jsx("p",{className:"text-red-700 text-xs mt-0.5",children:"Receipt is missing for this expense."})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"text",placeholder:"Add notes for this expense",value:H.expenseNotes[t.id]||"",onChange:e=>J(t.id,e.target.value),className:"flex-1 px-2 py-1.5 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-green-500 focus:border-green-500 text-xs"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",name:`expense-${t.id}`,checked:!H.expenseNotes[t.id],onChange:()=>J(t.id,""),className:"text-green-500 focus:ring-green-500"}),e.jsx("span",{className:"text-xs text-green-700",children:"Approve"})]}),e.jsxs("label",{className:"flex items-center gap-1",children:[e.jsx("input",{type:"radio",name:`expense-${t.id}`,checked:!!H.expenseNotes[t.id],onChange:()=>{H.expenseNotes[t.id]||J(t.id,"Flagged for review")},className:"text-amber-500 focus:ring-amber-500"}),e.jsx("span",{className:"text-xs text-amber-700",children:"Flag"})]})]})]})]},t.id))})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between rounded-b-2xl",children:[e.jsx("button",{onClick:()=>p(!1),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-100 transition-colors text-sm",children:"Cancel"}),e.jsx("button",{onClick:async()=>{j(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${V}/api/travel-requests/${a.id}/process-reconciliation`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({decision:H.approvalDecision,internalNotes:H.internalNotes,expenseNotes:H.expenseNotes,reimbursementMethod:H.reimbursementMethod,reimbursementAmount:H.reimbursementAmount,reimbursementCurrency:H.reimbursementCurrency,reimbursementDate:H.reimbursementDate})});if(!t.ok)throw new Error("Failed to process reconciliation");const n=await t.json();i(n.travelRequest),p(!1),r("approve"===H.approvalDecision?"approved":"rejected"),z(`Reconciliation ${"approve"===H.approvalDecision?"approved":"rejected"} successfully`),B("success"),$(!0)}catch(ide){z(ide.message||"Failed to process reconciliation"),B("error"),$(!0)}finally{j(!1)}},disabled:y,className:"px-3 py-1.5 text-white rounded-2xl transition-colors disabled:opacity-50 flex items-center gap-1 text-sm "+("approve"===H.approvalDecision?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"),children:y?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{size:14,className:"animate-spin"}),"Processing..."]}):e.jsx(e.Fragment,{children:"approve"===H.approvalDecision?e.jsxs(e.Fragment,{children:[e.jsx($e,{size:14}),"Approve Reconciliation"]}):e.jsxs(e.Fragment,{children:[e.jsx(s,{size:14}),"Reject Reconciliation"]})})})]})]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-gray-50 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ne,{size:20,className:"text-blue-500"}),"Request Clarification"]}),e.jsxs("p",{className:"text-gray-600 text-xs mt-0.5",children:["Request additional information from ",a?.employeeName]})]}),e.jsx("button",{onClick:()=>x(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason for Clarification"}),e.jsxs("select",{value:K.reason,onChange:e=>Y({...K,reason:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",children:[e.jsx("option",{value:"",children:"Select a reason"}),e.jsx("option",{value:"Missing documentation",children:"Missing documentation"}),e.jsx("option",{value:"Policy violation",children:"Policy violation"}),e.jsx("option",{value:"Incomplete information",children:"Incomplete information"}),e.jsx("option",{value:"Expense discrepancy",children:"Expense discrepancy"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clarification Details"}),e.jsx("textarea",{placeholder:"Provide detailed information about what needs to be clarified",value:K.details,onChange:e=>Y({...K,details:e.target.value}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Requested Items"}),e.jsx("div",{className:"space-y-1",children:["Missing receipts","Expense justification","Policy explanation","Additional documentation"].map(t=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:K.requestedItems.includes(t),onChange:()=>(e=>{const t=[...K.requestedItems],r=t.indexOf(e);r>=0?t.splice(r,1):t.push(e),Y({...K,requestedItems:t})})(t),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-700 text-sm",children:t})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Due Date"}),e.jsx("input",{type:"date",value:K.dueDate,onChange:e=>Y({...K,dueDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Default: 3 business days from today"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"text-blue-600",size:16}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 text-sm",children:"Notification"}),e.jsxs("p",{className:"text-blue-700 text-xs mt-0.5",children:["An email will be sent to ",a.employeeName," (",a.email,") with your clarification request."]})]})]})})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between rounded-b-2xl",children:[e.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-100 transition-colors text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{N(!0),setTimeout(()=>{const e={...a,status:"clarification-requested",reconciliation:{...a.reconciliation,status:"clarification-requested",clarificationRequest:{requestedBy:"Sarah Johnson",requestedDate:new Date,reason:K.reason,details:K.details,requestedItems:K.requestedItems,dueDate:new Date(K.dueDate),status:"pending"}}};i(e),N(!1),x(!1),r("clarification-requested")},1500)},disabled:w||!K.reason||!K.details||0===K.requestedItems.length,className:"px-3 py-1.5 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors disabled:opacity-50 flex items-center gap-1 text-sm",children:w?e.jsxs(e.Fragment,{children:[e.jsx(Ye,{size:14,className:"animate-spin"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:14}),"Send Clarification Request"]})})]})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 rounded-t-2xl",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Receipt"}),e.jsxs("p",{className:"text-gray-600 text-xs mt-0.5",children:[k?.description," -"," ",k?on(dn(k.date),"MMMM d, yyyy"):""]})]}),e.jsx("div",{className:"p-4",children:e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:e.jsx("img",{src:"/placeholder.svg?height=400&width=300",alt:"Receipt",className:"max-h-96 w-auto object-contain"})})})}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex justify-between rounded-b-2xl",children:[e.jsx("button",{onClick:()=>E(!1),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-100 transition-colors text-sm",children:"Close"}),e.jsxs("button",{className:"px-3 py-1.5 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ie,{size:14}),"Download"]})]})]})})]}):e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center",children:e.jsx(c,{size:32,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Reconciliation Selected"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto text-sm",children:"Select a reconciliation from the list to view details and process reviews"})]})]})})})]})}),q&&e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-3 py-2 rounded-2xl border max-w-md "+("success"===F?"bg-green-50 border-green-200 text-green-800":"error"===F?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["success"===F&&e.jsx(n,{size:16,className:"text-green-600"}),"error"===F&&e.jsx(T,{size:16,className:"text-red-600"}),"info"===F&&e.jsx(Je,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"font-medium text-sm",children:R}),e.jsx("button",{onClick:()=>$(!1),className:"ml-2 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:14})})]})})})]});var se,ae}const eee=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,tee=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-2xl":"text-lg";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:14,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[a>0?e.jsx(d,{size:10,className:"text-emerald-500"}):e.jsx(We,{size:10,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-0.5`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-0.5",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},ree=({currentStatus:t,orderDate:r,estimatedDelivery:s,isConfirmed:a})=>{const i=[{key:"order_confirmed",label:"Order Confirmed",icon:c,date:r},{key:"processing",label:"Processing",icon:x,date:null},{key:"shipped",label:"Shipped",icon:Ze,date:null},{key:"out_for_delivery",label:"Out for Delivery",icon:Se,date:null},{key:"delivered",label:"Delivered",icon:n,date:s},{key:"confirmed",label:"Receipt Confirmed",icon:p,date:null}],o=(()=>{if("confirmed"===t?.toLowerCase()||a)return 5;switch(t?.toLowerCase()){case"pending":default:return 0;case"processing":return 1;case"shipped":return 2;case"out_for_delivery":return 3;case"delivered":return 4}})();return e.jsx("div",{className:"relative",children:i.map((t,r)=>{const n=r<=o,s=r===o,a=t.icon;return e.jsxs("div",{className:"flex items-center mb-6 last:mb-0",children:[e.jsx("div",{className:"relative z-10 flex items-center justify-center w-10 h-10 rounded-full border-2 "+(n?"bg-green-500 border-green-500 text-white":s?"bg-blue-500 border-blue-500 text-white animate-pulse":"bg-white border-gray-300 text-gray-400"),children:e.jsx(a,{size:20})}),r<i.length-1&&e.jsx("div",{className:"absolute left-5 w-0.5 h-16 "+(r<o?"bg-green-500":"bg-gray-200"),style:{top:"40px"}}),e.jsxs("div",{className:"ml-4 flex-1",children:[e.jsx("h3",{className:"font-medium "+(n?"text-gray-900":"text-gray-500"),children:t.label}),t.date&&e.jsx("p",{className:"text-sm text-gray-500",children:new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),s&&!n&&e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"In Progress"})]})]},t.key)})})},nee=({po:t,isOpen:r,onClose:a,onConfirmReceipt:i})=>{if(!r||!t)return null;const l=e=>e?new Date(e).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}):"N/A",d=t._id?.slice(-8)||"N/A",u=t.vendor?`${t.vendor.lastName||""} ${t.vendor.firstName||""}`.trim():"N/A",m="delivered"===t.deliveryStatus?.toLowerCase();return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Ze,{size:24,className:"text-blue-500"}),"Track Delivery - PO-",d]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor your purchase order delivery status"})]}),e.jsx("button",{onClick:a,className:"p-3 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(s,{size:24})})]})}),e.jsxs("div",{className:"p-8 max-h-[75vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-6 border border-blue-200 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ze,{size:20,className:"text-blue-500"}),"Order Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Purchase Order"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["PO-",d]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendor"}),e.jsx("p",{className:"text-gray-900 font-semibold",children:u})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["MWK ",t.totalAmount?.toFixed(0)||"N/A"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(o,{size:20,className:"text-green-500"}),"Current Status"]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${(e=>{switch(e?.toLowerCase()){case"delivered":return"text-green-600 bg-green-100";case"shipped":return"text-blue-600 bg-blue-100";case"processing":return"text-amber-600 bg-amber-100";case"confirmed":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}})(t.deliveryStatus)}`,children:t.deliveryStatus||"Processing"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Delivery Progress"}),e.jsx(ree,{currentStatus:t.deliveryStatus,orderDate:t.createdAt,estimatedDelivery:t.estimatedDelivery,isConfirmed:t.receivedByCustomer||"confirmed"===t.deliveryStatus})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Delivery Information"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Order Date:"}),e.jsx("span",{className:"font-medium",children:l(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Estimated Delivery:"}),e.jsx("span",{className:"font-medium",children:t.estimatedDelivery?l(t.estimatedDelivery):"TBD"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Delivery Address:"}),e.jsx("span",{className:"font-medium",children:t.deliveryAddress||"Default Address"})]}),t.trackingNumber&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tracking Number:"}),e.jsx("span",{className:"font-medium font-mono text-blue-600",children:t.trackingNumber})]})]})]}),m&&!t.receivedByCustomer&&"confirmed"!==t.deliveryStatus&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(n,{className:"w-5 h-5 text-green-500"}),e.jsx("h4",{className:"font-medium text-green-900",children:"Package Delivered!"})]}),e.jsx("p",{className:"text-sm text-green-700 mb-4",children:"Your order has been delivered by the courier. Please confirm receipt of your goods."}),e.jsxs("button",{onClick:()=>i(t._id),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:[e.jsx(J,{size:16}),"Confirm Receipt of Goods"]})]}),(t.receivedByCustomer||"confirmed"===t.deliveryStatus)&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(p,{className:"w-5 h-5 text-blue-500"}),e.jsx("h4",{className:"font-medium text-blue-900",children:"Order Completed!"})]}),e.jsx("p",{className:"text-sm text-blue-700",children:"You have confirmed receipt of this order. Thank you for your business!"}),(t.receivedDate||t.proofOfDelivery?.confirmedAt)&&e.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Confirmed on ",l(t.receivedDate||t.proofOfDelivery?.confirmedAt)]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(c,{size:20,className:"text-purple-500"}),"Order Items"]}),e.jsx("div",{className:"space-y-3",children:t.items?.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.itemName||t.product}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",t.quantity]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:["MWK ",(t.price||0).toFixed(0)]}),e.jsx("p",{className:"text-sm text-gray-600",children:"per unit"})]})]},r))||e.jsx("div",{className:"text-center py-4 text-gray-500",children:"No items found"})})]})]}),e.jsx("div",{className:"px-8 py-4 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:a,className:"px-6 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"Close"})})})]})})},see=({po:t,isOpen:r,onClose:a,onConfirm:i,showNotification:o})=>{const[l,c]=qr.useState(5),[d,u]=qr.useState(""),[m,h]=qr.useState(!1),[f,x]=qr.useState(""),[g,b]=qr.useState(""),[y,v]=qr.useState(!1);if(qr.useEffect(()=>{r&&(c(5),u(""),h(!1),x(""),b(""),v(!1))},[r]),!r||!t)return null;const j=t._id?.slice(-8)||"N/A";return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[85vh] overflow-hidden shadow-2xl flex flex-col",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(n,{size:24,className:"text-green-500"}),"Confirm Receipt - PO-",j]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Please confirm that you have received your order"})]}),e.jsx("button",{onClick:a,disabled:y,className:"p-3 hover:bg-gray-100 rounded-xl transition-colors disabled:opacity-50",children:e.jsx(s,{size:24})})]})}),e.jsxs("div",{className:"p-8 flex-1 overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(n,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-blue-900",children:"Complete Your Order Confirmation"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:'Please fill in the required information below and click "Confirm Receipt of Goods" to complete your order.'})]})]})}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200 mb-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ze,{size:20,className:"text-green-500"}),"Order Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Purchase Order"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["PO-",j]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-gray-900 font-semibold",children:["MWK ",t.totalAmount?.toFixed(0)||"N/A"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Rate your experience (1-5 stars)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(t=>e.jsx("button",{onClick:()=>c(t),className:`p-1 rounded ${t<=l?"text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`,children:e.jsx(p,{size:24,className:t<=l?"fill-current":""})},t)),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:1===l?"Poor":2===l?"Fair":3===l?"Good":4===l?"Very Good":"Excellent"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("span",{className:"flex items-center gap-2",children:["Received By ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded-full",children:"Required"})]})}),e.jsx("input",{type:"text",value:g,onChange:e=>b(e.target.value),placeholder:"Enter the name of the person who received the delivery",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors "+(g.trim()?"border-gray-300":"border-red-300 bg-red-50"),required:!0}),!g.trim()&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:"This field is required to confirm receipt"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Feedback (Optional)"}),e.jsx("textarea",{value:d,onChange:e=>u(e.target.value),placeholder:"Share your experience with this order...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:3})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"checkbox",id:"hasIssues",checked:m,onChange:e=>h(e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"hasIssues",className:"text-sm font-medium text-gray-700",children:"Report any issues with this delivery"})]}),m&&e.jsx("div",{className:"mt-3",children:e.jsx("textarea",{value:f,onChange:e=>x(e.target.value),placeholder:"Please describe any issues you encountered...",className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 resize-none",rows:3})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(T,{className:"w-5 h-5 text-blue-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:"Confirmation Notice"}),e.jsx("p",{className:"text-sm text-blue-700",children:"By confirming receipt, you acknowledge that you have received the goods as ordered. This action will mark the purchase order as completed."})]})]})})]}),e.jsx("div",{className:"px-8 py-6 border-t border-gray-200 bg-gray-50 flex-shrink-0",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:a,disabled:y,className:"px-6 py-3 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(g.trim()){v(!0);try{await i({poId:t._id,rating:l,feedback:d,hasIssues:m,issueDescription:f,receivedBy:g.trim(),receivedDate:new Date}),a()}catch(ide){o("Failed to confirm receipt. Please try again.","error")}finally{v(!1)}}else o("Please enter who received the delivery","error")},disabled:y||!g.trim(),className:"px-8 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Confirming Receipt..."]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{size:18}),"Confirm Receipt of Goods"]})})]})})]})})},aee=({po:t,onMenuClick:r,showMenuId:a,onApprove:i,onReject:o,actionLoading:l})=>{const d=t.vendor?`${t.vendor.lastName||""} ${t.vendor.firstName||""}`.trim():"N/A",u=t._id?.slice(-8)||"N/A";return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(w,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["PO-",u]}),e.jsx("p",{className:"text-sm text-gray-500",children:d})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${(e=>{switch(e?.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:[(t=>{switch(t?.toLowerCase()){case"approved":return e.jsx($e,{size:14});case"pending":default:return e.jsx(ze,{size:14});case"rejected":return e.jsx(s,{size:14})}})(t.status),t.status]}),e.jsx("button",{"data-po-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-green-500"}),t.totalAmount?.toFixed(0)||0]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Amount (MWK)"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(Ze,{className:"w-4 h-4 text-blue-500"}),t.deliveryStatus||"Pending"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Delivery"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Created"}),e.jsx("span",{className:"text-xs font-medium",children:(h=t.createdAt,new Date(h).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Vendor Email"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.vendor?.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Items"}),e.jsx("span",{className:"text-xs font-medium",children:t.items?.length||0})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Delivery Status"}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 w-fit ${(e=>{switch(e?.toLowerCase()){case"confirmed":case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-green-100 text-green-800";case"processing":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(t.deliveryStatus)}`,children:[(t=>{switch(t?.toLowerCase()){case"confirmed":return e.jsx(n,{size:14});case"delivered":return e.jsx($e,{size:14});case"shipped":return e.jsx(Ze,{size:14});case"processing":return e.jsx(c,{size:14});default:return e.jsx(ze,{size:14})}})(t.deliveryStatus),t.deliveryStatus||"Pending"]})]}),t.receivedByCustomer&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Customer Receipt"}),e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 flex items-center gap-1 w-fit",children:[e.jsx(p,{size:12}),"Received by ",t.receivedByCustomer||"Customer"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Status: ",t.status||"Unknown"]})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Qe,{size:14})})]})]})]});var h},iee=({rfq:t,isSelected:r,onSelect:n})=>{const s=e=>e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",a=t._id,i=t.selectedVendor&&t.quotes?.length>0,o=i?t.quotes.find(e=>e.vendor===t.selectedVendor):null,l=t._id?.slice(-8)||"N/A";return e.jsxs("div",{onClick:()=>i&&n(a),className:"bg-white rounded-lg border-2 p-4 cursor-pointer transition-all duration-200 "+(r?"border-blue-500 bg-blue-50 shadow-md":i?"border-gray-200 hover:border-blue-300 hover:shadow-md":"border-gray-200 opacity-50 cursor-not-allowed"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+(r?"bg-blue-100":"bg-gray-50"),children:e.jsx(c,{className:"w-5 h-5 "+(r?"text-blue-600":"text-gray-600")})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 line-clamp-1",children:t.itemName||"Untitled RFQ"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["RFQ-",l]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e?.toLowerCase()){case"open":default:return"bg-green-100 text-green-800";case"closed":return"bg-gray-100 text-gray-800";case"awarded":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800"}})(t.status||"open")}`,children:t.status||"Open"}),r&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-3 h-3 text-white"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.quantity||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.quotes?.length||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quotes"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Created"}),e.jsx("span",{className:"text-xs font-medium",children:s(t.createdAt)})]}),t.deadline&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"}),e.jsx("span",{className:"text-xs font-medium",children:s(t.deadline)})]}),i&&o&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Best Quote"}),e.jsxs("span",{className:"text-xs font-medium text-green-600",children:["MWK ",o.price?.toFixed(0)||"N/A"]})]})]}),t.description&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-800 line-clamp-2",children:t.description})]}),!i&&e.jsx("div",{className:"text-center p-2 bg-yellow-50 rounded border border-yellow-200",children:e.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:"No vendor selected"})}),i&&o&&e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Selected Vendor"}),e.jsx("span",{className:"text-xs font-medium",children:t.selectedVendor})]})})]})};function oee(){const[t,r]=qr.useState([]),[a,i]=qr.useState(!0),[o,l]=qr.useState(""),[d,u]=qr.useState("all"),[h,p]=qr.useState(null),[f,x]=qr.useState(null),[g,b]=qr.useState(!1),[y,v]=qr.useState([]),[j,N]=qr.useState(""),[k,S]=qr.useState(null),[C,A]=qr.useState(!1),[T,E]=qr.useState(""),[P,D]=qr.useState("success"),[O,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(!1),[F,B]=qr.useState(null),[q,$]=qr.useState(""),[U,W]=qr.useState("all"),V=qr.useRef(null),H="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${H}/api/purchase-orders`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){const e=await t.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${t.status}`)}const n=await t.json();r(Array.isArray(n.data)?n.data:[]);const s=await fetch(`${H}/api/rfqs`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!s.ok){const e=await s.json().catch(()=>({}));throw new Error(e.message||`HTTP error! status: ${s.status}`)}const a=await s.json();v(Array.isArray(a.data)?a.data:[])}catch(ide){se(ide.message||"Failed to fetch data","error")}finally{i(!1)}})()},[H]);const K=y.filter(()=>!0).filter(e=>e.itemName?.toLowerCase().includes(q.toLowerCase())||e.description?.toLowerCase().includes(q.toLowerCase())||e._id?.toLowerCase().includes(q.toLowerCase())||!1).filter(e=>!!e.selectedVendor),Y=t.filter(e=>"all"===d||e.status===d).filter(e=>e._id?.toLowerCase().includes(o.toLowerCase())||e.vendor?.name?.toLowerCase().includes(o.toLowerCase())||!1),J=t?.length||0,Q=t?.filter(e=>"approved"===e.status)?.length||0,Z=t?.filter(e=>"pending"===e.status)?.length||0,ee=t?.reduce((e,t)=>e+(t.totalAmount||0),0)||0,te=()=>{b(!0),N(""),S(null),$(""),W("open")},re=()=>{b(!1),N(""),S(null),$(""),W("open")},ne=e=>{N(e);const t=y.find(t=>t._id===e);if(t&&t.selectedVendor){const e=t.quotes.find(e=>e.vendor===t.selectedVendor);S(e)}},se=(e,t="success")=>{E(e),D(t),A(!0),setTimeout(()=>A(!1),5e3)},ae=async e=>{x(e);try{await new Promise(e=>setTimeout(e,1e3)),r(t=>t.map(t=>t._id===e?{...t,status:"approved"}:t)),se("Purchase Order approved successfully!","success")}catch(ide){se("Failed to approve purchase order","error")}finally{x(null),p(null)}},ie=async e=>{x(e);try{await new Promise(e=>setTimeout(e,1e3)),r(t=>t.map(t=>t._id===e?{...t,status:"rejected"}:t)),se("Purchase Order rejected successfully!","success")}catch(ide){se("Failed to reject purchase order","error")}finally{x(null),p(null)}},oe=()=>{i(!0),setTimeout(()=>i(!1),1e3),window.location.reload()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("input",{ref:V,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");let a=0;for(const t of n){const e={vendorId:t["Vendor ID"]||"",items:t.Items?JSON.parse(t.Items):[],totalAmount:Number(t["Total Amount"])||0,deliveryAddress:t["Delivery Address"]||"",status:t.Status||"pending",deliveryStatus:t["Delivery Status"]||"processing"};(await fetch(`${H}/api/purchase-orders`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&a++}se(`Successfully imported ${a} purchase orders!`,"success"),oe()}catch(r){se("Excel import failed!","error")}}}),e.jsx(eee,{isVisible:a,message:"Loading Purchase Orders..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search purchase orders...",value:o,onChange:e=>l(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm bg-white"})]}),e.jsxs("select",{value:d,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx("button",{onClick:oe,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:e.jsx(G,{size:16,className:a?"animate-spin":""})}),e.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Le,{size:16}),"New PO"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(tee,{title:"Total POs",value:J,icon:w,color:"blue",subtitle:"All orders"}),e.jsx(tee,{title:"Approved",value:Q,icon:$e,color:"green",trend:15,subtitle:"Ready to ship"}),e.jsx(tee,{title:"Pending",value:Z,icon:ze,color:"amber",subtitle:"Awaiting approval"}),e.jsx(tee,{title:"Total Amount",value:ee.toFixed(0),prefix:"MWK ",icon:m,color:"purple",trend:8,subtitle:"Order value"})]}),e.jsxs("div",{id:"purchase-orders-section",className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Purchase Orders"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const e=document.getElementById("purchase-orders-section")?.innerHTML;if(!e)return void se("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Purchase Orders Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .print-header { display: flex; justify-content: space-between; margin-bottom: 20px; }\n            .print-date { text-align: right; color: #666; }\n            .metrics-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }\n            .metric-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }\n            .metric-value { font-size: 24px; font-weight: bold; color: #333; }\n            .metric-label { font-size: 12px; color: #666; text-transform: uppercase; }\n            table { width: 100%; border-collapse: collapse; margin-top: 20px; }\n            th, td { border: 1px solid #ddd; padding: 8px; font-size: 14px; }\n            th { background-color: #f4f4f4; text-align: left; }\n            .status-approved { background-color: #d1fae5; color: #065f46; padding: 2px 8px; border-radius: 12px; }\n            .status-pending { background-color: #fef3c7; color: #92400e; padding: 2px 8px; border-radius: 12px; }\n            .status-rejected { background-color: #fee2e2; color: #991b1b; padding: 2px 8px; border-radius: 12px; }\n            .print-footer { margin-top: 30px; text-align: center; font-size: 12px; color: #666; }\n          </style>\n        </head>\n        <body>\n          <h1>Purchase Orders Report</h1>\n          <div class="print-header">\n            <div>Generated by Procurement System</div>\n            <div class="print-date">${(new Date).toLocaleDateString()}</div>\n          </div>\n          <div class="metrics-grid">\n            <div class="metric-card">\n              <div class="metric-value">${J}</div>\n              <div class="metric-label">Total POs</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${Q}</div>\n              <div class="metric-label">Approved</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${Z}</div>\n              <div class="metric-label">Pending</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">MWK ${ee.toFixed(0)}</div>\n              <div class="metric-label">Total Amount</div>\n            </div>\n          </div>\n          ${e}\n          <div class="print-footer">\n            <p>Confidential - For internal use only</p>\n            <p>Page 1 of 1</p>\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>V.current.click(),className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{onClick:()=>{if(!t||0===t.length)return void se("No purchase orders to export","error");const e=t.map(e=>({"PO Number":e._id?.slice(-8)||"N/A","Vendor Name":e.vendor?`${e.vendor.lastName||""} ${e.vendor.firstName||""}`.trim():"N/A","Vendor Email":e.vendor?.email||"N/A","Total Amount":`MWK ${e.totalAmount?.toFixed(0)||0}`,Status:e.status||"N/A","Delivery Status":e.deliveryStatus||"Pending","Created Date":e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A","Estimated Delivery":e.estimatedDelivery?new Date(e.estimatedDelivery).toLocaleDateString():"N/A","Items Count":e.items?.length||0,"Received By Customer":e.receivedByCustomer?"Yes":"No","Customer Rating":e.customerRating||"N/A","Delivery Address":e.deliveryAddress||"N/A","Tracking Number":e.trackingNumber||"N/A"})),r=j3.json_to_sheet(e),n=j3.book_new();j3.book_append_sheet(n,r,"Purchase Orders"),c3(n,"purchase_orders.xlsx"),se("Export successful!","success")},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[Y.length," of ",J," orders"]})})]})]}),0===Y.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(w,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o||"all"!==d?"No purchase orders match your filters":"No Purchase Orders"}),e.jsx("p",{className:"text-gray-500 mb-4",children:o||"all"!==d?"Try adjusting your search criteria or filters.":"Start by creating your first purchase order from an approved RFQ."}),e.jsxs("button",{onClick:te,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(Le,{size:16}),"Create PO"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map(t=>e.jsx(aee,{po:t,onMenuClick:p,showMenuId:h,onApprove:ae,onReject:ie,actionLoading:f},t._id))})]})]}),h&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>p(null)}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-lg shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-po-id="${h}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-po-id="${h}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{p(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(_,{size:16,className:"text-gray-500"}),"View Details"]}),e.jsxs("button",{onClick:()=>{p(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Edit PO"]}),e.jsxs("button",{onClick:()=>{const e=t.find(e=>e._id===h);e&&(e=>{I(e),L(!0),p(null)})(e)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Ze,{size:16,className:"text-gray-500"}),"Track Delivery"]}),e.jsxs("button",{onClick:()=>{p(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Ie,{size:16,className:"text-gray-500"}),"Download PDF"]}),e.jsxs("button",{onClick:()=>{return e=h,navigator.clipboard.writeText(e),se("PO Number copied to clipboard!","success"),void p(null);var e},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(X,{size:16,className:"text-gray-500"}),"Copy PO Number"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>{p(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 text-left text-sm",children:[e.jsx(et,{size:16}),"Cancel PO"]})]})})]}),e.jsx(nee,{po:M,isOpen:O,onClose:()=>{L(!1),I(null)},onConfirmReceipt:e=>{const r=t.find(t=>t._id===e);r&&(B(r),z(!0),L(!1))}}),e.jsx(see,{po:F,isOpen:R,onClose:()=>{z(!1),B(null)},onConfirm:async e=>{try{const t=localStorage.getItem("token"),n={rating:e.rating,feedback:e.feedback,hasIssues:e.hasIssues,issueDescription:e.issueDescription,confirmedAt:e.receivedDate},s=await fetch(`${H}/api/purchase-orders/${e.poId}/confirm`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({proofOfDelivery:JSON.stringify(n),receivedBy:e.receivedBy})}),a=await s.json();if(!s.ok)throw new Error(a.message||"Failed to confirm receipt");r(t=>t.map(t=>t._id===e.poId?{...t,deliveryStatus:"confirmed",receivedByCustomer:!0,receivedDate:e.receivedDate,customerRating:e.rating,customerFeedback:e.feedback,hasIssues:e.hasIssues,issueDescription:e.issueDescription,receivedBy:e.receivedBy,proofOfDelivery:n}:t)),se("Receipt confirmed successfully! Thank you for your feedback.","success"),z(!1),B(null)}catch(ide){se(ide.message||"Failed to confirm receipt. Please try again.","error")}},showNotification:se}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-end p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden shadow-2xl mr-12 transform translate-x-[-20%]",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-3",children:"Create Purchase Order"}),e.jsx("button",{onClick:re,className:"p-2 hover:bg-gray-100 rounded-md transition-colors",children:e.jsx(s,{size:18})})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Select an RFQ with a selected vendor to create a purchase order"})]}),e.jsxs("div",{className:"p-6 max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-3 mb-4",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search RFQs by item name, description, or ID...",value:q,onChange:e=>$(e.target.value),className:"pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),e.jsxs("div",{className:"mb-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(c,{size:16,className:"text-blue-500"}),"Available RFQs"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[K.length," of ",y.filter(e=>e.selectedVendor).length," RFQs ready for PO"]})]}),0===K.length?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(c,{size:28,className:"text-gray-400"})}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-2",children:q?"No RFQs match your criteria":"No RFQs with selected vendors"}),e.jsx("p",{className:"text-sm text-gray-500",children:q?"Try adjusting your search or filter criteria.":"RFQs need a selected vendor before they can be converted to purchase orders."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-64 overflow-y-auto pr-2",children:K.map(t=>e.jsx(iee,{rfq:t,isSelected:j===t._id,onSelect:ne},t._id))})]}),k&&j&&e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-200 mb-5",children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(n,{size:18,className:"text-green-500"}),"Selected Quote Details"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Vendor"}),e.jsx("p",{className:"text-base font-semibold truncate",children:y.find(e=>e._id===j)?.selectedVendor||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Price"}),e.jsxs("p",{className:"text-base font-semibold",children:["MWK ",k.price?.toFixed(0)||"N/A"]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Delivery Time"}),e.jsx("p",{className:"text-base font-semibold",children:k.deliveryTime||"N/A"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Quote Status"}),e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx($e,{size:12,className:"mr-1"}),"Selected"]})]})]}),k.notes&&e.jsxs("div",{className:"mt-3 bg-white rounded-lg p-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Vendor Notes"}),e.jsx("p",{className:"text-sm text-gray-900",children:k.notes})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:re,className:"px-5 py-2.5 text-sm text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium flex items-center gap-2",children:[e.jsx(s,{size:16}),"Cancel"]}),e.jsxs("button",{onClick:async()=>{if(!j)return void se("Please select an RFQ with a selected vendor.","error");const e=y.find(e=>e._id===j);if(!e)return void se("RFQ not found.","error");if(!e.selectedVendor)return void se("This RFQ does not have a selected vendor.","error");const n=e.quotes?.find(t=>t.vendor===e.selectedVendor._id&&t.isValid),s=[{itemName:e.itemName,product:e.itemName,quantity:e.quantity,price:n?n.price:0}];try{const n=localStorage.getItem("token"),a=await fetch(`${H}/api/purchase-orders`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({rfqId:e._id,vendorId:e.selectedVendor._id,items:s})}),i=await a.json();if(!a.ok)throw new Error(i.message||"Failed to create PO");se("Purchase Order created successfully!","success"),r([...t,i.po]),re()}catch(ide){se(ide.message,"error")}},disabled:!j,className:"px-5 py-2.5 text-sm bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Pe,{size:16}),"Create Purchase Order"]})]})]})]})}),C&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===P?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===P?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:T}),e.jsx("button",{onClick:()=>A(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function lee(e,t,r,n){return new(r||(r=Promise))(function(s,a){function i(e){try{l(n.next(e))}catch(sde){a(sde)}}function o(e){try{l(n.throw(e))}catch(sde){a(sde)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(i,o)}l((n=n.apply(e,t||[])).next())})}"function"==typeof SuppressedError&&SuppressedError;const cee=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function dee(e,t,r){const n=function(e){const{name:t}=e;if(t&&-1!==t.lastIndexOf(".")&&!e.type){const r=t.split(".").pop().toLowerCase(),n=cee.get(r);n&&Object.defineProperty(e,"type",{value:n,writable:!1,configurable:!1,enumerable:!0})}return e}(e),{webkitRelativePath:s}=e,a="string"==typeof t?t:"string"==typeof s&&s.length>0?s:`./${e.name}`;return"string"!=typeof n.path&&uee(n,"path",a),uee(n,"relativePath",a),n}function uee(e,t,r){Object.defineProperty(e,t,{value:r,writable:!1,configurable:!1,enumerable:!0})}const mee=[".DS_Store","Thumbs.db"];function hee(e){return"object"==typeof e&&null!==e}function pee(e){return e.filter(e=>-1===mee.indexOf(e.name))}function fee(e){if(null===e)return[];const t=[];for(let r=0;r<e.length;r++){const n=e[r];t.push(n)}return t}function xee(e){if("function"!=typeof e.webkitGetAsEntry)return bee(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?vee(t):bee(e,t)}function gee(e){return e.reduce((e,t)=>[...e,...Array.isArray(t)?gee(t):[t]],[])}function bee(e,t){return lee(this,void 0,void 0,function*(){var r;if(globalThis.isSecureContext&&"function"==typeof e.getAsFileSystemHandle){const t=yield e.getAsFileSystemHandle();if(null===t)throw new Error(`${e} is not a File`);if(void 0!==t){const e=yield t.getFile();return e.handle=t,dee(e)}}const n=e.getAsFile();if(!n)throw new Error(`${e} is not a File`);return dee(n,null!==(r=null==t?void 0:t.fullPath)&&void 0!==r?r:void 0)})}function yee(e){return lee(this,void 0,void 0,function*(){return e.isDirectory?vee(e):function(e){return lee(this,void 0,void 0,function*(){return new Promise((t,r)=>{e.file(r=>{const n=dee(r,e.fullPath);t(n)},e=>{r(e)})})})}(e)})}function vee(e){const t=e.createReader();return new Promise((e,r)=>{const n=[];!function s(){t.readEntries(t=>lee(this,void 0,void 0,function*(){if(t.length){const e=Promise.all(t.map(yee));n.push(e),s()}else try{const t=yield Promise.all(n);e(t)}catch(a){r(a)}}),e=>{r(e)})}()})}var jee,wee={};const Nee=Br((jee||(jee=1,wee.__esModule=!0,wee.default=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(",");if(0===r.length)return!0;var n=e.name||"",s=(e.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return r.some(function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?n.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):s===t})}return!0}),wee));function kee(e){return function(e){if(Array.isArray(e))return _ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Eee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function See(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Cee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?See(Object(r),!0).forEach(function(t){Aee(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):See(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Aee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,s,a=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){o=!0,s=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}return a}(e,t)||Eee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eee(e,t){if(e){if("string"==typeof e)return _ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_ee(e,t):void 0}}function _ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Pee="function"==typeof Nee?Nee:Nee.default,Dee=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(","),t=e.length>1?"one of ".concat(e.join(", ")):e[0];return{code:"file-invalid-type",message:"File type must be ".concat(t)}},Oee=function(e){return{code:"file-too-large",message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Lee=function(e){return{code:"file-too-small",message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Mee={code:"too-many-files",message:"Too many files"};function Iee(e,t){var r="application/x-moz-file"===e.type||Pee(e,t);return[r,r?null:Dee(t)]}function Ree(e,t,r){if(zee(e.size))if(zee(t)&&zee(r)){if(e.size>r)return[!1,Oee(r)];if(e.size<t)return[!1,Lee(t)]}else{if(zee(t)&&e.size<t)return[!1,Lee(t)];if(zee(r)&&e.size>r)return[!1,Oee(r)]}return[!0,null]}function zee(e){return null!=e}function Fee(e){return"function"==typeof e.isPropagationStopped?e.isPropagationStopped():void 0!==e.cancelBubble&&e.cancelBubble}function Bee(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(e){return"Files"===e||"application/x-moz-file"===e}):!!e.target&&!!e.target.files}function qee(e){e.preventDefault()}function $ee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return t.some(function(t){return!Fee(e)&&t&&t.apply(void 0,[e].concat(n)),Fee(e)})}}function Uee(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||"application/*"===e||/\w+\/[-+.\w]+/g.test(e)}function Wee(e){return/^.*\.[\w]+$/.test(e)}var Vee=["children"],Hee=["open"],Gee=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Kee=["refKey","onChange","onClick"];function Yee(e){return function(e){if(Array.isArray(e))return Qee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Jee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,s,a=[],i=!0,o=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(l){o=!0,s=l}finally{try{i||null==r.return||r.return()}finally{if(o)throw s}}return a}(e,t)||Jee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jee(e,t){if(e){if("string"==typeof e)return Qee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qee(e,t):void 0}}function Qee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ete(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zee(Object(r),!0).forEach(function(t){tte(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zee(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function tte(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}var nte=qr.forwardRef(function(e,t){var r=e.children,n=ite(rte(e,Vee)),s=n.open,a=rte(n,Hee);return qr.useImperativeHandle(t,function(){return{open:s}},[s]),Ur.createElement(qr.Fragment,null,r(ete(ete({},a),{},{open:s})))});nte.displayName="Dropzone";var ste={disabled:!1,getFilesFromEvent:function(e){return lee(this,void 0,void 0,function*(){return hee(e)&&hee(e.dataTransfer)?function(e,t){return lee(this,void 0,void 0,function*(){if(e.items){const r=fee(e.items).filter(e=>"file"===e.kind);if("drop"!==t)return r;return pee(gee(yield Promise.all(r.map(xee))))}return pee(fee(e.files).map(e=>dee(e)))})}(e.dataTransfer,e.type):function(e){return hee(e)&&hee(e.target)}(e)?function(e){return fee(e.target.files).map(e=>dee(e))}(e):Array.isArray(e)&&e.every(e=>"getFile"in e&&"function"==typeof e.getFile)?function(e){return lee(this,void 0,void 0,function*(){return(yield Promise.all(e.map(e=>e.getFile()))).map(e=>dee(e))})}(e):[]})},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};nte.defaultProps=ste,nte.propTypes={children:ee.func,accept:ee.objectOf(ee.arrayOf(ee.string)),multiple:ee.bool,preventDropOnDocument:ee.bool,noClick:ee.bool,noKeyboard:ee.bool,noDrag:ee.bool,noDragEventsBubbling:ee.bool,minSize:ee.number,maxSize:ee.number,maxFiles:ee.number,disabled:ee.bool,getFilesFromEvent:ee.func,onFileDialogCancel:ee.func,onFileDialogOpen:ee.func,useFsAccessApi:ee.bool,autoFocus:ee.bool,onDragEnter:ee.func,onDragLeave:ee.func,onDragOver:ee.func,onDrop:ee.func,onDropAccepted:ee.func,onDropRejected:ee.func,onError:ee.func,validator:ee.func};var ate={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function ite(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ete(ete({},ste),e),r=t.accept,n=t.disabled,s=t.getFilesFromEvent,a=t.maxSize,i=t.minSize,o=t.multiple,l=t.maxFiles,c=t.onDragEnter,d=t.onDragLeave,u=t.onDragOver,m=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,f=t.onFileDialogCancel,x=t.onFileDialogOpen,g=t.useFsAccessApi,b=t.autoFocus,y=t.preventDropOnDocument,v=t.noClick,j=t.noKeyboard,w=t.noDrag,N=t.noDragEventsBubbling,k=t.onError,S=t.validator,C=qr.useMemo(function(){return function(e){if(zee(e))return Object.entries(e).reduce(function(e,t){var r=Tee(t,2),n=r[0],s=r[1];return[].concat(kee(e),[n],kee(s))},[]).filter(function(e){return Uee(e)||Wee(e)}).join(",")}(r)},[r]),A=qr.useMemo(function(){return function(e){return zee(e)?[{description:"Files",accept:Object.entries(e).filter(function(e){var t=Tee(e,2),r=t[0],n=t[1],s=!0;return Uee(r)||(s=!1),Array.isArray(n)&&n.every(Wee)||(s=!1),s}).reduce(function(e,t){var r=Tee(t,2),n=r[0],s=r[1];return Cee(Cee({},e),{},Aee({},n,s))},{})}]:e}(r)},[r]),T=qr.useMemo(function(){return"function"==typeof x?x:lte},[x]),E=qr.useMemo(function(){return"function"==typeof f?f:lte},[f]),_=qr.useRef(null),P=qr.useRef(null),D=Xee(qr.useReducer(ote,ate),2),O=D[0],L=D[1],M=O.isFocused,I=O.isFileDialogActive,R=qr.useRef("undefined"!=typeof window&&window.isSecureContext&&g&&"showOpenFilePicker"in window),z=function(){!R.current&&I&&setTimeout(function(){P.current&&(P.current.files.length||(L({type:"closeDialog"}),E()))},300)};qr.useEffect(function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}},[P,I,E,R]);var F=qr.useRef([]),B=function(e){_.current&&_.current.contains(e.target)||(e.preventDefault(),F.current=[])};qr.useEffect(function(){return y&&(document.addEventListener("dragover",qee,!1),document.addEventListener("drop",B,!1)),function(){y&&(document.removeEventListener("dragover",qee),document.removeEventListener("drop",B))}},[_,y]),qr.useEffect(function(){return!n&&b&&_.current&&_.current.focus(),function(){}},[_,b,n]);var q=qr.useCallback(function(e){k&&k(e)},[k]),$=qr.useCallback(function(e){e.preventDefault(),e.persist(),te(e),F.current=[].concat(Yee(F.current),[e.target]),Bee(e)&&Promise.resolve(s(e)).then(function(t){if(!Fee(e)||N){var r=t.length,n=r>0&&function(e){var t=e.files,r=e.accept,n=e.minSize,s=e.maxSize,a=e.multiple,i=e.maxFiles,o=e.validator;return!(!a&&t.length>1||a&&i>=1&&t.length>i)&&t.every(function(e){var t=Tee(Iee(e,r),1)[0],a=Tee(Ree(e,n,s),1)[0],i=o?o(e):null;return t&&a&&!i})}({files:t,accept:C,minSize:i,maxSize:a,multiple:o,maxFiles:l,validator:S});L({isDragAccept:n,isDragReject:r>0&&!n,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e)}}).catch(function(e){return q(e)})},[s,c,q,N,C,i,a,o,l,S]),U=qr.useCallback(function(e){e.preventDefault(),e.persist(),te(e);var t=Bee(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(r){}return t&&u&&u(e),!1},[u,N]),W=qr.useCallback(function(e){e.preventDefault(),e.persist(),te(e);var t=F.current.filter(function(e){return _.current&&_.current.contains(e)}),r=t.indexOf(e.target);-1!==r&&t.splice(r,1),F.current=t,t.length>0||(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Bee(e)&&d&&d(e))},[_,d,N]),V=qr.useCallback(function(e,t){var r=[],n=[];e.forEach(function(e){var t=Xee(Iee(e,C),2),s=t[0],o=t[1],l=Xee(Ree(e,i,a),2),c=l[0],d=l[1],u=S?S(e):null;if(s&&c&&!u)r.push(e);else{var m=[o,d];u&&(m=m.concat(u)),n.push({file:e,errors:m.filter(function(e){return e})})}}),(!o&&r.length>1||o&&l>=1&&r.length>l)&&(r.forEach(function(e){n.push({file:e,errors:[Mee]})}),r.splice(0)),L({acceptedFiles:r,fileRejections:n,isDragReject:n.length>0,type:"setFiles"}),m&&m(r,n,t),n.length>0&&p&&p(n,t),r.length>0&&h&&h(r,t)},[L,o,C,i,a,l,m,h,p,S]),H=qr.useCallback(function(e){e.preventDefault(),e.persist(),te(e),F.current=[],Bee(e)&&Promise.resolve(s(e)).then(function(t){Fee(e)&&!N||V(t,e)}).catch(function(e){return q(e)}),L({type:"reset"})},[s,V,q,N]),G=qr.useCallback(function(){if(R.current){L({type:"openDialog"}),T();var e={multiple:o,types:A};window.showOpenFilePicker(e).then(function(e){return s(e)}).then(function(e){V(e,null),L({type:"closeDialog"})}).catch(function(e){var t;(t=e)instanceof DOMException&&("AbortError"===t.name||t.code===t.ABORT_ERR)?(E(e),L({type:"closeDialog"})):!function(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}(e)?q(e):(R.current=!1,P.current?(P.current.value=null,P.current.click()):q(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided.")))})}else P.current&&(L({type:"openDialog"}),T(),P.current.value=null,P.current.click())},[L,T,E,g,V,q,A,o]),K=qr.useCallback(function(e){_.current&&_.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),G()))},[_,G]),Y=qr.useCallback(function(){L({type:"focus"})},[]),X=qr.useCallback(function(){L({type:"blur"})},[]),J=qr.useCallback(function(){v||(!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return function(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}(e)||function(e){return-1!==e.indexOf("Edge/")}(e)}()?G():setTimeout(G,0))},[v,G]),Q=function(e){return n?null:e},Z=function(e){return j?null:Q(e)},ee=function(e){return w?null:Q(e)},te=function(e){N&&e.stopPropagation()},re=qr.useMemo(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,s=e.role,a=e.onKeyDown,i=e.onFocus,o=e.onBlur,l=e.onClick,c=e.onDragEnter,d=e.onDragOver,u=e.onDragLeave,m=e.onDrop,h=rte(e,Gee);return ete(ete(tte({onKeyDown:Z($ee(a,K)),onFocus:Z($ee(i,Y)),onBlur:Z($ee(o,X)),onClick:Q($ee(l,J)),onDragEnter:ee($ee(c,$)),onDragOver:ee($ee(d,U)),onDragLeave:ee($ee(u,W)),onDrop:ee($ee(m,H)),role:"string"==typeof s&&""!==s?s:"presentation"},r,_),n||j?{}:{tabIndex:0}),h)}},[_,K,Y,X,J,$,U,W,H,j,w,n]),ne=qr.useCallback(function(e){e.stopPropagation()},[]),se=qr.useMemo(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,n=e.onChange,s=e.onClick,a=rte(e,Kee);return ete(ete({},tte({accept:C,multiple:o,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Q($ee(n,H)),onClick:Q($ee(s,ne)),tabIndex:-1},r,P)),a)}},[P,r,o,H,n]);return ete(ete({},O),{},{isFocused:M&&!n,getRootProps:re,getInputProps:se,rootRef:_,inputRef:P,open:Q(G)})}function ote(e,t){switch(t.type){case"focus":return ete(ete({},e),{},{isFocused:!0});case"blur":return ete(ete({},e),{},{isFocused:!1});case"openDialog":return ete(ete({},ate),{},{isFileDialogActive:!0});case"closeDialog":return ete(ete({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return ete(ete({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return ete(ete({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return ete({},ate);default:return e}}function lte(){}var cte=mn();const dte=[{id:1,title:"Item Selection",description:"Choose from catalog or specify custom items",icon:e.jsx(ze,{size:16})},{id:2,title:"Request Details",description:"Provide budget, timeline, and justification",icon:e.jsx(c,{size:16})},{id:3,title:"Review & Submit",description:"Verify information and submit for approval",icon:e.jsx(u,{size:16})}],ute=[{name:"Computing Hardware",icon:e.jsx(it,{size:16}),color:"blue",items:[{name:"Laptop",icon:e.jsx(it,{size:14}),avgCost:"$1,200",leadTime:"3-5 days"},{name:"Desktop Computer",icon:e.jsx(ot,{size:14}),avgCost:"$800",leadTime:"2-4 days"},{name:"Tablet",icon:e.jsx(lt,{size:14}),avgCost:"$600",leadTime:"1-3 days"},{name:"Monitor",icon:e.jsx(it,{size:14}),avgCost:"$300",leadTime:"1-2 days"},{name:"Keyboard",icon:e.jsx(ct,{size:14}),avgCost:"$150",leadTime:"1-2 days"},{name:"Mouse",icon:e.jsx(dt,{size:14}),avgCost:"$80",leadTime:"1-2 days"}]},{name:"Office Equipment",icon:e.jsx(c,{size:16}),color:"emerald",items:[{name:"Printer",icon:e.jsx(Fe,{size:14}),avgCost:"$400",leadTime:"2-3 days"},{name:"Scanner",icon:e.jsx(Ee,{size:14}),avgCost:"$250",leadTime:"2-3 days"},{name:"Projector",icon:e.jsx(it,{size:14}),avgCost:"$800",leadTime:"3-5 days"},{name:"Whiteboard",icon:e.jsx(c,{size:14}),avgCost:"$200",leadTime:"1-2 days"},{name:"Shredder",icon:e.jsx(c,{size:14}),avgCost:"$150",leadTime:"1-2 days"}]},{name:"Furniture & Workspace",icon:e.jsx(L,{size:16}),color:"purple",items:[{name:"Office Chair",icon:e.jsx(L,{size:14}),avgCost:"$350",leadTime:"5-7 days"},{name:"Standing Desk",icon:e.jsx(L,{size:14}),avgCost:"$600",leadTime:"7-10 days"},{name:"Filing Cabinet",icon:e.jsx(L,{size:14}),avgCost:"$200",leadTime:"3-5 days"},{name:"Bookshelf",icon:e.jsx(L,{size:14}),avgCost:"$180",leadTime:"3-5 days"},{name:"Desk Lamp",icon:e.jsx(h,{size:14}),avgCost:"$80",leadTime:"1-2 days"}]},{name:"Software & Licenses",icon:e.jsx(x,{size:16}),color:"amber",items:[{name:"Microsoft Office",icon:e.jsx(c,{size:14}),avgCost:"$150/year",leadTime:"Instant"},{name:"Adobe Creative Suite",icon:e.jsx(x,{size:14}),avgCost:"$600/year",leadTime:"Instant"},{name:"Project Management Tool",icon:e.jsx(g,{size:14}),avgCost:"$120/year",leadTime:"Instant"},{name:"Antivirus Software",icon:e.jsx(u,{size:14}),avgCost:"$80/year",leadTime:"Instant"}]},{name:"Network & IT Infrastructure",icon:e.jsx(ft,{size:16}),color:"teal",items:[{name:"Network Router",icon:e.jsx(ut,{size:14}),avgCost:"$300",leadTime:"2-4 days"},{name:"Ethernet Switch",icon:e.jsx(mt,{size:14}),avgCost:"$200",leadTime:"2-4 days"},{name:"External Hard Drive",icon:e.jsx(ht,{size:14}),avgCost:"$120",leadTime:"1-3 days"},{name:"Server Equipment",icon:e.jsx(pt,{size:14}),avgCost:"$2,500",leadTime:"7-14 days"}]},{name:"Audio/Visual Equipment",icon:e.jsx(xt,{size:16}),color:"rose",items:[{name:"Headphones",icon:e.jsx(xt,{size:14}),avgCost:"$200",leadTime:"1-3 days"},{name:"Webcam",icon:e.jsx(Ee,{size:14}),avgCost:"$150",leadTime:"1-3 days"},{name:"Microphone",icon:e.jsx(B,{size:14}),avgCost:"$180",leadTime:"1-3 days"},{name:"Speakers",icon:e.jsx(xt,{size:14}),avgCost:"$250",leadTime:"2-4 days"}]}],mte=[{name:"New Employee Setup",description:"Complete workstation for new hire",items:["Laptop","Monitor","Office Chair","Keyboard","Mouse"],estimatedCost:"$2,100",category:"Computing Hardware",department:"IT",popular:!0},{name:"Home Office Package",description:"Remote work essentials",items:["Laptop","Webcam","Headphones","Desk Lamp"],estimatedCost:"$1,650",category:"Computing Hardware",department:"HR",popular:!0},{name:"Conference Room Setup",description:"Meeting room equipment",items:["Projector","Webcam","Speakers","Whiteboard"],estimatedCost:"$1,400",category:"Office Equipment",department:"Operations",popular:!1},{name:"Software Developer Kit",description:"Development tools and licenses",items:["Adobe Creative Suite","Project Management Tool","External Hard Drive"],estimatedCost:"$950",category:"Software & Licenses",department:"Engineering",popular:!0}],hte=[{name:"Standard Requisition Form",category:"General",description:"Standard form for all requisition requests",url:"https://example.com/standard-requisition.pdf",size:"245 KB",downloads:12247,lastUpdated:"Jan 15, 2024",required:!0},{name:"Capital Expenditure Form",category:"Finance",description:"Required for purchases over $5,000",url:"https://example.com/capex-form.pdf",size:"189 KB",downloads:3892,lastUpdated:"Jan 10, 2024",required:!1},{name:"Emergency Purchase Authorization",category:"Urgent",description:"Fast-track approval for critical needs",url:"https://example.com/emergency-form.pdf",size:"156 KB",downloads:1234,lastUpdated:"Jan 8, 2024",required:!1},{name:"IT Security Compliance Form",category:"Security",description:"Security review for IT equipment",url:"https://example.com/security-form.pdf",size:"198 KB",downloads:892,lastUpdated:"Jan 12, 2024",required:!1}];function pte(){const t=$r(),[a,i]=qr.useState(0),[o,d]=qr.useState(!1),[u,m]=qr.useState([]),[h,f]=qr.useState({itemName:"",category:"",selectedItem:"",quantity:"",budgetCode:"",urgency:"",preferredSupplier:"",reason:"",attachment:null,estimatedCost:"",deliveryDate:"",department:"",businessJustification:"",alternativeOptions:"",environmentalImpact:""}),[x,g]=qr.useState(!1),[w,S]=qr.useState(!1),[C,A]=qr.useState(!1),[E,P]=qr.useState(!1),[D,O]=qr.useState(!1),[M,I]=qr.useState(""),[R,z]=qr.useState(hte),[q,$]=qr.useState(!1),[U,W]=qr.useState(!1),[V,H]=qr.useState({}),[K,Y]=qr.useState(null),[J,Q]=qr.useState(!1),[ee,te]=qr.useState(0),[re,ae]=qr.useState(!1),[ie,oe]=qr.useState(null),[le,ce]=qr.useState([]),[de,ue]=qr.useState([]),[me,he]=qr.useState([]),[pe,fe]=qr.useState(!1),[xe,ge]=qr.useState(!1),[be,ye]=qr.useState(null),ve="https://backend.nexusmwi.com",je=async()=>{try{fe(!0),ye(null);const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${ve}/api/departments`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json(),r=e.data||e;ue(r);const n=r.map(e=>{const t=e.budgetInfo||{};return{code:e.departmentCode||t.code||`${e.name?.replace(/\s+/g,"").toUpperCase()}-Q1-2025`,department:e.name||"Unknown Department",remaining:`MWK ${(t.remaining||(e.budget||0)-(e.actualSpending||0)).toLocaleString()}`,total:`MWK ${(t.total||e.budget||0).toLocaleString()}`,actualSpending:e.actualSpending||0,budget:e.budget||t.total||0,utilizationPercentage:t.utilizationPercentage||0,status:t.status||e.status||"active",allocationStatus:t.allocationStatus||"allocated",period:t.period||`${e.budgetYear||(new Date).getFullYear()}`,departmentId:e._id,departmentHead:e.departmentHead,headEmail:e.headEmail,headPhone:e.headPhone,location:e.location,floor:e.floor,building:e.building,employeeCount:e.employeeCount||0,maxCapacity:e.maxCapacity||0,establishedDate:e.establishedDate}});ce(n)}else ye("Failed to fetch departments data")}catch(ide){ye(ide.message);ce([{code:"MAT-827",department:"Mathematics",remaining:"MWK 60,000,000",total:"MWK 60,000,000",actualSpending:0,budget:6e7,utilizationPercentage:0,status:"active",allocationStatus:"allocated",period:"2025"}])}finally{fe(!1)}},we=async()=>{try{ge(!0);const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${ve}/api/requisitions?limit=10&sort=createdAt&order=desc`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=((await t.json()).data||[]).map((e,t)=>({id:e.requisitionNumber||`REQ-2025-${String(t+1).padStart(3,"0")}`,itemName:e.description||e.itemName||"Unknown Item",quantity:e.quantity||1,status:e.status||"pending",date:e.createdAt?new Date(e.createdAt).toISOString().split("T")[0]:(new Date).toISOString().split("T")[0],budgetCode:e.budgetCode||"N/A",amount:`MWK ${(e.estimatedCost||e.totalCost||0).toLocaleString()}`,urgency:e.urgency||"Medium",department:e.department||"Unknown",approver:e.approver||"Pending Assignment",deliveryDate:e.deliveryDate||null,category:e.category||"General",rejectionReason:e.rejectionReason||null}));he(e)}}catch(ide){he([{id:"REQ-2025-001",itemName:'MacBook Pro 16" M3',quantity:5,status:"approved",date:"2025-01-15",budgetCode:"MAT-827",amount:"MWK 14,995",urgency:"Medium",department:"Mathematics",approver:"Legend",deliveryDate:"2025-01-20",category:"Computing Hardware"}])}finally{ge(!1)}};qr.useEffect(()=>{const e=cte.debounce(()=>{localStorage.setItem("requisitionDraft",JSON.stringify(h)),S(!0),setTimeout(()=>S(!1),3e3)},1500);return e(),()=>e.cancel()},[h]),qr.useEffect(()=>{const e=localStorage.getItem("requisitionDraft");e&&f(JSON.parse(e)),je(),we()},[]),qr.useEffect(()=>{if(u.length>0){const e=u.reduce((e,t)=>e+(parseFloat(t.avgCost.replace(/[$,]/g,""))||0)*t.quantity,0);te(e)}else h.estimatedCost&&te(parseFloat(h.estimatedCost)||0)},[u,h.estimatedCost]);const Ne=e=>{const{name:t,value:r}=e.target;f(e=>({...e,[t]:r})),V[t]&&H(e=>({...e,[t]:""}))},ke=e=>{const t={};return 0===e&&(o?(h.itemName||(t.itemName="Item name is required"),(!h.quantity||h.quantity<=0)&&(t.quantity="Valid quantity is required")):(h.category||(t.category="Category is required"),0===u.length&&(t.selectedItem="At least one item must be selected"))),1===e&&(h.budgetCode||(t.budgetCode="Budget code is required"),h.reason||(t.reason="Business justification is required"),h.department||(t.department="Department is required"),h.reason.length<20&&(t.reason="Please provide a detailed justification (minimum 20 characters)")),H(t),0===Object.keys(t).length},{getRootProps:Se,getInputProps:Ae,isDragActive:Te}=ite({onDrop:e=>{f(t=>({...t,attachment:e[0]}))},accept:{"application/pdf":[".pdf"],"image/*":[".png",".jpg",".jpeg"],"application/msword":[".doc"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"application/vnd.ms-excel":[".xls"],"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":[".xlsx"]},maxSize:10485760}),Ee=e=>{Y(e),f(t=>({...t,category:e.category,department:e.department,estimatedCost:e.estimatedCost.replace("$","").replace(",","")})),O(!1)},_e=(e,t)=>{const r={...e,category:t.name,categoryColor:t.color,quantity:1,id:Date.now()};f(e=>({...e,category:t.name})),m(e=>[...e,r])},De=e=>{switch(e){case"approved":return"text-emerald-700 bg-emerald-50 border-emerald-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";case"rejected":return"text-red-700 bg-red-50 border-red-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},Oe=t=>{switch(t){case"approved":return e.jsx(n,{size:12});case"pending":return e.jsx(l,{size:12});case"rejected":return e.jsx(s,{size:12});default:return e.jsx(T,{size:12})}},Le=e=>{const t=le.find(t=>t.code===e);return t?{...t,remaining:t.budget-t.actualSpending,utilizationPercentage:t.budget>0?t.actualSpending/t.budget*100:0,isHealthy:t.budget>0&&(t.budget-t.actualSpending)/t.budget>.25}:null};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>t("/employee-dash"),className:"p-1.5 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(F,{size:18})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-500 rounded-xl text-white",children:e.jsx(r,{size:20})}),"New Requisition Request"]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[w&&e.jsxs("div",{className:"flex items-center text-emerald-600 text-sm bg-emerald-50 px-2 py-1 rounded-xl border border-emerald-200",children:[e.jsx(Pe,{size:14,className:"mr-1"}),"Draft saved"]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>O(!0),className:"px-3 py-1.5 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors duration-200 text-sm font-medium",children:[e.jsx(p,{size:14,className:"mr-1"}),"Templates"]}),e.jsxs("button",{onClick:()=>A(!0),className:"px-3 py-1.5 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 text-sm font-medium border border-gray-200",children:[xe?e.jsx(Ue,{size:14,className:"mr-1 animate-spin"}):e.jsx(Ke,{size:14,className:"mr-1"}),"History"]}),e.jsxs("button",{onClick:()=>{je()},disabled:pe,className:"px-3 py-1.5 bg-white text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 text-sm font-medium border border-gray-200",children:[e.jsx(G,{size:14,className:pe?"mr-1 animate-spin":"mr-1"}),"Refresh"]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto p-3 space-y-3",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-3",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[dte[a].icon,dte[a].title]}),ee>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl px-2 py-1",children:e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:["Estimated Total: MWK ",ee.toLocaleString()]})})]})}),e.jsxs("div",{className:"p-4",children:[0===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-900 text-sm",children:"Quick Start Templates"}),e.jsx("p",{className:"text-blue-700 text-xs",children:"Pre-configured packages for common requests"})]}),e.jsx("button",{onClick:()=>O(!0),className:"px-2 py-1 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 text-xs font-medium",children:"View All"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:mte.filter(e=>e.popular).slice(0,2).map((t,r)=>e.jsxs("button",{onClick:()=>Ee(t),className:"p-2 bg-white border border-blue-200 rounded-xl hover:bg-blue-50 transition-colors duration-200 text-left",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:"font-bold text-blue-900 text-xs",children:t.name}),e.jsx(y,{size:12,className:"text-amber-500"})]}),e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-xs text-blue-500",children:[t.items.length," items"]}),e.jsx("span",{className:"font-bold text-blue-900 text-xs",children:t.estimatedCost})]})]},r))})]}),e.jsxs("div",{className:"flex items-center p-2 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("input",{type:"checkbox",id:"customItem",checked:o,onChange:e=>d(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"customItem",className:"ml-2 text-sm font-medium text-gray-900",children:"Request custom item not in our catalog"}),e.jsx("div",{className:"ml-auto",children:e.jsx("span",{className:"text-xs text-gray-500 bg-white px-2 py-1 rounded border",children:"May require additional approval time"})})]}),o?e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-3",children:[e.jsxs("h4",{className:"font-bold text-amber-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(ze,{size:16}),"Custom Item Request"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name & Description"}),e.jsx("textarea",{name:"itemName",value:h.itemName,onChange:Ne,rows:3,className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm "+(V.itemName?"border-red-300":"border-gray-300"),placeholder:"Provide detailed description of the custom item including specifications, model numbers, etc."}),V.itemName&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.itemName})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Unit Cost (MWK)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-2 text-gray-400 text-sm",children:"MWK"}),e.jsx("input",{type:"number",name:"estimatedCost",value:h.estimatedCost,onChange:Ne,className:"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity Needed"}),e.jsx("input",{type:"number",name:"quantity",value:h.quantity,onChange:Ne,min:"1",className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm "+(V.quantity?"border-red-300":"border-gray-300"),placeholder:"1"}),V.quantity&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.quantity})]})]})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Category"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:ute.map(t=>e.jsxs("button",{type:"button",onClick:()=>f(e=>({...e,category:t.name,selectedItem:""})),className:"p-3 border-2 rounded-2xl transition-all duration-200 text-left hover:shadow-sm "+(h.category===t.name?`border-${t.color}-500 bg-${t.color}-50`:"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+(h.category===t.name?`bg-${t.color}-100 text-${t.color}-600`:"bg-gray-100 text-gray-600"),children:t.icon}),h.category===t.name&&e.jsx(n,{size:16,className:`text-${t.color}-600`})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-0.5 text-sm",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[t.items.length," items available"]})]},t.name))}),V.category&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.category})]}),h.category&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Select Items from ",h.category]}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:[u.length," items selected"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 mb-3",children:ute.find(e=>e.name===h.category)?.items.map((t,r)=>e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-2 hover:shadow-sm transition-shadow duration-200 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"p-1.5 bg-gray-100 rounded-xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-xs",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.avgCost})]})]}),e.jsx("button",{type:"button",onClick:()=>oe(t),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(_,{size:12})})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[e.jsxs("span",{children:["Lead time: ",t.leadTime]}),e.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-1.5 py-0.5 rounded",children:"In Stock"})]}),e.jsx("button",{type:"button",onClick:()=>_e(t,ute.find(e=>e.name===h.category)),className:"w-full px-2 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 text-xs font-medium",children:"Add to Request"})]},r))}),u.length>0&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(b,{size:16}),"Selected Items (",u.length,")"]}),e.jsx("div",{className:"space-y-2",children:u.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-1.5 bg-${t.categoryColor}-100 rounded-xl`,children:t.icon}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 text-xs",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.category})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("label",{className:"text-xs text-gray-600",children:"Qty:"}),e.jsx("input",{type:"number",min:"1",value:t.quantity,onChange:e=>{return r=t.id,n=e.target.value,void m(e=>e.map(e=>e.id===r?{...e,quantity:parseInt(n)||1}:e));var r,n},className:"w-10 px-1 py-0.5 border border-gray-300 rounded text-center text-xs"})]}),e.jsxs("span",{className:"font-medium text-gray-900 text-xs",children:["MWK ",(parseFloat(t.avgCost.replace(/[$,]/g,""))*t.quantity).toLocaleString()]}),e.jsx("button",{type:"button",onClick:()=>{return e=t.id,void m(t=>t.filter(t=>t.id!==e));var e},className:"p-1 text-red-400 hover:text-red-600 transition-colors duration-200",children:e.jsx(s,{size:12})})]})]},t.id))}),e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-blue-900 text-sm",children:"Estimated Total:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-900",children:["MWK ",ee.toLocaleString()]})]})})]}),V.selectedItem&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.selectedItem})]})]})]}),1===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Budget Code"}),pe&&e.jsx(Ue,{size:12,className:"text-blue-500 animate-spin"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsxs("select",{name:"budgetCode",value:h.budgetCode,onChange:e=>{Ne(e),Q(!0)},disabled:pe,className:`w-full pl-10 pr-3 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm ${V.budgetCode?"border-red-300":"border-gray-300"} ${pe?"opacity-50 cursor-not-allowed":""}`,children:[e.jsx("option",{value:"",children:"Select Budget Code"}),le.map(t=>e.jsxs("option",{value:t.code,children:[t.code," - ",t.department]},t.code))]})]}),V.budgetCode&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.budgetCode}),be&&e.jsx("div",{className:"mt-2 p-2 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-1 text-amber-800 text-xs",children:[e.jsx(Ce,{size:10}),"Budget data connection issue - using cached data"]})}),h.budgetCode&&Le(h.budgetCode)&&e.jsxs("div",{className:"mt-2 p-2 bg-emerald-50 border border-emerald-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-emerald-900",children:"Budget Status"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+("active"===Le(h.budgetCode).status?"bg-emerald-100 text-emerald-800":"bg-gray-100 text-gray-800"),children:Le(h.budgetCode).status?.toUpperCase()||"ACTIVE"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+("allocated"===Le(h.budgetCode).allocationStatus?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"),children:Le(h.budgetCode).allocationStatus?.toUpperCase()||"ALLOCATED"})]})]}),(()=>{const t=Le(h.budgetCode),r=t.remaining,n=t.budget,s=n>0?r/n*100:0;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-emerald-700",children:["Remaining: MWK ",r.toLocaleString()]}),e.jsxs("span",{className:"text-emerald-600",children:["Total: MWK ",n.toLocaleString()]})]}),e.jsx("div",{className:"mt-1 w-full bg-emerald-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300 "+(s>50?"bg-emerald-500":s>25?"bg-amber-500":"bg-red-500"),style:{width:`${Math.max(0,Math.min(100,s))}%`}})}),t.period&&e.jsxs("div",{className:"mt-1 text-xs text-emerald-600",children:["Budget Period: ",t.period]})]})})()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requesting Department"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsxs("select",{name:"department",value:h.department,onChange:Ne,className:"w-full pl-10 pr-3 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm "+(V.department?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select Department"}),le.map(t=>e.jsx("option",{value:t.department,children:t.department},t.department))]})]}),V.department&&e.jsx("p",{className:"mt-1 text-xs text-red-600",children:V.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{level:"low",label:"Low",color:"emerald",desc:"2-4 weeks"},{level:"medium",label:"Medium",color:"amber",desc:"1-2 weeks"},{level:"high",label:"High",color:"red",desc:"1-3 days"}].map(({level:t,label:r,color:n,desc:s})=>e.jsxs("button",{type:"button",onClick:()=>f(e=>({...e,urgency:t})),className:"p-2 border-2 rounded-xl transition-all duration-200 text-center "+(h.urgency===t?`border-${n}-500 bg-${n}-50`:"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:[e.jsx("div",{className:"font-bold text-sm "+(h.urgency===t?`text-${n}-700`:"text-gray-900"),children:r}),e.jsx("div",{className:"text-xs mt-0.5 "+(h.urgency===t?`text-${n}-600`:"text-gray-500"),children:s})]},t))})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Required Delivery Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"date",name:"deliveryDate",value:h.deliveryDate,onChange:Ne,min:(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Leave blank if no specific date required"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Preferred Supplier (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ze,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",name:"preferredSupplier",value:h.preferredSupplier,onChange:Ne,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"Enter supplier name or 'No preference'"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Environmental Considerations"}),e.jsx("div",{className:"space-y-1",children:["Energy efficient options preferred","Sustainable/recycled materials","Local supplier preference","No specific requirements"].map((t,r)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",name:"environmentalImpact",value:t,checked:h.environmentalImpact===t,onChange:Ne,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:t})]},r))})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Justification *"}),e.jsx("textarea",{name:"reason",value:h.reason,onChange:Ne,rows:4,className:"w-full px-3 py-2 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm "+(V.reason?"border-red-300":"border-gray-300"),placeholder:"Explain why this item is needed, how it will be used, and the business impact of not having it. Include any relevant project details or deadlines."}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[V.reason?e.jsx("p",{className:"text-xs text-red-600",children:V.reason}):e.jsx("p",{className:"text-xs text-gray-500",children:"Provide detailed justification (minimum 20 characters)"}),e.jsxs("span",{className:"text-xs "+(h.reason.length>=20?"text-emerald-600":"text-gray-400"),children:[h.reason.length,"/20"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alternative Options Considered (Optional)"}),e.jsx("textarea",{name:"alternativeOptions",value:h.alternativeOptions,onChange:Ne,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none text-sm",placeholder:"Describe any alternative solutions you've considered and why this option is preferred."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supporting Documents (Optional)"}),e.jsxs("div",{...Se(),className:"border-2 border-dashed rounded-xl p-4 text-center cursor-pointer transition-colors duration-200 "+(Te?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:[e.jsx("input",{...Ae()}),e.jsx(Be,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsx("p",{className:"text-gray-600 mb-1 font-medium text-sm",children:Te?"Drop files here...":"Drag and drop files here, or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, Word, Excel, or images up to 10MB"})]}),h.attachment&&e.jsx("div",{className:"mt-2 p-2 bg-emerald-50 border border-emerald-200 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{size:14,className:"text-emerald-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-emerald-900",children:h.attachment.name}),e.jsxs("p",{className:"text-xs text-emerald-700",children:[Math.round(h.attachment.size/1024)," KB  Uploaded successfully"]})]})]}),e.jsx("button",{type:"button",onClick:()=>f(e=>({...e,attachment:null})),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-100 rounded transition-colors duration-200",children:e.jsx(s,{size:14})})]})})]})]}),2===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-200",children:[e.jsxs("h4",{className:"font-bold text-lg text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(_,{size:18}),"Request Summary"]}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Please review all information carefully before submitting your requisition request."})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3",children:[e.jsxs("h5",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(ze,{size:16}),"Requested Items"]}),o?e.jsx("div",{className:"p-2 bg-amber-50 border border-amber-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-amber-900 text-sm",children:"Custom Item Request"}),e.jsx("p",{className:"text-amber-800 mt-1 text-sm",children:h.itemName}),e.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-xs",children:[e.jsxs("span",{className:"text-amber-700",children:["Quantity: ",h.quantity]}),h.estimatedCost&&e.jsxs("span",{className:"text-amber-700",children:["Est. Cost: MWK ",h.estimatedCost]})]})]}),e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs font-medium",children:"Custom"})]})}):e.jsxs("div",{className:"space-y-2",children:[u.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-1.5 bg-${t.categoryColor}-100 rounded-xl`,children:t.icon}),e.jsxs("div",{children:[e.jsx("h6",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-600",children:t.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[t.quantity,"  ",t.avgCost]}),e.jsxs("p",{className:"text-xs font-bold text-blue-600",children:["MWK ",(parseFloat(t.avgCost.replace(/[$,]/g,""))*t.quantity).toLocaleString()]})]})]},r)),e.jsx("div",{className:"pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900 text-sm",children:"Total Estimated Cost:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["MWK ",ee.toLocaleString()]})]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3",children:[e.jsxs("h5",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(c,{size:16}),"Request Details"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-100",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Department"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:h.department})]}),e.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-100",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Budget Code"}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:h.budgetCode}),e.jsx("button",{onClick:()=>{return e=h.budgetCode,void navigator.clipboard.writeText(e);var e},className:"ml-1 p-0.5 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(X,{size:10})})]})]}),e.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-100",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Priority Level"}),e.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium "+("high"===h.urgency?"bg-red-100 text-red-800":"medium"===h.urgency?"bg-amber-100 text-amber-800":"bg-emerald-100 text-emerald-800"),children:h.urgency?h.urgency.charAt(0).toUpperCase()+h.urgency.slice(1):"Not specified"})]}),h.deliveryDate&&e.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-100",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Required Date"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:new Date(h.deliveryDate).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"})})]}),h.preferredSupplier&&e.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-100",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Preferred Supplier"}),e.jsx("span",{className:"text-xs font-medium text-gray-900",children:h.preferredSupplier})]}),h.environmentalImpact&&e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Environmental Preference"}),e.jsx("span",{className:"text-xs font-medium text-emerald-700 bg-emerald-50 px-1.5 py-0.5 rounded",children:h.environmentalImpact})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3",children:[e.jsxs("h5",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(N,{size:16}),"Budget Information"]}),Le(h.budgetCode)&&e.jsx("div",{className:"space-y-2",children:(()=>{const t=Le(h.budgetCode),r=t.remaining,n=t.budget,s=r-ee,a=n>0?r/n*100:0,i=n>0?s/n*100:0;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-2 bg-emerald-50 border border-emerald-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-emerald-900",children:"Current Budget Status"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-xs bg-emerald-100 text-emerald-800 px-1.5 py-0.5 rounded",children:[a.toFixed(1),"% Available"]}),t.status&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+("active"===t.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:t.status.toUpperCase()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-700",children:"Available:"}),e.jsxs("span",{className:"ml-1 font-bold",children:["MWK ",r.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-emerald-700",children:"Total Budget:"}),e.jsxs("span",{className:"ml-1 font-bold",children:["MWK ",n.toLocaleString()]})]})]}),e.jsx("div",{className:"mt-1 w-full bg-emerald-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-300 "+(a>50?"bg-emerald-500":a>25?"bg-amber-500":"bg-red-500"),style:{width:`${Math.max(0,Math.min(100,a))}%`}})}),t.period&&e.jsxs("div",{className:"mt-1 text-xs text-emerald-600",children:["Budget Period: ",t.period]})]}),e.jsxs("div",{className:"p-2 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-blue-900",children:"After This Purchase"}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+(i>=0?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:i>=0?`${i.toFixed(1)}% Remaining`:"Over Budget"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Request Cost:"}),e.jsxs("span",{className:"ml-1 font-bold",children:["MWK ",ee.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Remaining:"}),e.jsxs("span",{className:"ml-1 font-bold "+(s>=0?"text-blue-900":"text-red-600"),children:["MWK ",s.toLocaleString()]})]})]}),s<0&&e.jsx("div",{className:"mt-1 p-1.5 bg-red-100 border border-red-200 rounded text-xs text-red-800",children:" This request exceeds available budget. Additional approval may be required."})]}),(t.departmentHead||t.location)&&e.jsxs("div",{className:"p-2 bg-gray-50 border border-gray-200 rounded-xl",children:[e.jsx("h6",{className:"text-xs font-medium text-gray-900 mb-1",children:"Department Details"}),e.jsxs("div",{className:"space-y-0.5 text-xs text-gray-600",children:[t.departmentHead&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Department Head:"}),e.jsx("span",{className:"font-medium",children:t.departmentHead})]}),t.location&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Location:"}),e.jsx("span",{className:"font-medium",children:t.location})]}),void 0!==t.employeeCount&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Employees:"}),e.jsx("span",{className:"font-medium",children:t.employeeCount})]})]})]})]})})()})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3",children:[e.jsxs("h5",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(rt,{size:16}),"Business Justification"]}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-xl border border-gray-200",children:e.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:h.reason})}),h.alternativeOptions&&e.jsxs("div",{className:"mt-2",children:[e.jsx("h6",{className:"font-medium text-gray-900 mb-1 text-sm",children:"Alternative Options Considered"}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-xl border border-gray-200",children:e.jsx("p",{className:"text-gray-800 leading-relaxed text-sm",children:h.alternativeOptions})})]})]}),h.attachment&&e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3",children:[e.jsxs("h5",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(tt,{size:16}),"Supporting Documents"]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{size:14,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.attachment.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[Math.round(h.attachment.size/1024)," KB  ",h.attachment.type]})]})]}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(nt,{size:14})})]})]}),V.submission&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx(Ce,{size:16}),e.jsx("span",{className:"font-medium text-sm",children:"Submission Error"})]}),e.jsx("p",{className:"text-red-700 mt-1 text-sm",children:V.submission})]})]})]}),e.jsxs("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-100 flex justify-between",children:[e.jsxs("button",{type:"button",onClick:()=>{i(e=>e-1)},disabled:0===a,className:"px-3 py-1.5 text-gray-600 border border-gray-300 rounded-xl hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200 flex items-center gap-2 font-medium text-sm",children:[e.jsx(ne,{size:14}),"Previous"]}),e.jsx("div",{className:"flex space-x-2",children:a===dte.length-1?e.jsx("button",{type:"button",onClick:()=>$(!0),disabled:x,className:"px-4 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200 flex items-center gap-2 font-medium text-sm",children:x?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:14}),"Submit Request"]})}):e.jsxs("button",{type:"button",onClick:()=>{ke(a)&&i(e=>e+1)},className:"px-4 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 flex items-center gap-2 font-medium text-sm",children:["Continue",e.jsx(se,{size:14})]})})]})]})}),e.jsxs("div",{className:"space-y-3",children:[h.budgetCode&&Le(h.budgetCode)&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(k,{size:16,className:"text-emerald-500"}),"Budget Status"]}),(()=>{const t=Le(h.budgetCode),r=t.remaining,n=t.budget,s=n>0?r/n*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 bg-emerald-50 rounded-xl border border-emerald-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-emerald-900",children:"Budget Health"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+(s>50?"bg-emerald-100 text-emerald-800":s>25?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"),children:s>50?"Healthy":s>25?"Moderate":"Critical"}),t.allocationStatus&&e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded "+("allocated"===t.allocationStatus?"bg-blue-100 text-blue-800":"bg-amber-100 text-amber-800"),children:t.allocationStatus.toUpperCase()})]})]}),e.jsx("div",{className:"w-full bg-emerald-200 rounded-full h-1.5 mb-1",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-500 "+(s>50?"bg-emerald-500":s>25?"bg-amber-500":"bg-red-500"),style:{width:`${Math.max(0,Math.min(100,s))}%`}})}),e.jsxs("div",{className:"text-xs text-emerald-700",children:["MWK ",r.toLocaleString()," of MWK ",n.toLocaleString()," remaining"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-0.5",children:[e.jsxs("p",{children:[" Budget year: ",t.period||(new Date).getFullYear()]}),e.jsxs("p",{children:[" Utilization: ",t.utilizationPercentage?.toFixed(1)||"0.0","%"]}),ee>0&&e.jsxs("p",{children:[" This request uses ",(ee/n*100).toFixed(1),"% of total budget"]}),t.departmentHead&&e.jsxs("p",{children:[" Approver: ",t.departmentHead]})]})]})})()]}),e.jsxs("div",{className:"bg-purple-50 rounded-2xl border border-purple-200 p-3",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1 flex items-center gap-2",children:[e.jsx(st,{size:16,className:"text-purple-500"}),"Need Help?"]}),e.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Get assistance with your requisition or learn about procurement policies."}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-sm text-purple-700 hover:bg-purple-100 rounded-xl transition-colors duration-200 flex items-center gap-2",children:[e.jsx(st,{size:12}),"Guidelines"]}),e.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-sm text-purple-700 hover:bg-purple-100 rounded-xl transition-colors duration-200 flex items-center gap-2",children:[e.jsx(rt,{size:12}),"Live Chat"]}),e.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-sm text-purple-700 hover:bg-purple-100 rounded-xl transition-colors duration-200 flex items-center gap-2",children:[e.jsx(B,{size:12}),"Call Support"]})]})]})]})]})}),D&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(p,{size:18,className:"text-amber-500"}),"Quick Start Templates"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Pre-configured packages for common business needs"})]}),e.jsx("button",{onClick:()=>O(!1),className:"p-1.5 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:18})})]})}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:mte.map((t,r)=>e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-3 hover:shadow-md transition-shadow duration-200 cursor-pointer relative",onClick:()=>Ee(t),children:[t.popular&&e.jsx("div",{className:"absolute -top-1 -right-1 bg-amber-500 text-white px-2 py-1 rounded text-xs font-bold",children:"POPULAR"}),e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1 text-sm",children:t.name}),e.jsx("p",{className:"text-gray-600 text-xs",children:t.description})]}),e.jsxs("div",{className:"ml-3 text-right",children:[e.jsx("div",{className:"text-lg font-bold text-emerald-600",children:t.estimatedCost}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.items.length," items"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Includes:"}),e.jsxs("div",{className:"mt-1 flex flex-wrap gap-1",children:[t.items.slice(0,3).map((t,r)=>e.jsx("span",{className:"px-1.5 py-0.5 bg-blue-100 text-blue-800 rounded text-xs",children:t},r)),t.items.length>3&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",t.items.length-3," more"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-1 text-xs text-gray-600",children:[e.jsx(L,{size:10}),e.jsx("span",{children:t.department})]}),e.jsx("button",{className:"px-2 py-1 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 text-xs font-medium",children:"Use Template"})]})]})]},r))})})]})}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-6xl w-full max-h-[80vh] overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-emerald-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ke,{size:18,className:"text-blue-500"}),"Requisition History"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Track all your previous requests and their status"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:we,disabled:xe,className:"px-2 py-1.5 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors duration-200 text-sm font-medium flex items-center gap-1",children:[e.jsx(G,{size:12,className:xe?"animate-spin":""}),"Refresh"]}),e.jsxs("button",{className:"px-2 py-1.5 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors duration-200 text-sm font-medium flex items-center gap-1",children:[e.jsx(at,{size:12}),"Filter"]}),e.jsx("button",{onClick:()=>A(!1),className:"p-1.5 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:18})})]})]})}),e.jsx("div",{className:"p-4 max-h-[60vh] overflow-y-auto",children:xe?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Ue,{size:28,className:"animate-spin text-gray-400"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading history..."})]}):e.jsx("div",{className:"space-y-2",children:me.map(t=>e.jsx("div",{className:"border border-gray-200 rounded-2xl p-3 hover:shadow-sm transition-shadow duration-200 bg-white",children:e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:t.itemName}),e.jsxs("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium border ${De(t.status)}`,children:[Oe(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-2 text-xs mb-2",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs",children:"Request ID"}),e.jsx("p",{className:"font-bold text-blue-900 text-xs",children:t.id})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:"Quantity"}),e.jsx("p",{className:"font-bold text-gray-900 text-xs",children:t.quantity})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-emerald-600 font-medium text-xs",children:"Amount"}),e.jsx("p",{className:"font-bold text-emerald-900 text-xs",children:t.amount})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-purple-600 font-medium text-xs",children:"Department"}),e.jsx("p",{className:"font-bold text-purple-900 text-xs",children:t.department})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-amber-600 font-medium text-xs",children:"Priority"}),e.jsx("p",{className:"font-bold text-amber-900 text-xs",children:t.urgency})]}),e.jsxs("div",{className:"bg-indigo-50 rounded-xl p-1.5",children:[e.jsx("span",{className:"text-indigo-600 font-medium text-xs",children:"Submitted"}),e.jsx("p",{className:"font-bold text-indigo-900 text-xs",children:t.date})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-600",children:[e.jsxs("span",{children:["Budget: ",t.budgetCode]}),e.jsxs("span",{children:["Approver: ",t.approver]}),t.deliveryDate&&e.jsxs("span",{children:["Expected: ",t.deliveryDate]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors duration-200",children:e.jsx(_,{size:12})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors duration-200",children:e.jsx(X,{size:12})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-colors duration-200",children:e.jsx(Ve,{size:12})})]})]}),t.rejectionReason&&e.jsxs("div",{className:"mt-2 p-1.5 bg-red-50 border border-red-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-1 text-red-800 text-xs font-medium mb-1",children:[e.jsx(T,{size:10}),"Rejection Reason"]}),e.jsx("p",{className:"text-red-700 text-xs",children:t.rejectionReason})]})]})})},t.id))})})]})}),E&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-5xl w-full max-h-[80vh] overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ie,{size:18,className:"text-amber-500"}),"Download Forms & Documents"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Access all required forms and supporting documentation"})]}),e.jsx("button",{onClick:()=>P(!1),className:"p-1.5 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search forms and documents...",value:M,onChange:e=>{I(e.target.value),z(hte.filter(t=>t.name.toLowerCase().includes(e.target.value.toLowerCase())||t.category.toLowerCase().includes(e.target.value.toLowerCase())||t.description.toLowerCase().includes(e.target.value.toLowerCase())))},className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 max-h-[50vh] overflow-y-auto",children:R.map((t,r)=>e.jsxs("div",{className:"border border-gray-200 rounded-2xl p-3 hover:shadow-md transition-shadow duration-200 bg-white",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl",children:e.jsx(c,{size:18,className:"text-blue-600"})}),e.jsxs("div",{className:"flex flex-col items-end space-y-1",children:[e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded font-medium "+(t.required?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"),children:t.category}),t.required&&e.jsx("span",{className:"text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded font-medium",children:"Required"})]})]}),e.jsx("h3",{className:"font-bold text-gray-900 mb-1 text-sm",children:t.name}),e.jsx("p",{className:"text-gray-600 text-xs mb-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{size:8}),t.size]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ie,{size:8}),t.downloads.toLocaleString()]})]}),e.jsxs("span",{children:["Updated ",t.lastUpdated]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>window.open(t.url,"_blank"),className:"flex-1 flex items-center justify-center px-2 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 text-xs font-medium",children:[e.jsx(Ie,{size:12,className:"mr-1"}),"Download"]}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors duration-200",children:e.jsx(nt,{size:12})})]})]},r))}),0===R.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(c,{size:36,className:"mx-auto text-gray-300 mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"No forms found"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search terms or browse all categories."})]})]})]})}),q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-14 h-14 mx-auto bg-blue-500 rounded-2xl mb-3",children:e.jsx(Z,{size:20,className:"text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Submit Requisition Request?"}),e.jsxs("div",{className:"text-gray-600 mb-4 space-y-2",children:[e.jsx("p",{className:"text-sm",children:"You're about to submit a requisition request for:"}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-2 border border-blue-200",children:[e.jsx("div",{className:"font-bold text-blue-900 text-sm",children:o?h.itemName:u.map(e=>e.name).join(", ")}),e.jsxs("div",{className:"text-xs text-blue-700 mt-1",children:["Estimated Total: MWK ",ee.toLocaleString()]})]}),e.jsx("p",{className:"text-xs",children:"This action cannot be undone once submitted."})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>$(!1),className:"flex-1 px-3 py-1.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-medium text-sm",children:"Review Again"}),e.jsx("button",{onClick:async()=>{if(ke(2)){g(!0);try{let e=0;o?h.estimatedCost&&(e=parseFloat(h.estimatedCost.toString().replace(/[$,]/g,""))||0):e=u.reduce((e,t)=>e+(parseFloat(t.avgCost.replace(/[$,]/g,""))||0)*t.quantity,0);const t={itemName:o?h.itemName:u.map(e=>e.name).join(", "),quantity:o?parseInt(h.quantity)||1:u.reduce((e,t)=>e+(t.quantity||1),0),budgetCode:h.budgetCode,urgency:h.urgency||"medium",preferredSupplier:h.preferredSupplier||"No preference",reason:h.reason,category:o?h.category:u.length>0?u[0].category:"",estimatedCost:e,deliveryDate:h.deliveryDate||null,department:h.department,environmentalImpact:h.environmentalImpact||"No specific requirements"};if(!t.itemName)throw new Error("Item name is required");if(!t.budgetCode)throw new Error("Budget code is required");if(!t.reason)throw new Error("Business justification is required");if(!t.department)throw new Error("Department is required");if(t.estimatedCost<=0)throw new Error("Estimated cost must be greater than 0");const r=localStorage.getItem("token");if(!r)throw new Error("No authentication token found. Please log in again.");const n=await fetch(`${ve}/api/requisitions`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(t)});if(!n.ok){const e=await n.json();throw new Error(e.message||`Submission failed with status: ${n.status}`)}await n.json();$(!1),W(!0),localStorage.removeItem("requisitionDraft"),f({itemName:"",category:"",selectedItem:"",quantity:"",budgetCode:"",urgency:"",preferredSupplier:"",reason:"",attachment:null,estimatedCost:"",deliveryDate:"",department:"",businessJustification:"",alternativeOptions:"",environmentalImpact:""}),m([]),i(0),d(!1),je(),we()}catch(ide){H(t=>({...t,submission:ide.message||"Failed to submit requisition. Please try again."}))}finally{g(!1)}}},disabled:x,className:"flex-1 px-3 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 transition-colors duration-200 font-medium text-sm",children:x?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full mr-2"}),"Submitting..."]}):"Confirm & Submit"})]})]})})}),U&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 mx-auto bg-emerald-500 rounded-2xl mb-3",children:e.jsx(n,{size:28,className:"text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Request Submitted Successfully! "}),e.jsxs("div",{className:"text-gray-600 mb-4 space-y-2",children:[e.jsx("p",{className:"text-sm",children:"Your requisition has been successfully submitted and assigned tracking number:"}),e.jsx("div",{className:"bg-emerald-50 rounded-xl p-2 border border-emerald-200",children:e.jsxs("div",{className:"text-lg font-bold text-emerald-900 font-mono",children:["REQ-",(new Date).getFullYear(),"-",String(Math.floor(1e3*Math.random())).padStart(3,"0")]})}),e.jsxs("div",{className:"text-xs space-y-0.5",children:[e.jsx("p",{children:" Department manager will be notified"}),e.jsx("p",{children:" Procurement team will begin sourcing"}),e.jsx("p",{children:" You'll receive email updates on progress"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:()=>{W(!1),t("/employee-dash")},className:"w-full px-3 py-1.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 font-medium text-sm",children:"Return to Dashboard"}),e.jsx("button",{onClick:()=>{W(!1),f({itemName:"",category:"",selectedItem:"",quantity:"",budgetCode:"",urgency:"",preferredSupplier:"",reason:"",attachment:null,estimatedCost:"",deliveryDate:"",department:"",businessJustification:"",alternativeOptions:"",environmentalImpact:""}),m([]),i(0),d(!1)},className:"w-full px-3 py-1.5 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-medium text-sm",children:"Create Another Request"})]})]})})}),ie&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Item Details"}),e.jsx("button",{onClick:()=>oe(null),className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:16})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-14 h-14 bg-blue-100 rounded-2xl flex items-center justify-center mx-auto mb-2",children:ie.icon}),e.jsx("h4",{className:"font-bold text-gray-900",children:ie.name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:"Average Cost"}),e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:ie.avgCost})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:"Lead Time"}),e.jsx("p",{className:"font-bold text-gray-900 text-sm",children:ie.leadTime})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-2 border border-blue-200",children:[e.jsx("h5",{className:"font-medium text-blue-900 mb-1 text-sm",children:"Specifications"}),e.jsxs("ul",{className:"text-xs text-blue-800 space-y-0.5",children:[e.jsx("li",{children:" Standard business quality"}),e.jsx("li",{children:" Warranty included"}),e.jsx("li",{children:" Compatible with existing systems"}),e.jsx("li",{children:" Energy efficient design"})]})]}),e.jsx("button",{onClick:()=>{const e=ute.find(e=>e.items.some(e=>e.name===ie.name));_e(ie,e),oe(null)},className:"w-full px-3 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 font-medium text-sm",children:"Add to Request"})]})]})})})]})}function fte({onClose:t,onSuccess:r}){const{user:s}=An(),a=$r(),[i,o]=qr.useState(0),[l,d]=qr.useState([]),[u,h]=qr.useState([]),[p,f]=qr.useState(null),[x,g]=qr.useState({itemName:"",quantity:"",vendors:[],deadline:"",description:"",estimatedBudget:"",priority:"medium",deliveryLocation:"",specifications:""}),[b,y]=qr.useState(!1),[v,w]=qr.useState(null),[N,k]=qr.useState(null),[S,C]=qr.useState(""),[A,E]=qr.useState({}),_="https://backend.nexusmwi.com",P=[{id:1,title:"Select Requisition",icon:c,description:"Choose from approved requisitions"},{id:2,title:"RFQ Details",icon:ze,description:"Define requirements and specifications"},{id:3,title:"Select Vendors",icon:j,description:"Choose vendors to invite"},{id:4,title:"Review & Submit",icon:n,description:"Confirm and send RFQ"}];qr.useEffect(()=>{(async()=>{y(!0);try{const e=localStorage.getItem("token"),[t,r]=await Promise.all([fetch(`${_}/api/requisitions`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${_}/api/vendors`,{headers:{Authorization:`Bearer ${e}`}})]),[n,s]=await Promise.all([t.json(),r.json()]);if(t.ok){const e=n.filter(e=>"approved"===e.status);d(e)}r.ok&&h(s.data||[])}catch(e){w("Failed to load data. Please try again.")}finally{y(!1)}})()},[_]);const D=e=>{const t={};switch(e){case 0:p||(t.requisition="Please select a requisition");break;case 1:x.itemName||(t.itemName="Item name is required"),(!x.quantity||x.quantity<=0)&&(t.quantity="Valid quantity is required"),x.deadline||(t.deadline="Deadline is required");break;case 2:0===x.vendors.length&&(t.vendors="Please select at least one vendor")}return E(t),0===Object.keys(t).length},O=e=>{const{name:t,value:r}=e.target;g(e=>({...e,[t]:r})),A[t]&&E(e=>({...e,[t]:""}))},L=(l||[]).filter(e=>e.itemName?.toLowerCase().includes(S.toLowerCase())),M=(u||[]).filter(e=>!!e&&(e.firstName?.toLowerCase().includes(S.toLowerCase())||e.lastName?.toLowerCase().includes(S.toLowerCase())||e.email?.toLowerCase().includes(S.toLowerCase())||e.companyName?.toLowerCase().includes(S.toLowerCase()))),I=()=>{switch(i){case 0:return p;case 1:return x.itemName&&x.quantity&&x.deadline;case 2:return x.vendors.length>0;case 3:return!0;default:return!1}};return b&&0===l.length?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{className:"animate-spin w-8 h-8 text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading data..."})]})}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"px-6 py-3 border-b border-gray-200 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900",children:["Step ",i+1," of ",P.length]}),e.jsx("p",{className:"text-xs text-gray-600",children:P[i].description})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round((i+1)/P.length*100),"% Complete"]})]}),e.jsx("div",{className:"flex items-center justify-between",children:P.map((t,r)=>{const s=t.icon,a=i===r,o=i>r;return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-colors "+(o?"bg-green-500 border-green-500 text-white":a?"bg-blue-500 border-blue-500 text-white":"bg-gray-100 border-gray-300 text-gray-400"),children:o?e.jsx(n,{size:20}):e.jsx(s,{size:20})}),e.jsx("div",{className:"ml-3 hidden sm:block",children:e.jsx("p",{className:"text-sm font-medium "+(a?"text-blue-600":o?"text-green-600":"text-gray-500"),children:t.title})}),r<P.length-1&&e.jsx("div",{className:"w-12 h-0.5 mx-4 "+(o?"bg-green-500":"bg-gray-200")})]},t.id)})})]}),v&&e.jsxs("div",{className:"mx-8 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(T,{size:16,className:"text-red-600"}),e.jsx("span",{className:"text-red-800 text-sm",children:v})]}),N&&e.jsxs("div",{className:"mx-8 mt-4 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2",children:[e.jsx(n,{size:16,className:"text-green-600"}),e.jsx("span",{className:"text-green-800 text-sm",children:N})]}),e.jsxs("div",{className:"flex-1 px-8 py-6 overflow-hidden",children:[0===i&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select Requisition"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Choose an approved requisition to create an RFQ"})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search requisitions...",value:S,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:0===L.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(c,{size:48,className:"text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:S?"No requisitions match your search":"No approved requisitions available"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:L.map(t=>e.jsx("div",{onClick:()=>{return f(e=t),g(t=>({...t,itemName:e.itemName,quantity:e.quantity,estimatedBudget:e.estimatedCost||"",description:e.reason||""})),void(A.requisition&&E(e=>({...e,requisition:""})));var e},className:"bg-white rounded-xl border-2 cursor-pointer transition-all hover:shadow-sm "+(p?._id===t._id?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300"),children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-semibold text-gray-900 text-sm truncate",children:t.itemName}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.department})]}),p?._id===t._id&&e.jsx(n,{size:16,className:"text-blue-600 flex-shrink-0 ml-2"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.quantity}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-bold text-green-600",children:["$",t.estimatedCost||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]})]}),e.jsxs("div",{className:"space-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Urgency:"}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium "+("high"===t.urgency?"bg-red-100 text-red-800":"medium"===t.urgency?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"),children:t.urgency||"Medium"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Category:"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.category||"General"})]}),t.budgetCode&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Budget Code:"}),e.jsx("span",{className:"font-medium text-gray-900",children:t.budgetCode})]})]}),t.reason&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Reason:"}),e.jsx("p",{className:"text-xs text-gray-800 line-clamp-2",children:t.reason})]})]})},t._id))})}),A.requisition&&e.jsx("p",{className:"text-sm text-red-600 mt-3 text-center",children:A.requisition})]}),1===i&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"RFQ Details"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Define the requirements and specifications"})]}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Item Name *"}),e.jsx("input",{type:"text",name:"itemName",value:x.itemName,onChange:O,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(A.itemName?"border-red-300":"border-gray-300"),placeholder:"Enter item name"}),A.itemName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.itemName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),e.jsx("input",{type:"number",name:"quantity",value:x.quantity,onChange:O,min:"1",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(A.quantity?"border-red-300":"border-gray-300"),placeholder:"Enter quantity"}),A.quantity&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.quantity})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deadline *"}),e.jsx("input",{type:"date",name:"deadline",value:x.deadline,onChange:O,min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(A.deadline?"border-red-300":"border-gray-300")}),A.deadline&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:A.deadline})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{name:"priority",value:x.priority,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estimated Budget"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",name:"estimatedBudget",value:x.estimatedBudget,onChange:O,className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Delivery Location"}),e.jsx("input",{type:"text",name:"deliveryLocation",value:x.deliveryLocation,onChange:O,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter delivery location"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{name:"description",value:x.description,onChange:O,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Describe the requirements..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technical Specifications"}),e.jsx("textarea",{name:"specifications",value:x.specifications,onChange:O,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Enter technical requirements..."})]})]})]}),2===i&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select Vendors"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Choose vendors to invite for quotes"}),e.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[x.vendors.length," selected"]})]})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search vendors...",value:S,onChange:e=>C(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:0===M.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(j,{size:48,className:"text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:S?"No vendors match your search":"No vendors available"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:M.map(t=>{const r="object"==typeof t.location?t.location?.city||t.location?.address||"N/A":t.location||"N/A",s="string"==typeof t.industry?t.industry:"General",a="string"==typeof t.phoneNumber?t.phoneNumber:"N/A",i="string"==typeof t.companyName?t.companyName:"N/A",o=Array.isArray(t.specializations)?t.specializations:[];return e.jsx("div",{onClick:()=>{return e=t._id,g(t=>({...t,vendors:t.vendors.includes(e)?t.vendors.filter(t=>t!==e):[...t.vendors,e]})),void(A.vendors&&E(e=>({...e,vendors:""})));var e},className:"bg-white rounded-xl border-2 cursor-pointer transition-all hover:shadow-sm "+(x.vendors.includes(t._id)?"border-blue-500 bg-blue-50 shadow-sm":"border-gray-200 hover:border-gray-300"),children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 text-sm truncate",children:[t.firstName," ",t.lastName]}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.email})]}),x.vendors.includes(t._id)&&e.jsx(n,{size:16,className:"text-blue-600 flex-shrink-0 ml-2"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Company:"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:i})]}),e.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium "+(t.isVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:t.isVerified?"Verified":"Pending"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:"Industry"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs font-medium text-gray-900 truncate",children:a}),e.jsx("div",{className:"text-xs text-gray-500",children:"Phone"})]})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[t.businessType&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Business Type:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"string"==typeof t.businessType?t.businessType:"N/A"})]}),t.yearsInBusiness&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Experience:"}),e.jsx("span",{className:"font-medium text-gray-900",children:"number"==typeof t.yearsInBusiness?`${t.yearsInBusiness} years`:"N/A"})]}),"N/A"!==r&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"font-medium text-gray-900 truncate",children:r})]})]}),o.length>0&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Specializations:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.slice(0,2).map((t,r)=>e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full font-medium",children:"string"==typeof t?t:"Specialization"},r)),o.length>2&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",o.length-2]})]})]})]})},t._id)})})}),A.vendors&&e.jsx("p",{className:"text-sm text-red-600 mt-3 text-center",children:A.vendors})]}),3===i&&e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Review & Submit"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Review all details before submitting your RFQ"})]}),e.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ze,{size:16}),"Item Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Item:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.itemName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Quantity:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.quantity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Deadline:"}),e.jsx("span",{className:"ml-2 font-medium",children:new Date(x.deadline).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Priority:"}),e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs font-medium "+("high"===x.priority?"bg-red-100 text-red-800":"medium"===x.priority?"bg-amber-100 text-amber-800":"bg-green-100 text-green-800"),children:x.priority.charAt(0).toUpperCase()+x.priority.slice(1)})]}),x.estimatedBudget&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Budget:"}),e.jsxs("span",{className:"ml-2 font-medium text-green-600",children:["$",x.estimatedBudget]})]}),x.deliveryLocation&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Location:"}),e.jsx("span",{className:"ml-2 font-medium",children:x.deliveryLocation})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(j,{size:16}),"Selected Vendors (",x.vendors.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:x.vendors.map(t=>{const r=u.find(e=>e._id===t);return r?e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-medium",children:[r.firstName," ",r.lastName]}),e.jsx("div",{className:"text-xs text-gray-600",children:r.email})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+(r.isVerified?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"),children:r.isVerified?"Verified":"Pending"})]},t):null})})]}),(x.description||x.specifications)&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h5",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(c,{size:16}),"Additional Information"]}),x.description&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-800 bg-white p-2 rounded border",children:x.description})]}),x.specifications&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-medium text-gray-700 mb-1",children:"Specifications"}),e.jsx("p",{className:"text-sm text-gray-800 bg-white p-2 rounded border",children:x.specifications})]})]})]})]})]}),e.jsxs("div",{className:"px-8 py-4 border-t border-gray-200 flex justify-between flex-shrink-0",children:[e.jsxs("button",{onClick:()=>{o(e=>e-1)},disabled:0===i,className:"flex items-center gap-2 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(ne,{size:16}),"Previous"]}),e.jsx("div",{className:"flex gap-3",children:i===P.length-1?e.jsx("button",{onClick:async()=>{if(D(3)){y(!0),w(null);try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/rfqs`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({itemName:x.itemName,quantity:x.quantity,vendors:x.vendors,deadline:x.deadline,description:x.description,estimatedBudget:x.estimatedBudget,priority:x.priority,deliveryLocation:x.deliveryLocation,specifications:x.specifications,requisitionId:p?._id})}),n=await t.json();t.ok?(k("RFQ created successfully!"),setTimeout(()=>{r?r():a("/rfqs/view")},1500)):w(n.message||"Failed to create RFQ")}catch(e){w("Failed to create RFQ. Please try again.")}finally{y(!1)}}},disabled:b||!I(),className:"flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{size:16,className:"animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:16}),"Submit RFQ"]})}):e.jsxs("button",{onClick:()=>{D(i)&&o(e=>e+1)},disabled:!I(),className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",e.jsx(se,{size:16})]})})]})]})}const xte=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,gte=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-2xl":"text-lg";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:14,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[a>0?e.jsx(d,{size:10,className:"text-emerald-500"}):e.jsx(We,{size:10,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-0.5`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-0.5",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},bte=({quote:t,rfq:r,isSelected:n,onSelect:s,vendorInfo:a})=>{return e.jsxs("div",{onClick:()=>s(t.vendor),className:"bg-white rounded-lg border-2 p-4 cursor-pointer transition-all duration-200 "+(n?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow-md"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+(n?"bg-blue-100":"bg-gray-50"),children:e.jsx(O,{className:"w-5 h-5 "+(n?"text-blue-600":"text-gray-600")})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:a?a.name||`${a.firstName||""} ${a.lastName||""}`.trim()||a.email:`Vendor ${t.vendor?.slice(-4)||"Unknown"}`}),e.jsx("p",{className:"text-sm text-gray-500",children:a?.email||"Quote Submitted"})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-1",children:[t.isLowestPrice&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Best Price"}),n&&e.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-3 h-3 text-white"})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-green-500"}),t.price?Number(t.price).toFixed(0):"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Price (MWK)"})]}),e.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-xl font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(l,{className:"w-4 h-4 text-blue-500"}),t.deliveryTime||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Delivery"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Unit Price"}),e.jsxs("span",{className:"text-xs font-medium",children:["MWK ",t.price&&r.quantity?(Number(t.price)/Number(r.quantity)).toFixed(2):"N/A"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Total Quantity"}),e.jsx("span",{className:"text-xs font-medium",children:r.quantity||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Submitted"}),e.jsx("span",{className:"text-xs font-medium",children:(i=t.createdAt||t.submittedAt,i?new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A")})]})]}),t.notes&&e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Vendor Notes"}),e.jsx("p",{className:"text-xs text-gray-800 bg-gray-50 p-2 rounded line-clamp-2",children:t.notes})]}),e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Vendor ID: ",t.vendor?.slice(-6)||"N/A"]}),a?.phoneNumber&&e.jsx("span",{className:"text-xs text-gray-500",children:a.phoneNumber})]})})]});var i},yte=({rfq:t,isOpen:r,onClose:a,onVendorSelect:i,selectedVendor:o})=>{const[l,d]=qr.useState(o||""),[u,m]=qr.useState(!1);if(qr.useEffect(()=>{d(o||"")},[o,r]),!r||!t)return null;const h=t.quotes||[],p=h.map(e=>Number(e.price)).filter(e=>!isNaN(e)&&e>0),f=p.length>0?Math.min(...p):0,x=h.map(e=>({...e,isLowestPrice:Number(e.price)===f&&Number(e.price)>0})),g=e=>{d(e)},b=h.find(e=>e.vendor===l);return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[85vh] overflow-hidden shadow-xl",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-base font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(j,{size:16,className:"text-blue-500"}),"Select Vendor"]}),e.jsx("button",{onClick:a,className:"p-1 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(s,{size:16})})]})}),e.jsxs("div",{className:"p-4 max-h-[70vh] overflow-y-auto space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 border border-blue-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(c,{size:14,className:"text-blue-500"}),"RFQ Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Item"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.itemName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Quantity"}),e.jsx("p",{className:"font-medium text-gray-900",children:t.quantity})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Quotes Received"}),e.jsx("p",{className:"font-medium text-gray-900",children:h.length})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(k,{size:14,className:"text-green-500"}),"Vendor Quotes (",h.length,")"]}),h.length>0&&e.jsx("span",{className:"text-[10px] text-gray-500",children:"Pick the best vendor"})]}),0===h.length?e.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[e.jsx(rt,{size:22,className:"mx-auto mb-2 text-gray-400"}),e.jsx("p",{className:"font-medium text-gray-900 text-sm mb-1",children:"No Quotes Yet"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Vendors need to submit quotes first."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-2",children:x.map((r,n)=>{const s=t.vendors?.find(e=>(e._id||e.id||e)===r.vendor||"object"==typeof e&&(e._id||e.id)===r.vendor);return e.jsx(bte,{quote:r,rfq:t,isSelected:l===r.vendor,onSelect:g,vendorInfo:s,compact:!0},`${r.vendor}-${n}`)})})]}),l&&b&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-3 border border-green-200",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(n,{size:14,className:"text-green-500"}),"Selected Quote"]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-600",children:"Vendor"}),e.jsx("p",{className:"font-medium text-gray-900",children:(()=>{const e=t.vendors?.find(e=>(e._id||e.id||e)===b.vendor||"object"==typeof e&&(e._id||e.id)===b.vendor);return e?e.name||`${e.firstName||""} ${e.lastName||""}`.trim()||e.email:`Vendor ${b.vendor?.slice(-4)||"Unknown"}`})()})]}),e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-600",children:"Total Price"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["MWK ",Number(b.price||0).toFixed(0)]})]}),e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-600",children:"Unit Price"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:["MWK ",b.price&&t.quantity?(Number(b.price)/Number(t.quantity)).toFixed(2):"N/A"]})]}),e.jsxs("div",{className:"bg-white rounded p-2",children:[e.jsx("p",{className:"text-gray-600",children:"Delivery"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b.deliveryTime||"N/A"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsxs("button",{onClick:a,className:"px-3 py-1.5 text-xs text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium flex items-center gap-1",children:[e.jsx(s,{size:12}),"Cancel"]}),e.jsx("button",{onClick:async()=>{if(l){m(!0);try{await i(t._id||t.id,l),a()}catch(ide){}finally{m(!1)}}},disabled:!l||u||0===h.length,className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Selecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{size:12}),"Confirm"]})})]})]})]})})},vte=({rfq:t,onMenuClick:r,showMenuId:s,onDelete:a,actionLoading:i,rfqId:o,onSelectVendor:d})=>{const m=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1 bg-blue-50 rounded-lg",children:e.jsx(c,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:o}),e.jsx("p",{className:"text-xs text-gray-500",children:t.itemName||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:`px-1.5 py-0.5 text-xs font-medium rounded-full flex items-center gap-1 ${(e=>{switch(e?.toLowerCase()){case"open":return"bg-green-100 text-green-800";case"closed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:[(t=>{switch(t?.toLowerCase()){case"open":return e.jsx(n,{size:14});case"pending":return e.jsx(l,{size:14});case"closed":return e.jsx(u,{size:14});default:return e.jsx(T,{size:14})}})(t.status),t.status]}),e.jsx("button",{"data-rfq-id":o,onClick:()=>r(o),className:"p-0.5 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(Ve,{size:14})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.quantity||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(rt,{className:"w-3 h-3 text-blue-500"}),t.quotes?.length||0]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quotes"})]})]}),e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Created"}),e.jsx("span",{className:"text-xs font-medium",children:t.createdAt?m(t.createdAt):"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-xs font-medium",children:t.deadline?m(t.deadline):"No deadline"}),t.deadline&&(e=>{const t=new Date(e)-new Date,r=Math.ceil(t/864e5);return r<=3&&r>0})(t.deadline)&&e.jsx("span",{className:"bg-amber-100 text-amber-800 px-1 py-0.5 rounded text-xs font-medium",children:"Soon"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Vendors"}),e.jsx("span",{className:"text-xs font-medium",children:t.vendors?.length||0})]})]}),t.selectedVendor&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Selected Vendor"}),e.jsxs("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded-full bg-green-100 text-green-800 flex items-center gap-1 w-fit",children:[e.jsx(n,{size:10}),"object"==typeof t.selectedVendor?t.selectedVendor.email||`${t.selectedVendor.firstName||""} ${t.selectedVendor.lastName||""}`.trim()||`Vendor ${t.selectedVendor._id?.slice(-4)}`:`Vendor ${t.selectedVendor.slice(-4)}`]})]}),t.description&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-0.5",children:"Description"}),e.jsx("div",{className:"text-xs text-gray-800 line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{className:"text-xs text-gray-500",children:["Progress: ",t.quotes?.length||0,"/",t.vendors?.length||0]})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Hr,{to:`/dashboard/rfqs/${t.id||t._id}`,className:"p-0.5 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(_,{size:12})}),e.jsx("button",{className:"p-0.5 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(Qe,{size:12})})]})]})]})};function jte(){const{user:t}=An(),r=$r(),[a,i]=qr.useState([]),[o,l]=qr.useState(!0),[d,u]=qr.useState(""),[m,h]=qr.useState("all"),[p,f]=qr.useState(null),[x,g]=qr.useState(!1),[b,y]=qr.useState(!1),[v,w]=qr.useState(null),[N,S]=qr.useState(null),[C,A]=qr.useState(!1),[E,P]=qr.useState(""),[D,O]=qr.useState("success"),[L]=Vr(),[M,I]=qr.useState(()=>L.get("section")||"dashboard"),[R,z]=qr.useState(!1),[F,B]=qr.useState(""),[q,$]=qr.useState(!1),U=qr.useRef(null),[W,V]=qr.useState(!1),[H,K]=qr.useState(null),Y="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${Y}/api/rfqs`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){if(429===t.status){const e=await t.json();throw z(!0),$(!0),B(e.message||"API rate limit exceeded. Please try again later."),new Error("Rate limit exceeded")}throw new Error(`HTTP error! status: ${t.status}`)}const r=await t.json();i(r.data||[])}catch(ide){i([])}finally{l(!1)}})()},[Y]);const J=a.filter(e=>{const t=e.itemName?.toLowerCase().includes(d.toLowerCase())||!1,r="all"===m||e.status===m;return t&&r}),Q=()=>{r(`?section=${"create-rfq"}`,{replace:!0})},Z=a?.length||0,ee=a?.filter(e=>"open"===e.status)?.length||0,te=a?.filter(e=>"closed"===e.status)?.length||0,re=a?.reduce((e,t)=>e+(t.quotes?.length||0),0)||0,ne=(e,t="success")=>{P(e),O(t),A(!0),setTimeout(()=>A(!1),5e3)},se=async e=>{S(e);try{await new Promise(e=>setTimeout(e,1e3)),i(t=>t.filter(t=>(t.id||t._id)!==e)),ne("RFQ deleted successfully!","success")}catch(ide){ne("Failed to delete RFQ","error")}finally{S(null),w(null)}},ae=e=>{K(e),V(!0),w(null)},ie=async()=>{l(!0);try{const e=localStorage.getItem("token");if(!e)return;const t=await fetch(`${Y}/api/rfqs`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();i(e.data||[])}}catch(ide){}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(xte,{isVisible:o,message:"Loading RFQs..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("input",{type:"file",accept:".xlsx, .xls",className:"hidden",ref:U,onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){const e={itemName:t["Item Name"]||"",description:t.Description||"",quantity:Number(t.Quantity)||0,status:t.Status||"open",deadline:t.Deadline?new Date(t.Deadline).toISOString():(new Date).toISOString(),unit:t.Unit||"pcs",priority:t.Priority||"medium",category:t.Category||"General"};await fetch(`${Y}/api/rfqs`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})}ne("Excel import completed successfully!","success"),ie()}catch(r){ne("Excel import failed!","error")}}}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search RFQs...",value:d,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm bg-white"})]}),e.jsxs("select",{value:m,onChange:e=>h(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsxs("button",{onClick:ie,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]}),e.jsx("div",{className:"relative",children:e.jsxs("button",{onClick:Q,disabled:q,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Le,{size:16}),"Create RFQ"]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(gte,{title:"Total RFQs",value:Z,icon:c,color:"blue",subtitle:"All requests"}),e.jsx(gte,{title:"Active RFQs",value:ee,icon:n,color:"green",trend:12,subtitle:"Currently open"}),e.jsx(gte,{title:"Completed",value:te,icon:ze,color:"purple",subtitle:"Finished RFQs"}),e.jsx(gte,{title:"Total Quotes",value:re,icon:rt,color:"amber",trend:8,subtitle:"Received responses"})]}),e.jsxs("div",{id:"rfqs-section",className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Request for Quotations"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{const e=document.getElementById("rfqs-section")?.innerHTML;if(!e)return void ne("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>RFQs Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .rfqs-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px; }\n            .rfq-card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n            .rfq-card h3 { margin: 0 0 10px 0; color: #333; }\n            .rfq-card p { margin: 5px 0; color: #666; font-size: 14px; }\n            .status { display: inline-block; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: bold; }\n            .open { background-color: #d1fae5; color: #065f46; }\n            .closed { background-color: #dbeafe; color: #1e40af; }\n            .pending { background-color: #fef3c7; color: #92400e; }\n            .metrics { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }\n            .metric-card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; text-align: center; }\n            .metric-value { font-size: 24px; font-weight: bold; color: #333; }\n            .metric-title { font-size: 12px; color: #666; text-transform: uppercase; }\n          </style>\n        </head>\n        <body>\n          <h1>Request for Quotations (RFQs)</h1>\n          <div class="metrics">\n            <div class="metric-card">\n              <div class="metric-value">${Z}</div>\n              <div class="metric-title">Total RFQs</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${ee}</div>\n              <div class="metric-title">Active RFQs</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${te}</div>\n              <div class="metric-title">Completed</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${re}</div>\n              <div class="metric-title">Total Quotes</div>\n            </div>\n          </div>\n          <div class="rfqs-grid">\n            ${e}\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>U.current?.click(),children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{if(!a||0===a.length)return void ne("No RFQs to export","error");const e=a.map(e=>({"RFQ ID":`rfq-${e._id?.slice(-6)||e.id?.slice(-6)||"N/A"}`,"Item Name":e.itemName||"",Description:e.description||"",Quantity:e.quantity||0,Status:e.status||"",Deadline:e.deadline?new Date(e.deadline).toLocaleDateString():"",Created:e.createdAt?new Date(e.createdAt).toLocaleDateString():"","Vendor Count":e.vendors?.length||0,"Quote Count":e.quotes?.length||0,"Selected Vendor":e.selectedVendor?"object"==typeof e.selectedVendor?e.selectedVendor.email||`${e.selectedVendor.firstName||""} ${e.selectedVendor.lastName||""}`.trim():`Vendor ${e.selectedVendor.slice(-4)}`:"",Unit:e.unit||"",Priority:e.priority||"",Category:e.category||""})),t=j3.json_to_sheet(e),r=j3.book_new();j3.book_append_sheet(r,t,"RFQs"),c3(r,"rfqs.xlsx"),ne("Export successful!","success")},children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[J.length," of ",Z," RFQs"]})})]})]}),0===J.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{size:32,className:"text-gray-400"})}),R?e.jsxs(Rm.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-amber-100 text-amber-800 px-4 py-6 rounded-lg shadow-md max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(T,{size:20,className:"text-amber-700"}),e.jsx("h3",{className:"text-lg font-medium",children:"Rate Limit Exceeded"})]}),e.jsx("p",{className:"text-sm mb-1",children:F||"You've reached your API call limit."}),e.jsx("p",{className:"text-xs opacity-80",children:"Consider upgrading your plan for more API calls."}),e.jsxs("button",{onClick:()=>z(!1),className:"mt-4 inline-flex items-center gap-2 px-3 py-1.5 bg-amber-600 text-white rounded-lg hover:bg-amber-700 mx-auto",children:[e.jsx(s,{size:16})," Dismiss"]})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d||"all"!==m?"No RFQs match your filters":"No RFQs found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d||"all"!==m?"Try adjusting your search criteria or filters.":"Start by creating your first RFQ to begin receiving quotes."}),e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("button",{onClick:Q,disabled:q,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed mx-auto",children:[e.jsx(Le,{size:16}),"Create RFQ"]}),q&&e.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 w-48 bg-gray-800 text-white text-xs p-2 rounded shadow-lg z-10",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(T,{size:14,className:"mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Cannot create RFQs while rate limit is exceeded"})]}),e.jsx("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 border-4 border-transparent border-b-gray-800"})]})]})]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:J.map((t,r)=>{const n=`rfq-${String(r+1).padStart(3,"0")}`;return e.jsx(vte,{rfq:t,rfqId:n,onMenuClick:w,showMenuId:v,onDelete:se,actionLoading:N,onSelectVendor:ae},t.id||t._id)})})]})]}),v&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>w(null)}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-lg shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-rfq-id="${v}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-rfq-id="${v}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsxs("div",{className:"py-1",children:[e.jsxs(Hr,{to:`/dashboard/rfqs/${J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?.id||J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?._id}`,onClick:()=>w(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(_,{size:16,className:"text-gray-500"}),"View Details"]}),e.jsxs("button",{onClick:()=>{w(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Edit RFQ"]}),e.jsxs("button",{onClick:()=>{w(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(k,{size:16,className:"text-gray-500"}),"View All Quotes"]}),e.jsxs("button",{onClick:()=>{const e=J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v);e&&ae(e)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(j,{size:16,className:"text-gray-500"}),"Select Vendor"]}),e.jsxs("button",{onClick:()=>{return e=v,navigator.clipboard.writeText(e),ne("RFQ ID copied to clipboard!","success"),void w(null);var e},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(X,{size:16,className:"text-gray-500"}),"Copy RFQ ID"]}),e.jsxs("button",{onClick:()=>{const e=J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v);if(e){const t=[{"RFQ ID":v,"Item Name":e.itemName||"",Description:e.description||"",Quantity:e.quantity||0,Status:e.status||"",Deadline:e.deadline?new Date(e.deadline).toLocaleDateString():"","Vendor Count":e.vendors?.length||0,"Quote Count":e.quotes?.length||0}],r=j3.json_to_sheet(t),n=j3.book_new();j3.book_append_sheet(n,r,"RFQ Details"),c3(n,`${v}-details.xlsx`),ne(`${v} exported to Excel!`,"success"),w(null)}},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Ie,{size:16,className:"text-gray-500"}),"Export to Excel"]}),e.jsxs("button",{onClick:()=>{w(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(nt,{size:16,className:"text-gray-500"}),"Share RFQ"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>{const e=J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v);e&&se(e.id||e._id)},disabled:N===(J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?.id||J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?._id),className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 text-left text-sm",children:[e.jsx(Me,{size:16}),"Delete RFQ",N===(J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?.id||J.find((e,t)=>`rfq-${String(t+1).padStart(3,"0")}`===v)?._id)&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]})]})})]}),e.jsx(yte,{rfq:H,isOpen:W,onClose:()=>{V(!1),K(null)},onVendorSelect:async(e,t)=>{try{const r=localStorage.getItem("token"),n=await fetch(`${Y}/api/rfqs/${e}/select`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({vendorId:t})}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to select vendor");i(r=>r.map(r=>(r._id||r.id)===e?{...r,selectedVendor:t,status:"closed"}:r));const o=a.find(t=>(t._id||t.id)===e),l=o?.vendors?.find(e=>(e._id||e.id||e)===t||"object"==typeof e&&(e._id||e.id)===t),c=l?l.name||`${l.firstName||""} ${l.lastName||""}`.trim()||l.email:`Vendor ${t?.slice(-4)||"Unknown"}`;ne(`Vendor "${c}" selected successfully!`,"success"),V(!1),K(null)}catch(ide){ne(ide.message||"Failed to select vendor","error")}},selectedVendor:H?.selectedVendor}),C&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===D?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===D?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:E}),e.jsx("button",{onClick:()=>A(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function wte(){const{user:t}=An(),r=$r(),[n,s]=qr.useState({firstName:"",lastName:"",email:"",phone:"",address:"",password:"",categories:[]}),[a,i]=qr.useState(!1),[o,l]=qr.useState(null),[c,d]=qr.useState(null),u=e=>{const{name:t,value:r}=e.target;s(e=>({...e,[t]:r}))};return e.jsxs(gt,{children:[e.jsx(bt,{variant:"outlined",startIcon:e.jsx(ys,{}),onClick:()=>r(-1),sx:{mb:2},children:"Back"}),e.jsx(oe,{variant:"h4",gutterBottom:!0,children:"Add New Vendor"}),c&&e.jsx(yt,{severity:"success",sx:{mb:2},children:c}),o&&e.jsx(yt,{severity:"error",sx:{mb:2},children:o}),e.jsx(vt,{sx:{p:3},children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),i(!0),l(null),d(null);try{const e=localStorage.getItem("token"),t=await fetch("https://backend.nexusmwi.com/api/vendors",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(n)}),s=await t.json();t.ok?(d("Vendor added successfully!"),setTimeout(()=>r("/vendors"),2e3)):l(s.message||"Failed to add vendor")}catch(t){l("Failed to add vendor")}finally{i(!1)}},children:[e.jsx(jt,{label:"firstName",name:"name",type:"name",value:n.firstName,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Name",name:"name",type:"name",value:n.lastName,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Email",name:"email",type:"email",value:n.email,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Password",name:"password",type:"password",value:n.password,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Phone",name:"phone",value:n.phone,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Address",name:"address",value:n.address,onChange:u,fullWidth:!0,required:!0,sx:{mb:2}}),e.jsxs(wt,{fullWidth:!0,sx:{mb:2},children:[e.jsx(Nt,{children:"Categories"}),e.jsxs(kt,{name:"categories",value:n.categories,onChange:u,multiple:!0,required:!0,children:[e.jsx(St,{value:"Office Supplies",children:"Office Supplies"}),e.jsx(St,{value:"Furniture",children:"Furniture"}),e.jsx(St,{value:"Electronics",children:"Electronics"}),e.jsx(St,{value:"Stationery",children:"Stationery"})]})]}),e.jsx(bt,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(Ps,{}),disabled:a,children:a?e.jsx(Ct,{size:24}):"Add Vendor"})]})})]})}const Nte=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,kte=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Ste=({rfq:t,onSubmitQuote:r,hasSubmittedQuote:s,user:a,getOfficerName:i,getCompanyName:o,formatDate:l,getStatusColor:d,getStatusIcon:m})=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(c,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t._id.slice(-8).toUpperCase()}),e.jsx("p",{className:"text-xs text-gray-500",children:t.itemName||"N/A"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d(t.status)}`,children:[m(t.status),e.jsx("span",{className:"ml-1 capitalize",children:t.status||"Unknown"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.quantity||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Quantity"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.deadline?l(t.deadline):"No deadline"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Deadline"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Company"}),e.jsx("span",{className:"text-xs font-medium truncate",children:o(t)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Officer"}),e.jsx("span",{className:"text-xs font-medium truncate",children:i(t)})]}),t.estimatedBudget&&e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Budget"}),e.jsxs("span",{className:"text-xs font-medium",children:["$",t.estimatedBudget.toLocaleString()]})]})]}),t.description&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("div",{className:"text-xs text-gray-700 line-clamp-2",children:t.description})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-50 rounded-full flex items-center justify-center",children:e.jsx(L,{size:12,className:"text-blue-600"})}),e.jsx("span",{className:"text-xs text-gray-500",children:"RFQ"})]}),e.jsx("div",{className:"flex gap-1",children:s(t)?e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-lg text-xs font-medium flex items-center gap-1",children:[e.jsx(n,{size:12}),"Submitted"]}):"open"===t.status?e.jsxs("button",{onClick:()=>r(t),className:"px-2 py-1 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(Z,{size:12}),"Quote"]}):e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-500 rounded-lg text-xs font-medium flex items-center gap-1",children:[e.jsx(u,{size:12}),"Closed"]})})]})]});function Cte(){const{user:t}=An();$r();const[r,a]=qr.useState([]),[i,d]=qr.useState([]),[m,h]=qr.useState(!0),[p,f]=qr.useState(null),[x,g]=qr.useState(!1),[b,v]=qr.useState(null),[j,w]=qr.useState(""),[N,k]=qr.useState(""),[S,C]=qr.useState(""),[A,E]=qr.useState(""),[_,P]=qr.useState("all"),[D,O]=qr.useState(!1),[L,M]=qr.useState(!1),[I,R]=qr.useState(""),[z,F]=qr.useState("success"),[B,q]=qr.useState("cards"),$="https://backend.nexusmwi.com",U=async()=>{try{h(!0);const e=localStorage.getItem("token"),r=await fetch(`${$}/api/rfqs`,{headers:{Authorization:`Bearer ${e}`}}),n=await r.json();if(r.ok){a(n.data);const e=n.data.filter(e=>e.vendors.some(e=>e.email===t?.email));d(e),f(null)}else f(n.message||"Failed to fetch RFQs")}catch(e){f("Failed to fetch RFQs. Please check your network connection.")}finally{h(!1)}};qr.useEffect(()=>{t?.email&&U()},[t]);const W=i.filter(e=>{const t=e.itemName?.toLowerCase().includes(A.toLowerCase())||!1,r="all"===_||e.status===_;return t&&r}),V=i?.length||0,H=i?.filter(e=>"open"===e.status)?.length||0;i?.filter(e=>"closed"===e.status);const K=i.reduce((e,t)=>e+(t.quoteCount??t.quotes?.length??0),0),Y=e=>{v(e),g(!0),f(""),R("")},X=()=>{g(!1),v(null),w(""),k(""),C(""),f(""),R("")},J=(e,t="success")=>{R(e),F(t),M(!0),setTimeout(()=>M(!1),5e3)},Q=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),ee=e=>{switch(e?.toLowerCase()){case"open":return"text-green-700 bg-green-50 border-green-200";case"closed":return"text-blue-700 bg-blue-50 border-blue-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},te=t=>{switch(t?.toLowerCase()){case"open":return e.jsx(n,{size:14});case"pending":return e.jsx(l,{size:14});case"closed":return e.jsx(u,{size:14});default:return e.jsx(T,{size:14})}},re=e=>e.quotes?.some(e=>e.vendorEmail===t?.email),ne=e=>e.procurementOfficer?.name?e.procurementOfficer.name:e.procurementOfficer?.email?e.procurementOfficer.email:"N/A",se=e=>e.company?.name||"N/A";return p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:p})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Nte,{isVisible:m,message:"Loading RFQs..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search RFQs...",value:A,onChange:e=>E(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("select",{value:_,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"pending",children:"Pending"})]}),e.jsxs("button",{onClick:()=>{U()},disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:m?"animate-spin":""}),"Refresh"]}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-2xl p-1",children:[e.jsx("button",{onClick:()=>q("cards"),className:"px-3 py-1 rounded-xl text-sm font-medium transition-colors "+("cards"===B?"bg-white text-gray-900 shadow-sm":"text-gray-600"),children:"Cards"}),e.jsx("button",{onClick:()=>q("table"),className:"px-3 py-1 rounded-xl text-sm font-medium transition-colors "+("table"===B?"bg-white text-gray-900 shadow-sm":"text-gray-600"),children:"Table"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(kte,{title:"Total RFQs",value:V,icon:c,color:"blue",subtitle:"Available to you"}),e.jsx(kte,{title:"Open RFQs",value:H,icon:n,color:"green",subtitle:"Ready for quotes"}),e.jsx(kte,{title:"Quotes Submitted",value:K,icon:y,color:"purple",subtitle:"Your responses"}),e.jsx(kte,{title:"Response Rate",value:Math.round(K/Math.max(V,1)*100),suffix:"%",icon:o,color:"amber",subtitle:"Quote submission"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(rt,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Request for Quotes"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[W.length," of ",V," RFQs"]})})]}),0===W.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(rt,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:A||"all"!==_?"No RFQs match your filters":"No RFQs available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:A||"all"!==_?"Try adjusting your search criteria or filters.":"There are currently no RFQs assigned to you. Check back later for new opportunities."})]}):"cards"===B?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:W.map(r=>e.jsx(Ste,{rfq:r,onSubmitQuote:Y,hasSubmittedQuote:re,user:t,getOfficerName:ne,getCompanyName:se,formatDate:Q,getStatusColor:ee,getStatusIcon:te},r._id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"RFQ ID"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Item"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Quantity"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Company"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Officer"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Deadline"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Status"}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:W.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-bold text-blue-600",children:t._id.slice(-8).toUpperCase()})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:t.itemName||"N/A"}),t.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-48",children:t.description})]}),e.jsx("td",{className:"py-3 px-4 font-semibold text-gray-900",children:t.quantity||"N/A"}),e.jsx("td",{className:"py-3 px-4 text-gray-700",children:se(t)}),e.jsx("td",{className:"py-3 px-4 text-gray-700",children:ne(t)}),e.jsx("td",{className:"py-3 px-4 text-gray-700",children:t.deadline?Q(t.deadline):"No deadline"}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${ee(t.status)}`,children:[te(t.status),e.jsx("span",{className:"ml-1 capitalize",children:t.status||"Unknown"})]})}),e.jsx("td",{className:"py-3 px-4 text-center",children:re(t)?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm font-medium",children:[e.jsx(n,{size:14,className:"mr-1"}),"Submitted"]}):"open"===t.status?e.jsxs("button",{onClick:()=>Y(t),className:"px-3 py-1 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium text-sm flex items-center gap-1 mx-auto",children:[e.jsx(Z,{size:14}),"Quote"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 bg-gray-100 text-gray-500 rounded-lg text-sm font-medium",children:[e.jsx(u,{size:14,className:"mr-1"}),"Closed"]})})]},t._id))})]})})]})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Z,{size:18,className:"text-blue-500"}),"Submit Quote"]}),e.jsx("button",{onClick:X,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-3",children:[I&&e.jsxs("div",{className:"px-3 py-2 rounded-xl text-sm flex items-center gap-2 "+("success"===z?"bg-green-50 text-green-800 border border-green-200":"bg-red-50 text-red-800 border border-red-200"),children:["success"===z?e.jsx(n,{size:16}):e.jsx(T,{size:16}),I]}),p&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-3 py-2 rounded-xl text-sm flex items-center gap-2",children:[e.jsx(T,{size:16}),p]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(ze,{size:16}),"RFQ Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Item:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b?.itemName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Quantity:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b?.quantity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Company:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:se(b)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Deadline:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:b?.deadline?Q(b.deadline):"No deadline"})]})]}),b?.description&&e.jsxs("div",{className:"mt-2",children:[e.jsx("span",{className:"text-gray-500 text-xs",children:"Description:"}),e.jsx("p",{className:"text-xs text-gray-900 mt-1",children:b.description})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Price *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:j,onChange:e=>w(e.target.value),placeholder:"Enter your price",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:D})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Delivery Time *"}),e.jsx("input",{type:"text",value:N,onChange:e=>k(e.target.value),placeholder:"e.g., 2 weeks, 10 business days",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",required:!0,disabled:D})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Additional Notes"}),e.jsx("textarea",{rows:3,value:S,onChange:e=>C(e.target.value),placeholder:"Include any additional information...",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 resize-none",disabled:D})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{onClick:X,disabled:D,className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(b&&j&&N){O(!0),f("");try{const e=localStorage.getItem("token"),n=await fetch(`${$}/api/rfqs/${b._id}/quote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price:Number.parseFloat(j),deliveryTime:N,notes:S})}),s=await n.json();if(n.ok){const e=i.map(e=>e._id===b._id?{...e,quotes:[...e.quotes||[],{vendorEmail:t?.email,price:Number.parseFloat(j),deliveryTime:N,notes:S,submittedAt:(new Date).toISOString()}]}:e);d(e);const n=r.map(e=>e._id===b._id?{...e,quotes:[...e.quotes||[],{vendorEmail:t?.email,price:Number.parseFloat(j),deliveryTime:N,notes:S,submittedAt:(new Date).toISOString()}]}:e);a(n),J("Quote submitted successfully!","success"),setTimeout(()=>{X()},1500)}else f(s.message||"Failed to submit quote.")}catch(e){f("Failed to submit quote. Please check your network connection.")}finally{O(!1)}}},disabled:!j||!N||D,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:D?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:14}),"Submit Quote"]})})]})]})})]})}),L&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===z?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===z?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:I}),e.jsx("button",{onClick:()=>M(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function Ate(){const{user:t}=An();$r();const[r,s]=qr.useState([]),[a,i]=qr.useState(!0),[p,f]=qr.useState(null),[x,b]=qr.useState(null),[v,w]=qr.useState(new Set),[N,k]=qr.useState(""),[S,C]=qr.useState("all"),A="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${A}/api/rfqs`,{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();t.ok?s(r):f(r.message||"Failed to fetch RFQs")}catch(e){f("Failed to fetch RFQs. Please check your network connection.")}finally{i(!1)}})()},[]);const E=r.filter(e=>{const t=e.itemName?.toLowerCase().includes(N.toLowerCase())||!1,r="all"===S||e.status===S;return t&&r}),_=r?.length||0,P=r?.filter(e=>"open"===e.status&&e.quotes?.length>0)?.length||0,D=r?.filter(e=>"closed"===e.status)?.length||0,O=r?.reduce((e,t)=>e+(t.quotes?.length||0),0)||0,M=_>0?(O/_).toFixed(1):0,I=e=>{switch(e?.toLowerCase()){case"open":return"text-green-700 bg-green-50 border-green-200";case"closed":return"text-blue-700 bg-blue-50 border-blue-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},R=t=>{switch(t?.toLowerCase()){case"open":return e.jsx(n,{size:14});case"pending":return e.jsx(l,{size:14});case"closed":return e.jsx(u,{size:14});default:return e.jsx(T,{size:14})}},z=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return a?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:e.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-white border-t-transparent rounded-full"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading RFQs"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch vendor quotes..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl text-white",children:e.jsx(g,{size:32})}),"Vendor Selection"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:"Review quotes and select the best vendors for your RFQs"})]})}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("button",{className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md",children:e.jsx(we,{size:20})})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:e.jsx(c,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:_})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Total RFQs"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:_})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(d,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:P})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Ready to Select"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:P})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:e.jsx(y,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:D})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Completed"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:D})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg",children:e.jsx(rt,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:O})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Total Quotes"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:O})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-blue-600 rounded-lg",children:e.jsx(o,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium",children:M})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Avg Quotes/RFQ"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:M})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs(Bl,{children:[x&&e.jsxs(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-xl flex items-center gap-3",children:[e.jsx(n,{size:20}),e.jsx("span",{children:x})]}),p&&e.jsxs(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-xl flex items-center gap-3",children:[e.jsx(T,{size:20}),e.jsx("span",{children:p})]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 shadow-xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Re,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search RFQs by item name...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 backdrop-blur-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:S,onChange:e=>C(e.target.value),className:"px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 backdrop-blur-sm font-medium",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"closed",children:"Closed"})]}),e.jsxs("button",{className:"px-4 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(at,{size:18}),"More Filters"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-white/80 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{size:16}),"Export"]}),e.jsx("button",{className:"p-2 bg-white/80 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:e.jsx(G,{size:18})})]})]})}),0===E.length?e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-12 shadow-xl text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center",children:e.jsx(g,{size:40,className:"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:N||"all"!==S?"No RFQs match your filters":"No RFQs found"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:N||"all"!==S?"Try adjusting your search criteria or filters to find what you're looking for.":"There are currently no RFQs available for vendor selection."})]})]})}):e.jsx("div",{className:"space-y-6",children:E.map((t,n)=>{const a=v.has(t._id),i=(o=t.quotes)&&0!==o.length?o.reduce((e,t)=>t.price<e.price?t:e):null;var o;const l={};return t.vendors?.forEach(e=>{l[e._id]=e}),e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*n},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"p-6 cursor-pointer hover:bg-gray-50/50 transition-all duration-200",onClick:()=>(e=>{const t=new Set(v);t.has(e)?t.delete(e):t.add(e),w(t)})(t._id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(ze,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:t.itemName}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{size:14}),"RFQ ID: ",t._id.slice(-8).toUpperCase()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(rt,{size:14}),t.quotes?.length||0," Quotes"]}),i&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14}),"Best: ",z(i.price)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${I(t.status)}`,children:[R(t.status),e.jsx("span",{className:"ml-2 capitalize",children:t.status})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[t.quotes?.length>0&&"open"===t.status&&e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:"Ready to Select"}),e.jsx(Rm.div,{animate:{rotate:a?180:0},transition:{duration:.2},children:e.jsx(je,{size:20,className:"text-gray-400"})})]})]})]})}),e.jsx(Bl,{children:a&&e.jsx(Rm.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"border-t border-gray-100",children:e.jsx("div",{className:"p-6",children:0===t.quotes?.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(rt,{size:24,className:"text-gray-400"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No quotes submitted yet"}),e.jsx("p",{className:"text-gray-600",children:"Waiting for vendors to submit their quotes for this RFQ."})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(j,{size:20}),"Vendor Quotes (",t.quotes.length,")"]}),i&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-700 bg-green-50 px-3 py-1 rounded-lg",children:[e.jsx(Te,{size:16}),"Best Price: ",z(i.price)]})]}),e.jsx("div",{className:"grid gap-4",children:t.quotes.map(n=>{const a=l[n.vendor],o=((e,t)=>e&&0!==e.length?[...e].sort((e,t)=>e.price-t.price).findIndex(e=>e._id===t._id)+1:0)(t.quotes,n),c=i&&n._id===i._id;return e.jsx(Rm.div,{whileHover:{scale:1.01},className:"bg-white rounded-xl border p-6 transition-all duration-200 "+(c?"border-green-300 bg-green-50/30":"border-gray-200"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center "+(c?"bg-green-500":"bg-gray-500"),children:c?e.jsx(Te,{size:20,className:"text-white"}):e.jsx(L,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-1",children:a?a.name:"Unknown Vendor"}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(m,{size:14}),z(n.price)]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{size:14}),n.deliveryTime]}),e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(1===o?"bg-green-100 text-green-800":2===o?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:["Rank #",o]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n.notes&&e.jsx("div",{className:"max-w-xs",children:e.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',n.notes,'"']})}),e.jsx("button",{onClick:()=>(async(e,t)=>{f(null),b(null);try{const n=localStorage.getItem("token"),a=await fetch(`${A}/api/rfqs/${e}/select`,{method:"PUT",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({vendorId:t})}),i=await a.json();if(a.ok){b("Vendor selected successfully! Purchase order will be generated.");const t=r.map(t=>t._id===e?{...t,status:"closed",selectedVendor:i.bestQuote?.vendor}:t);s(t)}else f(i.message||"Failed to select vendor")}catch(n){f("Failed to select vendor. Please check your network connection.")}})(t._id,n.vendor),disabled:"closed"===t.status,className:"px-6 py-3 rounded-xl font-medium transition-all duration-200 flex items-center gap-2 "+("closed"===t.status?"bg-gray-100 text-gray-500 cursor-not-allowed":c?"bg-gradient-to-r from-green-500 to-green-600 text-white hover:from-green-600 hover:to-green-700 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 shadow-md hover:shadow-lg transform hover:scale-105"),children:"closed"===t.status?e.jsxs(e.Fragment,{children:[e.jsx(u,{size:16}),"Selected"]}):c?e.jsxs(e.Fragment,{children:[e.jsx(Te,{size:16}),"Select Best Quote"]}):e.jsxs(e.Fragment,{children:[e.jsx(J,{size:16}),"Select Vendor"]})})]})]})},n._id)})}),"open"===t.status&&t.quotes.length>1&&e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(h,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-1",children:"Selection Tip"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Consider not just the price, but also delivery time, vendor reputation, and any additional notes when making your selection. The highlighted quote shows the lowest price, but other factors may be important for your decision."})]})]})})]})})})})]},t._id)})})]})})]})}const Tte=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l=""})=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full "+(a>0?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[a>0?"+":"",a,"%"]})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:i})]}),Ete=({po:t,onConfirm:r,onUpdateDelivery:s,isLoading:a})=>{const i=e=>{switch(e?.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-amber-100 text-amber-800";case"shipped":return"bg-blue-100 text-blue-800";case"delivered":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},o=t=>{switch(t?.toLowerCase()){case"confirmed":return e.jsx(n,{size:14});case"pending":return e.jsx(l,{size:14});case"shipped":return e.jsx(Ze,{size:14});case"delivered":return e.jsx(At,{size:14});default:return e.jsx(T,{size:14})}};return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-xl",children:e.jsx(ze,{className:"w-4 h-4 text-orange-600"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-semibold text-sm text-gray-900",children:["PO #",t._id.slice(-8).toUpperCase()]}),e.jsx("p",{className:"text-xs text-gray-500",children:t.createdAt?new Date(t.createdAt).toLocaleDateString():"N/A"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-lg font-bold text-gray-900",children:(c=t.totalAmount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(c))})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(t.vendorConfirmation?.confirmed?"confirmed":"pending")}`,children:[o(t.vendorConfirmation?.confirmed?"confirmed":"pending"),e.jsx("span",{className:"ml-1",children:t.vendorConfirmation?.confirmed?"Confirmed":"Pending"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Confirmation"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(t.deliveryStatus||"pending")}`,children:[o(t.deliveryStatus||"pending"),e.jsx("span",{className:"ml-1 capitalize",children:t.deliveryStatus||"Pending"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Delivery"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{className:"p-2 text-gray-400 hover:text-blue-600 rounded-xl transition-colors",children:e.jsx(_,{size:14})})}),e.jsx("div",{className:"flex gap-2",children:t.vendorConfirmation?.confirmed?"delivered"!==t.deliveryStatus?e.jsxs("button",{onClick:()=>s(t),className:"px-3 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium text-xs flex items-center gap-1",children:[e.jsx(Ze,{size:14}),"shipped"===t.deliveryStatus?"Deliver":"Ship"]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-2 bg-green-100 text-green-800 rounded-xl text-xs font-medium",children:[e.jsx(At,{size:14,className:"mr-1"}),"Complete"]}):e.jsxs("button",{onClick:()=>r(t._id),disabled:a===t._id,className:"px-3 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors font-medium text-xs flex items-center gap-1 disabled:opacity-50",children:[a===t._id?e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(n,{size:14}),"Confirm"]})})]})]});var c};function _te(){$r();const[t,r]=qr.useState(null),[a,i]=qr.useState([]),[o,d]=qr.useState(!0),[u,p]=qr.useState(""),[f,x]=qr.useState(!1),[g,b]=qr.useState(null),[y,v]=qr.useState(""),[j,w]=qr.useState(""),[N,k]=qr.useState(""),[S,C]=qr.useState("all"),[A,E]=qr.useState(null),_="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/vendors/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch vendor details");const n=await t.json();r(n._id)}catch(e){p("Could not fetch vendor details.")}})()},[_]),qr.useEffect(()=>{t&&(async()=>{if(t)try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/purchase-orders/vendor`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch purchase orders");const r=await t.json();if(!r.success)throw new Error(r.message||"Failed to fetch purchase orders");i(r.data)}catch(e){p("Could not fetch purchase orders.")}finally{d(!1)}})()},[t,_]);const P=a.filter(e=>{const t=e._id.toLowerCase().includes(N.toLowerCase());let r=!0;return"confirmed"===S?r=e.vendorConfirmation?.confirmed:"pending"===S?r=!e.vendorConfirmation?.confirmed:"shipped"===S?r="shipped"===e.deliveryStatus:"delivered"===S&&(r="delivered"===e.deliveryStatus),t&&r}),D=a?.length||0,O=a?.filter(e=>e.vendorConfirmation?.confirmed)?.length||0,M=a?.filter(e=>!e.vendorConfirmation?.confirmed)?.length||0,I=a?.filter(e=>"shipped"===e.deliveryStatus)?.length||0,R=a?.filter(e=>"delivered"===e.deliveryStatus)?.length||0,z=a?.reduce((e,t)=>e+(t.totalAmount||0),0)||0,F=async e=>{E(e);try{const r=localStorage.getItem("token"),n=await fetch(`${_}/api/purchase-orders/${e}/vendor/confirm`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({vendorId:t})});if(!n.ok)throw new Error(`Failed to confirm purchase order. Status: ${n.status}`);i(t=>t.map(t=>t._id===e?{...t,vendorConfirmation:{confirmed:!0}}:t)),p("")}catch(r){p("Could not confirm purchase order.")}finally{E(null)}},B=e=>{b(e),e.trackingNumber?v(e.trackingNumber):v((()=>{const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="0123456789";let r="";for(let n=0;n<2;n++)r+=e[Math.floor(26*Math.random())];for(let n=0;n<4;n++)r+=t[Math.floor(10*Math.random())];return r})()),w(e.carrier||""),x(!0)},q=()=>{x(!1),v(""),w(""),b(null)},$=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),U=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null;return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(U,{isVisible:o,message:"Loading Purchase Orders..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:"Purchase Orders"}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage your assigned purchase orders and delivery tracking"})]})}),u&&e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-2xl flex items-center gap-2",children:[e.jsx(T,{size:18}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:[e.jsx(Tte,{title:"Total POs",value:D,icon:c,color:"blue",subtitle:"All orders"}),e.jsx(Tte,{title:"Confirmed",value:O,icon:n,color:"green",trend:5,subtitle:"Ready to ship"}),e.jsx(Tte,{title:"Pending",value:M,icon:l,color:"orange",subtitle:"Awaiting action"}),e.jsx(Tte,{title:"Shipped",value:I,icon:Ze,color:"blue",subtitle:"In transit"}),e.jsx(Tte,{title:"Delivered",value:R,icon:At,color:"purple",subtitle:"Completed"}),e.jsx(Tte,{title:"Total Value",value:$(z),icon:m,color:"green",trend:8,subtitle:"Order value"})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-sm",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by PO number...",value:N,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm"})]}),e.jsxs("select",{value:S,onChange:e=>C(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm font-medium",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"shipped",children:"Shipped"}),e.jsx("option",{value:"delivered",children:"Delivered"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>{d(!0);(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/purchase-orders/vendor`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch purchase orders");const r=await t.json();if(!r.success)throw new Error(r.message||"Failed to fetch purchase orders");i(r.data)}catch(e){p("Could not refresh purchase orders.")}finally{d(!1)}})()},disabled:o,className:"p-2 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:e.jsx(G,{size:16,className:o?"animate-spin":""})}),e.jsxs("button",{className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors text-sm font-medium flex items-center gap-1",children:[e.jsx(Ie,{size:14}),"Export"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Purchase Orders"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[P.length," of ",D," orders"]})})]}),0===P.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(ze,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:N||"all"!==S?"No orders match your filters":"No purchase orders available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:N||"all"!==S?"Try adjusting your search criteria or filters.":"There are currently no purchase orders assigned to you."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(t=>e.jsx(Ete,{po:t,onConfirm:F,onUpdateDelivery:B,isLoading:A},t._id))})]})]}),f&&g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ze,{size:20,className:"text-blue-500"}),"Update Delivery"]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["PO: ",e.jsx("span",{className:"font-semibold",children:g._id.slice(-8).toUpperCase()})]})]}),e.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:20})})]})}),e.jsx("div",{className:"p-5 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(ze,{size:16}),"Order Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Amount:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:$(g.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:g.deliveryStatus||"Pending"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(Tt,{size:14}),"Tracking Number"]}),e.jsx("input",{type:"text",value:y,readOnly:!!g.trackingNumber,className:"w-full px-3 py-2 border border-gray-300 rounded-2xl bg-gray-50 text-gray-700 font-mono text-sm"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated tracking number"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[e.jsx(L,{size:14}),"Carrier *"]}),e.jsx("input",{type:"text",value:j,onChange:e=>w(e.target.value),placeholder:"e.g., FedEx, UPS, DHL",readOnly:!!g.carrier,className:"w-full px-3 py-2 border border-gray-300 rounded-2xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",required:!0})]}),e.jsx("div",{className:"bg-blue-50 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"p-1 bg-blue-500 rounded-lg",children:e.jsx(h,{size:12,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 text-sm",children:"Next Action"}),e.jsx("p",{className:"text-blue-800 text-xs",children:"shipped"===g.deliveryStatus?"Mark as delivered once it reaches the customer.":"Mark as shipped once dispatched from your facility."})]})]})})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>(async e=>{try{if(!g)throw new Error("Missing PO");const r=localStorage.getItem("token"),n="shipped"===e?{deliveryStatus:e,trackingNumber:y,carrier:j,vendorId:t}:{deliveryStatus:e,vendorId:t},s=await fetch(`${_}/api/purchase-orders/${g._id}/delivery-status`,{method:"PUT",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to update delivery status")}i(t=>t.map(t=>t._id===g._id?{...t,deliveryStatus:e,trackingNumber:"shipped"===e?y:t.trackingNumber,carrier:"shipped"===e?j:t.carrier}:t)),q(),p("")}catch(r){p(r.message)}})("shipped"===g.deliveryStatus?"delivered":"shipped"),disabled:!j,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:"shipped"===g.deliveryStatus?e.jsxs(e.Fragment,{children:[e.jsx(At,{size:16}),"Mark Delivered"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ze,{size:16}),"Mark Shipped"]})}),e.jsxs("button",{onClick:q,className:"px-4 py-3 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors font-semibold flex items-center justify-center gap-2 text-sm",children:[e.jsx(s,{size:16}),"Cancel"]})]})]})})]})})]})}function Pte(){const{token:t,user:r}=An(),[n,s]=qr.useState([]),[a,i]=qr.useState(!0),[o,l]=qr.useState(""),[c,d]=qr.useState("all"),[u,m]=qr.useState("all"),[h,p]=qr.useState(!1),[f,x]=qr.useState(null),[g,b]=qr.useState(""),[y,v]=qr.useState(r?r.name:""),j="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${j}/api/purchase-orders`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch purchase orders");const r=await t.json();s(r)}catch(ide){}finally{i(!1)}})()},[t]);const w=()=>{p(!1),b(""),v(r?r.name:"")},N=n.filter(e=>"all"===c||e.status===c).filter(e=>"all"===u||e.deliveryStatus===u).filter(e=>e._id?.toLowerCase().includes(o.toLowerCase())||e.vendor?.name?.toLowerCase().includes(o.toLowerCase()));return a?e.jsx(ae,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",children:e.jsx(Ct,{})}):e.jsxs(ae,{sx:{p:3},children:[e.jsx(oe,{variant:"h4",sx:{mb:3},children:"Purchase Orders"}),e.jsx(Et,{component:vt,children:e.jsxs(_t,{children:[e.jsx(Pt,{children:e.jsxs(Dt,{children:[e.jsx(Ot,{children:"PO Number"}),e.jsx(Ot,{children:"Vendor"}),e.jsx(Ot,{children:"Date"}),e.jsx(Ot,{children:"Amount"}),e.jsx(Ot,{children:"Status"}),e.jsx(Ot,{children:"Delivery Status"}),e.jsx(Ot,{children:"Actions"})]})}),e.jsx(Lt,{children:N.map(t=>e.jsxs(Dt,{children:[e.jsx(Ot,{children:t._id}),e.jsx(Ot,{children:t.vendor?.name}),e.jsx(Ot,{children:new Date(t.createdAt).toLocaleDateString()}),e.jsxs(Ot,{children:["$",t.totalAmount]}),e.jsx(Ot,{children:t.status}),e.jsx(Ot,{children:t.deliveryStatus}),e.jsx(Ot,{children:"confirmed"===t.deliveryStatus?e.jsx(bt,{variant:"contained",disabled:!0,children:"Confirmed"}):"delivered"===t.deliveryStatus?e.jsx(bt,{variant:"contained",onClick:()=>{return e=t._id,x(e),v(r?r.name:""),void p(!0);var e},children:"Confirm Receipt"}):e.jsx(bt,{variant:"contained",disabled:!0,children:"Not Ready"})})]},t._id))})]})}),e.jsxs(Mt,{open:h,onClose:w,children:[e.jsx(It,{children:"Confirm Receipt of Delivery"}),e.jsxs(Rt,{children:[e.jsx(jt,{fullWidth:!0,margin:"normal",label:"Proof of Delivery",value:g,onChange:e=>b(e.target.value)}),e.jsx(jt,{fullWidth:!0,margin:"normal",label:"Received By",value:y,onChange:e=>v(e.target.value)})]}),e.jsxs(zt,{children:[e.jsx(bt,{onClick:w,children:"Cancel"}),e.jsx(bt,{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${j}/api/purchase-orders/${f}/delivery-confirmed`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({proofOfDelivery:g,receivedBy:y})}),r=await t.text();try{const e=JSON.parse(r);if(!t.ok)throw new Error(e.message||"Failed to confirm receipt");alert("Delivery confirmed successfully!"),s(e=>e.map(e=>e._id===f?{...e,deliveryStatus:"confirmed"}:e)),w()}catch(ide){throw new Error("Failed to parse response as JSON: "+r)}}catch(ide){alert(ide.message)}},variant:"contained",color:"primary",children:"Confirm Receipt"})]})]})]})}const Dte=({isVisible:t,message:r="Loading Invoices..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,Ote=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-2xl":"text-lg";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:14,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[a>0?e.jsx(d,{size:10,className:"text-emerald-500"}):e.jsx(We,{size:10,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-0.5`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-0.5",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Lte=({invoice:t,onMenuClick:r,showMenuId:n,onAction:a})=>{const i=e=>{switch(e?.toLowerCase()){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"paid":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},o=t=>{switch(t?.toLowerCase()){case"approved":return e.jsx($e,{size:14});case"pending":return e.jsx(l,{size:14});case"rejected":return e.jsx(s,{size:14});case"paid":return e.jsx(N,{size:14});default:return e.jsx(c,{size:14})}},d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),u=`${t.vendor?.firstName||""} ${t.vendor?.lastName||""}`.trim()||"N/A",h=t.invoiceNumber||"N/A";return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(c,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:h}),e.jsx("p",{className:"text-sm text-gray-500",children:u})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${i(t.status)}`,children:[o(t.status),t.status]}),e.jsx("button",{"data-invoice-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(m,{className:"w-4 h-4 text-green-500"}),t.amountDue?.toFixed(0)||0]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Amount Due (USD)"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(ze,{className:"w-4 h-4 text-blue-500"}),t.po?.poNumber||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"PO Number"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Created"}),e.jsx("span",{className:"text-xs font-medium",children:d(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Vendor Email"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.vendor?.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Due Date"}),e.jsx("span",{className:"text-xs font-medium",children:t.dueDate?d(t.dueDate):"N/A"})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Payment Status"}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 w-fit ${i(t.status)}`,children:[o(t.status),t.status||"Unknown"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("span",{className:"text-xs text-gray-500",children:(p=t.amountDue,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(p||0))})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(_,{size:14})}),"pending"===t.status&&e.jsx("button",{onClick:()=>a(t,"approve"),className:"p-1 text-gray-400 hover:text-green-600",children:e.jsx($e,{size:14})}),"approved"===t.status&&e.jsx("button",{onClick:()=>a(t,"pay"),className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(N,{size:14})})]})]})]});var p};function Mte(){const{token:t,user:r,logout:n}=An(),[a,i]=qr.useState([]),[o,d]=qr.useState(!0),[u,h]=qr.useState(""),[p,f]=qr.useState(""),[x,g]=qr.useState("all"),[b,y]=qr.useState(null),[v,j]=qr.useState(!1),[w,k]=qr.useState(""),[S,C]=qr.useState(!1),[A,E]=qr.useState(!1),[P,D]=qr.useState(""),[O,L]=qr.useState("success"),[M,I]=qr.useState(null),[R,z]=qr.useState({top:0,right:0,bottom:"auto"}),F=qr.useRef(null),B=$r(),q="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${q}/api/invoices`,{method:"GET",headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch invoices");const r=await t.json();i(r)}catch(e){h("Failed to fetch invoices. Please try again later.")}finally{d(!1)}})()},[t,q]),qr.useEffect(()=>{const e=e=>{M&&!e.target.closest(`[data-invoice-id="${M}"]`)&&I(null)};if(M)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[M]);const $=a.filter(e=>{const t=e.invoiceNumber?.toLowerCase().includes(p.toLowerCase())||e.vendor?.name?.toLowerCase().includes(p.toLowerCase())||e.po?.poNumber?.toLowerCase().includes(p.toLowerCase())||!1,r="all"===x||e.status===x;return t&&r}),U=a?.length||0,W=a?.filter(e=>"pending"===e.status)?.length||0,V=a?.filter(e=>"approved"===e.status)?.length||0,H=a?.filter(e=>"paid"===e.status)?.length||0,K=a?.reduce((e,t)=>e+(t.amountDue||0),0)||0,Y=(e,t)=>{y(e),k(t),j(!0),I(null)},J=()=>{j(!1),y(null),k("")},Q=(e,t="success")=>{D(e),L(t),E(!0),setTimeout(()=>E(!1),5e3)},ee=()=>{d(!0),setTimeout(()=>d(!1),1e3),window.location.reload()};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(T,{size:32,className:"text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Error Loading Invoices"}),e.jsx("p",{className:"text-gray-600 mb-6",children:u}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("input",{ref:F,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");let a=0;for(const t of n){const e={invoiceNumber:t["Invoice Number"]||"",vendorId:t["Vendor ID"]||"",poId:t["PO ID"]||"",amountDue:Number(t["Amount Due"])||0,dueDate:t["Due Date"]?new Date(t["Due Date"]):new Date,status:t.Status||"pending",notes:t.Notes||"",paymentMethod:t["Payment Method"]||"bank_transfer",items:t.Items?JSON.parse(t.Items):[],taxAmount:Number(t["Tax Amount"])||0,shippingAmount:Number(t["Shipping Amount"])||0,discountAmount:Number(t["Discount Amount"])||0,totalAmount:Number(t["Total Amount"])||0};(await fetch(`${q}/api/invoices`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&a++}Q(`Successfully imported ${a} invoices!`,"success"),ee()}catch(r){Q("Excel import failed!","error")}}}),e.jsx(Dte,{isVisible:o,message:"Loading invoices..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search invoices...",value:p,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm bg-white"})]}),e.jsxs("select",{value:x,onChange:e=>g(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"paid",children:"Paid"})]}),e.jsxs("button",{onClick:ee,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(Ote,{title:"Total Invoices",value:U,icon:c,color:"blue",subtitle:"All invoices"}),e.jsx(Ote,{title:"Pending",value:W,icon:l,color:"amber",subtitle:"Awaiting review"}),e.jsx(Ote,{title:"Approved",value:V,icon:$e,color:"green",trend:12,subtitle:"Ready to pay"}),e.jsx(Ote,{title:"Paid",value:H,icon:N,color:"blue",trend:8,subtitle:"Completed"}),e.jsx(Ote,{title:"Total Amount",value:K.toFixed(0),prefix:"$",icon:m,color:"purple",trend:15,subtitle:"Outstanding value"})]}),e.jsxs("div",{id:"invoices-section",className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Invoices"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:()=>{const e=document.getElementById("invoices-section")?.innerHTML;if(!e)return void Q("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Invoices Report</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .print-header { display: flex; justify-content: space-between; margin-bottom: 20px; }\n            .print-date { text-align: right; color: #666; }\n            .metrics-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 15px; margin-bottom: 20px; }\n            .metric-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; background: #f9f9f9; }\n            .metric-value { font-size: 20px; font-weight: bold; color: #333; }\n            .metric-label { font-size: 12px; color: #666; text-transform: uppercase; }\n            .invoice-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }\n            .invoice-card { border: 1px solid #ddd; padding: 15px; border-radius: 8px; margin-bottom: 15px; break-inside: avoid; }\n            .invoice-header { display: flex; justify-content: space-between; margin-bottom: 10px; }\n            .invoice-number { font-weight: bold; font-size: 16px; }\n            .invoice-status { padding: 2px 8px; border-radius: 12px; font-size: 12px; }\n            .status-pending { background-color: #fef3c7; color: #92400e; }\n            .status-approved { background-color: #d1fae5; color: #065f46; }\n            .status-paid { background-color: #dbeafe; color: #1e40af; }\n            .status-rejected { background-color: #fee2e2; color: #991b1b; }\n            .invoice-details { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }\n            .invoice-amount { font-size: 18px; font-weight: bold; color: #059669; }\n            .print-footer { margin-top: 30px; text-align: center; font-size: 12px; color: #666; }\n            @media print {\n              .invoice-grid { \n                grid-template-columns: repeat(2, 1fr) !important;\n                gap: 10px !important;\n              }\n              .invoice-card {\n                page-break-inside: avoid;\n                break-inside: avoid;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <h1>Invoices Report</h1>\n          <div class="print-header">\n            <div>Generated by Procurement System</div>\n            <div class="print-date">${(new Date).toLocaleDateString()}</div>\n          </div>\n          <div class="metrics-grid">\n            <div class="metric-card">\n              <div class="metric-value">${U}</div>\n              <div class="metric-label">Total Invoices</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${W}</div>\n              <div class="metric-label">Pending</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${V}</div>\n              <div class="metric-label">Approved</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">${H}</div>\n              <div class="metric-label">Paid</div>\n            </div>\n            <div class="metric-card">\n              <div class="metric-value">$${K.toFixed(0)}</div>\n              <div class="metric-label">Total Amount</div>\n            </div>\n          </div>\n          <div class="invoice-grid">\n            ${$.map(e=>{const t=`${e.vendor?.firstName||""} ${e.vendor?.lastName||""}`.trim()||"N/A",r=`status-${e.status?.toLowerCase()||"pending"}`;return`\n                <div class="invoice-card">\n                  <div class="invoice-header">\n                    <div class="invoice-number">${e.invoiceNumber||"N/A"}</div>\n                    <span class="invoice-status ${r}">${e.status||"Pending"}</span>\n                  </div>\n                  <div class="vendor-name">${t}</div>\n                  <div class="invoice-details">\n                    <div>Amount Due:</div>\n                    <div class="invoice-amount">$${e.amountDue?.toFixed(0)||0}</div>\n                    <div>PO Number:</div>\n                    <div>${e.po?.poNumber||"N/A"}</div>\n                    <div>Created:</div>\n                    <div>${e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A"}</div>\n                    <div>Due Date:</div>\n                    <div>${e.dueDate?new Date(e.dueDate).toLocaleDateString():"N/A"}</div>\n                  </div>\n                </div>\n              `}).join("")}\n          </div>\n          <div class="print-footer">\n            <p>Confidential - For internal use only</p>\n            <p>Page 1 of 1</p>\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{onClick:()=>F.current.click(),className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{onClick:()=>{if(!a||0===a.length)return void Q("No invoices to export","error");const e=a.map(e=>({"Invoice Number":e.invoiceNumber||"N/A","Vendor Name":`${e.vendor?.firstName||""} ${e.vendor?.lastName||""}`.trim()||"N/A","Vendor Email":e.vendor?.email||"N/A","Amount Due":e.amountDue||0,Status:e.status||"N/A","PO Number":e.po?.poNumber||"N/A","Created Date":e.createdAt?new Date(e.createdAt).toLocaleDateString():"N/A","Due Date":e.dueDate?new Date(e.dueDate).toLocaleDateString():"N/A","Payment Method":e.paymentMethod||"N/A",Notes:e.notes||"",Currency:"USD","Items Count":e.items?.length||0,"Tax Amount":e.taxAmount||0,"Shipping Amount":e.shippingAmount||0,"Discount Amount":e.discountAmount||0,"Total Amount":e.totalAmount||0})),t=j3.json_to_sheet(e),r=j3.book_new();j3.book_append_sheet(r,t,"Invoices"),c3(r,"invoices.xlsx"),Q("Export successful!","success")},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[$.length," of ",U," invoices"]})})]})]}),0===$.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||"all"!==x?"No invoices match your filters":"No Invoices Found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:p||"all"!==x?"Try adjusting your search criteria or filters.":"Invoices will appear here when vendors submit them for processing."}),e.jsxs("button",{onClick:ee,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(G,{size:16}),"Refresh"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:$.map(t=>e.jsx(Lte,{invoice:t,onMenuClick:I,showMenuId:M,onAction:Y},t._id))})]})]}),e.jsx(Bl,{children:M&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>I(null)}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-lg shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-invoice-id="${M}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-invoice-id="${M}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(_,{size:16,className:"text-gray-500"}),"View Details"]}),(()=>{const t=a.find(e=>e._id===M);return t?e.jsxs(e.Fragment,{children:["pending"===t.status&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>Y(t,"approve"),className:"w-full flex items-center gap-3 px-4 py-2 text-green-600 hover:bg-green-50 text-left text-sm",children:[e.jsx($e,{size:16}),"Approve"]}),e.jsxs("button",{onClick:()=>Y(t,"reject"),className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 text-left text-sm",children:[e.jsx(s,{size:16}),"Reject"]})]}),"approved"===t.status&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>(e=>{B("/invoices/pay",{state:{invoice:e}}),I(null)})(t),className:"w-full flex items-center gap-3 px-4 py-2 text-blue-600 hover:bg-blue-50 text-left text-sm",children:[e.jsx(N,{size:16}),"Pay Invoice"]}),e.jsxs("button",{onClick:()=>Y(t,"mark-as-paid"),className:"w-full flex items-center gap-3 px-4 py-2 text-purple-600 hover:bg-purple-50 text-left text-sm",children:[e.jsx($e,{size:16}),"Mark as Paid"]})]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Ie,{size:16,className:"text-gray-500"}),"Download PDF"]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Edit Invoice"]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Z,{size:16,className:"text-gray-500"}),"Send Reminder"]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(X,{size:16,className:"text-gray-500"}),"Copy Details"]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(Ke,{size:16,className:"text-gray-500"}),"View History"]}),e.jsxs("button",{onClick:()=>I(null),className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm",children:[e.jsx(rt,{size:16,className:"text-gray-500"}),"Message Vendor"]})]}):null})()]})})]})}),e.jsx(Bl,{children:v&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs(Rm.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{duration:.3},className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:["approve"===w&&e.jsx($e,{size:24,className:"text-green-500"}),"reject"===w&&e.jsx(s,{size:24,className:"text-red-500"}),"mark-as-paid"===w&&e.jsx(N,{size:24,className:"text-blue-500"}),"Confirm ",w.replace("-"," ")]}),e.jsx("button",{onClick:J,className:"p-3 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(s,{size:24})})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("p",{className:"text-gray-700 mb-6 text-lg",children:["Are you sure you want to ",w.replace("-"," ")," invoice"," ",e.jsx("span",{className:"font-semibold text-gray-900",children:b?.invoiceNumber||"N/A"}),"?"]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{onClick:J,className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{if(b&&t){C(!0);try{let e,r="POST";switch(w){case"approve":e=`${q}/api/invoices/${b._id}/approve`;break;case"reject":e=`${q}/api/invoices/${b._id}/reject`;break;case"mark-as-paid":e=`${q}/api/invoices/${b._id}/pay`;break;default:throw new Error("Invalid action type")}const s=await fetch(e,{method:r,headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}}),a=await s.json();if(!s.ok){if("Invalid or expired token"===a.message)return Q("Your session has expired. Please log in again.","error"),void n();throw new Error(a.message||"Failed to perform action")}i(e=>e.map(e=>e._id===b._id?a.invoice:e)),Q(`Invoice ${w.replace("-"," ")} successfully!`,"success"),J()}catch(e){Q(e.message,"error")}finally{C(!1)}}else Q("Invalid request. Please try again.","error")},disabled:S,className:"px-6 py-3 rounded-xl transition-colors font-medium flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed "+("approve"===w?"bg-green-500 hover:bg-green-600 text-white":"reject"===w?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Processing..."]}):e.jsxs(e.Fragment,{children:["approve"===w&&e.jsx($e,{size:20}),"reject"===w&&e.jsx(s,{size:20}),"mark-as-paid"===w&&e.jsx(N,{size:20}),"Confirm"]})})]})]})]})})}),e.jsx(Bl,{children:A&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===O?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===O?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:P}),e.jsx("button",{onClick:()=>E(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})})]})}function Ite({invoiceData:r,onBack:a,onPaymentSuccess:i=null,authContext:o=null}){const l=Wr(),c=$r(),d=r||l.state?.paymentData,m=d?.isBulkPayment||!1,p=m?d?.invoices:[d?.invoice],f=p?.[0],x=d?.paymentMethod,[g,b]=qr.useState({cardNumber:"",expiryDate:"",cvv:"",cardHolder:""}),[y,j]=qr.useState(!1),[w,k]=qr.useState(""),[S,C]=qr.useState(""),[A,E]=qr.useState(!1),[_,P]=qr.useState(""),[D,L]=qr.useState(""),M=localStorage.getItem("token"),I=p?.reduce((e,t)=>e+(t?.amountDue||0),0)||0,R=()=>{a?a():c("/dashboard?section=invoice-payment")},z=e=>{const{name:t,value:r}=e.target;let n=r;switch(t){case"cardNumber":n=(e=>{const t=e.replace(/\s/g,""),r=(e=>{const t=e.replace(/\s/g,"");return/^4/.test(t)?"visa":/^5[1-5]/.test(t)?"mastercard":/^3[47]/.test(t)?"amex":/^6011/.test(t)?"discover":""})(t);P(r);let n=t;return n="amex"===r?t.replace(/(.{4})(.{6})(.{5})/g,"$1 $2 $3"):t.replace(/(.{4})/g,"$1 ").trim(),n.slice(0,"amex"===r?17:19)})(r);break;case"expiryDate":n=(e=>{const t=e.replace(/\D/g,"");return t.length>=2?`${t.slice(0,2)}/${t.slice(2,4)}`:t})(r);break;case"cvv":n=r.replace(/\D/g,"").slice(0,"amex"===_?4:3);break;case"cardHolder":n=r.toUpperCase()}b(e=>({...e,[t]:n}))},B=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0),q=g.cardNumber.length>=15&&5===g.expiryDate.length&&g.cvv.length>=3&&g.cardHolder.length>=2;return d&&p&&0!==p.length?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("button",{onClick:R,className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md",children:e.jsx(F,{size:20})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl text-white",children:e.jsx(N,{size:32})}),"Secure Payment"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:m?`Complete payment for ${p.length} invoices securely`:"Complete your payment securely"})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-50 text-green-700 rounded-xl border border-green-200",children:[e.jsx(u,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"256-bit SSL"})]})})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid lg:grid-cols-5 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 shadow-xl sticky top-24",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg",children:e.jsx(ze,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Payment Summary"})]}),e.jsxs("div",{className:"space-y-4",children:[m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Invoices"}),e.jsxs("span",{className:"font-semibold text-gray-900",children:[p.length," invoices"]})]}),e.jsx("div",{className:"max-h-32 overflow-y-auto",children:p.map((t,r)=>e.jsxs("div",{className:"flex justify-between items-center py-2 text-sm",children:[e.jsx("span",{className:"text-gray-600",children:t.invoiceNumber}),e.jsx("span",{className:"font-medium text-gray-900",children:B(t.amountDue)})]},r))})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Recipient"}),e.jsx("span",{className:"font-semibold text-gray-900",children:($=f,$?.vendor&&(`${$.vendor.firstName||""} ${$.vendor.lastName||""}`.trim()||$.vendor.name)||"N/A")})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Invoice Number"}),e.jsx("span",{className:"font-mono font-semibold text-gray-900",children:f?.invoiceNumber})]})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:x?.replace("_"," ")||"Credit Card"})]}),e.jsxs("div",{className:"pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{className:"font-semibold text-gray-900",children:B(I)})]}),e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-gray-600",children:"Processing Fee"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:B(I)})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Je,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"Secure Transaction"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"Your payment is protected by industry-standard encryption and security measures."})]})]})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsx(Bl,{mode:"wait",children:A?e.jsxs(Rm.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-8 shadow-xl text-center",children:[e.jsx(Rm.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(n,{size:40,className:"text-green-600"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),e.jsxs("p",{className:"text-gray-600 mb-2 text-lg",children:["Your payment of ",e.jsx("span",{className:"font-bold text-gray-900",children:B(I)})," has been processed successfully."]}),e.jsx("p",{className:"text-gray-500 mb-8",children:m?`${p.length} invoices have been marked as paid.`:`Invoice #${f?.invoiceNumber} is now marked as paid.`}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 border border-green-200 mb-8",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(h,{size:16,className:"text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-1",children:"Transaction Complete"}),e.jsx("p",{className:"text-green-800 text-sm",children:"A payment confirmation has been sent to all relevant parties. You will be redirected back shortly."})]})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-gray-300 border-t-green-500 rounded-full"}),e.jsx("span",{children:"Auto-redirecting..."})]}),e.jsx("button",{onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back Now"})]})]},"success-message"):e.jsxs(Rm.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-8 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(N,{size:20,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Information"})]}),e.jsx(Bl,{children:w&&e.jsxs(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-xl flex items-center gap-3 mb-6",children:[e.jsx(T,{size:20}),e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>k(""),className:"ml-auto p-1 hover:bg-red-100 rounded",children:e.jsx(s,{size:16})})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(N,{size:16}),"Card Number"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"cardNumber",value:g.cardNumber,onChange:z,onFocus:()=>L("cardNumber"),onBlur:()=>L(""),placeholder:"1234 5678 9012 3456",disabled:y,className:`w-full px-4 py-4 border rounded-xl transition-all duration-200 ${"cardNumber"===D?"border-green-500 ring-2 ring-green-500/20 bg-green-50/30":"border-gray-300 hover:border-gray-400"} focus:outline-none bg-white/80`}),e.jsx("div",{className:"absolute right-4 top-4",children:(()=>{switch(_){case"visa":return e.jsx("div",{className:"text-blue-600 font-bold text-sm",children:"VISA"});case"mastercard":return e.jsx("div",{className:"text-red-600 font-bold text-sm",children:"MC"});case"amex":return e.jsx("div",{className:"text-green-600 font-bold text-sm",children:"AMEX"});case"discover":return e.jsx("div",{className:"text-orange-600 font-bold text-sm",children:"DISC"});default:return e.jsx(N,{size:20,className:"text-gray-400"})}})()})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(v,{size:16}),"Expiry Date"]}),e.jsx("input",{type:"text",name:"expiryDate",value:g.expiryDate,onChange:z,onFocus:()=>L("expiryDate"),onBlur:()=>L(""),placeholder:"MM/YY",disabled:y,className:`w-full px-4 py-4 border rounded-xl transition-all duration-200 ${"expiryDate"===D?"border-green-500 ring-2 ring-green-500/20 bg-green-50/30":"border-gray-300 hover:border-gray-400"} focus:outline-none bg-white/80`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(U,{size:16}),"CVV"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"cvv",value:g.cvv,onChange:z,onFocus:()=>L("cvv"),onBlur:()=>L(""),placeholder:"123",disabled:y,className:`w-full px-4 py-4 border rounded-xl transition-all duration-200 ${"cvv"===D?"border-green-500 ring-2 ring-green-500/20 bg-green-50/30":"border-gray-300 hover:border-gray-400"} focus:outline-none bg-white/80`}),e.jsx("div",{className:"absolute right-4 top-4",children:e.jsx(Je,{size:16,className:"text-gray-400"})})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(O,{size:16}),"Cardholder Name"]}),e.jsx("input",{type:"text",name:"cardHolder",value:g.cardHolder,onChange:z,onFocus:()=>L("cardHolder"),onBlur:()=>L(""),placeholder:"JOHN DOE",disabled:y,className:`w-full px-4 py-4 border rounded-xl transition-all duration-200 ${"cardHolder"===D?"border-green-500 ring-2 ring-green-500/20 bg-green-50/30":"border-gray-300 hover:border-gray-400"} focus:outline-none bg-white/80`})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{onClick:async()=>{if(p&&0!==p.length&&M){j(!0),k("");try{const e=p.map(async e=>{const t=await fetch(`https://backend.nexusmwi.com/api/invoices/${e._id}/status/pay`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({...g,paymentMethod:x})}),r=await t.json();if(!t.ok){if("Invalid or expired token"===r.message)throw o&&o.logout&&o.logout(),new Error("Your session has expired. Please log in again.");throw new Error(r.message||"Failed to process payment")}return r});await Promise.all(e),C(m?`Successfully processed payment for ${p.length} invoices!`:"Payment processed successfully!"),E(!0),i&&i(p),setTimeout(()=>{R()},3e3)}catch(e){k(e.message)}finally{j(!1)}}else k("Invalid invoice data or session. Please try again.")},disabled:y||!q,className:"w-full px-8 py-4 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-3",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Processing Payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{size:20}),"Pay ",B(I),e.jsx(t,{size:20})]})})}),e.jsx("div",{className:"pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[e.jsx(u,{size:16,className:"text-green-500"}),e.jsx("span",{children:"Your payment information is encrypted and secure"})]})})]})]},"payment-form")})})]})}),e.jsx(Bl,{children:S&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"bg-green-50/90 border border-green-200 text-green-800 px-6 py-4 rounded-xl shadow-2xl backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(n,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-medium",children:S}),e.jsx("button",{onClick:()=>C(""),className:"ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:e.jsx(s,{size:18})})]})})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-md mx-auto p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(T,{size:32,className:"text-red-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Payment Data"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No invoice data found for payment processing. This could happen if:"}),e.jsx("div",{className:"text-left bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("li",{children:" The payment session has expired"}),e.jsx("li",{children:" You navigated directly to this page"}),e.jsx("li",{children:" There was an error loading the invoice data"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:R,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(F,{size:20,className:"inline mr-2"}),"Back to Invoice Payments"]}),e.jsx("button",{onClick:()=>c("/dashboard"),className:"w-full px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 font-medium",children:"Go to Dashboard"})]})]})});var $}const Rte=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,zte=({request:t,onMenuClick:r,showMenuId:n,onAction:a})=>{const i=e=>{switch(e?.toLowerCase()){case"flight":return"bg-blue-100 text-blue-800";case"train":return"bg-green-100 text-green-800";case"car":return"bg-amber-100 text-amber-800";default:return"bg-gray-100 text-gray-800"}},o=t=>{switch(t?.toLowerCase()){case"flight":return e.jsx(Ft,{size:12});case"train":return e.jsx(qt,{size:12});case"car":return e.jsx(Bt,{size:12});default:return e.jsx(ze,{size:12})}},l=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),c=t.employee?.lastName||"N/A",d=((e,t)=>{const r=new Date(e),n=new Date(t),s=Math.abs(n-r);return Math.ceil(s/864e5)})(t.departureDate,t.returnDate);return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(O,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:c}),e.jsx("p",{className:"text-xs text-gray-500",children:t.location||"N/A"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${i(t.meansOfTravel)}`,children:[o(t.meansOfTravel),e.jsx("span",{className:"ml-1",children:t.meansOfTravel})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(v,{className:"w-3 h-3 text-purple-500"}),d]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Days"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(Se,{className:"w-3 h-3 text-red-500"}),t.location?.split(",")[0]||"N/A"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Destination"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Departure"}),e.jsx("span",{className:"text-xs font-medium",children:l(t.departureDate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Return"}),e.jsx("span",{className:"text-xs font-medium",children:l(t.returnDate)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Funding Code"}),e.jsx("span",{className:"text-xs font-medium font-mono truncate",children:t.fundingCodes||"N/A"})]})]}),e.jsxs("div",{className:"mb-1.5",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Travel Method"}),e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 w-fit ${i(t.meansOfTravel)}`,children:[o(t.meansOfTravel),t.meansOfTravel||"Unknown"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-50 rounded-full flex items-center justify-center",children:e.jsx(Ft,{size:12,className:"text-blue-600"})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[d," day trip"]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{"data-request-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:14})}),e.jsxs("button",{onClick:()=>a(t._id,"approved"),className:"px-2 py-1 bg-green-500 text-white rounded-lg text-xs font-medium hover:bg-green-600 transition-colors flex items-center gap-1",children:[e.jsx($e,{size:12}),"Approve"]}),e.jsxs("button",{onClick:()=>a(t._id,"rejected"),className:"px-2 py-1 bg-red-500 text-white rounded-lg text-xs font-medium hover:bg-red-600 transition-colors flex items-center gap-1",children:[e.jsx(s,{size:12}),"Reject"]})]})]})]})},Fte=[{_id:"1",employee:{_id:"e1",name:"John Smith"},departureDate:"2025-05-15T00:00:00.000Z",returnDate:"2025-05-22T00:00:00.000Z",location:"New York, NY",fundingCodes:"FIN-2025-001",meansOfTravel:"Flight"},{_id:"2",employee:{_id:"e2",name:"Sarah Johnson"},departureDate:"2025-06-01T00:00:00.000Z",returnDate:"2025-06-05T00:00:00.000Z",location:"Chicago, IL",fundingCodes:"FIN-2025-002",meansOfTravel:"Train"},{_id:"3",employee:{_id:"e3",name:"Michael Chen"},departureDate:"2025-05-20T00:00:00.000Z",returnDate:"2025-05-27T00:00:00.000Z",location:"San Francisco, CA",fundingCodes:"FIN-2025-003",meansOfTravel:"Flight"},{_id:"4",employee:{_id:"e4",name:"Emily Davis"},departureDate:"2025-06-10T00:00:00.000Z",returnDate:"2025-06-15T00:00:00.000Z",location:"Austin, TX",fundingCodes:"FIN-2025-004",meansOfTravel:"Car"}],Bte=()=>{const[t,r]=qr.useState([]),[n,a]=qr.useState(!0),[i,o]=qr.useState(""),[l,d]=qr.useState("all"),[u,m]=qr.useState(!1),[h,p]=qr.useState(""),[f,x]=qr.useState("success"),[g,b]=qr.useState(!1),[y,v]=qr.useState(null),[j,w]=qr.useState(null),[N,k]=qr.useState(!1),[S,C]=qr.useState(null),A=$r(),T="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${T}/api/travel-requests/pending/all`,{headers:{Authorization:`Bearer ${e||"preview-token"}`}});if(!t.ok)throw new Error("Failed to fetch pending travel requests");const n=await t.json();r(n),k(!1)}catch(ide){r(Fte),k(!0),"undefined"==typeof window||"localhost"===window.location.hostname||window.location.hostname.includes("vercel.app")||D("Failed to fetch pending travel requests","error")}finally{setTimeout(()=>{a(!1)},800)}})()},[T]);const E=t.filter(e=>{const t=e.employee?.name?.toLowerCase().includes(i.toLowerCase())||e.location?.toLowerCase().includes(i.toLowerCase())||e.meansOfTravel?.toLowerCase().includes(i.toLowerCase())||!1,r="all"===l||e.meansOfTravel===l;return t&&r}),P=t?.length||0;t?.filter(e=>"Flight"===e.meansOfTravel),t?.filter(e=>"Train"===e.meansOfTravel),t?.filter(e=>"Car"===e.meansOfTravel);const D=(e,t="success")=>{p(e),x(t),m(!0),setTimeout(()=>m(!1),5e3)},O=(e,t)=>{v(e),w(t),b(!0),C(null)},L=()=>{b(!1),v(null),w(null)},M=()=>{a(!0),setTimeout(()=>a(!1),1e3),window.location.reload()};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Rte,{isVisible:n,message:"Loading travel requests..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search travel requests...",value:i,onChange:e=>o(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("select",{value:l,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Travel Types"}),e.jsx("option",{value:"Flight",children:"Flight"}),e.jsx("option",{value:"Train",children:"Train"}),e.jsx("option",{value:"Car",children:"Car"})]}),e.jsx("button",{onClick:M,disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:e.jsx(G,{size:16,className:n?"animate-spin":""})}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Le,{size:16}),"New Request"]})]})}),N&&e.jsx(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-amber-50 border border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-xl",children:e.jsx(Ce,{size:20,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-800",children:"Preview Mode Active"}),e.jsx("p",{className:"text-amber-700 text-sm",children:"Using mock data for preview. In production, this would connect to your backend API."})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Travel Requests"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[E.length," of ",P," requests"]})})]}),0===E.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ft,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i||"all"!==l?"No travel requests match your filters":"No Pending Travel Requests"}),e.jsx("p",{className:"text-gray-500 mb-4",children:i||"all"!==l?"Try adjusting your search criteria or filters.":"There are currently no travel requests waiting for your approval."}),e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(G,{size:16}),"Refresh"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:E.map(t=>e.jsx(zte,{request:t,onMenuClick:C,showMenuId:S,onAction:O},t._id))})]})]}),S&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/5",onClick:()=>C(null),transition:{duration:.1}}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-request-id="${S}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-request-id="${S}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsx("div",{className:"py-1",children:[{icon:_,label:"View Details",action:()=>{A(`/dashboard/travel-requests/${S}`)}},{icon:$e,label:"Approve",action:()=>O(S,"approved"),color:"green"},{icon:s,label:"Reject",action:()=>O(S,"rejected"),color:"red"},{type:"divider"},{icon:Qe,label:"Edit Request",action:()=>{}},{icon:Z,label:"Send Message",action:()=>{}},{icon:X,label:"Copy Details",action:()=>{}},{icon:c,label:"Download PDF",action:()=>{}},{icon:Ke,label:"View History",action:()=>{}},{icon:rt,label:"Contact Employee",action:()=>{}}].map((t,r)=>"divider"===t.type?e.jsx("div",{className:"border-t border-gray-100 my-1"},`divider-${r}`):e.jsxs("button",{onClick:()=>{t.action(),C(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm rounded-xl "+("green"===t.color?"text-green-600 hover:bg-green-50":"red"===t.color?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{children:t.label})]},t.label))})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["approved"===j?e.jsx($e,{size:18,className:"text-green-500"}):e.jsx(s,{size:18,className:"text-red-500"}),"Confirm Decision"]}),e.jsx("button",{onClick:L,className:"p-1.5 hover:bg-gray-100 rounded-2xl",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("p",{className:"text-gray-700 mb-4 text-sm",children:["Are you sure you want to mark this travel request as"," ",e.jsx("span",{className:"font-semibold "+("approved"===j?"text-green-600":"text-red-600"),children:j}),"? This action cannot be undone."]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:L,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium text-sm",children:"Cancel"}),e.jsxs("button",{onClick:()=>{(async(e,t)=>{try{if(N)return r(t=>t.filter(t=>t._id!==e)),void D(`Travel request ${t} successfully! (Preview mode)`,"info");const n=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user")||'{"_id":"preview-user"}')._id,a=await fetch(`${T}/api/travel-requests/${e}/supervisor-approval`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({supervisorId:s,decision:t})});if(a.ok)r(t=>t.filter(t=>t._id!==e)),D(`Travel request ${t} successfully!`,"success");else{const e=await a.json();D(e.message||"Failed to update travel request","error")}}catch(ide){D("An error occurred while updating the travel request","error")}C(null)})(y,j),L()},className:"px-4 py-2 rounded-xl transition-colors font-medium flex items-center gap-2 text-sm "+("approved"===j?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:["approved"===j?e.jsx($e,{size:16}):e.jsx(s,{size:16}),"Confirm"]})]})]})]})}),u&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===f?"bg-green-50 text-green-800 border-green-200":"error"===f?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===f?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):"error"===f?e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"font-medium",children:h}),e.jsx("button",{onClick:()=>m(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})},qte=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,$te=({request:r,onMenuClick:n,showMenuId:s,formatDate:a,getTravelMeansText:i,getTravelMeansIcon:o,getTravelMeansColor:l,getEmployeeAvatar:c,getAvatarColor:d})=>e.jsxs("div",{className:"grid grid-cols-6 gap-4 items-center px-4 py-3 hover:bg-gray-50 transition-colors border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold ${d(r.employee?.name)}`,children:c(r.employee?.name)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:r.employee?.lastName||"N/A"}),e.jsx("div",{className:"text-xs text-gray-600 font-mono truncate",children:r.fundingCodes||"N/A"})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:a(r.departureDate)}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(t,{size:10}),a(r.returnDate)]})]})}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-gray-900 text-sm truncate",children:r.location||"N/A"})}),e.jsx("div",{className:"space-y-1",children:e.jsx("div",{children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${l(r.meansOfTravel)}`,children:[o(r.meansOfTravel),e.jsx("span",{className:"ml-1",children:i(r.meansOfTravel)})]})})}),e.jsx("div",{children:e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border text-amber-700 bg-amber-50 border-amber-200",children:[e.jsx($t,{size:12}),e.jsx("span",{className:"ml-1",children:"Supervisor Approved"})]})}),e.jsx("div",{className:"text-center",children:e.jsx("button",{"data-request-id":r._id,onClick:()=>n(s===r._id?null:r._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})})]}),Ute=[{_id:"1",employee:{_id:"e1",name:"John Smith"},departureDate:"2025-05-15T00:00:00.000Z",returnDate:"2025-05-22T00:00:00.000Z",location:"New York, NY",fundingCodes:"FIN-2025-001",meansOfTravel:"own",status:"supervisor_approved"},{_id:"2",employee:{_id:"e2",name:"Sarah Johnson"},departureDate:"2025-06-01T00:00:00.000Z",returnDate:"2025-06-05T00:00:00.000Z",location:"Chicago, IL",fundingCodes:"FIN-2025-002",meansOfTravel:"public_transport",status:"supervisor_approved"},{_id:"3",employee:{_id:"e3",name:"Michael Chen"},departureDate:"2025-05-20T00:00:00.000Z",returnDate:"2025-05-27T00:00:00.000Z",location:"San Francisco, CA",fundingCodes:"FIN-2025-003",meansOfTravel:"rental",status:"supervisor_approved"},{_id:"4",employee:{_id:"e4",name:"Emily Davis"},departureDate:"2025-06-10T00:00:00.000Z",returnDate:"2025-06-15T00:00:00.000Z",location:"Austin, TX",fundingCodes:"FIN-2025-004",meansOfTravel:"company",status:"supervisor_approved"}],Wte=()=>{const[t,r]=qr.useState([]),[n,a]=qr.useState(!0),[i,o]=qr.useState(""),[l,d]=qr.useState("all"),[u,m]=qr.useState(!1),[h,p]=qr.useState(""),[f,x]=qr.useState("success"),[g,b]=qr.useState(!1),[y,j]=qr.useState(null),[w,N]=qr.useState(null),[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[T,E]=qr.useState(null),P="https://backend.nexusmwi.com",D=async()=>{A(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${P}/api/travel-requests/supervisor-approved`,{headers:{Authorization:`Bearer ${e||"preview-token"}`}});if(!t.ok)throw new Error("Failed to fetch supervisor-approved travel requests");const n=await t.json();r(n),S(!1)}catch(ide){r(Ute),S(!0),"undefined"==typeof window||"localhost"===window.location.hostname||window.location.hostname.includes("vercel.app")||I("Failed to fetch supervisor-approved travel requests","error")}finally{setTimeout(()=>{a(!1),A(!1)},800)}};qr.useEffect(()=>{D()},[P]);const L=t.filter(e=>{const t=e.employee?.name?.toLowerCase().includes(i.toLowerCase())||e.location?.toLowerCase().includes(i.toLowerCase())||e.meansOfTravel?.toLowerCase().includes(i.toLowerCase())||!1,r="all"===l||e.meansOfTravel===l;return t&&r}),M=t?.length||0;t?.filter(e=>"own"===e.meansOfTravel),t?.filter(e=>"company"===e.meansOfTravel),t?.filter(e=>"public_transport"===e.meansOfTravel);const I=(e,t="success")=>{p(e),x(t),m(!0),setTimeout(()=>m(!1),5e3)},R=(e,t)=>{j(e),N(t),b(!0),E(null)},z=()=>{b(!1),j(null),N(null)},F=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),B=e=>{switch(e){case"own":return"Own Vehicle";case"company":return"Company Vehicle";case"rental":return"Rental Vehicle";case"public_transport":return"Public Transport";default:return e||"N/A"}},q=t=>{switch(t){case"own":case"company":case"rental":return e.jsx(Bt,{size:12});case"public_transport":return e.jsx(Ut,{size:12});default:return e.jsx(ze,{size:12})}},$=e=>{switch(e){case"own":return"text-blue-700 bg-blue-50 border-blue-200";case"company":return"text-purple-700 bg-purple-50 border-purple-200";case"rental":return"text-amber-700 bg-amber-50 border-amber-200";case"public_transport":return"text-green-700 bg-green-50 border-green-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},U=e=>{if(!e)return"?";return e.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)},W=e=>{if(!e)return"bg-gray-500";const t=["bg-blue-500","bg-purple-500","bg-green-500","bg-amber-500","bg-red-500","bg-indigo-500","bg-cyan-500","bg-lime-500","bg-orange-500","bg-pink-500"];return t[(e.charCodeAt(0)||0)%t.length]};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(qte,{isVisible:n,message:"Loading travel requests..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[k&&e.jsx(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-amber-50 border border-amber-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-xl",children:e.jsx(Ce,{size:20,className:"text-amber-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-amber-800",children:"Preview Mode Active"}),e.jsx("p",{className:"text-amber-700 text-sm",children:"Using mock data for preview. In production, this would connect to your backend API."})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search travel requests...",value:i,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("select",{value:l,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Vehicle Types"}),e.jsx("option",{value:"own",children:"Own Vehicle"}),e.jsx("option",{value:"company",children:"Company Vehicle"}),e.jsx("option",{value:"rental",children:"Rental Vehicle"}),e.jsx("option",{value:"public_transport",children:"Public Transport"})]})})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:D,disabled:C,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:e.jsx(G,{size:16,className:C?"animate-spin":""})}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-50 border border-gray-200 text-sm",children:[e.jsx(Ie,{size:16}),"Export"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Final Approval Required"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[L.length," of ",M," requests"]})})]}),0===L.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx($t,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i||"all"!==l?"No travel requests match your filters":"No Pending Final Approvals"}),e.jsx("p",{className:"text-gray-500 mb-4",children:i||"all"!==l?"Try adjusting your search criteria or filters to find what you're looking for.":"There are currently no supervisor-approved travel requests waiting for your final approval."}),e.jsxs("button",{onClick:D,disabled:C,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 disabled:opacity-50 mx-auto",children:[e.jsx(G,{size:16,className:C?"animate-spin":""}),"Refresh"]})]}):e.jsxs("div",{className:"overflow-hidden",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-4 items-center px-4 py-3 bg-gray-50 rounded-xl mb-2 font-semibold text-gray-700 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{size:16}),"Employee"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:16}),"Travel Period"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{size:16}),"Location"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{size:16}),"Travel Details"]}),e.jsx("div",{children:"Status"}),e.jsx("div",{className:"text-center",children:"Actions"})]}),e.jsx("div",{className:"space-y-0",children:L.map((t,r)=>e.jsx(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*r},children:e.jsx($te,{request:t,onMenuClick:E,showMenuId:T,formatDate:F,getTravelMeansText:B,getTravelMeansIcon:q,getTravelMeansColor:$,getEmployeeAvatar:U,getAvatarColor:W})},t._id))})]})]})]}),T&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/5",onClick:()=>E(null),transition:{duration:.1}}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-request-id="${T}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-request-id="${T}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsx("div",{className:"py-1",children:[{icon:_,label:"View Details",action:()=>{}},{icon:$e,label:"Final Approve",action:()=>R(T,"approve"),color:"green"},{icon:s,label:"Deny",action:()=>R(T,"reject"),color:"red"},{type:"divider"},{icon:c,label:"Download PDF",action:()=>{}}].map((t,r)=>"divider"===t.type?e.jsx("div",{className:"border-t border-gray-100 my-1"},`divider-${r}`):e.jsxs("button",{onClick:()=>{t.action(),E(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm rounded-xl "+("green"===t.color?"text-green-600 hover:bg-green-50":"red"===t.color?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{children:t.label})]},t.label))})})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["approve"===w?e.jsx($e,{size:18,className:"text-green-500"}):e.jsx(s,{size:18,className:"text-red-500"}),"approve"===w?"Confirm Final Approval":"Confirm Denial"]}),e.jsx("button",{onClick:z,className:"p-1.5 hover:bg-gray-100 rounded-2xl",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full flex items-center justify-center "+("approve"===w?"bg-green-100":"bg-red-100"),children:"approve"===w?e.jsx($e,{size:20,className:"text-green-600"}):e.jsx(s,{size:20,className:"text-red-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-gray-700 mb-2 text-sm",children:["You are about to"," ",e.jsx("span",{className:"font-semibold "+("approve"===w?"text-green-600":"text-red-600"),children:"approve"===w?"give final approval to":"deny"})," ","this travel request."]}),e.jsx("p",{className:"text-xs text-gray-500",children:"This action cannot be undone. The employee will be notified of your decision."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:z,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium text-sm",children:"Cancel"}),e.jsx("button",{onClick:()=>{(async(e,t)=>{try{if(k)return r(t=>t.filter(t=>t._id!==e)),void I(`Travel request ${"approve"===t?"approved":"rejected"} successfully! (Preview mode)`,"info");const n=localStorage.getItem("token"),s=JSON.parse(localStorage.getItem("user")||'{"_id":"preview-user"}')._id,a=await fetch(`${P}/api/travel-requests/${e}/final-approval`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({finalApproverId:s,decision:"approve"===t?"approved":"rejected"})});if(a.ok)r(t=>t.filter(t=>t._id!==e)),I(`Travel request ${"approve"===t?"approved":"rejected"} successfully!`,"success");else{const e=await a.json();I(e.message||"Failed to update travel request","error")}}catch(ide){I("An error occurred while updating the travel request","error")}E(null)})(y,w),z()},className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm "+("approve"===w?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"),children:"approve"===w?e.jsxs(e.Fragment,{children:[e.jsx($e,{size:16}),"Confirm Final Approval"]}):e.jsxs(e.Fragment,{children:[e.jsx(s,{size:16}),"Confirm Denial"]})})]})]})]})}),u&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===f?"bg-green-50 text-green-800 border-green-200":"error"===f?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===f?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):"error"===f?e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsx("span",{className:"font-medium",children:h}),e.jsx("button",{onClick:()=>m(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})},Vte=({type:t="info",title:r,children:n,onClose:a})=>{const i={info:T,success:$e,warning:T,error:T}[t];return e.jsx("div",{className:`p-3 rounded-2xl border ${{info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"}[t]} mb-3`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:`w-4 h-4 mt-0.5 ${{info:"text-blue-500",success:"text-green-500",warning:"text-yellow-500",error:"text-red-500"}[t]}`}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("h4",{className:"font-medium mb-1 text-sm",children:r}),e.jsx("div",{className:"text-sm",children:n})]}),a&&e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:14})})]})})},Hte=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3 shadow-xl",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,Gte={dailyRate:0,days:0,totalAmount:0,currency:"",additionalAllowance:0,notes:"",categories:{}},Kte={cardNumber:"",cardType:"visa",accountHolder:"",amount:0,currency:"",exchangeRate:1,processingFee:0,totalAmount:0,transferDate:on(new Date,"yyyy-MM-dd"),notes:""},Yte={recipient:"",subject:"",message:"",includeBreakdown:!0,sendCopy:!1};function Xte(){const r=$r(),[a,i]=qr.useState("pending"),[d,u]=qr.useState(null),[h,p]=qr.useState(""),[f,x]=qr.useState("all"),[g,b]=qr.useState(!1),[y,j]=qr.useState(!1),[w,k]=qr.useState(!1),[S,C]=qr.useState(!1),[A,E]=qr.useState(!1),[_,P]=qr.useState(!1),[D,O]=qr.useState({}),[L,M]=qr.useState({}),[I,R]=qr.useState(!1),[z,F]=qr.useState(""),[B,q]=qr.useState("success"),[$,U]=qr.useState(!1),[W,V]=qr.useState(null),[H,G]=qr.useState(null),[K,Y]=qr.useState(!0),[X,J]=qr.useState([]),Q="https://backend.nexusmwi.com",[ee,te]=qr.useState(Gte),[re,ne]=qr.useState(Kte),[se,ae]=qr.useState(Yte),ie={USD:1,EUR:.92,GBP:.79,JPY:149.82,SGD:1.35,AUD:1.53,CAD:1.37,CNY:7.24,INR:83.12,BRL:5.12,MWK:1800},oe={lilongwe:{currency:"USD",rate:100},default:{currency:"MWK",rate:4e4}};qr.useEffect(()=>{O(ie),M(oe)},[]),qr.useEffect(()=>{if(I){const e=setTimeout(()=>{R(!1)},3e3);return()=>clearTimeout(e)}},[I]);const le=X.filter(e=>{const t=e.employeeName||"",r=e.id||"",n=e.country||"",s=e.city||"",a=t.toLowerCase().includes(h.toLowerCase())||r.toLowerCase().includes(h.toLowerCase())||n.toLowerCase().includes(h.toLowerCase())||s.toLowerCase().includes(h.toLowerCase()),i="all"===f||e.status===f;return a&&i});qr.useEffect(()=>{if(!d&&le.length>0){const e=le.find(e=>"pending"===e.status);u(e||le[0])}},[le,d]);const ce=e=>{if(u(e),b(!1),j(!1),k(!1),e){const t=un(e.returnDate,e.departureDate)+1,r=L[e.city?.toLowerCase()]||L.default;te({dailyRate:r.rate,days:t,totalAmount:r.rate*t,currency:e.currency,additionalAllowance:0,notes:"",categories:{}}),ne({cardNumber:`**** **** **** ${e.cardDetails.lastFour}`,cardType:e.cardDetails.type.toLowerCase(),accountHolder:e.cardDetails.holder,amount:0,currency:e.currency,exchangeRate:D[e.currency]||1,processingFee:0,totalAmount:0,transferDate:on(new Date,"yyyy-MM-dd"),notes:""})}},de=t=>{switch(t){case"high":return e.jsx("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs font-medium",children:"High"});case"medium":return e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:"Medium"});case"low":return e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:"Low"});default:return null}},ue=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return qr.useEffect(()=>{if(re.amount>0){const e=.005*re.amount,t=Number.parseFloat(re.amount)+e;ne(r=>({...r,processingFee:e,totalAmount:t}))}},[re.amount]),qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${Q}/api/travel-requests/finance/pending`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch approved travel requests");const r=await t.json();J((e=>e.map(e=>({id:e._id,employeeName:e.employee?.lastName||"Employee",employeeId:e.employee?._id,department:"Not specified",fundingCodes:e.fundingCodes||"Not specified",email:e.employee?.email||"No email",purpose:e.purpose,country:e.location||"Not specified",city:e.location||"Not specified",departureDate:new Date(e.departureDate),returnDate:new Date(e.returnDate),status:"approved"===e.finalApproval?"approved":"pending",financeStatus:e.financeStatus||"pending",perDiemAmount:e.payment?.perDiemAmount||("MWK"===e.currency?1e5:1e3),currency:e.currency||"USD",cardDetails:{lastFour:"1234",type:"VISA",holder:e.employee?.name||"Employee"},documents:e.documents||[],approvedBy:e.finalApprover?.firstName&&e.finalApprover?.lastName||"Not specified",approvedAt:new Date(e.finalApprovalDate||e.updatedAt),priority:"medium",travelType:e.travelType||"local"})))(r))}catch(ide){F("Failed to fetch approved travel requests"),q("error"),R(!0)}finally{Y(!1)}})()},[Q]),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Hte,{isVisible:K,message:"Loading Finance Data..."}),e.jsx("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search requests...",value:h,onChange:e=>p(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>i("pending"),className:"px-3 py-1.5 rounded-xl font-medium transition-colors text-sm "+("pending"===a?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Pending"}),e.jsx("button",{onClick:()=>i("processed"),className:"px-3 py-1.5 rounded-xl font-medium transition-colors text-sm "+("processed"===a?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Processed"})]})]}),e.jsxs("div",{className:"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto",children:["pending"===a&&e.jsx(e.Fragment,{children:0===le.filter(e=>"pending"===e.financeStatus).length?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[e.jsx(c,{size:32,className:"mx-auto text-gray-400 mb-4"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["No ",a," requests found"]}),e.jsx("p",{className:"text-gray-600",children:"All travel requests have been processed"})]}):le.filter(e=>"pending"===a||e.financeStatus===a).map(t=>e.jsxs("div",{onClick:()=>ce(t),className:"bg-white rounded-2xl border p-2 cursor-pointer transition-all hover:shadow-sm "+(d?.id===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.employeeName}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),de(t.priority)]}),e.jsxs("div",{className:"space-y-1 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(De,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[t.city,", ",t.country]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(v,{size:14,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[on(t.departureDate,"MMM d")," - ",on(t.returnDate,"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium border border-blue-200",children:t.currency}),"completed"===t.financeStatus&&t.perDiemAmount&&e.jsx("span",{className:"text-green-700 text-sm font-medium",children:ue(t.perDiemAmount,t.currency)})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"completed"===t.financeStatus&&t.paymentDate?`Paid: ${on(t.paymentDate,"MMM d, yyyy")}`:`Approved: ${on(t.approvedAt,"MMM d, yyyy")}`})]})]},t.id))}),"processed"===a&&e.jsx(e.Fragment,{children:0===le.filter(e=>"completed"===e.financeStatus).length?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[e.jsx(c,{size:32,className:"mx-auto text-gray-400 mb-4"}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["No ",a," requests found"]}),e.jsx("p",{className:"text-gray-600",children:"All travel requests have been processed"})]}):le.filter(e=>"processed"===a||"completed"===e.financeStatus).map(t=>e.jsxs("div",{onClick:()=>ce(t),className:"bg-white rounded-2xl border p-2 cursor-pointer transition-all hover:shadow-sm "+(d?.id===t.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.employeeName}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.email})]}),de(t.priority)]}),e.jsxs("div",{className:"space-y-1 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(De,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[t.city,", ",t.country]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(v,{size:14,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[on(t.departureDate,"MMM d")," - ",on(t.returnDate,"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium border border-blue-200",children:t.currency}),"completed"===t.financeStatus&&t.perDiemAmount&&e.jsx("span",{className:"text-green-700 text-sm font-medium",children:ue(t.perDiemAmount,t.currency)})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"completed"===t.financeStatus&&t.paymentDate?`Paid: ${on(t.paymentDate,"MMM d, yyyy")}`:`Approved: ${on(t.approvedAt,"MMM d, yyyy")}`})]})]},t.id))})]})]}),e.jsx("div",{className:"space-y-4",children:d?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-blue-50 border-b border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:e.jsx(c,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:d.employeeName}),(t=>{switch(t){case"pending":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-200",children:[e.jsx(l,{size:12,className:"mr-1"}),"Pending"]});case"processed":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-200",children:[e.jsx(o,{size:12,className:"mr-1"}),"Processed"]});case"completed":return e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-200",children:[e.jsx(n,{size:12,className:"mr-1"}),"Completed"]});default:return e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-50 text-gray-700 border border-gray-200",children:t})}})(d.financeStatus)]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[d.email,"  ",d.fundingCodes]})]})]}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl",children:e.jsx(He,{size:18})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2",children:"Purpose of Travel"}),e.jsx("p",{className:"text-gray-900 text-sm",children:d.purpose||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Destination"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"text-blue-500",size:16}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[d.city,", ",d.country]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Travel Period"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"text-blue-500",size:16}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[on(d.departureDate,"MMM d, yyyy")," -"," ",on(d.returnDate,"MMM d, yyyy")]}),e.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium ml-2",children:[Math.ceil((d.returnDate-d.departureDate)/864e5)+1," ","days"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Payment Details"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:e.jsx(N,{className:"text-blue-600",size:14})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[d.cardDetails.type," Card **** ",d.cardDetails.lastFour]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Holder: ",d.employeeName]})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Currency"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-900",children:d.currency}),"USD"!==d.currency&&e.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium ml-2",children:["1 USD = ",D[d.currency]," ",d.currency]})]})]}),"completed"===d.financeStatus&&d.perDiemAmount&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Transferred Amount"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wt,{className:"text-blue-500",size:16}),e.jsx("span",{className:"font-medium text-gray-900",children:ue(d.perDiemAmount,d.currency)})]}),d.transferredAt&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Transferred on ",on(d.transferredAt,"MMMM d, yyyy")]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Approval"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx($e,{className:"text-green-500",size:16}),e.jsxs("span",{className:"text-gray-900",children:["Approved by ",d.approvedBy]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:on(d.approvedAt,"MMMM d, yyyy")})]})]})]}),"pending"===d.financeStatus&&e.jsxs(Vte,{type:"warning",title:"Action Required",children:["This request requires per diem calculation and fund transfer to the employee's"," ",d.cardDetails.type," card."]}),"processed"===d.financeStatus&&e.jsx(Vte,{type:"info",title:"In Progress",children:"Funds have been processed. Please notify the employee about the transfer."}),"completed"===d.financeStatus&&e.jsx(Vte,{type:"success",title:"Completed",children:"All financial processing has been completed for this travel request."})]}),e.jsxs("div",{className:"bg-gray-50 border-t border-gray-100 p-4 flex justify-between items-center",children:["pending"===d.financeStatus&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r("/"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl hover:bg-blue-700 text-sm",children:[e.jsx(Vt,{size:14}),"Calculate Per Diem"]})]}),"processed"===d.financeStatus&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r("/travel-dashboard"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),e.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-2xl hover:bg-green-700 text-sm",children:[e.jsx(Z,{size:14}),"Notify Employee"]})]}),"completed"===d.financeStatus&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r("/travel-dashboard"),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded-2xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),d&&e.jsxs("button",{onClick:()=>{if(!d)return F("Please select a travel request first"),q("error"),void R(!0);if(!d.financeStatus)return F("Selected request is missing financial information"),q("error"),void R(!0);const e=new a9;e.setFont("helvetica"),e.setFontSize(20),e.setTextColor(40,40,40),e.text("TRANSACTION RECORD",105,20,{align:"center"}),e.setFontSize(10),e.setTextColor(100,100,100),e.text("Company Name  Finance Department",105,30,{align:"center"}),e.setDrawColor(200,200,200),e.line(20,35,190,35),e.setFontSize(14),e.setTextColor(40,40,40),e.text("Transaction Details",20,45),e.setFontSize(10),e.setTextColor(80,80,80);let t=55;e.text(`Transaction ID: ${d.id||"N/A"}`,20,t),e.text(`Date: ${on(new Date,"MMMM d, yyyy")}`,120,t),t+=8,e.text(`Employee: ${d.employeeName||"N/A"}`,20,t),e.text(`Department: ${d.department||"N/A"}`,120,t),t+=8,e.text(`Destination: ${d.city||"N/A"}, ${d.country||"N/A"}`,20,t),t+=8;const r=d.departureDate?on(d.departureDate,"MMM d, yyyy"):"N/A",n=d.returnDate?on(d.returnDate,"MMM d, yyyy"):"N/A";e.text(`Travel Period: ${r} - ${n}`,20,t);const s=d.departureDate&&d.returnDate?Math.ceil((d.returnDate-d.departureDate)/864e5)+1:"N/A";e.text(`Duration: ${s} days`,120,t),t+=8,e.text(`Purpose: ${d.purpose||"N/A"}`,20,t),t+=15,e.setFontSize(14),e.setTextColor(40,40,40),e.text("Payment Details",20,t),t+=10,e.setFontSize(10),e.setTextColor(80,80,80);const a=d.cardDetails?.type||"N/A",i=d.cardDetails?.lastFour||"N/A",o=d.cardDetails?.holder||"N/A";e.text(`Payment Method: ${a} Card **** ${i}`,20,t),t+=8,e.text(`Card Holder: ${o}`,20,t),t+=8,e.text(`Currency: ${d.currency||"N/A"}`,20,t);const l=d.currency&&D[d.currency]?`1 USD = ${D[d.currency]} ${d.currency}`:"N/A";if(e.text(`Exchange Rate: ${l}`,120,t),t+=15,e.setFontSize(14),e.setTextColor(40,40,40),e.text("Financial Breakdown",20,t),t+=10,e.setFontSize(10),d.perDiemAmount){e.text("Per Diem Amount:",20,t),e.text(ue(d.perDiemAmount,d.currency||"USD"),120,t,{align:"right"}),t+=8;const r=.005*d.perDiemAmount;e.text("Processing Fee (0.5%):",20,t),e.text(ue(r,d.currency||"USD"),120,t,{align:"right"}),t+=8;const n=d.perDiemAmount+r;e.setFontSize(11),e.setFont(void 0,"bold"),e.text("Total Amount:",20,t),e.text(ue(n,d.currency||"USD"),120,t,{align:"right"}),e.setFont(void 0,"normal"),t+=12,d.currency&&D[d.currency]&&(e.setFontSize(9),e.setTextColor(100,100,100),e.text(`USD Equivalent: ${ue(n/D[d.currency],"USD")}`,20,t),t+=15)}e.setFontSize(14),e.setTextColor(40,40,40),e.text("Approval Information",20,t),t+=10,e.setFontSize(10),e.setTextColor(80,80,80),e.text(`Approved By: ${d.approvedBy||"N/A"}`,20,t);const c=d.approvedAt?on(d.approvedAt,"MMMM d, yyyy"):"N/A";if(e.text(`Approval Date: ${c}`,120,t),t+=8,e.text(`Status: ${d.financeStatus.toUpperCase()}`,20,t),d.paymentDate){const r=on(d.paymentDate,"MMMM d, yyyy");e.text(`Payment Date: ${r}`,120,t)}t+=15,e.setFontSize(8),e.setTextColor(150,150,150),e.text("This is an automatically generated transaction record. For any discrepancies, please contact the Finance Department.",105,280,{align:"center"}),e.text(`Generated on: ${on(new Date,"yyyy-MM-dd HH:mm:ss")}`,105,285,{align:"center"});const u=`${d.id||"transaction"}-record.pdf`;e.save(u),F(`PDF generated successfully: ${u}`),q("success"),R(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-xl hover:bg-green-100 text-sm",children:[e.jsx(Ie,{size:14}),"Download Transaction Record"]})]})]})]})}):e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm p-12 text-center",children:[e.jsx(c,{size:32,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Request Selected"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Select a travel request from the list to view details and process financial requirements"})]})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Vt,{size:18,className:"text-blue-500"}),"Calculate Per Diem"]}),e.jsx("button",{onClick:()=>b(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Calculate allowance for ",d?.employeeName,"'s trip to ",d?.city]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Daily Rate *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:d?.currency}),e.jsx("input",{type:"number",value:ee.dailyRate,onChange:e=>{const t=Number.parseFloat(e.target.value)||0;te({...ee,dailyRate:t})},className:"w-full pl-12 pr-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Number of Days *"}),e.jsx("input",{type:"number",value:ee.days,onChange:e=>te({...ee,days:Number.parseInt(e.target.value)||0}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Additional Allowance"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:d?.currency}),e.jsx("input",{type:"number",placeholder:"0.00",value:ee.additionalAllowance,onChange:e=>te({...ee,additionalAllowance:Number.parseFloat(e.target.value)||0}),className:"w-full pl-12 pr-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency"}),e.jsx("input",{type:"text",value:d?.currency||"",readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl bg-gray-50 text-gray-700"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{placeholder:"Any notes about this calculation",value:ee.notes,onChange:e=>te({...ee,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm",children:"Calculation Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-blue-700",children:"Daily Rate  Days:"}),e.jsx("span",{className:"font-medium text-blue-700",children:d&&ue(ee.dailyRate*ee.days,d.currency)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-blue-700",children:"Additional Allowance:"}),e.jsx("span",{className:"font-medium text-blue-700",children:d&&ue(ee.additionalAllowance,d.currency)})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Total Amount"}),e.jsx("p",{className:"text-lg font-bold text-blue-800",children:d&&ue(ee.dailyRate*ee.days+Number.parseFloat(ee.additionalAllowance||0),d.currency)})]})]})})]})]}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{C(!0),setTimeout(()=>{const e=ee.dailyRate*ee.days+Number.parseFloat(ee.additionalAllowance||0);te({...ee,totalAmount:e}),ne({...re,amount:e,totalAmount:e+Number.parseFloat(re.processingFee||0)}),C(!1),b(!1),j(!0)},1500)},disabled:S||ee.dailyRate<=0||ee.days<=0,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Calculating..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{size:14}),"Confirm Calculation"]})})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(t,{size:18,className:"text-blue-500"}),"Fund Transfer"]}),e.jsx("button",{onClick:()=>j(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Transfer funds to ",d?.employeeName,"'s ",d?.cardDetails.type," card"]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Card Details"}),e.jsxs("div",{className:"p-3 border border-gray-200 rounded-2xl bg-gray-50 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-full",children:e.jsx(N,{className:"text-blue-600",size:14})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:re.cardNumber}),e.jsxs("p",{className:"text-xs text-gray-600",children:["Holder: ",re.employeeName]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transfer Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:d?.currency}),e.jsx("input",{type:"number",value:re.amount,onChange:e=>ne({...re,amount:Number.parseFloat(e.target.value)||0}),className:"w-full pl-12 pr-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Currency"}),e.jsx("select",{value:re.currency,onChange:e=>ne({...re,currency:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:e.jsx("option",{value:d?.currency,children:d?.currency})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Processing Fee"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:d?.currency}),e.jsx("input",{type:"text",value:re.processingFee.toFixed(2),readOnly:!0,className:"w-full pl-12 pr-3 py-2 text-sm border border-gray-300 rounded-2xl bg-gray-50 text-gray-700"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-calculated (0.5%)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transfer Date"}),e.jsx("input",{type:"date",value:re.transferDate,onChange:e=>ne({...re,transferDate:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transfer Notes"}),e.jsx("textarea",{placeholder:"Any notes about this transfer",value:re.notes,onChange:e=>ne({...re,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),"USD"!==d?.currency&&e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(De,{size:14,className:"text-gray-500"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Exchange Rate"})]}),e.jsxs("p",{className:"text-xs text-gray-600",children:["1 USD = ",d&&D[d.currency]," ",d?.currency]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-800 mb-2 text-sm",children:"Transfer Summary"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-blue-700",children:"Transfer Amount:"}),e.jsx("span",{className:"font-medium text-blue-700",children:d&&ue(re.amount,d.currency)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-blue-700",children:"Processing Fee:"}),e.jsx("span",{className:"font-medium text-blue-700",children:d&&ue(re.processingFee,d.currency)})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-blue-700 mb-1",children:"Total to Transfer"}),e.jsx("p",{className:"text-lg font-bold text-blue-800",children:d&&ue(re.totalAmount,d.currency)}),e.jsxs("p",{className:"text-xs text-blue-600",children:["Approx."," ",d&&ue(re.totalAmount/D[d.currency],"USD")]})]})]})}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(T,{className:"w-4 h-4 mt-0.5 text-yellow-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium mb-1 text-sm text-yellow-800",children:"Important"}),e.jsxs("div",{className:"text-xs text-yellow-700",children:["By proceeding, you confirm that the transfer details are correct and funds will be sent to the employee's ",d?.cardDetails.type," card. This action cannot be undone."]})]})]})})]})]}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Back"}),e.jsx("button",{onClick:async()=>{E(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${Q}/api/travel-requests/${d.id}/finance-process`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({amount:ee.totalAmount,currency:re.currency,processingFee:re.processingFee,totalAmount:re.totalAmount,transferDate:re.transferDate})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to process transfer")}const r=await t.json(),n={...d,financeStatus:"processed",perDiemAmount:r.perDiemAmount,paymentDate:new Date(r.paymentDate||new Date)};u(n),J(e=>e.map(e=>e.id===d.id?n:e)),ae({recipient:d.email,subject:`Travel Funds Transfer - To ${d.location}`,message:`Dear ${d.employeeName},\n\nWe are pleased to inform you that your per diem allowance for your upcoming trip to ${d.city}, ${d.country} has been processed. A total of ${r.perDiemAmount} ${re.currency} has been transferred to your ${d.cardDetails.type} card ending in ${d.cardDetails.lastFour}.\n\nThe funds should be available within 24 hours.\n\nIf you have any questions, please contact the Finance Department.\n\nSafe travels!`,includeBreakdown:!0,sendCopy:!0}),k(!0),F(`Successfully processed payment of ${r.perDiemAmount} ${re.currency}`),q("success"),R(!0)}catch(ide){F(ide.message||"Failed to process transfer"),q("error"),R(!0)}finally{E(!1),j(!1)}},disabled:A||re.amount<=0,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:A?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{size:14}),"Process Transfer"]})})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Z,{size:18,className:"text-green-500"}),"Notify Employee"]}),e.jsx("button",{onClick:()=>k(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Send notification to ",d?.employeeName," about the fund transfer"]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Recipient *"}),e.jsx("input",{type:"email",value:se.recipient,onChange:e=>ae({...se,recipient:e.target.value}),readOnly:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl bg-gray-50 text-gray-700"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employee's email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsx("input",{type:"text",placeholder:"Notification subject",value:se.subject,onChange:e=>ae({...se,subject:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{placeholder:"Enter notification message",value:se.message,onChange:e=>ae({...se,message:e.target.value}),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:se.includeBreakdown,onChange:e=>ae({...se,includeBreakdown:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Include per diem breakdown"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:se.sendCopy,onChange:e=>ae({...se,sendCopy:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Send copy to finance"})]})]}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-2xl p-3",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-sm",children:"Preview"}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-3",children:[e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("p",{className:"font-medium text-gray-900 text-xs",children:["To: ",se.recipient]}),e.jsxs("p",{className:"font-medium text-gray-900 text-xs",children:["Subject: ",se.subject]})]}),e.jsx("hr",{className:"my-2"}),e.jsx("div",{className:"text-xs text-gray-700 whitespace-pre-line mb-2 max-h-20 overflow-y-auto",children:se.message}),se.includeBreakdown&&e.jsxs(e.Fragment,{children:[e.jsx("hr",{className:"my-2"}),e.jsx("h5",{className:"font-medium text-gray-900 mb-1 text-xs",children:"Per Diem Breakdown:"}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Daily Rate:"}),e.jsx("span",{className:"font-medium",children:d&&ue(ee.dailyRate,d.currency)})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Number of Days:"}),e.jsx("span",{className:"font-medium",children:ee.days})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Additional Allowance:"}),e.jsx("span",{className:"font-medium",children:d&&ue(ee.additionalAllowance,d.currency)})]}),e.jsx("hr",{className:"my-1"}),e.jsxs("div",{className:"flex justify-between text-xs font-semibold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsx("span",{children:d&&ue(re.totalAmount,d.currency)})]})]})]})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"w-4 h-4 mt-0.5 text-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium mb-1 text-sm text-green-800",children:"Ready to Send"}),e.jsxs("div",{className:"text-xs text-green-700",children:["The notification will be sent to ",d?.employeeName," with transfer confirmation details.",se.sendCopy&&" A copy will also be sent to the finance department."]})]})]})})]})]}),e.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>k(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Back"}),e.jsx("button",{onClick:async()=>{if(!_){P(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${Q}/api/travel-requests/${d.id}/send-notification`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(se)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to send notification")}await t.json();const r={...d,financeStatus:"completed"};u(r),J(e=>e.map(e=>e.id===d.id?r:e)),F("Notification sent successfully!"),q("success"),R(!0),k(!1)}catch(ide){F(ide.message||"Failed to send notification"),q("error"),R(!0)}finally{P(!1)}}},disabled:_||!se.subject||!se.message,className:"px-4 py-2 text-xs bg-green-500 text-white rounded-2xl hover:bg-green-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:_?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:14}),"Send Notification"]})})]})]})}),I&&e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsx("div",{className:"px-4 py-3 rounded-2xl shadow-lg border max-w-md "+("success"===B?"bg-green-50 border-green-200 text-green-800":"error"===B?"bg-red-50 border-red-200 text-red-800":"bg-blue-50 border-blue-200 text-blue-800"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===B&&e.jsx(n,{size:16,className:"text-green-600"}),"error"===B&&e.jsx(T,{size:16,className:"text-red-600"}),e.jsx("span",{className:"font-medium text-sm",children:z}),e.jsx("button",{onClick:()=>R(!1),className:"ml-2 text-gray-400 hover:text-gray-600","aria-label":"Dismiss notification",children:e.jsx(s,{size:14})})]})})})]})}function Jte(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Jte(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Qte(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Jte(e))&&(n&&(n+=" "),n+=t);return n}let Zte={data:""},ere=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tre=/\/\*[^]*?\*\/|  +/g,rre=/\n+/g,nre=(e,t)=>{let r="",n="",s="";for(let a in e){let i=e[a];"@"==a[0]?"i"==a[1]?r=a+" "+i+";":n+="f"==a[1]?nre(i,a):a+"{"+nre(i,"k"==a[1]?"":t)+"}":"object"==typeof i?n+=nre(i,t?t.replace(/([^,])+/g,e=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):a):null!=i&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=nre.p?nre.p(a,i):a+":"+i+";")}return r+(t&&s?t+"{"+s+"}":s)+n},sre={},are=e=>{if("object"==typeof e){let t="";for(let r in e)t+=r+are(e[r]);return t}return e};function ire(e){let t=this||{},r=e.call?e(t.p):e;return((e,t,r,n,s)=>{let a=are(e),i=sre[a]||(sre[a]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return"go"+r})(a));if(!sre[i]){let t=a!==e?e:(e=>{let t,r,n=[{}];for(;t=ere.exec(e.replace(tre,""));)t[4]?n.shift():t[3]?(r=t[3].replace(rre," ").trim(),n.unshift(n[0][r]=n[0][r]||{})):n[0][t[1]]=t[2].replace(rre," ").trim();return n[0]})(e);sre[i]=nre(s?{["@keyframes "+i]:t}:t,r?"":"."+i)}let o=r&&sre.g?sre.g:null;return r&&(sre.g=sre[i]),l=sre[i],c=t,d=n,(u=o)?c.data=c.data.replace(u,l):-1===c.data.indexOf(l)&&(c.data=d?l+c.data:c.data+l),i;var l,c,d,u})(r.unshift?r.raw?((e,t,r)=>e.reduce((e,n,s)=>{let a=t[s];if(a&&a.call){let e=a(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;a=t?"."+t:e&&"object"==typeof e?e.props?"":nre(e,""):!1===e?"":e}return e+n+(null==a?"":a)},""))(r,[].slice.call(arguments,1),t.p):r.reduce((e,r)=>Object.assign(e,r&&r.call?r(t.p):r),{}):r,(e=>{if("object"==typeof window){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Zte})(t.target),t.g,t.o,t.k)}function ore(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}function lre(){return lre=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lre.apply(this,arguments)}function cre(e,t){if(null==e)return{};var r,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(s[r]=e[r]);return s}ire.bind({g:1}),ire.bind({k:1});var dre=function(){return""},ure=Ur.createContext({enqueueSnackbar:dre,closeSnackbar:dre}),mre="@media (max-width:599.95px)",hre="@media (min-width:600px)",pre="unmounted",fre="exited",xre="entering",gre="entered",bre="exiting",yre=function(e){var t,r;function n(t){var r;r=e.call(this,t)||this;var n,s=t.appear;return r.appearStatus=null,t.in?s?(n=fre,r.appearStatus=xre):n=gre:n=t.unmountOnExit||t.mountOnEnter?pre:fre,r.state={status:n},r.nextCallback=null,r}r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===pre?{status:fre}:null};var s=n.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==xre&&r!==gre&&(t=xre):r!==xre&&r!==gre||(t=bre)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e=this.props.timeout,t=e,r=e;return null!=e&&"number"!=typeof e&&"string"!=typeof e&&(r=e.exit,t=e.enter),{exit:r,enter:t}},s.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===xre?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===fre&&this.setState({status:pre})},s.performEnter=function(e){var t=this,r=this.props.enter,n=e,s=this.getTimeouts();e||r?(this.props.onEnter&&this.props.onEnter(this.node,n),this.safeSetState({status:xre},function(){t.props.onEntering&&t.props.onEntering(t.node,n),t.onTransitionEnd(s.enter,function(){t.safeSetState({status:gre},function(){t.props.onEntered&&t.props.onEntered(t.node,n)})})})):this.safeSetState({status:gre},function(){t.props.onEntered&&t.props.onEntered(t.node,n)})},s.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts();t?(this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:bre},function(){e.props.onExiting&&e.props.onExiting(e.node),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:fre},function(){e.props.onExited&&e.props.onExited(e.node)})})})):this.safeSetState({status:fre},function(){e.props.onExited&&e.props.onExited(e.node)})},s.cancelNextCallback=function(){null!==this.nextCallback&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(){r&&(r=!1,t.nextCallback=null,e())},this.nextCallback.cancel=function(){r=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=null==e&&!this.props.addEndListener;this.node&&!r?(this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===pre)return null;var t=this.props;return(0,t.children)(e,cre(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]))},ore(n,[{key:"node",get:function(){var e,t=null===(e=this.props.nodeRef)||void 0===e?void 0:e.current;if(!t)throw new Error("notistack - Custom snackbar is not refForwarding");return t}}]),n}(Ur.Component);function vre(){}function jre(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function wre(e,t){return qr.useMemo(function(){return null==e&&null==t?null:function(r){jre(e,r),jre(t,r)}},[e,t])}function Nre(e){var t=e.timeout,r=e.style,n=void 0===r?{}:r,s=e.mode;return{duration:"object"==typeof t?t[s]||0:t,easing:n.transitionTimingFunction,delay:n.transitionDelay}}yre.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:vre,onEntering:vre,onEntered:vre,onExit:vre,onExiting:vre,onExited:vre};var kre="cubic-bezier(0.4, 0, 0.2, 1)",Sre="cubic-bezier(0.0, 0, 0.2, 1)",Cre="cubic-bezier(0.4, 0, 0.6, 1)",Are=function(e){e.scrollTop=e.scrollTop},Tre=function(e){return Math.round(e)+"ms"};function Ere(e,t){void 0===e&&(e=["all"]);var r=t||{},n=r.duration,s=void 0===n?300:n,a=r.easing,i=void 0===a?kre:a,o=r.delay,l=void 0===o?0:o;return(Array.isArray(e)?e:[e]).map(function(e){var t="string"==typeof s?s:Tre(s),r="string"==typeof l?l:Tre(l);return e+" "+t+" "+i+" "+r}).join(",")}function _re(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t.defaultView||window}function Pre(e,t){if(t){var r=function(e,t){var r,n=t.getBoundingClientRect(),s=_re(t);if(t.fakeTransform)r=t.fakeTransform;else{var a=s.getComputedStyle(t);r=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}var i=0,o=0;if(r&&"none"!==r&&"string"==typeof r){var l=r.split("(")[1].split(")")[0].split(",");i=parseInt(l[4],10),o=parseInt(l[5],10)}switch(e){case"left":return"translateX("+(s.innerWidth+i-n.left)+"px)";case"right":return"translateX(-"+(n.left+n.width-i)+"px)";case"up":return"translateY("+(s.innerHeight+o-n.top)+"px)";default:return"translateY(-"+(n.top+n.height-o)+"px)"}}(e,t);r&&(t.style.webkitTransform=r,t.style.transform=r)}}function Dre(e){return Object.entries(e).reduce(function(e,t){var r,n=t[0],s=t[1];return lre({},e,((r={})[n]=ire(s),r))},{})}qr.forwardRef(function(e,t){var r=e.children,n=e.direction,s=void 0===n?"down":n,a=e.in,i=e.style,o=e.timeout,l=void 0===o?0:o,c=e.onEnter,d=e.onEntered,u=e.onExit,m=e.onExited,h=cre(e,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),p=qr.useRef(null),f=wre(r.ref,p),x=wre(f,t),g=qr.useCallback(function(){p.current&&Pre(s,p.current)},[s]);return qr.useEffect(function(){if(!a&&"down"!==s&&"right"!==s){var e=function(e,t){var r;function n(){for(var n=this,s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];clearTimeout(r),r=setTimeout(function(){e.apply(n,a)},t)}return void 0===t&&(t=166),n.clear=function(){clearTimeout(r)},n}(function(){p.current&&Pre(s,p.current)}),t=_re(p.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}},[s,a]),qr.useEffect(function(){a||g()},[a,g]),qr.createElement(yre,Object.assign({appear:!0,nodeRef:p,onEnter:function(e,t){Pre(s,e),Are(e),c&&c(e,t)},onEntered:d,onEntering:function(e){var t=(null==i?void 0:i.transitionTimingFunction)||Sre,r=Nre({timeout:l,mode:"enter",style:lre({},i,{transitionTimingFunction:t})});e.style.webkitTransition=Ere("-webkit-transform",r),e.style.transition=Ere("transform",r),e.style.webkitTransform="none",e.style.transform="none"},onExit:function(e){var t=(null==i?void 0:i.transitionTimingFunction)||Cre,r=Nre({timeout:l,mode:"exit",style:lre({},i,{transitionTimingFunction:t})});e.style.webkitTransition=Ere("-webkit-transform",r),e.style.transition=Ere("transform",r),Pre(s,e),u&&u(e)},onExited:function(e){e.style.webkitTransition="",e.style.transition="",m&&m(e)},in:a,timeout:l},h),function(e,t){return qr.cloneElement(r,lre({ref:x,style:lre({visibility:"exited"!==e||a?void 0:"hidden"},i,{},r.props.style)},t))})}).displayName="Slide";var Ore="notistack-Snackbar",Lre="notistack-CollapseWrapper",Mre="notistack-MuiContent",Ire=function(e){return"notistack-MuiContent-"+e},Rre=Dre({root:{height:0},entered:{height:"auto"}}),zre="0px";qr.forwardRef(function(e,t){var r=e.children,n=e.in,s=e.onExited,a=qr.useRef(null),i=qr.useRef(null),o=wre(t,i),l=function(){return a.current?a.current.clientHeight:0};return qr.createElement(yre,{in:n,unmountOnExit:!0,onEnter:function(e){e.style.height=zre},onEntered:function(e){e.style.height="auto"},onEntering:function(e){var t=l(),r=Nre({timeout:175,mode:"enter"}),n=r.duration,s=r.easing;e.style.transitionDuration="string"==typeof n?n:n+"ms",e.style.height=t+"px",e.style.transitionTimingFunction=s||""},onExit:function(e){e.style.height=l()+"px"},onExited:s,onExiting:function(e){Are(e);var t=Nre({timeout:175,mode:"exit"}),r=t.duration,n=t.easing;e.style.transitionDuration="string"==typeof r?r:r+"ms",e.style.height=zre,e.style.transitionTimingFunction=n||""},nodeRef:i,timeout:175},function(e,t){return qr.createElement("div",Object.assign({ref:o,className:Qte(Rre.root,"entered"===e&&Rre.entered),style:lre({pointerEvents:"all",overflow:"hidden",minHeight:zre,transition:Ere("height")},"entered"===e&&{overflow:"visible"},{},"exited"===e&&!n&&{visibility:"hidden"})},t),qr.createElement("div",{ref:a,className:Lre,style:{display:"flex",width:"100%"}},r))})}).displayName="Collapse";var Fre,Bre="undefined"!=typeof window?qr.useLayoutEffect:qr.useEffect;function qre(e){var t=qr.useRef(e);return Bre(function(){t.current=e}),qr.useCallback(function(){return t.current.apply(void 0,arguments)},[])}qr.forwardRef(function(e,t){var r=e.children,n=e.className,s=e.autoHideDuration,a=e.disableWindowBlurListener,i=void 0!==a&&a,o=e.onClose,l=e.id,c=e.open,d=e.SnackbarProps,u=void 0===d?{}:d,m=qr.useRef(),h=qre(function(){o&&o.apply(void 0,arguments)}),p=qre(function(e){o&&null!=e&&(m.current&&clearTimeout(m.current),m.current=setTimeout(function(){h(null,"timeout",l)},e))});qr.useEffect(function(){return c&&p(s),function(){m.current&&clearTimeout(m.current)}},[c,s,p]);var f=function(){m.current&&clearTimeout(m.current)},x=qr.useCallback(function(){null!=s&&p(.5*s)},[s,p]);return qr.useEffect(function(){if(!i&&c)return window.addEventListener("focus",x),window.addEventListener("blur",f),function(){window.removeEventListener("focus",x),window.removeEventListener("blur",f)}},[i,x,c]),qr.createElement("div",Object.assign({ref:t},u,{className:Qte(Ore,n),onMouseEnter:function(e){u.onMouseEnter&&u.onMouseEnter(e),f()},onMouseLeave:function(e){u.onMouseLeave&&u.onMouseLeave(e),x()}}),r)}).displayName="Snackbar";var $re=Dre({root:(Fre={display:"flex",flexWrap:"wrap",flexGrow:1},Fre[hre]={flexGrow:"initial",minWidth:"288px"},Fre)}),Ure=qr.forwardRef(function(e,t){var r=e.className,n=cre(e,["className"]);return Ur.createElement("div",Object.assign({ref:t,className:Qte($re.root,r)},n))});Ure.displayName="SnackbarContent";var Wre,Vre,Hre,Gre=Dre({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:"20px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),Kre="notistack-snackbar";qr.forwardRef(function(e,t){var r=e.id,n=e.message,s=e.action,a=e.iconVariant,i=e.variant,o=e.hideIconVariant,l=e.style,c=e.className,d=a[i],u=s;return"function"==typeof u&&(u=u(r)),Ur.createElement(Ure,{ref:t,role:"alert","aria-describedby":Kre,style:l,className:Qte(Mre,Ire(i),Gre.root,Gre[i],c,!o&&d&&Gre.lessPadding)},Ur.createElement("div",{id:Kre,className:Gre.message},o?null:d,n),u&&Ur.createElement("div",{className:Gre.action},u))}).displayName="MaterialDesignContent";var Yre={default:20},Xre={default:6,dense:2},Jre="."+Lre;(Wre={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:Ere(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"})[Jre]={padding:Xre.default+"px 0px",transition:"padding 300ms ease 0ms"},Wre.maxWidth="calc(100% - "+2*Yre.default+"px)",Wre[mre]={width:"100%",maxWidth:"calc(100% - 32px)"},Xre.dense,Yre.default,Xre.default,Yre.default,Xre.default,(Vre={left:Yre.default+"px"})[hre]={alignItems:"flex-start"},Vre[mre]={left:"16px"},(Hre={right:Yre.default+"px"})[hre]={alignItems:"flex-end"},Hre[mre]={right:"16px"};const Qre="https://backend.nexusmwi.com";function Zre(){const[t,r]=qr.useState("overview"),[a,i]=qr.useState(!1),[u,h]=qr.useState(""),[p,f]=qr.useState(!1),[x,b]=qr.useState({overview:null,stats:null,quickLinks:null,loading:!1});$r();const{enqueueSnackbar:y}=qr.useContext(ure),[v,j]=qr.useState(0),[w,N]=qr.useState(0),[S,C]=qr.useState(0),[A,E]=qr.useState(!1),[P,D]=qr.useState(!1),[O,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(null),[F,B]=qr.useState(null),[q,$]=qr.useState([]),[U,W]=qr.useState([]),[V,H]=qr.useState([]),[K,Y]=qr.useState(!1),[X,J]=qr.useState(!1),[Q,Z]=qr.useState(null),[ee,te]=qr.useState({totalTrips:0,totalExpenses:0,averageExpense:0,budgetUtilization:0}),[ne,ae]=qr.useState({totalAllowances:0,totalExpenses:0,pendingReimbursements:0,currentBalance:0,monthlyAllowances:0,monthlyExpenses:0}),[ie,oe]=qr.useState([{category:"Transport",amount:0,percentage:45,color:"#3B82F6"},{category:"Accommodation",amount:0,percentage:30,color:"#10B981"},{category:"Meals",amount:0,percentage:15,color:"#F59E0B"},{category:"Other",amount:0,percentage:10,color:"#EF4444"}]),[le,ce]=qr.useState([]),[de,ue]=qr.useState("details"),me=e=>{const t="local"===e?"localTravelDraft":"internationalTravelDraft",r=localStorage.getItem(t);return r?JSON.parse(r):{destination:"",purpose:"",startDate:"",endDate:"",estimatedCost:"",accommodationCost:"",transportCost:"",mealsCost:"",otherCosts:"",budgetCode:"",department:"",urgency:"medium",receipts:[],meansOfTravel:"company"}},he=e=>{const t="local"===e?"localTravelDraft":"internationalTravelDraft";localStorage.removeItem(t)},pe=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal",onClick:u})=>{const m="large"===c?"col-span-2":"",h="large"===c?"text-2xl":"text-base";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow cursor-pointer ${m}`,onClick:u,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${h} font-bold text-gray-900 mb-1`,children:[o,"number"==typeof r?r.toLocaleString():r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},fe=({type:t,onCancel:r,onSubmitSuccess:n})=>{const[s,a]=qr.useState(()=>me(t)),[i,o]=qr.useState({transport:0,accommodation:0,meals:0,other:0,total:0}),[l,c]=qr.useState({isValid:!0,warnings:[],exceedsLimit:!1}),d=(e,t)=>{const r="local"===e?"localTravelDraft":"internationalTravelDraft";localStorage.setItem(r,JSON.stringify(t)),y("Draft saved successfully!",{variant:"success"})};return qr.useEffect(()=>{const e=setTimeout(()=>{d(t,s)},500);return()=>clearTimeout(e)},[s,t]),qr.useEffect(()=>{const e=Number.parseFloat(s.transportCost)||0,t=Number.parseFloat(s.accommodationCost)||0,r=Number.parseFloat(s.mealsCost)||0,n=Number.parseFloat(s.otherCosts)||0,i=e+t+r+n;if(o({transport:e,accommodation:t,meals:r,other:n,total:i}),a(e=>({...e,estimatedCost:i.toString()})),F&&i>0){const e=i>F.remaining,t=i/F.remaining>.3;c({isValid:!e,warnings:[...e?["This request exceeds your remaining travel budget"]:[],...t&&!e?["This request uses more than 30% of remaining budget"]:[]],exceedsLimit:e})}},[s.transportCost,s.accommodationCost,s.mealsCost,s.otherCosts,F]),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex border-b border-gray-200",children:[{id:"details",label:"Trip Details",icon:Se},{id:"budget",label:"Budget & Costs",icon:Wt},{id:"expenses",label:"Expense Planning",icon:Xe}].map(t=>e.jsxs("button",{onClick:()=>ue(t.id),className:"flex items-center gap-1.5 px-3 py-2 font-medium text-sm transition-colors "+(de===t.id?"text-blue-600 border-b-2 border-blue-600":"text-gray-500 hover:text-gray-700"),children:[e.jsx(t.icon,{size:14}),t.label]},t.id))}),"details"===de&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Destination *"}),e.jsx("input",{type:"text",value:s.destination,onChange:e=>a(t=>({...t,destination:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"international"===t?"e.g., London, UK":"e.g., Lilongwe, Malawi"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Purpose of Travel *"}),e.jsxs("select",{value:s.purpose,onChange:e=>a(t=>({...t,purpose:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select purpose"}),e.jsx("option",{value:"business_meeting",children:"Business Meeting"}),e.jsx("option",{value:"conference",children:"Conference/Training"}),e.jsx("option",{value:"client_visit",children:"Client Visit"}),e.jsx("option",{value:"project_work",children:"Project Work"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Start Date *"}),e.jsx("input",{type:"date",value:s.startDate,onChange:e=>a(t=>({...t,startDate:e.target.value})),min:(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End Date *"}),e.jsx("input",{type:"date",value:s.endDate,onChange:e=>a(t=>({...t,endDate:e.target.value})),min:s.startDate||(new Date).toISOString().split("T")[0],className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department *"}),e.jsxs("select",{value:s.department,onChange:e=>{const t=q.find(t=>t.name===e.target.value);a(r=>({...r,department:e.target.value,budgetCode:t?.departmentCode||""}))},children:[e.jsx("option",{value:"",children:"Select department"}),q.map(t=>e.jsx("option",{value:t.name,children:t.name},t._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Priority Level"}),e.jsxs("select",{value:s.urgency,onChange:e=>a(t=>({...t,urgency:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"low",children:"Low (2-4 weeks notice)"}),e.jsx("option",{value:"medium",children:"Medium (1-2 weeks notice)"}),e.jsx("option",{value:"high",children:"High (Urgent - less than 1 week)"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Means of Travel *"}),e.jsxs("select",{value:s.meansOfTravel,onChange:e=>a(t=>({...t,meansOfTravel:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select means"}),e.jsx("option",{value:"company",children:"Company Car"}),e.jsx("option",{value:"own",children:"Own Car"}),e.jsx("option",{value:"rental",children:"Rental"}),e.jsx("option",{value:"public",children:"Public Transport"}),e.jsx("option",{value:"other",children:"Other"})]})]})})]}),"budget"===de&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-3",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-sm",children:"Estimated Costs Breakdown"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Transport Costs (MWK)"}),e.jsx("input",{type:"number",value:s.transportCost,onChange:e=>a(t=>({...t,transportCost:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Accommodation Costs (MWK)"}),e.jsx("input",{type:"number",value:s.accommodationCost,onChange:e=>a(t=>({...t,accommodationCost:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Meals & Allowances (MWK)"}),e.jsx("input",{type:"number",value:s.mealsCost,onChange:e=>a(t=>({...t,mealsCost:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Other Expenses (MWK)"}),e.jsx("input",{type:"number",value:s.otherCosts,onChange:e=>a(t=>({...t,otherCosts:e.target.value})),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",placeholder:"0"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"font-medium text-gray-900 text-sm",children:"Cost Summary"}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["MWK ",i.total.toLocaleString()]})]}),e.jsx("div",{className:"space-y-1.5",children:[{label:"Transport",amount:i.transport,color:"#3B82F6"},{label:"Accommodation",amount:i.accommodation,color:"#10B981"},{label:"Meals",amount:i.meals,color:"#F59E0B"},{label:"Other",amount:i.other,color:"#EF4444"}].map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-xs text-gray-600",children:t.label})]}),e.jsxs("span",{className:"text-xs font-medium",children:["MWK ",t.amount.toLocaleString()]})]},r))})]}),l.warnings.length>0&&e.jsx("div",{className:"mt-3 p-2 rounded-2xl border "+(l.exceedsLimit?"bg-red-50 border-red-200":"bg-amber-50 border-amber-200"),children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ce,{className:"w-4 h-4 mt-0.5 "+(l.exceedsLimit?"text-red-600":"text-amber-600")}),e.jsxs("div",{children:[e.jsxs("h6",{className:"font-medium text-xs "+(l.exceedsLimit?"text-red-900":"text-amber-900"),children:["Budget ",l.exceedsLimit?"Exceeded":"Warning"]}),e.jsx("ul",{className:"text-xs mt-1 "+(l.exceedsLimit?"text-red-700":"text-amber-700"),children:l.warnings.map((t,r)=>e.jsxs("li",{children:[" ",t]},r))})]})]})})]})}),"expenses"===de&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-3",children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-3 text-sm",children:"Supporting Documents"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-4 text-center",children:[e.jsx(Be,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-gray-600 text-xs",children:"Upload pre-approval documents, quotes, or itineraries"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PDF, PNG, JPG up to 10MB each"})]}),e.jsx("button",{className:"mt-2 px-3 py-1.5 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors text-xs",children:"Choose Files"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-2 text-sm",children:"Travel Expense Guidelines"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-1",children:"Transport"}),e.jsxs("ul",{className:"text-blue-700 space-y-0.5",children:[e.jsx("li",{children:" Economy class flights only"}),e.jsx("li",{children:" Book 2 weeks in advance when possible"}),e.jsx("li",{children:" Use company preferred vendors"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-1",children:"Accommodation"}),e.jsxs("ul",{className:"text-blue-700 space-y-0.5",children:[e.jsx("li",{children:" Standard business hotels"}),e.jsx("li",{children:" Maximum MWK 25,000/night local"}),e.jsx("li",{children:" Maximum MWK 45,000/night international"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-1",children:"Meals"}),e.jsxs("ul",{className:"text-blue-700 space-y-0.5",children:[e.jsx("li",{children:" MWK 8,000/day local allowance"}),e.jsx("li",{children:" MWK 15,000/day international allowance"}),e.jsx("li",{children:" Keep receipts for reimbursement"})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-blue-800 mb-1",children:"Other"}),e.jsxs("ul",{className:"text-blue-700 space-y-0.5",children:[e.jsx("li",{children:" Airport parking/transfers"}),e.jsx("li",{children:" Business communications"}),e.jsx("li",{children:" Pre-approved incidentals"})]})]})]})]}),s.startDate&&s.endDate&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-3",children:[e.jsx("h4",{className:"font-bold text-green-900 mb-2 text-sm",children:"Estimated Daily Allowances"}),(()=>{const r=new Date(s.startDate),n=new Date(s.endDate),a=Math.ceil((n-r)/864e5)+1,i="international"===t?15e3:8e3,o=a*i;return e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-900",children:a}),e.jsx("div",{className:"text-xs text-green-700",children:"Days"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-green-900",children:["MWK ",i.toLocaleString()]}),e.jsx("div",{className:"text-xs text-green-700",children:"Daily Allowance"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold text-green-900",children:["MWK ",o.toLocaleString()]}),e.jsx("div",{className:"text-xs text-green-700",children:"Total Allowance"})]})]})})()]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>{he(t),a(me(t)),r()},className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>{d(t,s)},className:"px-4 py-2 text-xs bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Save Draft"}),e.jsxs("button",{type:"button",disabled:l.exceedsLimit,onClick:async()=>{try{await ge(s,t),he(t),y(("local"===t?"Local":"International")+" travel request submitted successfully!",{variant:"success"}),ve(),r(),n()}catch(ide){y(`Failed to submit travel request: ${ide.message}`,{variant:"error"})}},className:"px-4 py-2 text-xs rounded-2xl font-medium transition-colors flex items-center gap-1 "+(l.exceedsLimit?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:[e.jsx(Pe,{size:12}),"Submit Request"]})]})]})]})};qr.useEffect(()=>(L(!0),()=>L(!1)),[]);const xe=async()=>{try{Y(!0),Z(null);const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${Qre}/api/departments`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch department data");const r=(await t.json()).data||[];$(r);const n=r.reduce((e,t)=>e+.1*(t.budgetInfo?.total||t.budget||0),0),s=r.reduce((e,t)=>e+.1*(t.budgetInfo?.actualSpending||t.actualSpending||0),0);B({totalBudget:n,totalSpent:s,remaining:n-s,utilization:n>0?s/n*100:0})}catch(ide){Z(ide.message),B({totalBudget:25e4,totalSpent:18e4,remaining:7e4,utilization:72}),$([])}finally{Y(!1)}},ge=async(e,t)=>{try{const r=localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user"));let s="";n?.department?.departmentCode&&(s=n.department.departmentCode);const a={employee:n._id,purpose:e.purpose,departureDate:e.startDate,returnDate:e.endDate,location:e.destination,destination:"international"===t?e.destination:void 0,travelType:t,estimatedCost:e.estimatedCost,meansOfTravel:e.meansOfTravel||"company",currency:"international"===t?"USD":"MWK",documents:e.receipts,additionalNotes:"",fundingCodes:e.budgetCode};return(await hn.post(`${Qre}/api/travel-requests`,a,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}})).data}catch(ide){throw ide}},be=async()=>{try{J(!0);const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${Qre}/api/travel-requests?limit=10&sort=createdAt&order=desc`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=((await t.json()).data||[]).map((e,t)=>({id:e.requestId||`TR-2024-${String(t+1).padStart(3,"0")}`,destination:e.destination||"Unknown Destination",type:e.travelType||"Local",status:e.status||"pending",date:e.travelDate?new Date(e.travelDate).toLocaleDateString():"TBD",amount:`MWK ${(e.estimatedCost||e.totalCost||0).toLocaleString()}`,purpose:e.purpose||"Business Trip"}));H(e);const r=e.length,n=e.reduce((e,t)=>e+(Number.parseFloat(t.amount.replace(/[MWK\s,]/g,""))||0),0);te({totalTrips:r,totalExpenses:n,averageExpense:r>0?n/r:0,budgetUtilization:F?n/F.totalBudget*100:0});const s=e.filter(e=>"approved"===e.status),a=e.filter(e=>"pending"===e.status),i=s.reduce((e,t)=>e+(Number.parseFloat(t.amount.replace(/[MWK\s,]/g,""))||0),0),o=a.reduce((e,t)=>e+(Number.parseFloat(t.amount.replace(/[MWK\s,]/g,""))||0),0),l=e.filter(e=>{const t=new Date(e.date),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).reduce((e,t)=>e+(Number.parseFloat(t.amount.replace(/[MWK\s,]/g,""))||0),0);ae({totalAllowances:F?F.totalBudget:25e4,totalExpenses:i,pendingReimbursements:o,currentBalance:F?F.remaining:7e4,monthlyAllowances:F?Math.round(F.totalBudget/12):2e4,monthlyExpenses:l});const c=Math.round(.45*i),d=Math.round(.3*i),u=Math.round(.15*i);oe([{category:"Transport",amount:c,percentage:45,color:"#3B82F6"},{category:"Accommodation",amount:d,percentage:30,color:"#10B981"},{category:"Meals",amount:u,percentage:15,color:"#F59E0B"},{category:"Other",amount:i-c-d-u,percentage:10,color:"#EF4444"}]);const m=a.slice(0,3).map((e,t)=>({id:t+1,type:`${e.type} Travel - ${e.destination.split(",")[0]}`,amount:Number.parseFloat(e.amount.replace(/[MWK\s,]/g,""))||0,submittedDate:e.date,expectedApproval:new Date(Date.now()+24*(3+t)*60*60*1e3).toISOString().split("T")[0],status:"under_review",receipts:Math.floor(3*Math.random())+1}));ce(m)}else{H([{id:"TR-2024-001",destination:"Lilongwe, Malawi",type:"Local",status:"completed",date:"Mar 15-17, 2024",amount:"MWK 45,000",purpose:"Client Meeting"},{id:"TR-2024-002",destination:"Johannesburg, SA",type:"International",status:"approved",date:"Apr 20-25, 2024",amount:"MWK 125,000",purpose:"Conference"},{id:"TR-2024-003",destination:"Blantyre, Malawi",type:"Local",status:"pending",date:"May 10-12, 2024",amount:"MWK 32,000",purpose:"Training"}]),te({totalTrips:12,totalExpenses:18e4,averageExpense:15e3,budgetUtilization:72}),ae({totalAllowances:25e4,totalExpenses:18e4,pendingReimbursements:32e3,currentBalance:7e4,monthlyAllowances:2e4,monthlyExpenses:45e3})}}catch(ide){H([{id:"TR-2024-001",destination:"Lilongwe, Malawi",type:"Local",status:"completed",date:"Mar 15-17, 2024",amount:"MWK 45,000",purpose:"Client Meeting"}]),te({totalTrips:12,totalExpenses:18e4,averageExpense:15e3,budgetUtilization:72}),ae({totalAllowances:25e4,totalExpenses:18e4,pendingReimbursements:32e3,currentBalance:7e4,monthlyAllowances:2e4,monthlyExpenses:45e3})}finally{J(!1)}},ye=async()=>{try{const e=localStorage.getItem("token"),t=await hn.get("undefined/api/travel-requests/pending/stat",{headers:{Authorization:`Bearer ${e}`}});t.data&&(j(t.data.totalPending||0),N(t.data.pendingLocal||0),C(t.data.pendingInternational||0))}catch(ide){j(3),N(2),C(1)}};qr.useEffect(()=>{xe(),be(),ye()},[]);const ve=()=>{xe(),be(),ye()},je=F?[{name:"Transport",value:Math.round(.45*F.totalSpent),percentage:45,color:"#3b82f6"},{name:"Accommodation",value:Math.round(.3*F.totalSpent),percentage:30,color:"#10b981"},{name:"Meals",value:Math.round(.15*F.totalSpent),percentage:15,color:"#f59e0b"},{name:"Other",value:Math.round(.1*F.totalSpent),percentage:10,color:"#ef4444"}]:[{name:"Transport",value:81e3,percentage:45,color:"#3b82f6"},{name:"Accommodation",value:54e3,percentage:30,color:"#10b981"},{name:"Meals",value:27e3,percentage:15,color:"#f59e0b"},{name:"Other",value:18e3,percentage:10,color:"#ef4444"}],Ne=e=>{switch(e){case"completed":return"text-green-700 bg-green-50 border-green-200";case"approved":return"text-blue-700 bg-blue-50 border-blue-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";case"rejected":return"text-red-700 bg-red-50 border-red-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},ke=t=>{switch(t){case"completed":case"approved":return e.jsx(n,{size:12});case"pending":return e.jsx(l,{size:12});case"rejected":return e.jsx(s,{size:12});default:return e.jsx(T,{size:12})}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 sticky top-0 z-40",children:[e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("div",{children:e.jsxs("h1",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(Ft,{size:20})}),"Travel Dashboard"]})})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{onClick:()=>f(!p),className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors",children:e.jsx(Re,{size:16})}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors",children:e.jsx(at,{size:16})}),e.jsx("button",{className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors",children:e.jsx(we,{size:16})}),e.jsx("button",{onClick:ve,disabled:K||X,className:"p-2 rounded-xl bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors",children:e.jsx(G,{size:16,className:K||X?"animate-spin":""})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!a),className:"px-3 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-2xl hover:from-blue-600 hover:to-blue-700 transition-all text-xs font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-1.5",children:[e.jsx(Le,{size:16}),"New Travel Request"]}),a&&e.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-2xl shadow-xl border border-gray-200 z-50",children:e.jsxs("div",{className:"p-1.5",children:[e.jsxs("button",{onClick:()=>{E(!0),i(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left hover:bg-blue-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl",children:e.jsx(Se,{size:14,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"Local Travel"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Domestic business trips"})]})]}),e.jsxs("button",{onClick:()=>{D(!0),i(!1)},className:"w-full flex items-center space-x-2 px-3 py-2 text-left hover:bg-purple-50 rounded-xl transition-colors",children:[e.jsx("div",{className:"p-1.5 bg-purple-100 rounded-xl",children:e.jsx(De,{size:14,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:"International Travel"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Global business trips"})]})]})]})})]})]})]}),p&&e.jsxs("div",{className:"max-w-7xl mx-auto mt-3 flex items-center bg-gray-50 rounded-2xl px-3 py-2 border border-gray-200 transition-all",children:[e.jsx(Re,{size:16,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search travel requests, destinations, or expenses...",value:u,onChange:e=>h(e.target.value),className:"bg-transparent border-none outline-none text-gray-800 w-full pl-2 placeholder-gray-400 text-sm"})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 mb-4 shadow-sm",children:[e.jsx("div",{className:"flex border-b border-gray-200 bg-white rounded-t-2xl",children:["overview","analytics","expenses"].map(n=>e.jsxs("button",{onClick:()=>r(n),className:"flex-1 py-3 text-sm font-medium transition-all relative "+(t===n?"text-blue-600":"text-gray-500 hover:text-gray-800"),children:["overview"===n&&e.jsx(k,{size:14,className:"inline mr-1.5"}),"analytics"===n&&e.jsx(d,{size:14,className:"inline mr-1.5"}),"expenses"===n&&e.jsx(Wt,{size:14,className:"inline mr-1.5"}),n.charAt(0).toUpperCase()+n.slice(1),t===n&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},n))}),"overview"===t&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-3 border border-blue-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-xl shadow-sm",children:e.jsx(Ft,{size:18,className:"text-white"})}),e.jsx("div",{className:"text-right",children:X?e.jsx(Ue,{size:16,className:"animate-spin text-blue-600"}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-bold text-blue-900",children:ee.totalTrips}),e.jsx("div",{className:"text-xs text-blue-600",children:"Total Trips"})]})})]}),e.jsxs("div",{className:"flex items-center text-xs text-blue-700",children:[e.jsx(Ht,{size:12,className:"mr-1"}),e.jsx("span",{children:"+2 from last month"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-3 border border-amber-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-500 rounded-xl shadow-sm",children:e.jsx(l,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xl font-bold text-amber-900",children:v}),e.jsx("div",{className:"text-xs text-amber-600",children:"Pending Approvals"})]})]}),e.jsxs("div",{className:"text-xs text-amber-700",children:[w," local, ",S," international"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-3 border border-green-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-xl shadow-sm",children:e.jsx(Wt,{size:18,className:"text-white"})}),e.jsx("div",{className:"text-right",children:K?e.jsx(Ue,{size:16,className:"animate-spin text-green-600"}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-xl font-bold text-green-900",children:["MWK ",ne.totalExpenses.toLocaleString()]}),e.jsx("div",{className:"text-xs text-green-600",children:"Total Expenses"})]})})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"w-full bg-green-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-green-500 h-1.5 rounded-full transition-all duration-1000",style:{width:O?`${F?F.utilization:72}%`:"0%"}})}),e.jsxs("div",{className:"text-xs text-green-700",children:[F?F.utilization.toFixed(1):"72","% of annual budget"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-3 border border-purple-200 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-xl shadow-sm",children:e.jsx(m,{size:18,className:"text-white"})}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xl font-bold text-purple-900",children:["MWK ",ne.currentBalance.toLocaleString()]}),e.jsx("div",{className:"text-xs text-purple-600",children:"Available Balance"})]})]}),e.jsx("div",{className:"text-xs text-purple-700",children:"Current allocation remaining"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-4",children:[e.jsx(pe,{title:"Month Allowances",value:ne.monthlyAllowances,prefix:"MWK ",icon:g,color:"green",trend:8,subtitle:"This month allocated"}),e.jsx(pe,{title:"Month Expenses",value:ne.monthlyExpenses,prefix:"MWK ",icon:Xe,color:"blue",trend:-3,subtitle:"This month spent"}),e.jsx(pe,{title:"Pending Reimbursements",value:ne.pendingReimbursements,prefix:"MWK ",icon:l,color:"orange",subtitle:"Awaiting approval"}),e.jsx(pe,{title:"Avg Trip Cost",value:ee.averageExpense,prefix:"MWK ",icon:k,color:"purple",trend:5,subtitle:"Per trip average"})]}),F&&F.utilization>80&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-2xl p-3 mb-4 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-1.5 bg-amber-100 rounded-xl",children:e.jsx(Ce,{className:"w-4 h-4 text-amber-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-amber-900 mb-1 text-sm",children:"Budget Alert - Immediate Attention Required"}),e.jsxs("p",{className:"text-amber-800 mb-2 text-xs",children:["You've used ",F.utilization.toFixed(1),"% of your annual travel budget. Consider reviewing upcoming travel plans to stay within budget limits."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-3 py-1.5 bg-amber-600 text-white rounded-2xl hover:bg-amber-700 transition-colors font-medium text-xs",children:"Review Budget"}),e.jsx("button",{className:"px-3 py-1.5 bg-white text-amber-600 border border-amber-600 rounded-2xl hover:bg-amber-50 transition-colors font-medium text-xs",children:"View Guidelines"})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(re,{className:"w-4 h-4 text-blue-500"}),e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Expense Breakdown"})]}),e.jsx(Vk,{width:"100%",height:150,children:e.jsxs(RU,{children:[e.jsx(gR,{data:ie,cx:"50%",cy:"50%",innerRadius:30,outerRadius:60,paddingAngle:5,dataKey:"amount",children:ie.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}})]})}),e.jsx("div",{className:"space-y-1.5 mt-3",children:ie.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-600",children:t.category})]}),e.jsxs("span",{className:"font-medium",children:["MWK ",t.amount.toLocaleString()]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(De,{className:"w-4 h-4 text-purple-500"}),e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Travel Types"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-gray-700 font-medium text-xs",children:"Local Travel"})]}),e.jsxs("span",{className:"text-gray-900 font-bold text-xs",children:[V.filter(e=>"Local"===e.type).length," trips"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-1000",style:{width:O?"75%":"0%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-gray-700 font-medium text-xs",children:"International"})]}),e.jsxs("span",{className:"text-gray-900 font-bold text-xs",children:[V.filter(e=>"International"===e.type).length," trips"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full transition-all duration-1000 delay-300",style:{width:O?"25%":"0%"}})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-xs",children:"Top Destinations"}),e.jsx("div",{className:"space-y-2",children:V.slice(0,3).map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:["International"===t.type?e.jsx(De,{size:12,className:"text-purple-500"}):e.jsx(Se,{size:12,className:"text-blue-500"}),e.jsx("span",{className:"text-gray-700 text-xs",children:t.destination.split(",")[0]})]}),e.jsx("span",{className:"text-gray-900 font-medium text-xs",children:t.amount})]},r))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(c,{className:"w-4 h-4 text-amber-500"}),e.jsx("h3",{className:"font-bold text-gray-900 text-sm",children:"Pending Claims"})]}),e.jsx("div",{className:"space-y-2",children:le.length>0?le.map((t,r)=>e.jsxs("div",{className:"p-2 rounded-xl border-l-4 transition-all hover:shadow-sm "+("approved"===t.status?"bg-green-50 border-green-500":"under_review"===t.status?"bg-blue-50 border-blue-500":"bg-yellow-50 border-yellow-500"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-xs",children:t.type}),e.jsxs("span",{className:"text-xs font-bold text-gray-900",children:["MWK ",t.amount.toLocaleString()]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Submitted: ",t.submittedDate]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium text-xs "+("approved"===t.status?"bg-green-100 text-green-700":"under_review"===t.status?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"),children:t.status.replace("_"," ")}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500 text-xs",children:[e.jsx(Xe,{size:10}),e.jsxs("span",{children:[t.receipts," receipts"]})]})]})]},r)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(n,{size:24,className:"mx-auto text-green-500 mb-2"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"No pending claims"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"All expenses are up to date"})]})}),le.length>0&&e.jsx("button",{className:"w-full mt-3 px-3 py-1.5 bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium text-xs",children:"View All Claims"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[e.jsxs(Hr,{to:"/travel/requests",className:"group bg-white rounded-2xl p-3 border border-gray-200 hover:shadow-md transition-all hover:scale-105 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-blue-500/10 rounded-full transform translate-x-6 -translate-y-6"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-xl group-hover:bg-blue-200 transition-colors shadow-sm",children:e.jsx(c,{size:18,className:"text-blue-600"})}),e.jsx(se,{size:16,className:"text-gray-400 group-hover:text-blue-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:"Manage Requests"}),e.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"View and manage all your travel requests with enhanced tracking"}),e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-medium",children:[ee.totalTrips," total"]}),e.jsxs("span",{className:"bg-amber-100 text-amber-800 px-2 py-0.5 rounded-full text-xs font-medium",children:[v," pending"]})]})]})]}),e.jsxs("button",{onClick:()=>E(!0),className:"group bg-white rounded-2xl p-3 border border-gray-200 hover:shadow-md transition-all hover:scale-105 relative overflow-hidden text-left",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-green-500/10 rounded-full transform translate-x-6 -translate-y-6"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-xl group-hover:bg-green-200 transition-colors shadow-sm",children:e.jsx(Le,{size:18,className:"text-green-600"})}),e.jsx(se,{size:16,className:"text-gray-400 group-hover:text-green-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:"New Travel Request"}),e.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"Submit new travel requests with budget validation"}),e.jsx("div",{className:"flex items-center space-x-1.5",children:e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded-full text-xs font-medium",children:"Real-time budget check"})})]})]}),e.jsxs(Hr,{to:"/travel/expenses",className:"group bg-white rounded-2xl p-3 border border-gray-200 hover:shadow-md transition-all hover:scale-105 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-purple-500/10 rounded-full transform translate-x-6 -translate-y-6"}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-xl group-hover:bg-purple-200 transition-colors shadow-sm",children:e.jsx(Xe,{size:18,className:"text-purple-600"})}),e.jsx(se,{size:16,className:"text-gray-400 group-hover:text-purple-600 group-hover:translate-x-1 transition-all"})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1",children:"Financial Reconciliation"}),e.jsx("p",{className:"text-gray-600 text-xs mb-2",children:"Track expenses and manage reimbursements"}),e.jsx("div",{className:"flex items-center space-x-1.5",children:e.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full text-xs font-medium",children:["MWK ",ne.pendingReimbursements.toLocaleString()," pending"]})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100 bg-gradient-to-r from-blue-50/50 to-purple-50/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(o,{size:16,className:"text-blue-500"}),"Recent Travel Activity"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[X&&e.jsx(Ue,{size:14,className:"animate-spin text-blue-500"}),e.jsxs("button",{onClick:be,className:"flex items-center gap-1 text-blue-600 hover:text-blue-800 text-xs font-medium bg-blue-50 px-2 py-1 rounded-xl hover:bg-blue-100 transition-colors",children:[e.jsx(G,{size:12}),"Refresh"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-xs font-medium",children:"View All"})]})]})}),X?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ue,{size:24,className:"animate-spin text-gray-400 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-600 text-sm",children:"Loading travel activity..."})]})}):e.jsx("div",{className:"divide-y divide-gray-100",children:V.slice(0,5).map(t=>e.jsx("div",{className:"p-3 hover:bg-gradient-to-r hover:from-blue-50/30 hover:to-purple-50/30 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl shadow-sm",children:"International"===t.type?e.jsx(De,{size:16,className:"text-purple-600"}):e.jsx(Se,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.destination}),e.jsxs("div",{className:"flex items-center space-x-2 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-500",children:t.date}),e.jsx("span",{className:"text-gray-300",children:""}),e.jsx("span",{className:"text-xs text-gray-500",children:t.purpose}),e.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded-full font-medium "+("International"===t.type?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"),children:t.type})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t.amount}),e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Ne(t.status)}`,children:[ke(t.status),e.jsx("span",{className:"ml-1 capitalize",children:t.status})]})]}),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-colors",children:e.jsx(Ve,{size:14})})]})]})]})},t.id))})]})]}),"analytics"===t&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 mb-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(k,{size:20,className:"text-blue-500"}),"Travel History"]}),e.jsx("p",{className:"text-gray-600 mt-0.5 text-xs",children:"Your travel patterns over the last 6 months"})]}),e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsx("button",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors text-xs font-medium",children:"Local"}),e.jsx("button",{className:"px-2 py-1 bg-purple-50 text-purple-600 rounded-xl hover:bg-purple-100 transition-colors text-xs font-medium",children:"International"})]})]}),e.jsx("div",{className:"h-64",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(IU,{data:[{name:"Jan",local:2,international:1,total:3},{name:"Feb",local:1,international:0,total:1},{name:"Mar",local:3,international:1,total:4},{name:"Apr",local:0,international:2,total:2},{name:"May",local:2,international:0,total:2},{name:"Jun",local:1,international:1,total:2}],children:[e.jsx(dq,{strokeDasharray:"3 3",vertical:!1,stroke:"#e5e7eb"}),e.jsx(S$,{dataKey:"name",stroke:"#6b7280",fontSize:12}),e.jsx(I$,{allowDecimals:!1,stroke:"#6b7280",fontSize:12}),e.jsx(Lk,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),e.jsx(sF,{dataKey:"local",name:"Local Trips",fill:"#3b82f6",radius:[4,4,0,0]}),e.jsx(sF,{dataKey:"international",name:"International Trips",fill:"#8b5cf6",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(re,{size:16,className:"text-green-500"}),"Travel by Type"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-gray-700 font-medium text-xs",children:"Local Travel"})]}),e.jsxs("span",{className:"text-gray-900 font-bold text-xs",children:[V.filter(e=>"Local"===e.type).length," trips (75%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-500 h-1.5 rounded-full transition-all duration-1000",style:{width:O?"75%":"0%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-gray-700 font-medium text-xs",children:"International Travel"})]}),e.jsxs("span",{className:"text-gray-900 font-bold text-xs",children:[V.filter(e=>"International"===e.type).length," trips (25%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-purple-500 h-1.5 rounded-full transition-all duration-1000 delay-300",style:{width:O?"25%":"0%"}})})]}),e.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-xs",children:"Top Destinations"}),e.jsx("div",{className:"space-y-2",children:V.slice(0,3).map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"text-gray-700 text-xs",children:t.destination.split(",")[0]}),e.jsx("span",{className:"text-gray-900 font-medium text-xs",children:"1 trip"})]},r))})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 shadow-sm",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(m,{size:16,className:"text-amber-500"}),"Expense Breakdown"]}),e.jsxs("div",{className:"space-y-4",children:[je.map((t,r)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-700 font-medium text-xs",children:t.name})]}),e.jsxs("span",{className:"text-gray-900 font-bold text-xs",children:["MWK ",t.value.toLocaleString()," (",t.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full transition-all duration-1000",style:{backgroundColor:t.color,width:O?`${t.percentage}%`:"0%",transitionDelay:200*r+"ms"}})})]},r)),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-green-50 to-blue-50 rounded-xl border border-green-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-green-900 font-bold text-sm",children:"Total Expenses"}),e.jsx("p",{className:"text-green-700 text-xs",children:"Current year"})]}),e.jsxs("span",{className:"text-lg font-bold text-green-900",children:["MWK ",F?F.totalSpent.toLocaleString():"180,000"]})]})})]})]})]})]}),"expenses"===t&&e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-3 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-xl",children:e.jsx(Ft,{size:16,className:"text-white"})}),e.jsx(d,{size:12,className:"text-blue-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-900 mb-0.5",children:["MWK ",je[0]?.value.toLocaleString()||"81,000"]}),e.jsx("div",{className:"text-xs text-blue-600",children:"Transport Costs"}),e.jsxs("div",{className:"text-xs text-blue-500 mt-1",children:[je[0]?.percentage||45,"% of total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-2xl p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-xl",children:e.jsx(Gt,{size:16,className:"text-white"})}),e.jsx(d,{size:12,className:"text-green-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-green-900 mb-0.5",children:["MWK ",je[1]?.value.toLocaleString()||"54,000"]}),e.jsx("div",{className:"text-xs text-green-600",children:"Accommodation"}),e.jsxs("div",{className:"text-xs text-green-500 mt-1",children:[je[1]?.percentage||30,"% of total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 rounded-2xl p-3 border border-amber-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-amber-500 rounded-xl",children:e.jsx(Kt,{size:16,className:"text-white"})}),e.jsx(We,{size:12,className:"text-amber-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-amber-900 mb-0.5",children:["MWK ",je[2]?.value.toLocaleString()||"27,000"]}),e.jsx("div",{className:"text-xs text-amber-600",children:"Meals"}),e.jsxs("div",{className:"text-xs text-amber-500 mt-1",children:[je[2]?.percentage||15,"% of total"]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 rounded-2xl p-3 border border-red-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 bg-red-500 rounded-xl",children:e.jsx(Bt,{size:16,className:"text-white"})}),e.jsx(d,{size:12,className:"text-red-600"})]}),e.jsxs("div",{className:"text-lg font-bold text-red-900 mb-0.5",children:["MWK ",je[3]?.value.toLocaleString()||"18,000"]}),e.jsx("div",{className:"text-xs text-red-600",children:"Other"}),e.jsxs("div",{className:"text-xs text-red-500 mt-1",children:[je[3]?.percentage||10,"% of total"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(c,{size:16,className:"text-purple-500"}),"Recent Expense Reports"]}),e.jsxs("div",{className:"flex items-center space-x-1.5",children:[e.jsxs("button",{className:"px-2 py-1 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors text-xs font-medium flex items-center gap-1",children:[e.jsx(Be,{size:12}),"Upload Receipt"]}),e.jsxs("button",{className:"px-2 py-1 bg-green-50 text-green-600 rounded-xl hover:bg-green-100 transition-colors text-xs font-medium flex items-center gap-1",children:[e.jsx(Le,{size:12}),"New Report"]})]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Report ID"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trip"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submitted"}),e.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:V.slice(0,3).map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("span",{className:"text-xs font-medium text-gray-900",children:["EXP-",t.id.split("-")[2]]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("span",{className:"text-xs text-gray-900",children:[t.destination," - ",t.purpose]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-xs font-medium text-gray-900",children:t.amount})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${Ne(t.status)}`,children:[ke(t.status),e.jsx("span",{className:"ml-1",children:t.status})]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"text-xs text-gray-500",children:t.date})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(_,{size:12})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-xl transition-colors",children:e.jsx(Ie,{size:12})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(Qe,{size:12})})]})})]},r))})]})})]})]})]})}),A&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"px-5 py-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl text-white",children:e.jsx(Se,{size:18})}),"New Local Travel Request"]}),e.jsx("button",{onClick:()=>E(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]}),F&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(g,{size:14,className:"text-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Total Budget"})]}),e.jsxs("span",{className:"font-bold text-gray-900 text-xs",children:["MWK ",F.totalBudget.toLocaleString()]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Wt,{size:14,className:"text-emerald-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Remaining"})]}),e.jsxs("span",{className:"font-bold text-emerald-600 text-xs",children:["MWK ",F.remaining.toLocaleString()]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(k,{size:14,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Utilization"})]}),e.jsxs("span",{className:"font-bold text-purple-600 text-xs",children:[F.utilization.toFixed(1),"%"]})]})})]})]}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsx(fe,{type:"local",onCancel:()=>E(!1),onSubmitSuccess:()=>{E(!1),y("Local travel request submitted successfully!",{variant:"success"}),ve()}})})]})}),P&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"px-5 py-3 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl text-white",children:e.jsx(De,{size:18})}),"New International Travel Request"]}),e.jsx("button",{onClick:()=>D(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]}),F&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-2",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(g,{size:14,className:"text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Total Budget"})]}),e.jsxs("span",{className:"font-bold text-gray-900 text-xs",children:["MWK ",F.totalBudget.toLocaleString()]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Ce,{size:14,className:"text-amber-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Int'l Allowance"}),e.jsx("div",{className:"text-xs text-amber-600",children:"Higher daily rates apply"})]})]})}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-xl p-2 border border-white/50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(l,{size:14,className:"text-blue-600"}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Processing"})]}),e.jsx("span",{className:"font-bold text-blue-600 text-xs",children:"5-7 days"})]})})]})]}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsx(fe,{type:"international",onCancel:()=>D(!1),onSubmitSuccess:()=>{D(!1),y("International travel request submitted successfully!",{variant:"success"}),ve()}})})]})}),a&&e.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>i(!1)})]})}const ene=({onCancel:t,onSubmitSuccess:a})=>{const i=$r(),[o,l]=qr.useState(0),[c,d]=qr.useState({purpose:"",departureDate:"",returnDate:"",travelDays:0,country:"",fundingCodes:"",meansOfTravel:"company",currency:"",documents:[],location:"",travelType:"international",estimatedCost:"",numberOfTravelers:1,accommodationNeeded:!1,emergencyContact:"",specialRequirements:"",businessJustification:"",department:"",visaRequired:!1,passportExpiry:"",insuranceNeeded:!0}),[h,p]=qr.useState({}),[f,x]=qr.useState(!1),[g,b]=qr.useState(!1),[y,j]=qr.useState(!1),[w,k]=qr.useState(""),[S,C]=qr.useState(0),[A,E]=qr.useState(!1),[P,D]=qr.useState(!1),O=[{id:0,title:"Travel Details",description:"Basic travel information and destination",icon:e.jsx(De,{size:20})},{id:1,title:"Dates & Logistics",description:"Travel dates and transportation",icon:e.jsx(v,{size:20})},{id:2,title:"Budget & Documentation",description:"Funding, documents, and submission",icon:e.jsx(N,{size:20})}],M=[{name:"United Kingdom",code:"GB",currencies:["GBP","EUR"],visaRequired:!1},{name:"France",code:"FR",currencies:["EUR"],visaRequired:!1},{name:"Germany",code:"DE",currencies:["EUR"],visaRequired:!1},{name:"Japan",code:"JP",currencies:["JPY"],visaRequired:!0},{name:"Australia",code:"AU",currencies:["AUD"],visaRequired:!0},{name:"Canada",code:"CA",currencies:["CAD"],visaRequired:!1},{name:"Brazil",code:"BR",currencies:["BRL"],visaRequired:!0},{name:"India",code:"IN",currencies:["INR"],visaRequired:!0},{name:"South Africa",code:"ZA",currencies:["ZAR"],visaRequired:!1},{name:"China",code:"CN",currencies:["CNY"],visaRequired:!0},{name:"United States",code:"US",currencies:["USD"],visaRequired:!1},{name:"Singapore",code:"SG",currencies:["SGD"],visaRequired:!1},{name:"Thailand",code:"TH",currencies:["THB"],visaRequired:!1},{name:"Kenya",code:"KE",currencies:["KES"],visaRequired:!0}],I=[{value:"flight",label:"Flight",icon:e.jsx(Ft,{size:16}),description:"International air travel"},{value:"company",label:"Company Vehicle",icon:e.jsx(L,{size:16}),description:"Use company fleet"},{value:"personal",label:"Personal Vehicle",icon:e.jsx(Se,{size:16}),description:"Use personal vehicle"},{value:"other",label:"Other Transport",icon:e.jsx(De,{size:16}),description:"Train, bus, or other"}];qr.useEffect(()=>{if(D(!0),c.departureDate&&c.returnDate){const e=new Date(c.departureDate),t=new Date(c.returnDate),r=un(t,e)+1;d(e=>({...e,travelDays:r>0?r:0}))}const e=setTimeout(()=>{Object.values(c).some(e=>""!==e&&1!==e&&!1!==e&&0!==e&&0!==e.length)&&(localStorage.setItem("internationalTravelDraft",JSON.stringify(c)),E(!0),setTimeout(()=>E(!1),2e3))},3e3);return()=>clearTimeout(e)},[c]),qr.useEffect(()=>{const e=localStorage.getItem("internationalTravelDraft");e&&d(JSON.parse(e))},[]),qr.useEffect(()=>{let e=0;c.purpose&&e++,c.departureDate&&e++,c.returnDate&&e++,c.country&&e++,c.fundingCodes&&e++,c.currency&&e++,c.department&&e++,c.businessJustification&&e++,c.meansOfTravel&&e++,c.documents.length>0&&e++,C(e/10*100)},[c]);const R=e=>{const{name:t,value:r,type:n,checked:s}=e.target;d(e=>({...e,[t]:"checkbox"===n?s:r})),h[t]&&p(e=>({...e,[t]:""}))},z=e=>{const t={};if(0===e&&(c.purpose.trim()||(t.purpose="Purpose of travel is required"),c.country||(t.country="Destination country is required"),c.department||(t.department="Department is required"),c.purpose.length<20&&(t.purpose="Please provide detailed purpose (minimum 20 characters)")),1===e){if(c.departureDate||(t.departureDate="Departure date is required"),c.returnDate||(t.returnDate="Return date is required"),c.meansOfTravel||(t.meansOfTravel="Transportation method is required"),c.departureDate&&c.returnDate){const e=new Date(c.departureDate);e>=new Date(c.returnDate)&&(t.returnDate="Return date must be after departure date"),e<new Date&&(t.departureDate="Departure date cannot be in the past")}c.visaRequired&&!c.passportExpiry&&(t.passportExpiry="Passport expiry date is required for visa-required countries")}return 2===e&&(c.fundingCodes.trim()||(t.fundingCodes="Funding code is required"),c.businessJustification.trim()||(t.businessJustification="Business justification is required"),c.businessJustification.length<30&&(t.businessJustification="Please provide detailed justification (minimum 30 characters)"),0===c.documents.length&&(t.documents="At least one supporting document is required")),p(t),0===Object.keys(t).length},q=()=>M.find(e=>e.code===c.country),$=()=>c.travelDays;return e.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl text-white",children:e.jsx(De,{size:24})}),"International Travel Request"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Submit a request for international business travel"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[A&&e.jsxs("div",{className:"flex items-center text-green-600 text-sm bg-green-50 px-3 py-2 rounded-lg border border-green-200 animate-pulse",children:[e.jsx(Pe,{size:16,className:"mr-2"}),"Draft saved"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Progress"}),e.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mt-1",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-500",style:{width:`${S}%`}})}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Math.round(S),"% complete"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",o+1," of ",O.length]})]}),e.jsx("div",{className:"flex items-center justify-between",children:O.map((t,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl border-2 transition-all duration-300 "+(r<=o?"bg-gradient-to-br from-purple-500 to-blue-600 border-transparent text-white shadow-lg":"bg-white border-gray-300 text-gray-400"),children:r<o?e.jsx(n,{size:20}):t.icon}),r<O.length-1&&e.jsx("div",{className:"w-16 h-1 mx-4 rounded-full transition-all duration-500 "+(r<o?"bg-gradient-to-r from-purple-500 to-blue-500":"bg-gray-300")})]},t.id))}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:O[o].title}),e.jsx("p",{className:"text-sm text-gray-600",children:O[o].description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-gray-50/50 to-purple-50/30",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[O[o].icon,O[o].title]})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),z(2)){x(!0);try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!t||!t._id)throw new Error("User not logged in or user ID not found");const r={employee:t._id,purpose:c.purpose,departureDate:c.departureDate?new Date(c.departureDate).toISOString():null,returnDate:c.returnDate?new Date(c.returnDate).toISOString():null,location:c.location,fundingCodes:c.fundingCodes,meansOfTravel:c.meansOfTravel,travelType:"international",currency:c.currency,documents:c.documents,destination:c.country,estimatedCost:c.estimatedCost,numberOfTravelers:c.numberOfTravelers,accommodationNeeded:c.accommodationNeeded,emergencyContact:c.emergencyContact,specialRequirements:c.specialRequirements,businessJustification:c.businessJustification,department:c.department,visaRequired:c.visaRequired,passportExpiry:c.passportExpiry,insuranceNeeded:c.insuranceNeeded},n=await fetch("https://backend.nexusmwi.com/api/travel-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)});if(n.ok){await n.json();b(!0),localStorage.removeItem("internationalTravelDraft"),a?setTimeout(()=>{a()},2e3):setTimeout(()=>{i("/travel/manage/dash")},2e3)}else{const e=await n.json();k(e.message||"Failed to submit travel request"),j(!0)}}catch(ide){k(ide.message||"An error occurred while submitting the travel request"),j(!0)}finally{x(!1)}}},className:"p-8",children:[0===o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose of Travel *"}),e.jsx("textarea",{name:"purpose",value:c.purpose,onChange:R,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none "+(h.purpose?"border-red-300":"border-gray-300"),placeholder:"Provide detailed information about the purpose of your international travel, conferences, meetings, business objectives..."}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[h.purpose?e.jsx("p",{className:"text-sm text-red-600",children:h.purpose}):e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 20 characters required"}),e.jsxs("span",{className:"text-xs "+(c.purpose.length>=20?"text-green-600":"text-gray-400"),children:[c.purpose.length,"/20"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination Country *"}),e.jsxs("div",{className:"relative",children:[e.jsx(De,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{name:"country",value:c.country,onChange:e=>{const t=e.target.value,r=M.find(e=>e.code===t);d(e=>({...e,country:t,currency:r?.currencies[0]||"",visaRequired:r?.visaRequired||!1})),h.country&&p(e=>({...e,country:""}))},className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 "+(h.country?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select Destination Country"}),M.map(t=>e.jsx("option",{value:t.code,children:t.name},t.code))]})]}),h.country&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.country}),c.country&&e.jsx("div",{className:"mt-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-purple-900 font-medium",children:"Destination Info"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[c.visaRequired?e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs",children:"Visa Required"}):e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded text-xs",children:"No Visa Required"}),e.jsxs("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:["Currency: ",c.currency]})]})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{name:"department",value:c.department,onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 "+(h.department?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select Department"}),["Information Technology","Human Resources","Finance & Accounting","Operations","Marketing & Communications","Research & Development","Customer Support"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),h.department&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.department})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Travelers"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>d(e=>({...e,numberOfTravelers:Math.max(1,e.numberOfTravelers-1)})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:e.jsx(Y,{size:16})}),e.jsx("span",{className:"text-lg font-medium text-gray-900 px-4",children:c.numberOfTravelers}),e.jsx("button",{type:"button",onClick:()=>d(e=>({...e,numberOfTravelers:e.numberOfTravelers+1})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:e.jsx(Le,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"emergencyContact",value:c.emergencyContact,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"Name and phone number"})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"accommodationNeeded",name:"accommodationNeeded",checked:c.accommodationNeeded,onChange:R,className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"accommodationNeeded",className:"ml-3 text-sm font-medium text-gray-900",children:"Accommodation required"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"insuranceNeeded",name:"insuranceNeeded",checked:c.insuranceNeeded,onChange:R,className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("label",{htmlFor:"insuranceNeeded",className:"ml-3 text-sm font-medium text-gray-900",children:"Travel insurance needed"})]})]})})]}),1===o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"departureDate",value:c.departureDate,onChange:R,min:(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 "+(h.departureDate?"border-red-300":"border-gray-300")})]}),h.departureDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.departureDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"returnDate",value:c.returnDate,onChange:R,min:c.departureDate||(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 "+(h.returnDate?"border-red-300":"border-gray-300")})]}),h.returnDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.returnDate})]})]}),c.departureDate&&c.returnDate&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-900 font-medium",children:"Trip Duration"}),e.jsxs("span",{className:"text-blue-700 font-bold",children:[$()," ",1===$()?"day":"days"]})]})}),c.visaRequired&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Ce,{size:20,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-amber-900 mb-2",children:"Visa Required"}),e.jsxs("p",{className:"text-sm text-amber-800 mb-4",children:["Travel to ",q()?.name," requires a valid visa. Please ensure all visa documentation is complete."]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-amber-900 mb-2",children:"Passport Expiry Date *"}),e.jsx("input",{type:"date",name:"passportExpiry",value:c.passportExpiry,onChange:R,min:(new Date).toISOString().split("T")[0],className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-amber-500 "+(h.passportExpiry?"border-red-300":"border-amber-300")}),h.passportExpiry&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.passportExpiry})]})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transportation Method *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.map(t=>e.jsxs("button",{type:"button",onClick:()=>d(e=>({...e,meansOfTravel:t.value})),className:"p-4 border-2 rounded-xl transition-all duration-200 text-left "+(c.meansOfTravel===t.value?"border-purple-500 bg-purple-50 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+(c.meansOfTravel===t.value?"bg-purple-100":"bg-gray-100"),children:t.icon}),c.meansOfTravel===t.value&&e.jsx(n,{size:20,className:"text-purple-600"})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:t.label}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]},t.value))}),h.meansOfTravel&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:h.meansOfTravel})]}),c.currency&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-bold text-purple-900 flex items-center gap-2",children:[e.jsx(m,{size:20}),"Currency Information"]}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:c.currency})]}),e.jsxs("p",{className:"text-purple-800 text-sm",children:["You'll be traveling to ",e.jsx("strong",{children:q()?.name})," where the local currency is ",e.jsx("strong",{children:c.currency}),". Corporate travel cards will be loaded with the appropriate currency amount."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements (Optional)"}),e.jsx("textarea",{name:"specialRequirements",value:c.specialRequirements,onChange:R,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none",placeholder:"Dietary restrictions, accessibility needs, special accommodations, etc."})]})]}),2===o&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Code *"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"fundingCodes",value:c.fundingCodes,onChange:R,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 "+(h.fundingCodes?"border-red-300":"border-gray-300"),placeholder:"e.g., INT-2024-001"})]}),h.fundingCodes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.fundingCodes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Cost (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"estimatedCost",value:c.estimatedCost,onChange:R,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500",placeholder:"0.00",min:"0",step:"0.01"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Currency: ",c.currency||"USD"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Justification *"}),e.jsx("textarea",{name:"businessJustification",value:c.businessJustification,onChange:R,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 resize-none "+(h.businessJustification?"border-red-300":"border-gray-300"),placeholder:"Explain the business necessity for this international travel, expected outcomes, ROI, and strategic importance..."}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[h.businessJustification?e.jsx("p",{className:"text-sm text-red-600",children:h.businessJustification}):e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 30 characters required"}),e.jsxs("span",{className:"text-xs "+(c.businessJustification.length>=30?"text-green-600":"text-gray-400"),children:[c.businessJustification.length,"/30"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Supporting Documents *"}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Je,{size:20,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-amber-900 mb-1",children:"Required Documents"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:" Pre-approval documents from department head"}),e.jsx("li",{children:" Visa applications or approvals (if required)"}),e.jsx("li",{children:" Flight booking confirmations or quotes"}),e.jsx("li",{children:" Hotel/accommodation confirmations"}),e.jsx("li",{children:" Conference registration or invitation letters"})]})]})]})}),e.jsxs("div",{className:"border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 "+(h.documents?"border-red-300 bg-red-50":"border-gray-300 hover:border-purple-400 hover:bg-purple-50/50"),onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();const t=Array.from(e.dataTransfer.files).filter(e=>["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)&&e.size<=10485760);d(e=>({...e,documents:[...e.documents,...t]}))},children:[e.jsx(Be,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"Upload Documents"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Drag and drop files here, or click to browse"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"PDF, Word, JPEG, PNG up to 10MB each"}),e.jsx("input",{type:"file",multiple:!0,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:e=>{const t=Array.from(e.target.files).filter(e=>["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(e.type)&&e.size<=10485760);d(e=>({...e,documents:[...e.documents,...t]})),h.documents&&p(e=>({...e,documents:""}))},className:"hidden",id:"document-upload"}),e.jsxs("label",{htmlFor:"document-upload",className:"inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors duration-200 cursor-pointer",children:[e.jsx(Be,{size:16,className:"mr-2"}),"Select Files"]})]}),h.documents&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:h.documents})]}),c.documents.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-3",children:["Uploaded Documents (",c.documents.length,")"]}),e.jsx("div",{className:"space-y-3",children:c.documents.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(tt,{size:16,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 truncate max-w-xs",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB  ",t.type.split("/")[1].toUpperCase()]})]})]}),e.jsx("button",{type:"button",onClick:()=>(e=>{d(t=>({...t,documents:t.documents.filter((t,r)=>r!==e)}))})(r),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-100 rounded-lg transition-colors duration-200",children:e.jsx(Me,{size:16})})]},r))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 border border-purple-200 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-bold text-purple-900 mb-4 flex items-center gap-2",children:[e.jsx(_,{size:20}),"Travel Request Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Destination:"}),e.jsx("p",{className:"text-purple-900",children:q()?.name||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Department:"}),e.jsx("p",{className:"text-purple-900",children:c.department||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Travel Dates:"}),e.jsx("p",{className:"text-purple-900",children:c.departureDate&&c.returnDate?`${new Date(c.departureDate).toLocaleDateString()} - ${new Date(c.returnDate).toLocaleDateString()}`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Duration:"}),e.jsxs("p",{className:"text-purple-900",children:[$()," days"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Transportation:"}),e.jsx("p",{className:"text-purple-900",children:I.find(e=>e.value===c.meansOfTravel)?.label||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Currency:"}),e.jsx("p",{className:"text-purple-900",children:c.currency||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Visa Required:"}),e.jsx("p",{className:"text-purple-900",children:c.visaRequired?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-purple-700 font-medium",children:"Documents:"}),e.jsxs("p",{className:"text-purple-900",children:[c.documents.length," file(s) uploaded"]})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(u,{size:20,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-amber-900 mb-2",children:"International Travel Compliance"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:" All international travel requires pre-approval from department head and HR"}),e.jsx("li",{children:" Valid passport required (must be valid for 6+ months from travel date)"}),e.jsx("li",{children:" Visa documentation must be completed before travel"}),e.jsx("li",{children:" Travel insurance is mandatory for all international trips"}),e.jsx("li",{children:" Emergency contact information must be provided to security team"})]})]})]})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-200 mt-8",children:[e.jsxs("button",{type:"button",onClick:0===o?t:()=>{l(e=>e-1)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(F,{size:16}),0===o?"Cancel":"Previous"]}),e.jsx("div",{className:"flex space-x-3",children:o<O.length-1?e.jsxs("button",{type:"button",onClick:()=>{z(o)&&l(e=>e+1)},className:"px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-xl hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:["Continue",e.jsx(se,{size:16})]}):e.jsx("button",{type:"submit",disabled:f,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-xl hover:from-green-700 hover:to-blue-700 disabled:opacity-50 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:16}),"Submit Request"]})})})]})]})]}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-6 shadow-lg animate-pulse",children:e.jsx(n,{size:32,className:"text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"International Travel Request Submitted! "}),e.jsxs("div",{className:"text-gray-600 mb-6 space-y-2",children:[e.jsx("p",{children:"Your international travel request has been submitted successfully."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"text-lg font-bold text-green-900 font-mono",children:["ITR-",(new Date).getFullYear(),"-",String(Math.floor(1e3*Math.random())).padStart(3,"0")]}),e.jsx("div",{className:"text-sm text-green-700",children:"Reference Number"})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{children:" Department head and HR will review"}),e.jsx("p",{children:" Visa processing will be initiated if required"}),e.jsx("p",{children:" You'll receive detailed email updates"}),e.jsx("p",{children:" Travel documentation will be prepared"})]})]})]})})}),y&&e.jsx("div",{className:"fixed top-4 right-4 bg-red-50 border border-red-200 rounded-xl p-4 shadow-lg z-50 max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(T,{size:20,className:"text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Submission Failed"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:w})]}),e.jsx("button",{onClick:()=>j(!1),className:"text-red-400 hover:text-red-600 transition-colors duration-200",children:e.jsx(s,{size:16})})]})}),e.jsx("div",{className:"fixed right-6 bottom-6 z-40",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl p-4 text-white shadow-2xl max-w-xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[e.jsx(r,{size:16}),"International Travel Help"]}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(st,{size:14}),"Visa Requirements Guide"]}),e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(rt,{size:14}),"Travel Support Chat"]}),e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(B,{size:14}),"Emergency Travel Line"]})]})]})})]})},tne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,rne=({status:t})=>{const r=(e=>{switch(e){case"pending":default:return l;case"in-progress":return o;case"completed":return n}})(t);return e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${(e=>{switch(e){case"pending":return"bg-yellow-50 text-yellow-700 border-yellow-200";case"in-progress":return"bg-blue-50 text-blue-700 border-blue-200";case"completed":return"bg-green-50 text-green-700 border-green-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}})(t)}`,children:[e.jsx(r,{size:12,className:"mr-1"}),t.charAt(0).toUpperCase()+t.slice(1).replace("-"," ")]})},nne=({priority:t})=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${{high:"bg-red-50 text-red-700 border-red-200",medium:"bg-amber-50 text-amber-700 border-amber-200",low:"bg-green-50 text-green-700 border-green-200"}[t]||"bg-gray-50 text-gray-700 border-gray-200"}`,children:t}),sne=({request:t,isSelected:r,onClick:n})=>e.jsxs("div",{onClick:n,className:"bg-white rounded-2xl border p-2 cursor-pointer transition-all hover:shadow-sm "+(r?"border-blue-500 shadow-sm":"border-gray-200"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1.5",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.employee.lastName}),e.jsx("p",{className:"text-xs text-gray-500",children:t.employee.email})]}),e.jsx(nne,{priority:t.priority})]}),e.jsxs("div",{className:"space-y-1 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(De,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[t.city,", ",t.country]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-gray-700",children:[e.jsx(Yt,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-xs",children:[on(t.departureDate,"MMM d")," - ",on(t.returnDate,"MMM d, yyyy")]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-1",children:[t.requiresDriver&&e.jsx("div",{className:"p-1 bg-blue-50 rounded-lg",children:e.jsx(Ze,{size:12,className:"text-blue-600"})}),t.requiresFlight&&e.jsx("div",{className:"p-1 bg-purple-50 rounded-lg",children:e.jsx(Ft,{size:12,className:"text-purple-600"})})]}),e.jsx("span",{className:"text-xs text-gray-500",children:on(t.submittedAt,"MMM d, yyyy")})]})]});function ane(){const t=$r(),[r,a]=qr.useState("pending"),[i,o]=qr.useState(null),[d,u]=qr.useState(null),[m,h]=qr.useState(""),[f,x]=qr.useState("all"),[g,b]=qr.useState(!1),[y,v]=qr.useState(!1),[w,N]=qr.useState(!1),[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[E,_]=qr.useState(!1),[P,D]=qr.useState(!1),[O,M]=qr.useState(""),[I,R]=qr.useState("success"),[z,F]=qr.useState(!0),[q,$]=qr.useState([]),[U,W]=qr.useState([]),[V,H]=qr.useState({airline:"",flightNumber:"",departureTime:"",arrivalTime:"",ticketClass:"economy",price:"",notes:""}),[G,K]=qr.useState({recipients:["employee"],subject:"",message:"",includeItinerary:!0}),Y="https://backend.nexusmwi.com",X=e=>e.map(e=>{const t=e=>{if(!e)return new Date;const t=new Date(e);return isNaN(t.getTime())?new Date:t},r=e.employee||{_id:"",firstName:"",lastName:"",email:"",name:"Unknown Employee"};return{id:e._id||e.id||"",employeeName:r.firstName?`${r.firstName} ${r.lastName}`:r.name||"Unknown",fleetNotification:e.fleetNotification||{sent:!1,sentAt:null,recipients:[],subject:"",message:"",includeItinerary:!1,sentBy:null},employee:r,employeeId:r._id,department:e.fundingCodes||"Not specified",email:r.email||"",purpose:e.purpose||"",location:e.location||"Not specified",country:e.location||"Not specified",city:e.location||"Not specified",departureDate:t(e.departureDate),returnDate:t(e.returnDate),status:e.fleetNotification?.sent?"completed":e.assignedDriver?"in-progress":"pending",financialStatus:e.financeStatus||"pending",perDiemAmount:e.payment?.perDiemAmount||("MWK"===e.currency?1e5:1e3),currency:e.currency||"USD",cardDetails:{lastFour:"1234",type:"VISA",holder:r.name||"Unknown"},documents:e.documents||[],approvedBy:e.finalApprover||"System",approvedAt:t(e.finalApprovalDate||e.updatedAt),priority:"medium",travelType:e.travelType||"local",requiresDriver:"company"===e.meansOfTravel,requiresFlight:"international"===e.travelType,submittedAt:t(e.createdAt),supervisorApproval:e.supervisorApproval,finalApproval:e.finalApproval,assignedDriver:e.assignedDriver||null}}),J=e=>{if(!i)return{subject:"",message:""};const t=Math.ceil((new Date(i.returnDate)-new Date(i.departureDate))/864e5)+1,r=on(new Date(i.departureDate),"EEEE, MMMM d, yyyy"),n=on(new Date(i.returnDate),"EEEE, MMMM d, yyyy"),s=`${i.employee?.firstName||""} ${i.employee?.lastName||""}`.trim(),a=i.location||"Unknown Location";switch(e){case"employee":return{subject:`Travel Arrangements Confirmed - ${a}`,message:`\n          <div style="font-family: Arial, sans-serif; color:#333; line-height:1.6;">\n            <p style="font-size:16px;">Dear ${i.employee?.firstName||"Employee"},</p>\n            <p>Your travel arrangements for your trip to <strong>${a}</strong> have been finalized. Here are the details:</p>\n\n            <h3 style="color:#2E86C1;"> Travel Period</h3>\n            <ul>\n              <li><strong>Departure:</strong> ${r}</li>\n              <li><strong>Return:</strong> ${n}</li>\n              <li><strong>Duration:</strong> ${t} days</li>\n            </ul>\n\n            <h3 style="color:#2E86C1;"> Destination</h3>\n            <ul>\n              <li><strong>Location:</strong> ${a}</li>\n              <li><strong>Purpose:</strong> ${i.purpose}</li>\n            </ul>\n\n            ${i.assignedDriver?`\n                <h3 style="color:#2E86C1;"> Ground Transportation</h3>\n                <ul>\n                  <li><strong>Driver Assigned:</strong> ${i.assignedDriver.firstName} ${i.assignedDriver.lastName}</li>\n                  <li><strong>Contact:</strong> ${i.assignedDriver.phoneNumber||"Contact details will be provided"}</li>\n                </ul>\n              `:""}\n\n            <h3 style="color:#2E86C1;"> Important Reminders</h3>\n            <ul>\n              <li>Please carry all required travel documents</li>\n              <li>Confirm your accommodation arrangements</li>\n              <li>Review company travel policies</li>\n              <li>Keep all receipts for expense reporting</li>\n            </ul>\n\n            <p>If you have any questions or need assistance, please contact the travel department immediately.</p>\n\n            <p style="margin-top:20px;">Safe travels!</p>\n            <p><strong>Best regards,<br/>NexusMWI Travel Department</strong></p>\n          </div>\n        `};case"driver":return{subject:`New Assignment - Transport Service for ${s}`,message:`\n          <div style="font-family: Arial, sans-serif; color:#333; line-height:1.6;">\n            <p style="font-size:16px;">Dear ${i.assignedDriver?.firstName||d?.firstName||"Driver"},</p>\n            <p>You have been assigned to provide transportation services for the following travel request:</p>\n\n            <h3 style="color:#2E86C1;"> Passenger Details</h3>\n            <ul>\n              <li><strong>Name:</strong> ${s}</li>\n              <li><strong>Contact:</strong> ${i.employee?.phoneNumber||i.employee?.email}</li>\n            </ul>\n\n            <h3 style="color:#2E86C1;"> Travel Schedule</h3>\n            <ul>\n              <li><strong>Trip Start:</strong> ${r}</li>\n              <li><strong>Trip End:</strong> ${n}</li>\n              <li><strong>Duration:</strong> ${t} days</li>\n              <li><strong>Destination:</strong> ${a}</li>\n            </ul>\n\n            <h3 style="color:#2E86C1;"> Service Requirements</h3>\n            <ul>\n              <li><strong>Purpose:</strong> ${i.purpose}</li>\n              <li><strong>Type:</strong> ${"international"===i.travelType?"International Travel":"Local Travel"}</li>\n            </ul>\n\n            <h3 style="color:#2E86C1;"> Next Steps</h3>\n            <ul>\n              <li>Contact the passenger to arrange pickup details</li>\n              <li>Confirm vehicle readiness and fuel</li>\n              <li>Plan optimal routes to destinations</li>\n              <li>Maintain professional service standards</li>\n            </ul>\n\n            <h3 style="color:#C0392B;"> Important</h3>\n            <ul>\n              <li>Arrive 15 minutes early for all pickups</li>\n              <li>Keep vehicle clean and presentable</li>\n              <li>Follow all company safety protocols</li>\n              <li>Report any issues immediately to fleet management</li>\n            </ul>\n\n            <p>Please confirm receipt of this assignment and contact the passenger within 24 hours to coordinate arrangements.</p>\n\n            <p><strong>Best regards,<br/>Fleet Management Team</strong></p>\n          </div>\n        `};case"manager":return{subject:`Travel Arrangements Summary - ${s}`,message:`\n          <div style="font-family: Arial, sans-serif; color:#333; line-height:1.6;">\n            <p style="font-size:16px;">Dear Manager,</p>\n            <p>This is to inform you that travel arrangements have been completed for ${s}'s business trip.</p>\n\n            <h3 style="color:#2E86C1;"> Travel Summary</h3>\n            <ul>\n              <li><strong>Employee:</strong> ${s}</li>\n              <li><strong>Destination:</strong> ${a}</li>\n              <li><strong>Purpose:</strong> ${i.purpose}</li>\n              <li><strong>Travel Period:</strong> ${r} to ${n} (${t} days)</li>\n            </ul>\n\n            <h3 style="color:#2E86C1;"> Arrangements Made</h3>\n            <ul>\n              <li>${i.assignedDriver?`Driver assigned: ${i.assignedDriver.firstName} ${i.assignedDriver.lastName}`:"No driver assigned"}</li>\n              <li>All notifications sent to relevant parties</li>\n              <li>Travel request ID: ${i._id}</li>\n            </ul>\n\n            <p>The employee has been notified of all arrangements and is ready for travel.</p>\n\n            <p><strong>Best regards,<br/>NexusMWI Travel Department</strong></p>\n          </div>\n        `};default:return{subject:"",message:""}}},Q=async()=>{F(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${Y}/api/travel-requests/finance/pending`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch pending travel requests");const r=await t.json(),n=X(r);W(n)}catch(ide){M("Failed to fetch pending travel requests"),R("error"),D(!0),setTimeout(()=>{D(!1)},3e3)}finally{F(!1)}};qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${Y}/api/auth/drivers`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch drivers");const r=await t.json();$(r)}catch(ide){M("Failed to fetch drivers"),R("error"),D(!0)}})()},[Y]),qr.useEffect(()=>{Q()},[Y]),qr.useEffect(()=>{(async()=>{if(w&&i?.id)try{const e=localStorage.getItem("token"),t=await fetch(`${Y}/api/travel-requests/${i.id}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch updated travel request");const r=await t.json(),n=X([r])[0];o(n)}catch(ide){M("Failed to refresh request data"),R("error"),D(!0)}})()},[w,i?.id,Y]),qr.useEffect(()=>{if(w&&i){const e=G.recipients.includes("employee")?"employee":G.recipients.includes("driver")?"driver":"manager",t=J(e);K(e=>({...e,subject:t.subject,message:t.message}))}},[w,i,G.recipients]);const ee=U.filter(e=>{const t=e.employeeName||"",r=e.id||"",n=e.country||"",s=e.city||"",a=t.toLowerCase().includes(m.toLowerCase())||r.toLowerCase().includes(m.toLowerCase())||n.toLowerCase().includes(m.toLowerCase())||s.toLowerCase().includes(m.toLowerCase()),i="all"===f||e.status===f;return a&&i});qr.useEffect(()=>{if(!i&&ee.length>0){const e=ee.find(e=>"pending"===e.status);o(e||ee[0])}},[ee,i]);const te=e=>{o(e),b(!1),v(!1),N(!1)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(tne,{isVisible:z,message:"Loading fleet management data..."}),e.jsx("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx("input",{type:"text",placeholder:"Search requests...",value:m,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>a("pending"),className:"px-3 py-1.5 rounded-xl font-medium transition-colors text-sm "+("pending"===r?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Pending"}),e.jsx("button",{onClick:()=>a("completed"),className:"px-3 py-1.5 rounded-xl font-medium transition-colors text-sm "+("completed"===r?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Completed"})]})]}),e.jsxs("div",{className:"space-y-2 max-h-[calc(100vh-400px)] overflow-y-auto",children:["pending"===r&&e.jsx(e.Fragment,{children:(()=>{const t=ee.filter(e=>(!e.fleetNotification||!e.fleetNotification.sent)&&e.requiresDriver);return 0===t.length?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[e.jsx(c,{size:32,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No pending driver requests found"}),e.jsx("p",{className:"text-gray-600",children:ee.filter(e=>!e.fleetNotification||!e.fleetNotification.sent).length>0?"There are pending requests that don't require drivers":"All travel requests have been processed"})]}):t.map(t=>e.jsx(sne,{request:t,isSelected:i?.id===t.id,onClick:()=>te(t)},t.id))})()}),"completed"===r&&e.jsx(e.Fragment,{children:(()=>{const t=ee.filter(e=>e.fleetNotification&&e.fleetNotification.sent);return 0===t.length?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[e.jsx(n,{size:32,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No completed requests found"}),e.jsx("p",{className:"text-gray-600",children:"Completed requests will appear here"})]}):t.map(t=>e.jsx(sne,{request:t,isSelected:i?.id===t.id,onClick:()=>te(t)},t.id))})()})]})]}),e.jsx("div",{className:"space-y-4",children:i?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 border-b border-gray-100 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:e.jsx(c,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:i.employee.lastName}),e.jsx(rne,{status:i.status})]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[i.employee.email,"  ",i.department]})]})]}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-xl",children:e.jsx(He,{size:18})})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Purpose of Travel"}),e.jsx("p",{className:"text-gray-900 text-sm",children:i.purpose||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Destination"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{className:"text-blue-500",size:16}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[i.city,", ",i.country]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Travel Period"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yt,{className:"text-blue-500",size:16}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[on(i.departureDate,"MMM d, yyyy")," -"," ",on(i.returnDate,"MMM d, yyyy")]}),e.jsxs("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-full text-xs font-medium ml-2",children:[Math.ceil((i.returnDate-i.departureDate)/864e5)+1," ","days"]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-2",children:"Requirements"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:i.requiresDriver,disabled:!0,className:"rounded border-gray-300 text-blue-600"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Driver Required"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:i.requiresFlight,disabled:!0,className:"rounded border-gray-300 text-blue-600"}),e.jsx("span",{className:"text-xs text-gray-700",children:"Flight Booking Required"})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Documents"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.documents.length>0?i.documents.map((t,r)=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-50 text-gray-700 rounded text-xs",children:[e.jsx(c,{size:10}),t]},r)):e.jsx("span",{className:"text-xs text-gray-500",children:"No documents"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 font-medium mb-1",children:"Submitted"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{className:"text-blue-500",size:16}),e.jsx("span",{className:"text-gray-900 text-sm",children:on(i.submittedAt,"MMM d, yyyy")})]})]})]})]}),"pending"===i.status&&e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-amber-800 text-sm",children:"Action Required"}),e.jsx("p",{className:"text-amber-700 text-xs",children:"This request requires your attention. Please assign a driver (if needed) and initiate the flight booking process."})]})]})}),"in-progress"===i.status&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-800 text-sm",children:"In Progress"}),e.jsx("p",{className:"text-blue-700 text-xs",children:"This request is being processed. Complete the remaining steps to finalize the travel arrangements."})]})]})}),"completed"===i.status&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-xl p-3 mb-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-800 text-sm",children:"Completed"}),e.jsx("p",{className:"text-green-700 text-xs",children:"All travel arrangements have been completed for this request."})]})]})})]}),e.jsxs("div",{className:"bg-gray-50 border-t border-gray-100 p-4 flex justify-between items-center",children:["pending"===i.status&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>t("/travel-dashboard"),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),e.jsxs("div",{className:"flex gap-2",children:[i.requiresDriver&&e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 text-blue-700 border border-blue-200 rounded-xl hover:bg-blue-100 text-sm",children:[e.jsx(j,{size:14}),"Assign Driver"]}),e.jsx("button",{onClick:async()=>{try{S(!0);const e=localStorage.getItem("token");if(!(await fetch(`${Y}/api/travel-requests/${i.id}/process`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({status:"in-progress"})})).ok)throw new Error("Failed to process request");const t={...i,status:"in-progress"};o(t),W(e=>e.map(e=>e.id===i.id?t:e)),t.requiresFlight?v(!0):N(!0),M("Request processing started"),R("success"),D(!0)}catch(ide){M("Failed to process request"),R("error"),D(!0)}finally{S(!1)}},disabled:k,className:"flex items-center gap-1.5 px-4 py-1.5 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 text-sm",children:k?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"animate-spin w-4 h-4"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{size:14}),"Process Request"]})})]})]}),"in-progress"===i.status&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>t("/travel-dashboard"),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),e.jsxs("div",{className:"flex gap-2",children:[i.requiresFlight&&!y&&!w&&e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-purple-50 text-purple-700 border border-purple-200 rounded-xl hover:bg-purple-100 text-sm",children:[e.jsx(Ft,{size:14}),"Book Flight"]}),!y&&!w&&e.jsxs("button",{onClick:()=>N(!0),className:"flex items-center gap-1.5 px-4 py-1.5 bg-green-500 text-white rounded-xl hover:bg-green-600 text-sm",children:[e.jsx(Z,{size:14}),"Send Notifications"]})]})]}),"completed"===i.status&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>t("/travel-dashboard"),className:"px-3 py-1.5 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 text-sm",children:"Back to Dashboard"}),e.jsxs("button",{onClick:()=>{if(i)try{const e=new a9("p","mm","a4"),t=[41,128,185],r=[44,62,80],n=[240,240,240];let s=20;e.setFillColor(...t),e.rect(0,0,210,25,"F"),e.setFontSize(18),e.setTextColor(255,255,255),e.text("Travel Itinerary",15,15),e.setFontSize(11),e.text(`Request ID: ${i.id}`,195,15,{align:"right"}),s=35;const a=(a,i)=>{e.setFillColor(...n),e.rect(15,s,180,8,"F"),e.setFontSize(12),e.setTextColor(...t),e.text(a,20,s+6),s+=14,i.forEach(([t,n])=>{n||(n="N/A"),e.setFontSize(10),e.setTextColor(...r),e.text(t,20,s),e.setFontSize(11),e.setTextColor(0),e.text(String(n),70,s),s+=8}),s+=6};a("Passenger Information",[["Name of Traveller:",`Mr. ${i.employee?.lastName||""}`],["Email:",i.email],["Department:",i.department]]),a("Departure Information",[["Purpose:",i.purpose],["Flight No.:",V.flightNumber],["Airline:",V.airline],["Class:",V.ticketClass],["Departure Date:",i.departureDate?on(new Date(i.departureDate),"EEE, MMM d, yyyy HH:mm"):"N/A"],["Arrival Date:",i.returnDate?on(new Date(i.returnDate),"EEE, MMM d, yyyy HH:mm"):"N/A"]]),i.requiresFlight&&a("Return Flight",[["Airline:",V.airline],["Class:",V.ticketClass],["Return Date:",i.returnDate?on(new Date(i.returnDate),"EEE, MMM d, yyyy HH:mm"):"N/A"]]),d&&a("Ground Transport",[["Assigned Driver:",d.name||`${d.firstName||""} ${d.lastName||""}`],["Driver Contact:",d.phone||"N/A"]]),e.setDrawColor(200),e.line(15,275,195,275),e.setFontSize(9),e.setTextColor(100),e.text("Generated by NexusMWI Travel System",20,285),e.text(on(new Date,"MMM d, yyyy h:mm a"),195,285,{align:"right"}),e.save(`itinerary-${i.id}.pdf`)}catch(ide){M("Failed to generate itinerary PDF"),R("error"),D(!0)}},className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-50 text-green-700 border border-green-200 rounded-xl hover:bg-green-100 text-sm",children:[e.jsx(Ie,{size:14}),"Download Itinerary"]})]})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center",children:[e.jsx(c,{size:40,className:"mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Request Selected"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:"Select a travel request from the list to view details and manage fleet coordination"})]})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Bt,{size:18,className:"text-blue-500"}),"Assign Driver"]}),e.jsx("button",{onClick:()=>b(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsxs("p",{className:"text-gray-600 mb-4 text-xs",children:["Select a driver for ",i?.employeeName,"'s trip to ",i?.city]}),e.jsx("div",{className:"mb-3",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search drivers by name, location, or language...",className:"w-full pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:0===q.length?e.jsx("div",{className:"text-center py-6",children:e.jsx("p",{className:"text-gray-500 text-sm",children:"No drivers available"})}):q.map(t=>e.jsx("div",{onClick:()=>(e=>{u(e)})(t),className:"p-3 border rounded-2xl cursor-pointer transition-colors "+(d?._id===t._id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 hover:bg-gray-50"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-50 rounded-full flex items-center justify-center text-blue-600 font-semibold text-xs",children:t.firstName?.charAt(0)||"D"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t.firstName}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx(Se,{size:12}),e.jsx("span",{children:t.location?.coordinates?.city||"Location not specified"})]}),t.phone&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx(B,{size:12}),e.jsx("span",{children:t.phone})]})]})]}),e.jsxs("div",{className:"text-right",children:[t.rating&&e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(p,{size:12,className:"text-yellow-500 fill-current"}),e.jsx("span",{className:"font-semibold text-xs",children:t.rating})]}),t.experience&&e.jsx("p",{className:"text-xs text-gray-600",children:t.experience})]})]})},t._id))}),e.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{try{S(!0);const e=localStorage.getItem("token"),t=await fetch(`${Y}/api/travel-requests/${i.id}/assign-driver`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({driverId:d._id})}),r=await t.json();if(!t.ok)return M(r.message?`${r.message}${r.currentDriver?` (Current driver: ${r.currentDriver})`:""}`:"Failed to assign driver"),R("error"),void D(!0);const n=X([r.travelRequest])[0];o(n),W(e=>e.map(e=>e.id===i.id?n:e)),b(!1),n.requiresFlight?v(!0):N(!0),M(r.message||"Driver assigned successfully"),R("success"),D(!0)}catch(ide){M(ide.message||"Failed to assign driver"),R("error"),D(!0)}finally{S(!1)}},disabled:!d||k,className:"flex items-center gap-1 px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:k?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Assigning..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{size:14}),"Confirm Driver"]})})]})]})]})}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Ft,{size:18,className:"text-blue-500"}),"Air Ticket Booking"]}),e.jsx("button",{onClick:()=>v(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsxs("p",{className:"text-gray-600 mb-4 text-xs",children:["Book flight for ",i?.employee.lastName,"'s trip to ",i?.city,","," ",i?.country]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Airline"}),e.jsxs("select",{value:V.airline,onChange:e=>H({...V,airline:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",disabled:!0,children:"Select Airline"}),e.jsx("option",{value:"japan-airlines",children:"Japan Airlines"}),e.jsx("option",{value:"ana",children:"All Nippon Airways"}),e.jsx("option",{value:"delta",children:"Delta Airlines"}),e.jsx("option",{value:"united",children:"United Airlines"}),e.jsx("option",{value:"emirates",children:"Emirates"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Flight Number"}),e.jsx("input",{type:"text",placeholder:"e.g., JL123",value:V.flightNumber,onChange:e=>H({...V,flightNumber:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ticket Class"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["economy","business","first"].map(t=>e.jsxs("label",{className:"relative flex items-center justify-center p-2 border rounded-2xl cursor-pointer transition-colors text-xs "+(V.ticketClass===t?"border-purple-500 bg-purple-50 font-medium":"border-gray-300 hover:border-purple-300"),children:[e.jsx("input",{type:"radio",name:"ticketClass",value:t,checked:V.ticketClass===t,onChange:e=>H({...V,ticketClass:e.target.value}),className:"sr-only"}),e.jsx("span",{className:"capitalize",children:t})]},t))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Departure Time"}),e.jsx("input",{type:"datetime-local",value:V.departureTime,onChange:e=>H({...V,departureTime:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Arrival Time"}),e.jsx("input",{type:"datetime-local",value:V.arrivalTime,onChange:e=>H({...V,arrivalTime:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Ticket Price"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"$"}),e.jsx("input",{type:"number",placeholder:"0.00",value:V.price,onChange:e=>H({...V,price:e.target.value}),className:"w-full pl-8 pr-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Additional Notes"}),e.jsx("textarea",{placeholder:"Any special requirements or notes for the booking",rows:2,value:V.notes,onChange:e=>H({...V,notes:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500 resize-none"})]})]}),e.jsxs("div",{className:"flex justify-between mt-4 pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{try{A(!0);const e=localStorage.getItem("token"),t=await fetch(`${Y}/api/travel-requests/${i.id}/book-flight`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(V)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Failed to book flight");v(!1),N(!0),K({...G,subject:`Flight Booking Confirmation - ${r.flightBooking.airline} ${r.flightBooking.flightNumber}`,message:`Dear ${i.employeeName},\n\nYour flight to ${i.location} has been successfully booked.\n\nFlight Details:\n- Airline: ${r.flightBooking.airline}\n- Flight: ${r.flightBooking.flightNumber}\n- Class: ${r.flightBooking.ticketClass}\n- Departure: ${on(new Date(r.flightBooking.departureTime),"MMM d, yyyy 'at' h:mm a")}\n${r.flightBooking.arrivalTime?`- Arrival: ${on(new Date(r.flightBooking.arrivalTime),"MMM d, yyyy 'at' h:mm a")}\n`:""}- Confirmation: ${r.flightBooking.confirmationNumber}\n\n${d?`A driver (${d.firstName} ${d.lastName}) has been assigned to assist you during your trip.`:"No driver has been assigned for this trip."}\n\nPlease contact the travel department if you have any questions.`}),M("Flight booked successfully"),R("success"),D(!0),Q()}catch(ide){M(ide.message||"Failed to book flight"),R("error"),D(!0)}finally{A(!1)}},disabled:C||!V.airline||!V.flightNumber||!V.departureTime,className:"flex items-center gap-1 px-4 py-2 text-xs bg-purple-500 text-white rounded-2xl hover:bg-purple-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Booking..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{size:14}),"Confirm Booking"]})})]})]})]})}),w&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Z,{size:18,className:"text-blue-500"}),"Send Travel Notifications"]}),e.jsx("button",{onClick:()=>N(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 space-y-4 max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Je,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 text-xs",children:"Automated Notifications"}),e.jsx("p",{className:"text-blue-700 text-xs mt-1",children:"Personalized messages will be automatically generated for each recipient based on their role and the travel details."})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Select Recipients"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-2xl cursor-pointer transition-colors "+(G.recipients.includes("employee")?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"),children:[e.jsx("input",{type:"checkbox",checked:G.recipients.includes("employee"),onChange:e=>{e.target.checked?K({...G,recipients:[...G.recipients,"employee"]}):K({...G,recipients:G.recipients.filter(e=>"employee"!==e)})},className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:"Employee"})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i?.employee.lastName," (",i?.employee.email,")"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will receive: Travel itinerary, flight details, driver contact, and travel reminders"})]})]}),i?.assignedDriver&&e.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-2xl cursor-pointer transition-colors "+(G.recipients.includes("driver")?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"),children:[e.jsx("input",{type:"checkbox",checked:G.recipients.includes("driver"),onChange:e=>{e.target.checked?K({...G,recipients:[...G.recipients,"driver"]}):K({...G,recipients:G.recipients.filter(e=>"driver"!==e)})},className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:"Assigned Driver"})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i.assignedDriver.lastName||d?.lastName||d?.name," ","(",i.assignedDriver.email||d?.email||"Email TBD",")"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will receive: Passenger details, pickup schedule, flight coordination, and service requirements"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-2xl cursor-pointer transition-colors "+(G.recipients.includes("manager")?"border-green-500 bg-green-50":"border-gray-300 hover:border-green-300"),children:[e.jsx("input",{type:"checkbox",checked:G.recipients.includes("manager"),onChange:e=>{e.target.checked?K({...G,recipients:[...G.recipients,"manager"]}):K({...G,recipients:G.recipients.filter(e=>"manager"!==e)})},className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-900 text-xs",children:"Department Manager"})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[i?.department," Department Head"]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will receive: Travel summary, arrangements overview, and budget information"})]})]})]})]}),G.recipients.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-xs",children:"Message Preview"}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:G.recipients.map(t=>{const r=J(t);return e.jsxs("div",{className:"border border-gray-200 rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-gray-50 px-3 py-2 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:["employee"===t&&e.jsx(j,{className:"w-4 h-4 text-blue-600"}),"driver"===t&&e.jsx(Bt,{className:"w-4 h-4 text-purple-600"}),"manager"===t&&e.jsx(L,{className:"w-4 h-4 text-orange-600"}),e.jsxs("span",{className:"font-medium text-gray-900 capitalize text-xs",children:[t," Notification"]})]})}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Subject"}),e.jsx("p",{className:"text-xs font-medium text-gray-900 bg-gray-50 p-2 rounded-2xl border",children:r.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Message"}),e.jsx("div",{className:"text-xs text-gray-700 bg-gray-50 p-2 rounded-2xl border max-h-32 overflow-y-auto whitespace-pre-line",children:r.message})]})]})]},t)})})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-yellow-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-yellow-900 text-xs",children:"Before Sending"}),e.jsxs("ul",{className:"text-yellow-700 text-xs space-y-1 mt-1",children:[e.jsx("li",{children:" Verify all travel details are accurate"}),e.jsx("li",{children:" Ensure flight bookings are confirmed (if applicable)"}),e.jsx("li",{children:" Confirm driver assignment details"}),e.jsx("li",{children:" Check recipient email addresses"})]})]})]})}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:G.includeItinerary,onChange:e=>K({...G,includeItinerary:e.target.checked}),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),e.jsx("span",{className:"text-gray-700 text-xs",children:"Include downloadable travel itinerary (PDF attachment)"})]}),e.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-100",children:[e.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{try{_(!0);const e=localStorage.getItem("token"),t=G.recipients.map(async t=>{let r;if("employee"===t?r=i.employee._id:"driver"===t&&i.assignedDriver?r=i.assignedDriver._id:"manager"===t&&(r=i.supervisor),!r)return null;const n=J(t);return fetch(`${Y}/api/travel-requests/${i.id}/send-notifications`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({subject:n.subject,message:n.message,includeItinerary:G.includeItinerary,recipients:[r],recipientType:t})})}),r=(await Promise.all(t.filter(Boolean))).filter(e=>!e.ok);if(r.length>0)throw new Error(`Failed to send ${r.length} notification(s)`);const n={...i,status:"completed",fleetNotification:{sent:!0,sentAt:(new Date).toISOString(),recipients:G.recipients,subject:"Multiple personalized notifications sent",message:"Automated context-aware messages sent to all recipients",includeItinerary:G.includeItinerary,sentBy:"currentUserId"}};o(n),W(e=>e.map(e=>e.id===i.id?n:e)),N(!1),M(`Personalized notifications sent successfully to ${G.recipients.length} recipient(s)`),R("success"),D(!0),setTimeout(()=>{D(!1)},3e3)}catch(ide){M(ide.message||"Failed to send notifications"),R("error"),D(!0),setTimeout(()=>{D(!1)},3e3)}finally{_(!1)}},disabled:E||0===G.recipients.length,className:"flex items-center gap-1 px-4 py-2 text-xs bg-green-500 text-white rounded-2xl hover:bg-green-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:E?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:14}),"Send to ",G.recipients.length," Recipient",1!==G.recipients.length?"s":""]})})]})]})]})}),P&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===I?"bg-green-50 text-green-800 border-green-200":"error"===I?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===I&&e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(n,{size:16,className:"text-white"})}),"error"===I&&e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx(T,{size:16,className:"text-white"})}),"info"===I&&e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx(Je,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-medium",children:O}),e.jsx("button",{onClick:()=>D(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const ine=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,one=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},lne=({vendor:t,onMenuClick:r,showMenuId:n,onDelete:s,actionLoading:a,renderRating:i})=>{const o=(l=t).firstName&&l.lastName?{name:`${l.firstName} ${l.lastName}`.trim(),email:l.email,phone:l.phoneNumber||l.phone,companyName:l.companyName,industry:l.industry,status:l.status||l.registrationStatus||"pending",rating:l.rating||0,categories:l.categories||[],id:l._id}:{name:l.name||`${l.firstName||""} ${l.lastName||""}`.trim(),email:l.email,phone:l.phoneNumber||l.phone,companyName:l.businessName||l.companyName,industry:l.industry||"N/A",status:l.registrationStatus||l.status||"pending",rating:l.rating||0,categories:l.categories||[],id:l._id};var l;return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(L,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:o.name||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:o.companyName||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"active":case"approved":return"bg-green-100 text-green-800";case"inactive":default:return"bg-gray-100 text-gray-800";case"pending":return"bg-yellow-100 text-yellow-800"}})(o.status)}`,children:o.status}),e.jsx("button",{"data-vendor-id":o.id,onClick:()=>r(o.id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(p,{className:"w-4 h-4 text-yellow-500"}),o.rating?o.rating.toFixed(1):"0.0"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Rating"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:o.categories?.length||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Categories"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Email"}),e.jsx("span",{className:"text-xs font-medium truncate",children:o.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Phone"}),e.jsx("span",{className:"text-xs font-medium",children:o.phone||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Industry"}),e.jsx("span",{className:"text-xs font-medium",children:o.industry||"N/A"})]})]}),o.categories&&o.categories.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Categories"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.categories.filter(e=>e&&"string"==typeof e).slice(0,2).map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:t},r)),o.categories.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",o.categories.length-2]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsx("div",{className:"flex items-center gap-1",children:i(o.rating||0)}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Qe,{size:14})})]})]})]})};function cne(){const{user:t}=An(),r=$r(),[a,i]=qr.useState([]),[o,l]=qr.useState(!0),[m,h]=qr.useState(null),[f,x]=qr.useState(""),[g,b]=qr.useState(null),[y,v]=qr.useState(!1),[w,N]=qr.useState(null),[k,S]=qr.useState(null),[C,A]=qr.useState(!1),[T,E]=qr.useState(!1),[P,D]=qr.useState(""),[O,M]=qr.useState("success"),I="https://backend.nexusmwi.com",[R]=Vr(),[z,F]=qr.useState(()=>R.get("section")||"dashboard"),[B,q]=qr.useState(!1),$=qr.useRef(null);qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${I}/api/vendors`,{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();r.success&&r.data?i(Array.isArray(r.data)?r.data:[]):Array.isArray(r)?i(r):i([])}catch(e){h("Failed to fetch vendors"),i([])}finally{l(!1)}})()},[I]);const U=(a||[]).filter(e=>{const t=e.name||`${e.firstName||""} ${e.lastName||""}`.trim(),r=e.businessName||e.companyName||"",n=e.email||"",s=f.toLowerCase(),a=t.toLowerCase().includes(s),i=r.toLowerCase().includes(s),o=n.toLowerCase().includes(s),l=!(!e.categories||!Array.isArray(e.categories))&&e.categories.some(e=>e&&"string"==typeof e&&e.toLowerCase().includes(s));return a||i||o||l}),W=(a||[]).length,V=(a||[]).filter(e=>"active"===e.status||"approved"===e.registrationStatus||"active"===e.registrationStatus).length,H=(a||[]).flatMap(e=>e.categories||[]),K=[...new Set(H)].length,Y=a&&a.length>0?(a.reduce((e,t)=>e+(t.rating||0),0)/a.length).toFixed(1):0,J=t=>{const r=[],n=Math.floor(t),s=t%1>=.5;for(let i=0;i<n;i++)r.push(e.jsx(p,{size:12,className:"fill-yellow-400 text-yellow-400"},`full-${i}`));s&&r.push(e.jsxs("div",{className:"relative inline-block",children:[e.jsx(p,{size:12,className:"text-yellow-400"}),e.jsx(p,{size:12,className:"absolute top-0 left-0 fill-yellow-400 text-yellow-400",style:{clipPath:"inset(0 50% 0 0)"}})]},"half"));const a=5-r.length;for(let i=0;i<a;i++)r.push(e.jsx(p,{size:12,className:"text-gray-300"},`empty-${i}`));return e.jsx("div",{className:"flex items-center gap-1",children:r})},Q=async e=>{S(e);try{const t=localStorage.getItem("token");if(!(await fetch(`${I}/api/vendors/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to delete vendor");i(t=>t.filter(t=>t._id!==e)),se("Vendor deleted successfully!","success")}catch(t){se("Failed to delete vendor","error")}finally{S(null),N(null)}},Z=()=>{v(!0)},ee=()=>{v(!1),re({firstName:"",lastName:"",companyName:"",industry:"",email:"",phoneNumber:"",address:"",categories:[]})},[te,re]=qr.useState({firstName:"",lastName:"",email:"",phoneNumber:"",address:"",companyName:"",industry:"",categories:[],taxpayerIdentificationNumber:"",registrationNumber:"",companyType:"Private Limited Company",formOfBusiness:"Limited Liability Company",ownershipType:"Private Ownership",countryOfRegistration:"Malawi"}),ne=e=>{const{name:t,value:r}=e.target;re(e=>({...e,[t]:r}))},se=(e,t="success")=>{D(e),M(t),E(!0),setTimeout(()=>E(!1),5e3)},ae=()=>{l(!0),setTimeout(()=>l(!1),1e3),window.location.reload()};return m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:m})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(ine,{isVisible:o,message:"Loading vendors..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("input",{ref:$,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){let e=[];t.Categories&&(e=t.Categories.split(",").map(e=>e.trim()).filter(e=>""!==e));const r=t.Name||"";let n="",a="";if(r){const e=r.split(" ");n=e[0]||"",a=e.slice(1).join(" ")||""}const i={firstName:n||t["First Name"]||"",lastName:a||t["Last Name"]||"",email:t.Email||"",phoneNumber:t.Phone||"",address:t.Address||"",companyName:t.Company||t["Company Name"]||"",businessName:t.Company||t["Company Name"]||"",industry:t.Industry||"",categories:e,taxpayerIdentificationNumber:t["Tax ID"]||`TIN-${Date.now()}`,registrationNumber:t["Registration Number"]||`REG-${Date.now()}`,companyType:"Private Limited Company",formOfBusiness:"Limited Liability Company",ownershipType:"Private Ownership",countryOfRegistration:"Malawi",role:"Vendor",status:t.Status||"pending"};await fetch(`${I}/api/vendors`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(i)})}se("Excel import completed successfully!","success"),ae()}catch(r){se("Excel import failed!","error")}}}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search vendors...",value:f,onChange:e=>x(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("button",{onClick:ae,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]}),e.jsxs("button",{onClick:()=>{var e;q(!1),F(e="pending-registration"),r(`?section=${e}`,{replace:!0})},className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-2xl font-medium hover:bg-green-600 transition-colors",children:[e.jsx(n,{size:16}),"Approve"]}),e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Le,{size:16}),"Add"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(one,{title:"Total Vendors",value:W,icon:j,color:"blue",subtitle:"In network"}),e.jsx(one,{title:"Active Vendors",value:V,icon:n,color:"green",trend:8,subtitle:"Currently partnered"}),e.jsx(one,{title:"Categories",value:K,icon:Xt,color:"purple",subtitle:"Service types"}),e.jsx(one,{title:"Avg Rating",value:Y,suffix:"/5",icon:p,color:"amber",trend:3,subtitle:"Partner satisfaction"})]}),e.jsxs("div",{id:"vendors-section",className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Vendor Network"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{const e=document.getElementById("vendors-section")?.innerHTML;if(!e)return void se("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Vendors Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .print-grid { \n              display: grid; \n              grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); \n              gap: 15px; \n              margin-top: 20px; \n            }\n            .print-card { \n              border: 1px solid #ddd; \n              padding: 15px; \n              border-radius: 10px; \n              page-break-inside: avoid;\n            }\n            .print-header { \n              display: flex; \n              justify-content: space-between; \n              align-items: center; \n              margin-bottom: 10px; \n              border-bottom: 1px solid #eee; \n              padding-bottom: 10px; \n            }\n            .print-metrics { \n              display: grid; \n              grid-template-columns: repeat(4, 1fr); \n              gap: 10px; \n              margin-bottom: 20px; \n            }\n            .print-metric { \n              text-align: center; \n              padding: 10px; \n              border: 1px solid #ddd; \n              border-radius: 8px; \n            }\n            .stars { display: flex; gap: 2px; margin-top: 5px; }\n            .star { width: 16px; height: 16px; }\n            .star-filled { color: #fbbf24; fill: #fbbf24; }\n            .star-empty { color: #d1d5db; }\n            @media print {\n              body { padding: 0; }\n              .print-card { margin-bottom: 15px; }\n            }\n          </style>\n        </head>\n        <body>\n          <h1>Vendor Network</h1>\n          <div class="print-metrics">\n            <div class="print-metric">\n              <h3>Total Vendors</h3>\n              <p>${W}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Active Vendors</h3>\n              <p>${V}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Categories</h3>\n              <p>${K}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Avg Rating</h3>\n              <p>${Y}/5</p>\n            </div>\n          </div>\n          <div class="print-grid">\n            ${U.map(e=>{const t=e.name?e:{name:`${e.firstName||""} ${e.lastName||""}`.trim(),companyName:e.businessName||e.companyName,email:e.email,phone:e.phoneNumber||e.phone,industry:e.industry,status:e.status||e.registrationStatus,rating:e.rating||0,categories:e.categories||[]};return`\n                <div class="print-card">\n                  <div class="print-header">\n                    <div>\n                      <h3>${t.name||"N/A"}</h3>\n                      <p>${t.companyName||"N/A"}</p>\n                    </div>\n                    <span style="\n                      padding: 4px 8px; \n                      border-radius: 12px; \n                      font-size: 12px;\n                      ${"active"===t.status||"approved"===t.status?"background-color: #d1fae5; color: #065f46;":"pending"===t.status?"background-color: #fef3c7; color: #92400e;":"background-color: #f3f4f6; color: #374151;"}\n                    ">\n                      ${t.status||"N/A"}\n                    </span>\n                  </div>\n                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                    <div style="text-align: center; padding: 8px; background-color: #f9fafb; border-radius: 8px;">\n                      <strong>${t.rating?t.rating.toFixed(1):"0.0"}</strong>\n                      ${(e=>{const t=[],r=Math.floor(e),n=e%1>=.5;for(let a=0;a<r;a++)t.push('<div class="star star-filled"></div>');n&&t.push('<div class="star star-filled" style="clip-path: inset(0 50% 0 0);"></div>');const s=5-t.length;for(let a=0;a<s;a++)t.push('<div class="star star-empty"></div>');return`<div class="stars">${t.join("")}</div>`})(t.rating||0)}\n                      <p style="font-size: 12px; color: #6b7280;">Rating</p>\n                    </div>\n                    <div style="text-align: center; padding: 8px; background-color: #f9fafb; border-radius: 8px;">\n                      <strong>${t.categories?.length||0}</strong>\n                      <p style="font-size: 12px; color: #6b7280;">Categories</p>\n                    </div>\n                  </div>\n                  <div style="font-size: 13px;">\n                    <p><strong>Email:</strong> ${t.email||"N/A"}</p>\n                    <p><strong>Phone:</strong> ${t.phone||"N/A"}</p>\n                    <p><strong>Industry:</strong> ${t.industry||"N/A"}</p>\n                    ${t.categories&&t.categories.length>0?`\n                      <p><strong>Categories:</strong> ${t.categories.slice(0,3).join(", ")}${t.categories.length>3?"...":""}</p>\n                    `:""}\n                  </div>\n                </div>\n              `}).join("")}\n          </div>\n          <div style="text-align: center; margin-top: 20px; color: #6b7280; font-size: 12px;">\n            Generated on ${(new Date).toLocaleDateString()} at ${(new Date).toLocaleTimeString()}\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>$.current.click(),children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{if(!a||0===a.length)return void se("No vendors to export","error");const e=a.map(e=>{const t=e.name||`${e.firstName||""} ${e.lastName||""}`.trim(),r=e.businessName||e.companyName||"",n=e.email||"",s=e.phoneNumber||e.phone||"",a=e.industry||"",i=e.status||e.registrationStatus||"pending",o=e.rating||0,l=e.categories?e.categories.join(", "):"";return{"Vendor ID":e._id||"N/A",Name:t,Email:n,Phone:s,Company:r,Industry:a,Status:i,Rating:o,Categories:l,Address:e.address||"","Tax ID":e.taxpayerIdentificationNumber||"","Registration Number":e.registrationNumber||"","Created Date":e.createdAt?new Date(e.createdAt).toLocaleDateString():(new Date).toLocaleDateString()}}),t=j3.json_to_sheet(e),r=j3.book_new();j3.book_append_sheet(r,t,"Vendors"),c3(r,"vendors.xlsx"),se("Export successful!","success")},children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[U.length," of ",W," vendors"]})]})]}),0===U.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:f?"No vendors match your search":"No vendors found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:f?"Try adjusting your search criteria.":"Start by adding your first vendor partner."}),e.jsxs("button",{onClick:Z,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(Le,{size:16}),"Add Vendor"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:U.map(t=>e.jsx(lne,{vendor:t,onMenuClick:N,showMenuId:w,onDelete:Q,actionLoading:k,renderRating:J},t._id))})]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/5",onClick:()=>N(null),transition:{duration:.1}}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-vendor-id="${w}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-vendor-id="${w}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsx("div",{className:"py-1",children:[{icon:_,label:"View Details",action:()=>r(`/dashboard/vendors/${w}`)},{icon:Qe,label:"Edit Vendor",action:()=>r(`/dashboard/vendors/${w}/edit`)},{icon:rt,label:"Send Message",action:()=>{}},{icon:d,label:"View Performance",action:()=>r(`/dashboard/vendors/${w}/performance`)},{icon:ze,label:"Create Order",action:()=>r(`/dashboard/orders/create?vendor=${w}`)},{icon:X,label:"Copy Vendor ID",action:()=>{return e=w,navigator.clipboard.writeText(e),void se("ID copied to clipboard!","success");var e}},{icon:u,label:"Manage Access",action:()=>r(`/dashboard/vendors/${w}/access`)},{icon:c,label:"Generate Report",action:()=>r(`/dashboard/reports/vendor/${w}`)},{type:"divider"},{icon:Me,label:"Delete Vendor",action:()=>Q(w),destructive:!0}].map((t,r)=>"divider"===t.type?e.jsx("div",{className:"border-t border-gray-100 my-1"},`divider-${r}`):e.jsxs("button",{onClick:()=>{t.action(),N(null)},disabled:k===w&&t.destructive,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm rounded-xl "+(t.destructive?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{children:t.label}),k===w&&t.destructive&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]},t.label))})})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Le,{size:18,className:"text-blue-500"}),"Add New Vendor"]}),e.jsx("button",{onClick:ee,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),A(!0),h(null);try{const e=localStorage.getItem("token"),t={firstName:te.firstName,lastName:te.lastName,email:te.email,phoneNumber:te.phoneNumber,address:te.address,companyName:te.companyName,businessName:te.companyName,industry:te.industry,categories:te.categories.filter(e=>""!==e.trim()),taxpayerIdentificationNumber:te.taxpayerIdentificationNumber||`TIN-${Date.now()}`,registrationNumber:te.registrationNumber||`REG-${Date.now()}`,companyType:te.companyType,formOfBusiness:te.formOfBusiness,ownershipType:te.ownershipType,countryOfRegistration:te.countryOfRegistration,role:"Vendor"},r=await fetch(`${I}/api/vendors`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!r.ok)throw new Error(n.message||"Failed to add vendor");{const e={_id:n.vendor?.id||n.vendor?._id||Date.now().toString(),firstName:te.firstName,lastName:te.lastName,email:te.email,phoneNumber:te.phoneNumber,companyName:te.companyName,industry:te.industry,categories:te.categories,status:n.vendor?.status||"pending",rating:0,registrationStatus:"pending"};i(t=>[...t,e]),se("Vendor added successfully! Registration email sent.","success"),ee()}}catch(t){se(t.message||"Failed to add vendor","error")}finally{A(!1)}},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:te.firstName,onChange:ne,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:te.lastName,onChange:ne,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:te.email,onChange:ne,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone Number *"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:te.phoneNumber,onChange:e=>{const t=e.target.value.replace(/[^0-9+]/g,"");ne({target:{name:"phoneNumber",value:t}})},required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Company Name *"}),e.jsx("input",{type:"text",name:"companyName",value:te.companyName,onChange:ne,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Address *"}),e.jsx("input",{type:"text",name:"address",value:te.address,onChange:ne,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Industry *"}),e.jsx("input",{type:"text",name:"industry",value:te.industry,onChange:ne,required:!0,placeholder:"e.g., Technology, Manufacturing, Consulting",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Categories *"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{name:"categories",value:te.categories,onChange:e=>{const t=e.target.options,r=[];for(let n=0;n<t.length;n++)t[n].selected&&r.push(t[n].value);re({...te,categories:r})},multiple:!0,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",children:[e.jsx("option",{value:"Office Supplies",children:"Office Supplies"}),e.jsx("option",{value:"Furniture",children:"Furniture"}),e.jsx("option",{value:"Electronics",children:"Electronics"}),e.jsx("option",{value:"Stationery",children:"Stationery"}),e.jsx("option",{value:"IT Services",children:"IT Services"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Construction",children:"Construction"}),e.jsx("option",{value:"Consulting",children:"Consulting"}),e.jsx("option",{value:"Security",children:"Security"}),e.jsx("option",{value:"Cleaning",children:"Cleaning"})]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:e.jsx(je,{className:"h-4 w-4 text-gray-400"})})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:te.categories.map((t,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[t,e.jsx("button",{type:"button",onClick:()=>{re({...te,categories:te.categories.filter((e,t)=>t!==r)})},className:"ml-1.5 inline-flex text-blue-400 hover:text-blue-600",children:e.jsx(s,{size:12})})]},r))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Hold ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"Ctrl"})," (Windows) or ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"Cmd"})," (Mac) to select multiple"]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Tax ID (Optional)"}),e.jsx("input",{type:"text",name:"taxpayerIdentificationNumber",value:te.taxpayerIdentificationNumber,onChange:ne,placeholder:"Will be auto-generated if empty",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Registration Number (Optional)"}),e.jsx("input",{type:"text",name:"registrationNumber",value:te.registrationNumber,onChange:ne,placeholder:"Will be auto-generated if empty",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:ee,className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:14}),"Add Vendor"]})})]})]})})]})}),T&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===O?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===O?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:P}),e.jsx("button",{onClick:()=>E(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const dne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,une=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},mne=({employee:t,onMenuClick:r,showMenuId:n,onDelete:s,actionLoading:a,findEmployeeDepartment:i})=>{const o=t._id||t.id||t.employeeId,l=i(o);return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(O,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:`${t.firstName||""} ${t.lastName||""}`.trim()||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:t.position||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"on-leave":return"bg-yellow-100 text-yellow-800";case"terminated":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status}),e.jsx("button",{"data-employee-id":o,onClick:()=>r(o),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold text-gray-900",children:["$",t.salary?t.salary.toLocaleString():0]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Salary"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.hireDate?`${Math.floor((new Date-new Date(t.hireDate))/31536e6)}`:0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Years"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Email"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Phone"}),e.jsx("span",{className:"text-xs font-medium",children:t.phoneNumber||t.phone||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Department"}),e.jsx("span",{className:"text-xs font-medium",children:l?l.departmentCode:"N/A"})]})]}),t.skills&&t.skills.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Skills"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.skills.slice(0,2).map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:t},r)),t.skills.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",t.skills.length-2]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Hired: ",t.hireDate?new Date(t.hireDate).toLocaleDateString():"N/A"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Qe,{size:14})})]})]})]})};function hne(){const{user:t}=An(),r=$r(),[a,i]=qr.useState([]),[o,u]=qr.useState(!0),[m,h]=qr.useState(null),[p,f]=qr.useState(""),[g,b]=qr.useState(null),[y,v]=qr.useState(!1),[w,N]=qr.useState(null),[k,S]=qr.useState(null),[C,A]=qr.useState({firstName:"",lastName:"",email:"",phoneNumber:"",address:"",department:"",position:"",hireDate:"",salary:"",status:"active",emergencyContact:"",skills:[]}),[T]=Vr(),[E,P]=qr.useState(()=>T.get("section")||"dashboard"),[D,L]=qr.useState(!1),[I,R]=qr.useState(!1),[z,F]=qr.useState(""),[B,q]=qr.useState("success"),[$,U]=qr.useState([]),W=qr.useRef(null),V="https://backend.nexusmwi.com",[H,K]=qr.useState(!1);qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${V}/api/auth/employees`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch employees");{const e=await t.json();e.success&&Array.isArray(e.data)?i(e.data):Array.isArray(e)?i(e):i([])}}catch(e){h("Failed to fetch employees"),i([])}finally{u(!1)}})()},[V]),qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${V}/api/departments`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch departments");{const e=await t.json();e.success&&Array.isArray(e.data)?U(e.data):Array.isArray(e)?U(e):U([])}}catch(e){U([])}})()},[V]),qr.useEffect(()=>{Array.isArray(a)&&a.length>0&&Array.isArray($)&&$.length>0&&a.forEach(e=>{const t=e._id||e.id||e.employeeId;Y(t)})},[a,$]);const Y=e=>{if(!e||!Array.isArray($)||0===$.length)return null;return $.find(t=>t.employees&&Array.isArray(t.employees)&&t.employees.includes(e))||null},J=Array.isArray(a)?a.filter(e=>{const t=e._id||e.id||e.employeeId,r=Y(t),n=`${e.firstName||""} ${e.lastName||""}`.toLowerCase().includes(p.toLowerCase()),s=!!r&&(r.name?.toLowerCase().includes(p.toLowerCase())||r.departmentCode?.toLowerCase().includes(p.toLowerCase())),a=!!e.position&&e.position.toLowerCase().includes(p.toLowerCase()),i=!(!e.skills||!Array.isArray(e.skills))&&e.skills.some(e=>e&&"string"==typeof e&&e.toLowerCase().includes(p.toLowerCase()));return n||s||a||i}):[],Q=Array.isArray(a)?a.length:0,Z=Array.isArray(a)?a.filter(e=>"active"===e.status).length:0,ee=Array.isArray($)?$.length:0,te=Array.isArray(a)&&a.length>0?(a.reduce((e,t)=>{const r=new Date(t.hireDate);return e+(new Date-r)/31536e6},0)/a.length).toFixed(1):0,re=async e=>{if(e){S(e);try{const t=localStorage.getItem("token");if(!(await fetch(`${V}/api/employees/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}})).ok)throw new Error("Failed to delete employee");i(t=>Array.isArray(t)?t.filter(t=>(t._id||t.id||t.employeeId)!==e):[]),ie("Employee deleted successfully!","success")}catch(t){ie("Failed to delete employee","error")}finally{S(null),N(null)}}else ie("Error: Employee ID not found","error")},ne=()=>{v(!0)},se=()=>{v(!1),A({firstName:"",lastName:"",email:"",phoneNumber:"",address:"",department:"",position:"",hireDate:"",salary:"",status:"active",emergencyContact:"",skills:[]})},ae=e=>{const{name:t,value:r}=e.target;if("skills"===t){const r=Array.from(e.target.selectedOptions,e=>e.value);A(e=>({...e,[t]:r}))}else if("department"===t){const e=$.find(e=>e.name===r);A(n=>({...n,[t]:e?e._id:r}))}else A(e=>({...e,[t]:r}))},ie=(e,t="success")=>{F(e),q(t),R(!0),setTimeout(()=>R(!1),5e3)},oe=e=>{var t;e?(window.history.pushState(null,"",`/dashboard/employees/${e}`),P(t="employees-edit"),r(`?section=${t}`,{replace:!0}),N(null),K(!1)):ie("Error: Employee ID not found","error")},le=()=>{u(!0),setTimeout(()=>u(!1),1e3),window.location.reload()};return m?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:m})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(dne,{isVisible:o,message:"Loading employees..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("input",{ref:W,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){let e="";if(t.Department||t["Department Code"]){const r=$.find(e=>e.name===t.Department||e.departmentCode===t["Department Code"]);e=r?r._id:""}const r={firstName:t["First Name"]||"",lastName:t["Last Name"]||"",email:t.Email||"",phoneNumber:t.Phone||"",address:t.Address||"",department:e,position:t.Position||"",hireDate:t["Hire Date"]?new Date(t["Hire Date"]).toISOString():(new Date).toISOString(),salary:Number(t.Salary)||0,status:t.Status||"active",emergencyContact:t["Emergency Contact"]||"",skills:t.Skills?t.Skills.split(",").map(e=>e.trim()):[],employmentType:"full-time",workLocation:"office"};await fetch(`${V}/api/auth/employees`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(r)})}ie("Excel import completed successfully!","success"),le()}catch(r){ie("Excel import failed!","error")}}}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search employees...",value:p,onChange:e=>f(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("button",{onClick:le,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]}),e.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Le,{size:16}),"Add Employee"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(une,{title:"Total Employees",value:Q,icon:j,color:"blue",subtitle:"In organization"}),e.jsx(une,{title:"Active Employees",value:Z,icon:n,color:"green",trend:5,subtitle:"Currently working"}),e.jsx(une,{title:"Departments",value:ee,icon:M,color:"purple",subtitle:"Active departments"}),e.jsx(une,{title:"Avg Tenure",value:te,suffix:" years",icon:l,color:"orange",trend:2,subtitle:"Company experience"})]}),e.jsxs("div",{id:"employees-section",className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Team Members"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{const e=document.getElementById("employees-section")?.innerHTML;if(!e)return void ie("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Employees Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .print-grid { \n              display: grid; \n              grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); \n              gap: 15px; \n              margin-top: 20px; \n            }\n            .print-card { \n              border: 1px solid #ddd; \n              padding: 15px; \n              border-radius: 10px; \n              page-break-inside: avoid;\n            }\n            .print-header { \n              display: flex; \n              justify-content: space-between; \n              align-items: center; \n              margin-bottom: 10px; \n              border-bottom: 1px solid #eee; \n              padding-bottom: 10px; \n            }\n            .print-metrics { \n              display: grid; \n              grid-template-columns: repeat(4, 1fr); \n              gap: 10px; \n              margin-bottom: 20px; \n            }\n            .print-metric { \n              text-align: center; \n              padding: 10px; \n              border: 1px solid #ddd; \n              border-radius: 8px; \n            }\n            @media print {\n              body { padding: 0; }\n              .print-card { margin-bottom: 15px; }\n            }\n          </style>\n        </head>\n        <body>\n          <h1>Employee List</h1>\n          <div class="print-metrics">\n            <div class="print-metric">\n              <h3>Total Employees</h3>\n              <p>${Q}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Active Employees</h3>\n              <p>${Z}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Departments</h3>\n              <p>${ee}</p>\n            </div>\n            <div class="print-metric">\n              <h3>Avg Tenure</h3>\n              <p>${te} years</p>\n            </div>\n          </div>\n          <div class="print-grid">\n            ${J.map(e=>{const t=e._id||e.id||e.employeeId,r=Y(t);return`\n                <div class="print-card">\n                  <div class="print-header">\n                    <div>\n                      <h3>${e.firstName||""} ${e.lastName||""}</h3>\n                      <p>${e.position||"N/A"}</p>\n                    </div>\n                    <span style="\n                      padding: 4px 8px; \n                      border-radius: 12px; \n                      font-size: 12px;\n                      ${"active"===e.status?"background-color: #d1fae5; color: #065f46;":"on-leave"===e.status?"background-color: #fef3c7; color: #92400e;":"background-color: #fee2e2; color: #991b1b;"}\n                    ">\n                      ${e.status}\n                    </span>\n                  </div>\n                  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                    <div style="text-align: center; padding: 8px; background-color: #f9fafb; border-radius: 8px;">\n                      <strong>$${e.salary?e.salary.toLocaleString():0}</strong>\n                      <p style="font-size: 12px; color: #6b7280;">Salary</p>\n                    </div>\n                    <div style="text-align: center; padding: 8px; background-color: #f9fafb; border-radius: 8px;">\n                      <strong>${e.hireDate?Math.floor((new Date-new Date(e.hireDate))/31536e6):0}</strong>\n                      <p style="font-size: 12px; color: #6b7280;">Years</p>\n                    </div>\n                  </div>\n                  <div style="font-size: 13px;">\n                    <p><strong>Email:</strong> ${e.email||"N/A"}</p>\n                    <p><strong>Phone:</strong> ${e.phoneNumber||e.phone||"N/A"}</p>\n                    <p><strong>Department:</strong> ${r?r.departmentCode:"N/A"}</p>\n                    <p><strong>Hired:</strong> ${e.hireDate?new Date(e.hireDate).toLocaleDateString():"N/A"}</p>\n                    ${e.skills&&e.skills.length>0?`\n                      <p><strong>Skills:</strong> ${e.skills.slice(0,3).join(", ")}${e.skills.length>3?"...":""}</p>\n                    `:""}\n                  </div>\n                </div>\n              `}).join("")}\n          </div>\n          <div style="text-align: center; margin-top: 20px; color: #6b7280; font-size: 12px;">\n            Generated on ${(new Date).toLocaleDateString()} at ${(new Date).toLocaleTimeString()}\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>W.current.click(),children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{if(!a||0===a.length)return void ie("No employees to export","error");const e=a.map(e=>{const t=e._id||e.id||e.employeeId,r=Y(t);return{"Employee ID":t||"N/A","First Name":e.firstName||"","Last Name":e.lastName||"","Full Name":`${e.firstName||""} ${e.lastName||""}`.trim(),Email:e.email||"",Phone:e.phoneNumber||e.phone||"",Position:e.position||"",Department:r?r.name:"","Department Code":r?r.departmentCode:"",Salary:e.salary||0,"Hire Date":e.hireDate?new Date(e.hireDate).toLocaleDateString():"",Status:e.status||"",Address:e.address||"","Emergency Contact":e.emergencyContact||"",Skills:e.skills?e.skills.join(", "):"","Years of Service":e.hireDate?Math.floor((new Date-new Date(e.hireDate))/31536e6):0}}),t=j3.json_to_sheet(e),r=j3.book_new();j3.book_append_sheet(r,t,"Employees"),c3(r,"employees.xlsx"),ie("Export successful!","success")},children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[J.length," of ",Q," employees"]})]})]}),0===J.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(O,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p?"No employees match your search":"No employees found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:p?"Try adjusting your search criteria.":"Start by adding your first employee."}),e.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(Le,{size:16}),"Add Employee"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:J.map(t=>e.jsx(mne,{employee:t,onMenuClick:N,showMenuId:w,onDelete:re,actionLoading:k,findEmployeeDepartment:Y},t._id||t.id||t.employeeId))})]})]}),w&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/5",onClick:()=>N(null),transition:{duration:.1}}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-employee-id="${w}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-employee-id="${w}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsx("div",{className:"py-1",children:[{icon:_,label:"View Details",action:()=>oe(w)},{icon:Qe,label:"Edit Employee",action:()=>{var e;(e=w)?(r(`/dashboard/employees/${e}/edit`),N(null)):ie("Error: Employee ID not found","error")}},{icon:rt,label:"Send Message",action:()=>(ie("Message feature coming soon!","info"),void N(null))},{icon:d,label:"View Performance",action:()=>{var e;(e=w)?(r(`/dashboard/employees/${e}/performance`),N(null)):ie("Error: Employee ID not found","error")}},{icon:c,label:"Generate Report",action:()=>{var e;(e=w)?(r(`/dashboard/employees/${e}/report`),N(null)):ie("Error: Employee ID not found","error")}},{icon:X,label:"Copy Employee ID",action:()=>{return e=w,navigator.clipboard.writeText(e),void ie("ID copied to clipboard!","success");var e}},{icon:x,label:"Manage Access",action:()=>{var e;(e=w)?(r(`/dashboard/employees/${e}/access`),N(null)):ie("Error: Employee ID not found","error")}},{type:"divider"},{icon:Me,label:"Delete Employee",action:()=>re(w),destructive:!0}].map((t,r)=>"divider"===t.type?e.jsx("div",{className:"border-t border-gray-100 my-1"},`divider-${r}`):e.jsxs("button",{onClick:()=>{t.action(),N(null)},disabled:k===w&&t.destructive,className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm rounded-xl "+(t.destructive?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{children:t.label}),k===w&&t.destructive&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]},t.label))})})]}),y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Le,{size:18,className:"text-blue-500"}),"Add New Employee"]}),e.jsx("button",{onClick:se,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),L(!0),h(null);try{const e=$.find(e=>e._id===C.department),t={...C,departmentId:e?._id},r=localStorage.getItem("token"),n=await fetch(`${V}/api/auth/employees`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to add employee");{const e=s.employee||s.data||s;i(t=>Array.isArray(t)?[...t,e]:[e]),ie(`Employee ${e.firstName} ${e.lastName} has been created successfully! A registration email has been sent to ${e.email}.`,"success"),se(),A({firstName:"",lastName:"",email:"",phoneNumber:"",address:"",department:"",position:"",hireDate:"",salary:"",status:"active",emergencyContact:"",skills:[],employmentType:"full-time",workLocation:"office",manager:null})}}catch(t){ie(t.message||"Failed to add employee","error")}finally{L(!1)}},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"First Name *"}),e.jsx("input",{type:"text",name:"firstName",value:C.firstName,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Last Name *"}),e.jsx("input",{type:"text",name:"lastName",value:C.lastName,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",name:"email",value:C.email,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone *"}),e.jsx("input",{type:"tel",name:"phoneNumber",value:C.phoneNumber,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Emergency Contact *"}),e.jsx("input",{type:"text",name:"emergencyContact",value:C.emergencyContact,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Address *"}),e.jsx("input",{type:"text",name:"address",value:C.address,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department *"}),e.jsxs("select",{name:"department",value:(e=>{if(!e||!Array.isArray($))return"";const t=$.find(t=>t._id===e);return t?t.name:""})(C.department),onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Department"}),Array.isArray($)&&$.map(t=>e.jsxs("option",{value:t.name,children:[t.name," (",t.departmentCode,")"]},t._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Position *"}),e.jsxs("select",{name:"position",value:C.position,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select Position"}),["Software Engineer","Senior Software Engineer","Lead Engineer","Product Manager","Senior Product Manager","Data Scientist","Data Analyst","UI/UX Designer","Senior Designer","DevOps Engineer","Quality Assurance Engineer","Business Analyst","Project Manager","Scrum Master","Sales Representative","Sales Manager","Marketing Specialist","Marketing Manager","HR Specialist","HR Manager","Finance Analyst","Accountant","Administrative Assistant","Office Manager","Customer Support Representative","Customer Success Manager"].map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Hire Date *"}),e.jsx("input",{type:"date",name:"hireDate",value:C.hireDate,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Salary *"}),e.jsx("input",{type:"number",name:"salary",value:C.salary,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{name:"status",value:C.status,onChange:ae,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"on-leave",children:"On Leave"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Skills *"}),e.jsxs("select",{name:"skills",value:C.skills,onChange:ae,multiple:!0,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",children:[e.jsx("option",{value:"JavaScript",children:"JavaScript"}),e.jsx("option",{value:"React",children:"React"}),e.jsx("option",{value:"Node.js",children:"Node.js"}),e.jsx("option",{value:"Project Management",children:"Project Management"}),e.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),e.jsx("option",{value:"Data Analysis",children:"Data Analysis"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Customer Service",children:"Customer Service"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:C.skills.map((t,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:[t,e.jsx("button",{type:"button",onClick:()=>{A({...C,skills:C.skills.filter((e,t)=>t!==r)})},className:"ml-1.5 inline-flex text-blue-400 hover:text-blue-600",children:e.jsx(s,{size:12})})]},r))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Hold ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"Ctrl"})," (Windows) or ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded",children:"Cmd"})," (Mac) to select multiple"]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:se,className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:D,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:D?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:14}),"Add Employee"]})})]})]})})]})}),I&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===B?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===B?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:z}),e.jsx("button",{onClick:()=>R(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const pne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,fne=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},xne=({department:t,onMenuClick:r,showMenuId:n,onDelete:s,actionLoading:a})=>{return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(C,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.departmentHead})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"restructuring":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-red-100 text-red-800";case"merging":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status}),e.jsx("button",{"data-department-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.employeeCount||0}),e.jsx("div",{className:"text-xs text-gray-500",children:"Employees"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"text-base font-bold "+(o=t.performance||0,o>=90?"text-green-600":o>=70?"text-yellow-600":"text-red-600"),children:[t.performance||0,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Performance"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Budget"}),e.jsx("span",{className:"text-xs font-medium",children:(i=t.budget||0,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(i))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Location"}),e.jsx("span",{className:"text-xs font-medium",children:t.location})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Established"}),e.jsx("span",{className:"text-xs font-medium",children:t.establishedDate?new Date(t.establishedDate).getFullYear():"N/A"})]})]}),t.goals&&t.goals.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Goals"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.goals.slice(0,2).map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:t},r)),t.goals.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",t.goals.length-2]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(D,{size:12}),e.jsx("span",{className:"truncate",children:t.headEmail})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Qe,{size:14})})]})]})]});var i,o};function gne(){const t=$r(),{user:r}=An(),[a,i]=qr.useState([]),[o,l]=qr.useState(!0),[c,d]=qr.useState(null),[u,h]=qr.useState(""),[p,f]=qr.useState(null),[x,g]=qr.useState(!1),[b,y]=qr.useState(null),[v,w]=qr.useState(null),[N,k]=qr.useState({name:"",description:"",departmentHead:"",headEmail:"",headPhone:"",budget:"",location:"",floor:"",building:"",status:"active",goals:[],establishedDate:"",maxCapacity:""}),[S,A]=qr.useState(!1),[T,E]=qr.useState(!1),[P,D]=qr.useState(""),[O,L]=qr.useState("success"),M=qr.useRef(null),I="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${I}/api/departments`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch departments");{const e=await t.json();e.success&&Array.isArray(e.data)?i(e.data):Array.isArray(e)?i(e):i([])}}catch(e){d("Failed to fetch departments"),i([])}finally{l(!1)}})()},[I]);const R=Array.isArray(a)?a.filter(e=>{const t=e.name?.toLowerCase().includes(u.toLowerCase())||!1,r=e.departmentHead?.toLowerCase().includes(u.toLowerCase())||!1,n=e.location?.toLowerCase().includes(u.toLowerCase())||!1,s=!(!e.goals||!Array.isArray(e.goals))&&e.goals.some(e=>e&&"string"==typeof e&&e.toLowerCase().includes(u.toLowerCase()));return t||r||n||s}):[],z=Array.isArray(a)?a.length:0,F=Array.isArray(a)?a.filter(e=>"active"===e.status).length:0,B=Array.isArray(a)?a.reduce((e,t)=>e+(t.employeeCount||0),0):0,q=Array.isArray(a)?a.reduce((e,t)=>e+(t.budget||0),0):0,$=async e=>{w(e);try{const t=localStorage.getItem("token"),r=await fetch(`${I}/api/departments/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to delete department")}i(t=>Array.isArray(t)?t.filter(t=>t._id!==e):[]),H("Department deleted successfully!","success")}catch(t){H(t.message||"Failed to delete department","error")}finally{w(null),y(null)}},U=()=>{g(!0)},W=()=>{g(!1),k({name:"",description:"",departmentHead:"",headEmail:"",headPhone:"",budget:"",location:"",floor:"",building:"",status:"active",goals:[],establishedDate:"",maxCapacity:""})},V=e=>{const{name:t,value:r}=e.target;if("goals"===t){const r=Array.from(e.target.selectedOptions,e=>e.value);k(e=>({...e,[t]:r}))}else k(e=>({...e,[t]:r}))},H=(e,t="success")=>{D(e),L(t),E(!0),setTimeout(()=>E(!1),5e3)},K=()=>{l(!0),setTimeout(()=>l(!1),1e3),window.location.reload()};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:c})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(pne,{isVisible:o,message:"Loading departments..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("input",{ref:M,type:"file",accept:".xlsx, .xls",className:"hidden",onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){const e={name:t.Name||"",description:t.Description||"",departmentHead:t.DepartmentHead||"",headEmail:t.Email||"",headPhone:t.Phone||"",budget:Number(t.Budget)||0,location:t.Location||"",building:t.Building||"",floor:t.Floor||"",status:t.Status||"active",goals:t.Goals?t.Goals.split(",").map(e=>e.trim()):[],establishedDate:t.Established?new Date(t.Established).toISOString():"",maxCapacity:Number(t.MaxCapacity)||""};await fetch(`${I}/api/departments`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})}H("Excel import completed successfully!","success"),K()}catch(r){H("Excel import failed!","error")}}}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search departments...",value:u,onChange:e=>h(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("button",{onClick:K,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]}),e.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Le,{size:16}),"Add Department"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(fne,{title:"Total Departments",value:z,icon:C,color:"blue",subtitle:"In organization"}),e.jsx(fne,{title:"Active Departments",value:F,icon:n,color:"green",trend:5,subtitle:"Currently operational"}),e.jsx(fne,{title:"Total Employees",value:B,icon:j,color:"purple",trend:12,subtitle:"Across all departments"}),e.jsx(fne,{title:"Total Budget",value:(Y=q,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Y)),icon:m,color:"orange",trend:-2,subtitle:"Annual allocation"})]}),e.jsxs("div",{id:"departments-section",className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Departments"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>M.current.click(),children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{if(!a||0===a.length)return void H("No departments to export","error");const e=a.map(e=>({Name:e.name,Description:e.description,DepartmentHead:e.departmentHead,Email:e.headEmail,Phone:e.headPhone,Budget:e.budget,Location:e.location,Building:e.building,Floor:e.floor,Status:e.status,Goals:e.goals?.join(", "),Established:e.establishedDate?new Date(e.establishedDate).toLocaleDateString():"",MaxCapacity:e.maxCapacity})),t=j3.json_to_sheet(e),r=j3.book_new();j3.book_append_sheet(r,t,"Departments"),c3(r,"departments.xlsx"),H("Export successful!","success")},children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[R.length," of ",z," departments"]})]})]}),0===R.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u?"No departments match your search":"No departments found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:u?"Try adjusting your search criteria.":"Start by adding your first department."}),e.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-2xl font-medium hover:bg-blue-600 mx-auto",children:[e.jsx(Le,{size:16}),"Add Department"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:R.map(t=>e.jsx(xne,{department:t,onMenuClick:y,showMenuId:b,onDelete:$,actionLoading:v},t._id))})]})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>y(null)}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-department-id="${b}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-department-id="${b}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{t(`/dashboard/departments/${b}`),y(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm rounded-xl",children:[e.jsx(_,{size:16,className:"text-gray-500"}),"View Details"]}),e.jsxs("button",{onClick:()=>{t(`/dashboard/departments/${b}/edit`),y(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm rounded-xl",children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Edit Department"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>$(b),disabled:v===b,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 text-left text-sm rounded-xl",children:[e.jsx(Me,{size:16}),"Delete Department",v===b&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]})]})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Le,{size:18,className:"text-blue-500"}),"Add New Department"]}),e.jsx("button",{onClick:W,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]})}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),A(!0),d(null);try{const e=localStorage.getItem("token"),t=await fetch(`${I}/api/departments`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(N)}),r=await t.json();if(!t.ok)throw new Error(r.message||"Failed to add department");{const e=r.department||r.data||r;i(t=>Array.isArray(t)?[...t,e]:[e]),H("Department added successfully!","success"),W()}}catch(t){H(t.message||"Failed to add department","error")}finally{A(!1)}},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department Name *"}),e.jsx("input",{type:"text",name:"name",value:N.name,onChange:V,required:!0,placeholder:"e.g., Engineering",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status *"}),e.jsxs("select",{name:"status",value:N.status,onChange:V,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"restructuring",children:"Restructuring"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"merging",children:"Merging"}),e.jsx("option",{value:"dissolving",children:"Dissolving"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description *"}),e.jsx("textarea",{name:"description",value:N.description,onChange:V,required:!0,rows:3,placeholder:"Department's purpose and responsibilities",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department Head *"}),e.jsx("input",{type:"text",name:"departmentHead",value:N.departmentHead,onChange:V,required:!0,placeholder:"e.g., John Smith",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Head Email *"}),e.jsx("input",{type:"email",name:"headEmail",value:N.headEmail,onChange:V,required:!0,placeholder:"john.smith@company.com",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Head Phone *"}),e.jsx("input",{type:"tel",name:"headPhone",value:N.headPhone,onChange:V,required:!0,placeholder:"+1 (555) 123-4567",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Established Date *"}),e.jsx("input",{type:"date",name:"establishedDate",value:N.establishedDate,onChange:V,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Budget *"}),e.jsx("input",{type:"number",name:"budget",value:N.budget,onChange:V,required:!0,placeholder:"e.g., 500000",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location *"}),e.jsx("input",{type:"text",name:"location",value:N.location,onChange:V,required:!0,placeholder:"e.g., Building A, Floor 3",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Max Capacity"}),e.jsx("input",{type:"number",name:"maxCapacity",value:N.maxCapacity,onChange:V,placeholder:"e.g., 50",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Building"}),e.jsx("input",{type:"text",name:"building",value:N.building,onChange:V,placeholder:"e.g., Building A",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Floor"}),e.jsx("input",{type:"text",name:"floor",value:N.floor,onChange:V,placeholder:"e.g., Floor 3",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Department Goals"}),e.jsxs("select",{name:"goals",value:N.goals,onChange:V,multiple:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500 min-h-[100px]",children:[e.jsx("option",{value:"Product Development",children:"Product Development"}),e.jsx("option",{value:"Technical Innovation",children:"Technical Innovation"}),e.jsx("option",{value:"System Optimization",children:"System Optimization"}),e.jsx("option",{value:"Brand Growth",children:"Brand Growth"}),e.jsx("option",{value:"Lead Generation",children:"Lead Generation"}),e.jsx("option",{value:"Customer Engagement",children:"Customer Engagement"}),e.jsx("option",{value:"Revenue Growth",children:"Revenue Growth"}),e.jsx("option",{value:"Customer Retention",children:"Customer Retention"}),e.jsx("option",{value:"Market Expansion",children:"Market Expansion"}),e.jsx("option",{value:"Talent Acquisition",children:"Talent Acquisition"}),e.jsx("option",{value:"Employee Development",children:"Employee Development"}),e.jsx("option",{value:"Culture Building",children:"Culture Building"}),e.jsx("option",{value:"Financial Planning",children:"Financial Planning"}),e.jsx("option",{value:"Cost Optimization",children:"Cost Optimization"}),e.jsx("option",{value:"Compliance",children:"Compliance"}),e.jsx("option",{value:"Process Improvement",children:"Process Improvement"}),e.jsx("option",{value:"Efficiency",children:"Efficiency"}),e.jsx("option",{value:"Quality Control",children:"Quality Control"}),e.jsx("option",{value:"Digital Transformation",children:"Digital Transformation"}),e.jsx("option",{value:"Risk Management",children:"Risk Management"})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:N.goals.map((t,r)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded-2xl text-xs font-medium bg-blue-100 text-blue-800",children:[t,e.jsx("button",{type:"button",onClick:()=>{k({...N,goals:N.goals.filter((e,t)=>t!==r)})},className:"ml-1.5 inline-flex text-blue-400 hover:text-blue-600",children:e.jsx(s,{size:12})})]},r))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Hold ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded-xl",children:"Ctrl"})," (Windows) or ",e.jsx("kbd",{className:"px-1 py-0.5 bg-gray-100 rounded-xl",children:"Cmd"})," (Mac) to select multiple"]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:S?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:14}),"Create Department"]})})]})]})})]})}),T&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-2xl shadow-2xl border "+("success"===O?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===O?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:P}),e.jsx("button",{onClick:()=>E(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]});var Y}const bne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,yne=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},vne=({vendor:t,onViewDetails:r,onApprove:n,onReject:s,actionLoading:a,formatDate:i,getStatusColor:o,getStatusIcon:l,handleSectionChange:d})=>{const u=t.documents?.length||0;return $r(),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(L,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.businessName||"N/A"}),e.jsx("p",{className:"text-xs text-gray-500",children:t.registrationNumber||"No reg. number"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${o(t.registrationStatus)}`,children:[l(t.registrationStatus),e.jsx("span",{className:"ml-1 capitalize",children:t.registrationStatus||"Unknown"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.businessCategory||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Category"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:t.countryOfRegistration||"N/A"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Country"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Contact"}),e.jsxs("span",{className:"text-xs font-medium truncate",children:[t.vendor?.firstName," ",t.vendor?.lastName]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Email"}),e.jsx("span",{className:"text-xs font-medium truncate",children:t.vendor?.email||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Submitted"}),e.jsx("span",{className:"text-xs font-medium",children:t.submissionDate?i(t.submissionDate):"N/A"})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-50 rounded-full flex items-center justify-center",children:e.jsx(c,{size:12,className:"text-blue-600"})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[u," file",1!==u?"s":""]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsxs("button",{onClick:()=>{t._id&&(localStorage.setItem("selectedVendorId",t._id),d?d("vendor-details"):window.dispatchEvent(new CustomEvent("dashboardNavigation",{detail:{section:"vendor-details"}})))},className:"px-2 py-1 bg-blue-500 text-white rounded-lg text-xs font-medium hover:bg-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(_,{size:12}),"View"]}),"pending"===t.registrationStatus&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>n(t._id),disabled:a===t._id,className:"px-2 py-1 bg-green-500 text-white rounded-lg text-xs font-medium hover:bg-green-600 transition-colors flex items-center gap-1 disabled:opacity-50",children:[e.jsx(q,{size:12}),"Approve"]}),e.jsxs("button",{onClick:()=>s(t._id),disabled:a===t._id,className:"px-2 py-1 bg-red-500 text-white rounded-lg text-xs font-medium hover:bg-red-600 transition-colors flex items-center gap-1 disabled:opacity-50",children:[e.jsx(Qt,{size:12}),"Reject"]})]})]})]})]})};function jne({handleSectionChange:t}){const{user:r}=An(),[a,i]=qr.useState([]),[o,d]=qr.useState(!0),[u,m]=qr.useState(""),[h,p]=qr.useState("all"),[f,x]=qr.useState(null),[g,b]=qr.useState(!1),[y,w]=qr.useState(null),[N,k]=qr.useState(null),[S,C]=qr.useState("table"),[A,E]=qr.useState(!1),[P,D]=qr.useState(""),[O,I]=qr.useState("success"),R="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)throw new Error("No authentication token found");const t=await fetch(`${R}/api/vendors/pending/registration`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=await t.json();i(r)}catch(ide){i([])}finally{d(!1)}})()},[R]);const z=a.filter(e=>{const t=e.businessName?.toLowerCase().includes(u.toLowerCase())||e.vendor?.firstName?.toLowerCase().includes(u.toLowerCase())||e.vendor?.lastName?.toLowerCase().includes(u.toLowerCase())||e.vendor?.email?.toLowerCase().includes(u.toLowerCase())||!1,r="all"===h||e.registrationStatus===h;return t&&r}),F=a?.length||0,B=a?.filter(e=>"pending"===e.registrationStatus)?.length||0,$=a?.filter(e=>"approved"===e.registrationStatus)?.length||0,U=a?.filter(e=>"rejected"===e.registrationStatus)?.length||0,W=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),V=e=>{switch(e?.toLowerCase()){case"approved":return"text-green-700 bg-green-50 border-green-200";case"rejected":return"text-red-700 bg-red-50 border-red-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},H=t=>{switch(t?.toLowerCase()){case"approved":return e.jsx(n,{size:14});case"rejected":return e.jsx(Jt,{size:14});case"pending":return e.jsx(l,{size:14});default:return e.jsx(T,{size:14})}},K=(e,t="success")=>{D(e),I(t),E(!0),setTimeout(()=>E(!1),5e3)},Y=async e=>{k(e);try{const t=localStorage.getItem("token");if((await fetch(`${R}/api/vendors/approve/${e}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok){const t=a.map(t=>t._id===e?{...t,registrationStatus:"approved"}:t);i(t),K("Vendor approved successfully!","success")}}catch(ide){K("Failed to approve vendor","error")}finally{k(null),w(null)}},J=async e=>{k(e);try{const t=localStorage.getItem("token");if((await fetch(`${R}/api/vendors/reject/${e}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok){const t=a.map(t=>t._id===e?{...t,registrationStatus:"rejected"}:t);i(t),K("Vendor rejected successfully!","success")}}catch(ide){K("Failed to reject vendor","error")}finally{k(null),w(null)}},Q=e=>{x(e),b(!0)},Z=(e,t)=>{if(!e)return void K("Document path not found","error");const r=document.createElement("a");r.href=`${R}/${e}`,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),K("Document downloaded successfully!","success")};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(bne,{isVisible:o,message:"Loading registration data..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(j,{className:"w-6 h-6 text-blue-500"}),"Vendor Registration Approval"]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Review and approve vendor registration requests"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-2xl font-medium hover:bg-green-600 transition-colors",children:[e.jsx(q,{size:16}),"Bulk Approve"]}),e.jsx("button",{className:"p-2 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors",children:e.jsx(we,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(yne,{title:"Total Requests",value:F,icon:j,color:"blue",subtitle:"All submissions"}),e.jsx(yne,{title:"Pending Review",value:B,icon:l,color:"amber",subtitle:"Awaiting approval"}),e.jsx(yne,{title:"Approved",value:$,icon:n,color:"green",subtitle:"Accepted"}),e.jsx(yne,{title:"Rejected",value:U,icon:Jt,color:"red",subtitle:"Declined"})]}),e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by business name, vendor name, or email...",value:u,onChange:e=>m(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl hover:bg-gray-200 transition-colors font-medium flex items-center gap-2 text-sm",children:[e.jsx(at,{size:16}),"More Filters"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200 flex items-center gap-2 text-sm",children:[e.jsx(Ie,{size:16}),"Export"]}),e.jsx("button",{className:"p-2 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors border border-gray-200",children:e.jsx(G,{size:16})}),e.jsxs("div",{className:"flex items-center bg-gray-100 rounded-2xl p-1",children:[e.jsx("button",{onClick:()=>C("table"),className:"px-3 py-1 rounded-xl text-sm font-medium transition-colors "+("table"===S?"bg-white text-gray-900 shadow-sm":"text-gray-600"),children:"Table"}),e.jsx("button",{onClick:()=>C("cards"),className:"px-3 py-1 rounded-xl text-sm font-medium transition-colors "+("cards"===S?"bg-white text-gray-900 shadow-sm":"text-gray-600"),children:"Cards"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Vendor Registrations"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[z.length," of ",F," registrations"]})})]}),0===z.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u||"all"!==h?"No vendors match your filters":"No vendor registrations found"}),e.jsx("p",{className:"text-gray-500 mb-4",children:u||"all"!==h?"Try adjusting your search criteria or filters to find what you're looking for.":"No vendor registration requests have been submitted yet."})]}):"cards"===S?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:z.map(r=>e.jsx(vne,{vendor:r,onViewDetails:Q,onApprove:Y,onReject:J,actionLoading:N,formatDate:W,getStatusColor:V,getStatusIcon:H,handleSectionChange:t},r._id))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{size:16}),"Business Name"]})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{size:16}),"Contact Person"]})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{size:16}),"Category"]})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Se,{size:16}),"Country"]})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:16}),"Submitted"]})}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{size:16}),"Documents"]})}),e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-700 text-sm",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:z.map((t,r)=>e.jsxs(Rm.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*r},className:"hover:bg-gray-50 group",children:[e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("div",{className:"font-semibold text-gray-900 group-hover:text-blue-600 transition-colors",children:t.businessName||"N/A"}),e.jsx("div",{className:"text-sm text-gray-500",children:t.registrationNumber||"No reg. number"})]}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[t.vendor?.firstName," ",t.vendor?.lastName]}),e.jsx("div",{className:"text-sm text-gray-500",children:t.vendor?.email||"No email"})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:t.businessCategory||"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-gray-700",children:t.countryOfRegistration||"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-gray-700",children:t.submissionDate?W(t.submissionDate):"N/A"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${V(t.registrationStatus)}`,children:[H(t.registrationStatus),e.jsx("span",{className:"ml-1 capitalize",children:t.registrationStatus||"Unknown"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:t.documents&&t.documents.length>0?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"p-1 bg-blue-50 rounded-lg",children:e.jsx(c,{size:12,className:"text-blue-600"})}),e.jsxs("span",{className:"text-sm text-gray-500",children:[t.documents.length," file",1!==t.documents.length?"s":""]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:"No files"})})}),e.jsx("td",{className:"py-3 px-4 text-center",children:e.jsx("button",{"data-vendor-id":t._id,onClick:()=>w(y===t._id?null:t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})})]},t._id))})]})})]})]}),g&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-5 py-3 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(L,{size:18,className:"text-blue-500"}),"Vendor Registration Details"]}),e.jsx("button",{onClick:()=>b(!1),className:"p-1.5 hover:bg-gray-100 rounded-2xl",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(L,{size:16}),"Business Information"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Business Name"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:f.businessName})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Registration Number"}),e.jsx("p",{className:"text-gray-900 text-sm",children:f.registrationNumber})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"TIN"}),e.jsx("p",{className:"text-gray-900 text-sm",children:f.taxpayerIdentificationNumber})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-gray-900 text-sm",children:f.address||"N/A"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-gray-900 text-sm",children:f.phoneNumber||"N/A"})]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(c,{size:16}),"Registration Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Country of Registration"}),e.jsx("p",{className:"text-gray-900 text-sm",children:f.countryOfRegistration})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Registration Date"}),e.jsx("p",{className:"text-gray-900 text-sm",children:W(f.registrationIssuedDate)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Submission Date"}),e.jsx("p",{className:"text-gray-900 text-sm",children:W(f.submissionDate)})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"text-xs font-medium text-gray-500",children:"Current Status"}),e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${V(f.registrationStatus)}`,children:[H(f.registrationStatus),e.jsx("span",{className:"ml-1 capitalize",children:f.registrationStatus})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(tt,{size:16}),"Uploaded Documents"]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:f.documents&&f.documents.length>0?f.documents.map((t,r)=>e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(c,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:["Document ",r+1]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Uploaded: ",W(t.uploadedAt||f.submissionDate)]}),t.fileName&&e.jsxs("p",{className:"text-xs text-gray-500",children:["File: ",t.fileName]})]})]}),t.filePath&&e.jsxs("button",{onClick:()=>Z(t.filePath,t.fileName||`document-${r+1}`),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ie,{size:14}),"Download"]})]})},t._id||r)):e.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl",children:[e.jsx(c,{size:32,className:"text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"No documents uploaded"})]})})]})]})]}),"pending"===f.registrationStatus&&e.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[e.jsx("button",{onClick:()=>b(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors font-medium text-sm",children:"Close"}),e.jsxs("button",{onClick:()=>{J(f._id),b(!1)},disabled:N===f._id,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors font-medium flex items-center gap-2 disabled:opacity-50 text-sm",children:[e.jsx(Qt,{size:16}),"Reject Registration"]}),e.jsxs("button",{onClick:()=>{Y(f._id),b(!1)},disabled:N===f._id,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors font-medium flex items-center gap-2 disabled:opacity-50 text-sm",children:[e.jsx(q,{size:16}),"Approve Registration"]})]})]})]})}),y&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[100] bg-black/5",onClick:()=>w(null),transition:{duration:.1}}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-vendor-id="${y}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-vendor-id="${y}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsx("div",{className:"py-1",children:[{icon:_,label:"View Details",action:()=>{const e=z.find(e=>e._id===y);e&&Q(e)}},...(()=>{const e=z.find(e=>e._id===y);return"pending"===e?.registrationStatus?[{icon:q,label:"Approve Registration",action:()=>Y(y),color:"green"},{icon:Qt,label:"Reject Registration",action:()=>J(y),color:"red"},{type:"divider"}]:[]})(),{icon:rt,label:"Send Message",action:()=>{}},{icon:Ie,label:"Download Documents",action:()=>{const e=z.find(e=>e._id===y);e?.documents&&e.documents.length>0?e.documents.forEach((e,t)=>{e.filePath&&Z(e.filePath,e.fileName||`document-${t+1}`)}):K("No documents available for download","error")}},{icon:X,label:"Copy Vendor ID",action:()=>{return e=y,navigator.clipboard.writeText(e),void K("ID copied to clipboard!","success");var e}},{icon:Qe,label:"Edit Registration",action:()=>{}},{type:"divider"},{icon:Me,label:"Delete Registration",action:()=>{},destructive:!0}].map((t,r)=>"divider"===t.type?e.jsx("div",{className:"border-t border-gray-100 my-1"},`divider-${r}`):e.jsxs("button",{onClick:()=>{t.action(),w(null)},disabled:N===y&&("green"===t.color||"red"===t.color),className:"w-full flex items-center gap-3 px-4 py-2 text-left text-sm rounded-xl "+(t.destructive?"text-red-600 hover:bg-red-50":"green"===t.color?"text-green-600 hover:bg-green-50":"red"===t.color?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-blue-50 hover:text-blue-600"),children:[e.jsx(t.icon,{size:16,className:"text-gray-500"}),e.jsx("span",{children:t.label}),N===y&&("green"===t.color||"red"===t.color)&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-t-transparent rounded-full animate-spin "+("green"===t.color?"border-green-600":"border-red-600")})})]},t.label))})})]}),A&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===O?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===O?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:P}),e.jsx("button",{onClick:()=>E(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function wne(){const{id:t}=Gr(),r=$r(),{user:s}=An(),[a,i]=qr.useState(null),[o,u]=qr.useState(!0),[h,f]=qr.useState(null),[b,j]=qr.useState("overview"),w="https://backend.nexusmwi.com";if(qr.useEffect(()=>{(async()=>{if(!t)return f("No employee ID provided"),void u(!1);try{const e=localStorage.getItem("token"),r=await fetch(`${w}/api/auth/employees/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Employee not found");{const e=await r.json();i(e)}}catch(e){f("Failed to fetch employee details")}finally{u(!1)}})()},[t,w]),o)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Employee Details"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the information..."})]})});if(h||!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:h||"Employee not found"})]})]})})});const N=[{id:"overview",label:"Overview",icon:O},{id:"contact",label:"Contact Info",icon:D},{id:"employment",label:"Employment",icon:M},{id:"skills",label:"Skills & Competencies",icon:y}],k=e=>{if(!e)return"N/A";const t=new Date(e),r=new Date,n=Math.floor((r-t)/31536e6),s=Math.floor((r-t)%31536e6/2592e6);return n>0?`${n} year${n>1?"s":""}, ${s} month${s>1?"s":""}`:`${s} month${s>1?"s":""}`};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r("/dashboard/employees"),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(O,{size:32})}),"Employee Details"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:`${a.firstName||""} ${a.lastName||""}`.trim()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>r(`/dashboard/employees/${t}/edit`),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[e.jsx(Qe,{size:18}),"Edit Employee"]}),e.jsx("button",{className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md",children:e.jsx(Ie,{size:20})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-32 relative",children:e.jsx("div",{className:"absolute inset-0 bg-black/20"})}),e.jsx("div",{className:"relative px-8 py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 items-start lg:items-center -mt-16",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center shadow-xl border-4 border-white",children:e.jsx(O,{size:48,className:"text-gray-400"})}),e.jsx("div",{className:"absolute -bottom-2 -right-2",children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${(e=>{switch(e?.toLowerCase()){case"active":return"bg-green-100 text-green-800 border-green-200";case"on-leave":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"terminated":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.status)}`,children:[e.jsx(n,{size:14,className:"mr-1"}),a.status||"Active"]})})]}),e.jsxs("div",{className:"flex-1 lg:mt-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:`${a.firstName||""} ${a.lastName||""}`.trim()||"N/A"}),e.jsx("p",{className:"text-xl text-gray-600 mt-1",children:a.position||"N/A"}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(L,{size:16}),e.jsx("span",{children:a.department||"N/A"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(v,{size:16}),e.jsxs("span",{children:["Joined ",a.hireDate?new Date(a.hireDate).toLocaleDateString():"N/A"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(l,{size:16}),e.jsxs("span",{children:[k(a.hireDate)," tenure"]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 lg:mt-16",children:[e.jsxs("button",{onClick:()=>r(`/dashboard/employees/${t}/performance`),className:"px-4 py-2 bg-green-100 text-green-700 rounded-xl hover:bg-green-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(d,{size:16}),"View Performance"]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(rt,{size:16}),"Send Message"]})]})]})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"flex border-b border-gray-200/50",children:N.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>j(t.id),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition-all duration-200 "+(b===t.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50/30"),children:[e.jsx(r,{size:18}),t.label]},t.id)})}),e.jsxs("div",{className:"p-8",children:["overview"===b&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Stats"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(m,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Annual Salary"}),e.jsxs("p",{className:"text-xl font-bold text-blue-900",children:["$",a.salary?a.salary.toLocaleString():"N/A"]})]})]})}),e.jsx("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(q,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Employee Status"}),e.jsx("p",{className:"text-xl font-bold text-green-900 capitalize",children:a.status||"Active"})]})]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Skills & Expertise"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills&&a.skills.length>0?a.skills.map((t,r)=>e.jsx("span",{className:"px-3 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 rounded-full text-sm font-medium border border-purple-200",children:t},r)):e.jsx("p",{className:"text-gray-500",children:"No skills listed"})})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>r(`/dashboard/employees/${t}/edit`),className:"w-full flex items-center gap-3 px-4 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[e.jsx(Qe,{size:16}),"Edit Employee"]}),e.jsxs("button",{onClick:()=>r(`/dashboard/employees/${t}/performance`),className:"w-full flex items-center gap-3 px-4 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[e.jsx(d,{size:16}),"View Performance"]}),e.jsxs("button",{className:"w-full flex items-center gap-3 px-4 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[e.jsx(c,{size:16}),"Generate Report"]}),e.jsxs("button",{onClick:()=>r(`/dashboard/employees/${t}/access`),className:"w-full flex items-center gap-3 px-4 py-3 bg-white text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 shadow-sm",children:[e.jsx(x,{size:16}),"Manage Access"]})]})]})})]})}),"contact"===b&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Primary Contact"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(D,{size:20,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Email Address"}),e.jsx("p",{className:"text-gray-900",children:a.email||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(B,{size:20,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Phone Number"}),e.jsx("p",{className:"text-gray-900",children:a.phoneNumber||a.phone||"N/A"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx(Se,{size:20,className:"text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Address"}),e.jsx("p",{className:"text-gray-900",children:a.address||"N/A"})]})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Emergency Contact"}),e.jsxs("div",{className:"p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(T,{size:20,className:"text-red-600"}),e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Emergency Contact Information"})]}),e.jsx("p",{className:"text-gray-900",children:a.emergencyContact||"N/A"})]})]})})]})}),"employment"===b&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Position Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Job Title"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:a.position||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Department"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:a.department||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("span",{className:"text-gray-600 font-medium",children:"Employee ID"}),e.jsx("span",{className:"text-gray-900 font-semibold",children:a.employeeId||a._id||"N/A"})]})]})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Employment Timeline"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-xl",children:[e.jsx("span",{className:"text-blue-600 font-medium",children:"Hire Date"}),e.jsx("span",{className:"text-blue-900 font-semibold",children:a.hireDate?new Date(a.hireDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-green-50 rounded-xl",children:[e.jsx("span",{className:"text-green-600 font-medium",children:"Tenure"}),e.jsx("span",{className:"text-green-900 font-semibold",children:k(a.hireDate)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-purple-50 rounded-xl",children:[e.jsx("span",{className:"text-purple-600 font-medium",children:"Annual Salary"}),e.jsxs("span",{className:"text-purple-900 font-semibold",children:["$",a.salary?a.salary.toLocaleString():"N/A"]})]})]})]})})]})}),"skills"===b&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Technical Skills & Competencies"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Current Skills"}),e.jsx("div",{className:"space-y-3",children:a.skills&&a.skills.length>0?a.skills.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(y,{size:16,className:"text-white"})}),e.jsx("span",{className:"font-medium text-gray-900",children:t})]}),e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(t=>e.jsx(p,{size:16,className:""+(t<=4?"text-yellow-400 fill-current":"text-gray-300")},t))})]},r)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No skills listed for this employee"})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"Skill Development"}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-6 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(g,{size:24,className:"text-orange-600"}),e.jsx("h5",{className:"font-semibold text-orange-900",children:"Development Goals"})]}),e.jsx("p",{className:"text-orange-800 mb-4",children:"Track skill development and set learning objectives."}),e.jsx("button",{className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors duration-200 font-medium",children:"Manage Development Plan"})]})]})]})]})})]})]})]})})]})}function Nne(){const{id:t}=Gr(),r=$r(),{user:s}=An(),[a,i]=qr.useState(null),[l,u]=qr.useState(!0),[m,h]=qr.useState(null),[f,x]=qr.useState("overview"),[b,j]=qr.useState("6months"),w="https://backend.nexusmwi.com",[N]=qr.useState({overallRating:4.2,goals:[{id:1,title:"Complete React Training",progress:85,dueDate:"2024-07-15",status:"on-track"},{id:2,title:"Lead Team Project",progress:60,dueDate:"2024-08-30",status:"on-track"},{id:3,title:"Improve Code Quality",progress:40,dueDate:"2024-09-15",status:"behind"},{id:4,title:"Mentor Junior Developer",progress:95,dueDate:"2024-06-30",status:"completed"}],reviews:[{id:1,date:"2024-06-01",rating:4.5,reviewer:"Sarah Johnson",type:"Mid-Year Review"},{id:2,date:"2024-03-15",rating:4,reviewer:"Mike Chen",type:"Quarterly Review"},{id:3,date:"2024-01-01",rating:4.3,reviewer:"Sarah Johnson",type:"Annual Review"}],achievements:[{id:1,title:"Employee of the Month",date:"2024-05-01",description:"Outstanding performance in Q1"},{id:2,title:"Team Leadership Award",date:"2024-02-15",description:"Led successful project delivery"},{id:3,title:"Innovation Award",date:"2024-01-10",description:"Implemented new process improvements"}],metrics:{productivity:87,collaboration:92,innovation:78,reliability:95,communication:88}});if(qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),r=await fetch(`${w}/api/auth/employees/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Employee not found");{const e=await r.json();i(e)}}catch(e){h("Failed to fetch employee details")}finally{u(!1)}})()},[t,w]),l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Performance Data"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the information..."})]})});if(m||!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:m||"Employee not found"})]})]})})});const S=[{id:"overview",label:"Performance Overview",icon:k},{id:"goals",label:"Goals & Objectives",icon:g},{id:"reviews",label:"Performance Reviews",icon:c},{id:"achievements",label:"Achievements",icon:Zt}],C=e=>{switch(e){case"completed":return"bg-green-100 text-green-800 border-green-200";case"on-track":return"bg-blue-100 text-blue-800 border-blue-200";case"behind":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},A=e=>e>=80?"bg-green-500":e>=60?"bg-blue-500":e>=40?"bg-yellow-500":"bg-red-500",E=e=>e>=90?"text-green-600":e>=75?"text-blue-600":e>=60?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/employees/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-blue-600 rounded-xl text-white",children:e.jsx(d,{size:32})}),"Performance Dashboard"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:`${a.firstName||""} ${a.lastName||""}`.trim()})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:b,onChange:e=>j(e.target.value),className:"px-4 py-2 bg-white/80 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"all",children:"All Time"})]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Ie,{size:16}),"Export Report"]}),e.jsx("button",{className:"p-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:e.jsx(G,{size:20})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:e.jsx(p,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:N.overallRating})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Overall Rating"}),e.jsx("div",{className:"flex items-center mt-2",children:[1,2,3,4,5].map(t=>e.jsx(p,{size:16,className:""+(t<=N.overallRating?"text-yellow-400 fill-current":"text-gray-300")},t))})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:e.jsx(g,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:N.goals.filter(e=>"completed"===e.status).length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Goals Completed"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["out of ",N.goals.length," total"]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(Zt,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:N.achievements.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Achievements"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This year"})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:e.jsx(o,{size:24,className:"text-white"})}),e.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:[N.metrics.productivity,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Productivity Score"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Above average"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"flex border-b border-gray-200/50 overflow-x-auto",children:S.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>x(t.id),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition-all duration-200 whitespace-nowrap "+(f===t.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50/30"),children:[e.jsx(r,{size:18}),t.label]},t.id)})}),e.jsxs("div",{className:"p-8",children:["overview"===f&&e.jsx("div",{className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Performance Metrics"}),e.jsx("div",{className:"space-y-4",children:Object.entries(N.metrics).map(([t,r])=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(k,{size:16,className:"text-blue-600"})}),e.jsx("span",{className:"font-medium text-gray-900 capitalize",children:t.replace(/([A-Z])/g," $1").trim()})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${A(r)}`,style:{width:`${r}%`}})}),e.jsxs("span",{className:`font-bold ${E(r)}`,children:[r,"%"]})]})]},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-green-50 rounded-xl border border-green-200",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(n,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-900",children:"Goal Completed"}),e.jsx("p",{className:"text-sm text-green-600",children:"Mentor Junior Developer"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(p,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900",children:"Performance Review"}),e.jsx("p",{className:"text-sm text-blue-600",children:"Rated 4.5/5 in Mid-Year Review"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-purple-50 rounded-xl border border-purple-200",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(Zt,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900",children:"Achievement Unlocked"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Employee of the Month"})]})]})]})]})]})}),"goals"===f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Goals & Objectives"}),e.jsxs("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Le,{size:16}),"Add New Goal"]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.goals.map(t=>e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-xl p-6 border border-gray-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.title}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${C(t.status)}`,children:t.status.replace("-"," ").replace(/\b\w/g,e=>e.toUpperCase())})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Progress"}),e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[t.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${A(t.progress)}`,style:{width:`${t.progress}%`}})})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{size:14}),e.jsxs("span",{children:["Due: ",new Date(t.dueDate).toLocaleDateString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(Qe,{size:14})})]})]})]},t.id))})]}),"reviews"===f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Performance Reviews"}),e.jsxs("button",{className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Le,{size:16}),"New Review"]})]}),e.jsx("div",{className:"space-y-4",children:N.reviews.map(t=>e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.type}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Reviewed by ",t.reviewer]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>e.jsx(p,{size:16,className:""+(r<=t.rating?"text-yellow-400 fill-current":"text-gray-300")},r))}),e.jsx("span",{className:"font-bold text-gray-900",children:t.rating})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(v,{size:14}),e.jsx("span",{children:new Date(t.date).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors duration-200 text-sm font-medium flex items-center gap-1",children:[e.jsx(_,{size:14}),"View Details"]}),e.jsxs("button",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 text-sm font-medium flex items-center gap-1",children:[e.jsx(rt,{size:14}),"Feedback"]})]})]})]},t.id))})]}),"achievements"===f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Achievements & Recognition"}),e.jsxs("button",{className:"px-4 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(y,{size:16}),"Add Achievement"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.achievements.map(t=>e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 rounded-xl p-6 border border-yellow-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-3 bg-yellow-500 rounded-xl",children:e.jsx(Zt,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900",children:t.title}),e.jsx("p",{className:"text-sm text-yellow-600",children:new Date(t.date).toLocaleDateString()})]})]}),e.jsx("p",{className:"text-yellow-800 text-sm",children:t.description})]},t.id))})]})]})]})]})})]})}function kne(){const{id:t}=Gr(),r=$r(),{user:a}=An(),[i,o]=qr.useState(!0),[l,c]=qr.useState(null),[d,h]=qr.useState(!1),[p,f]=qr.useState(!1),[x,g]=qr.useState(""),[b,j]=qr.useState("success"),[w,N]=qr.useState({firstName:"",lastName:"",email:"",phoneNumber:"",address:"",department:"",position:"",hireDate:"",salary:"",status:"active",emergencyContact:"",skills:[]}),[k]=Vr(),[S,C]=qr.useState(()=>k.get("section")||"dashboard"),A="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),r=await fetch(`${A}/api/auth/employees/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Employee not found");{const e=await r.json();N({firstName:e.firstName||"",lastName:e.lastName||"",email:e.email||"",phoneNumber:e.phoneNumber||e.phone||"",address:e.address||"",department:e.department||"",position:e.position||"",hireDate:e.hireDate?e.hireDate.split("T")[0]:"",salary:e.salary||"",status:e.status||"active",emergencyContact:e.emergencyContact||"",skills:e.skills||[]})}}catch(e){c("Failed to fetch employee details")}finally{o(!1)}})()},[t,A]);const E=e=>{const{name:t,value:r}=e.target;if("skills"===t){const r=Array.from(e.target.selectedOptions,e=>e.value);N(e=>({...e,[t]:r}))}else N(e=>({...e,[t]:r}))},_=async e=>{e.preventDefault(),h(!0),c(null);try{const e=localStorage.getItem("token"),n=await fetch(`${A}/api/employees/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(w)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to update employee")}P("Employee updated successfully!","success"),setTimeout(()=>{r(`/dashboard/employees/${t}`)},2e3)}catch(n){P(n.message||"Failed to update employee","error")}finally{h(!1)}},P=(e,t="success")=>{g(e),j(t),f(!0),setTimeout(()=>f(!1),5e3)};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Employee Data"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the information..."})]})}):l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:l})]})]})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/employees/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(Qe,{size:32})}),"Edit Employee"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:"Update employee information and details"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>r(`/dashboard/employees/${t}`),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"}),e.jsx("button",{onClick:_,disabled:d,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:20}),"Save Changes"]})})]})]})})}),e.jsx("div",{className:"max-w-5xl mx-auto px-6 py-8",children:e.jsx(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsxs("form",{onSubmit:_,className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-blue-50/50 to-purple-50/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(O,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Personal Information"}),e.jsx("p",{className:"text-gray-600",children:"Basic employee details and contact information"})]})]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(O,{size:16,className:"inline mr-2"}),"First Name *"]}),e.jsx("input",{type:"text",name:"firstName",value:w.firstName,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(O,{size:16,className:"inline mr-2"}),"Last Name *"]}),e.jsx("input",{type:"text",name:"lastName",value:w.lastName,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter last name"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(D,{size:16,className:"inline mr-2"}),"Email Address *"]}),e.jsx("input",{type:"email",name:"email",value:w.email,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter email address"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(B,{size:16,className:"inline mr-2"}),"Phone Number *"]}),e.jsx("input",{type:"tel",name:"phoneNumber",value:w.phoneNumber,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter phone number"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(B,{size:16,className:"inline mr-2"}),"Emergency Contact *"]}),e.jsx("input",{type:"text",name:"emergencyContact",value:w.emergencyContact,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter emergency contact"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Se,{size:16,className:"inline mr-2"}),"Address *"]}),e.jsx("input",{type:"text",name:"address",value:w.address,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter full address"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-green-50/50 to-blue-50/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(M,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Employment Information"}),e.jsx("p",{className:"text-gray-600",children:"Job details, position, and compensation"})]})]})}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(L,{size:16,className:"inline mr-2"}),"Department *"]}),e.jsxs("select",{name:"department",value:w.department,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",children:[e.jsx("option",{value:"",children:"Select Department"}),e.jsx("option",{value:"Engineering",children:"Engineering"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Human Resources",children:"Human Resources"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Operations",children:"Operations"}),e.jsx("option",{value:"Customer Support",children:"Customer Support"}),e.jsx("option",{value:"Product",children:"Product"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(M,{size:16,className:"inline mr-2"}),"Position *"]}),e.jsx("input",{type:"text",name:"position",value:w.position,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter job position"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(v,{size:16,className:"inline mr-2"}),"Hire Date *"]}),e.jsx("input",{type:"date",name:"hireDate",value:w.hireDate,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(m,{size:16,className:"inline mr-2"}),"Annual Salary *"]}),e.jsx("input",{type:"number",name:"salary",value:w.salary,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",placeholder:"Enter annual salary"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(u,{size:16,className:"inline mr-2"}),"Employment Status *"]}),e.jsxs("select",{name:"status",value:w.status,onChange:E,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"on-leave",children:"On Leave"}),e.jsx("option",{value:"terminated",children:"Terminated"})]})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-purple-50/50 to-pink-50/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx(y,{size:20,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Skills & Competencies"}),e.jsx("p",{className:"text-gray-600",children:"Technical skills and areas of expertise"})]})]})}),e.jsx("div",{className:"p-8",children:e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Xt,{size:16,className:"inline mr-2"}),"Skills *"]}),e.jsxs("select",{name:"skills",value:w.skills,onChange:E,multiple:!0,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 min-h-[120px]",children:[e.jsx("option",{value:"JavaScript",children:"JavaScript"}),e.jsx("option",{value:"React",children:"React"}),e.jsx("option",{value:"Node.js",children:"Node.js"}),e.jsx("option",{value:"Python",children:"Python"}),e.jsx("option",{value:"Java",children:"Java"}),e.jsx("option",{value:"C++",children:"C++"}),e.jsx("option",{value:"Project Management",children:"Project Management"}),e.jsx("option",{value:"UI/UX Design",children:"UI/UX Design"}),e.jsx("option",{value:"Data Analysis",children:"Data Analysis"}),e.jsx("option",{value:"Machine Learning",children:"Machine Learning"}),e.jsx("option",{value:"Sales",children:"Sales"}),e.jsx("option",{value:"Customer Service",children:"Customer Service"}),e.jsx("option",{value:"Marketing",children:"Marketing"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Operations",children:"Operations"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Hold Ctrl/Cmd to select multiple skills"}),w.skills.length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Skills:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.skills.map((t,r)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium border border-purple-200",children:t},r))})]})]})})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-8",children:e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>r(`/dashboard/employees/${t}`),className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel Changes"}),e.jsx("button",{type:"submit",disabled:d,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Saving Changes..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:20}),"Save All Changes"]})})]})})]})})}),p&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===b?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===b?e.jsx(n,{size:20,className:"text-green-600"}):e.jsx(T,{size:20,className:"text-red-600"}),e.jsx("span",{className:"font-medium",children:x}),e.jsx("button",{onClick:()=>f(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const Sne="https://backend.nexusmwi.com",Cne=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal",onClick:u})=>{const m="large"===c?"col-span-2":"",h="large"===c?"text-2xl":"text-base";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow cursor-pointer ${m}`,onClick:u,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${h} font-bold text-gray-900 mb-1`,children:[o,"number"==typeof r?r.toLocaleString():r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Ane=({title:t,children:r,action:n,size:s="normal"})=>{const a="large"===s?"col-span-2":"full"===s?"col-span-full":"";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-3 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:t}),n&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:n})]}),r]})},Tne=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white p-2 border border-gray-200 rounded-xl shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900 text-xs",children:n}),r.map((t,r)=>e.jsxs("p",{className:"text-xs",style:{color:t.color},children:[t.name,": MWK ",t.value?.toLocaleString()]},r))]}):null,Ene=({isOpen:t,onClose:r,onNavigate:a})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Budget Allocation"}),e.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-xl",children:e.jsx(s,{size:18})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-xl",children:[e.jsx(Wt,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Allocate Department Budgets"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Distribute budget across departments for the current period"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 rounded-xl",children:[e.jsx(k,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Auto-Distribution Available"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Use smart algorithms to distribute budget automatically"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-purple-50 rounded-xl",children:[e.jsx(n,{className:"w-6 h-6 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Approval Workflow"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Submit allocations for management approval"})]})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsx("button",{onClick:r,className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors text-sm font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>{a(),r()},className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors text-sm font-medium",children:"Start Allocation"})]})]})}):null,_ne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,Pne=()=>{const t=$r(),[r,s]=qr.useState("quarter"),[a,i]=qr.useState(!1),[o,c]=qr.useState(null),[d,u]=qr.useState(!0),[h,p]=qr.useState([]),[f,b]=qr.useState([]),[y,v]=qr.useState(!1),[j,w]=qr.useState(null),S=async()=>{try{i(!0);const e=localStorage.getItem("token"),t=await fetch(`${Sne}/api/budget/overview`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch budget overview");{const e=await t.json();c(e.data)}}catch(e){w(e.message)}finally{i(!1)}},A=async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${Sne}/api/departments`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();p(e.slice(0,5))}}catch(e){}},T=async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${Sne}/api/requisitions?limit=4&sort=createdAt&order=desc`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();b(e.data||[])}}catch(e){}};qr.useEffect(()=>{S(),A(),T()},[r]);const E=()=>{S(),A(),T()},_=o||{totalBudget:325e3,totalAllocated:178500,remainingBudget:146500,allocationEfficiency:55,currentPeriod:"Q1 2024"},P=[{name:"IT Equipment",value:45e3,color:"#3B82F6"},{name:"Software Licenses",value:32e3,color:"#10B981"},{name:"Training",value:28e3,color:"#F59E0B"},{name:"Office Supplies",value:23500,color:"#EF4444"},{name:"Travel",value:35e3,color:"#8B5CF6"},{name:"Consulting",value:15e3,color:"#06B6D4"}];return j?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-lg max-w-md",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Error Loading Budget Data"}),e.jsx("p",{className:"text-sm",children:j}),e.jsx("button",{onClick:E,className:"mt-3 px-4 py-2 bg-red-100 hover:bg-red-200 rounded text-sm font-medium",children:"Retry"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(_ne,{isVisible:a,message:"Loading Budget Data..."}),e.jsxs("main",{className:"p-3 space-y-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Budget Overview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage and track your budget allocations"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors text-sm",children:[e.jsx(Wt,{size:14}),"Allocate Budget"]}),e.jsxs("select",{value:r,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm font-medium text-gray-700 bg-white",children:[e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"quarter",children:"This Quarter"}),e.jsx("option",{value:"year",children:"This Year"})]}),e.jsxs("button",{onClick:E,disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 text-sm",children:[e.jsx(G,{size:14,className:a?"animate-spin":""}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(Cne,{title:"Total Budget",value:_.totalBudget,prefix:"MWK ",icon:g,color:"blue",subtitle:_.currentPeriod}),e.jsx(Cne,{title:"Total Allocated",value:_.totalAllocated,prefix:"MWK ",icon:m,color:"green",trend:12,subtitle:"Distributed to departments"}),e.jsx(Cne,{title:"Remaining Budget",value:_.remainingBudget,prefix:"MWK ",icon:N,color:"purple",subtitle:"Available for allocation"}),e.jsx(Cne,{title:"Allocation Efficiency",value:_.allocationEfficiency,suffix:"%",icon:k,color:"orange",trend:8,subtitle:"Budget utilization"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(Cne,{title:"Active Departments",value:h.length,icon:C,color:"blue",subtitle:"With budget allocations"}),e.jsx(Cne,{title:"Pending Approvals",value:8,icon:l,color:"orange",trend:-15,subtitle:"Awaiting review"}),e.jsx(Cne,{title:"Approved This Month",value:52e3,prefix:"MWK ",icon:n,color:"green",trend:18,subtitle:"Recent allocations"}),e.jsx(Cne,{title:"Budget Alerts",value:3,icon:Ce,color:"red",subtitle:"Require attention"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[e.jsxs(Ane,{title:"Budget Utilization by Category",children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:P,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:P.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Tne,{})})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:P.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-xs text-gray-600",children:t.name})]},r))})]}),e.jsx(Ane,{title:"Spending vs Target",children:e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(MU,{data:[{month:"Jan",allocated:325e3,spent:28500,target:27e3},{month:"Feb",spent:45200,target:54e3},{month:"Mar",spent:52800,target:65e3},{month:"Apr",spent:52e3,target:81e3}],children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(Lk,{content:e.jsx(Tne,{})}),e.jsx(Aq,{type:"monotone",dataKey:"spent",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",r:4},name:"Actual Spent"}),e.jsx(Aq,{type:"monotone",dataKey:"target",stroke:"#10B981",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#10B981",r:4},name:"Target Spend"})]})})}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(x,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Approval Pipeline"})]}),e.jsx("div",{className:"space-y-2",children:[{stage:"Department Head",pending:12,avgTime:"2.3 days"},{stage:"Finance Review",pending:5,avgTime:"1.8 days"},{stage:"CFO Approval",pending:3,avgTime:"3.1 days"}].map((t,r)=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.stage}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Avg: ",t.avgTime]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t.pending}),e.jsx("span",{className:"text-xs text-gray-500",children:"pending"})]})]},r))})]})})]}),e.jsx(Ane,{title:"Department Budget Overview",size:"full",action:"Manage Budgets",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-3",children:h.map((t,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:t.name})]}),e.jsx("span",{className:"text-xs text-gray-500",children:t.departmentCode})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Budget"}),e.jsxs("span",{className:"font-medium",children:["MWK ",(t.budget||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Spent"}),e.jsxs("span",{className:"font-medium",children:["MWK ",(t.actualSpending||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Remaining"}),e.jsxs("span",{className:"font-medium text-green-600",children:["MWK ",((t.budget||0)-(t.actualSpending||0)).toLocaleString()]})]}),e.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full mt-2",children:e.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:(t.budget>0?(t.actualSpending||0)/t.budget*100:0)+"%"}})}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Utilization"}),e.jsxs("span",{className:"font-medium",children:[t.budget>0?Math.round((t.actualSpending||0)/t.budget*100):0,"%"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Head: ",t.departmentHead]})]})]},r))})})]}),e.jsx(Ene,{isOpen:y,onClose:()=>v(!1),onNavigate:()=>{u(!1),t(`?section=${"budget-allocation"}`,{replace:!0})}})]})},Dne={totalBudget:25e5,allocated:1875e3,remaining:625e3,departments:[{name:"Marketing",allocated:45e4,spent:32e4,remaining:13e4,percentage:71,categories:[{name:"Advertising",budget:18e4,spent:135e3},{name:"Events",budget:12e4,spent:85e3},{name:"Digital",budget:1e5,spent:75e3},{name:"Print",budget:5e4,spent:25e3}]},{name:"IT",allocated:6e5,spent:42e4,remaining:18e4,percentage:70,categories:[{name:"Hardware",budget:25e4,spent:18e4},{name:"Software",budget:2e5,spent:15e4},{name:"Maintenance",budget:1e5,spent:7e4},{name:"Training",budget:5e4,spent:2e4}]},{name:"Operations",allocated:4e5,spent:31e4,remaining:9e4,percentage:78,categories:[{name:"Facilities",budget:2e5,spent:16e4},{name:"Equipment",budget:12e4,spent:9e4},{name:"Supplies",budget:8e4,spent:6e4}]},{name:"HR",allocated:3e5,spent:21e4,remaining:9e4,percentage:70,categories:[{name:"Recruitment",budget:12e4,spent:8e4},{name:"Training",budget:1e5,spent:7e4},{name:"Benefits",budget:8e4,spent:6e4}]},{name:"Finance",allocated:125e3,spent:85e3,remaining:4e4,percentage:68,categories:[{name:"Audit",budget:5e4,spent:3e4},{name:"Tax",budget:4e4,spent:3e4},{name:"Consulting",budget:35e3,spent:25e3}]}],recentTransactions:[{id:"TRX-2024-088",date:"2024-06-16",description:"Marketing Campaign Software",department:"Marketing",category:"Software",amount:12e3,vendor:"MarketPro Solutions",status:"processed"},{id:"TRX-2024-087",date:"2024-06-15",description:"Dell Laptops (5 units)",department:"IT",category:"Hardware",amount:6e3,vendor:"Tech Solutions Inc.",status:"processed"},{id:"TRX-2024-086",date:"2024-06-14",description:"Office Furniture",department:"Operations",category:"Equipment",amount:8500,vendor:"OfficePro Ltd",status:"pending"},{id:"TRX-2024-085",date:"2024-06-13",description:"Adobe Creative Suite Licenses",department:"Marketing",category:"Software",amount:4500,vendor:"Adobe Systems",status:"processed"},{id:"TRX-2024-084",date:"2024-06-12",description:"Employee Training Program",department:"HR",category:"Training",amount:7500,vendor:"SkillDev Institute",status:"processed"}],budgetTrends:[{month:"Jan",budget:18e4,actual:165e3},{month:"Feb",budget:19e4,actual:175e3},{month:"Mar",budget:21e4,actual:195e3},{month:"Apr",budget:22e4,actual:21e4},{month:"May",budget:23e4,actual:225e3},{month:"Jun",budget:24e4,actual:235e3}],varianceAnalysis:[{department:"Marketing",budget:45e4,actual:32e4,variance:-13e4,percentage:-29},{department:"IT",budget:6e5,actual:42e4,variance:-18e4,percentage:-30},{department:"Operations",budget:4e5,actual:31e4,variance:-9e4,percentage:-23},{department:"HR",budget:3e5,actual:21e4,variance:-9e4,percentage:-30},{department:"Finance",budget:125e3,actual:85e3,variance:-4e4,percentage:-32}]},One=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l=""})=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-sm transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:18,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:14,className:"text-emerald-500"}):e.jsx(We,{size:14,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:"text-xl font-bold text-gray-900 mb-1",children:[o,"number"==typeof r?r.toLocaleString():r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]}),Lne=({status:t})=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full "+("processed"===t?"bg-green-100 text-green-800":"pending"===t?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:["processed"===t?e.jsx(n,{size:12}):e.jsx(l,{size:12}),t]}),Mne=({isOpen:t,onClose:r,department:n})=>{if(!t||!n)return null;const s=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-5 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900",children:[n.name," Budget"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["FY2024 Allocation: MWK ",n.allocated.toLocaleString()]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Jt,{size:20})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Budget Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Allocated:"}),e.jsxs("span",{className:"font-medium",children:["MWK ",n.allocated.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Spent:"}),e.jsxs("span",{className:"font-medium",children:["MWK ",n.spent.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Remaining:"}),e.jsxs("span",{className:"font-medium "+(n.remaining>0?"text-green-600":"text-red-600"),children:["MWK ",n.remaining.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Utilization:"}),e.jsxs("span",{className:"font-medium",children:[n.percentage,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Budget vs Actual"}),e.jsx("div",{className:"h-40",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(IU,{data:[n],children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"name",hide:!0}),e.jsx(I$,{}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"allocated",fill:"#3B82F6",name:"Allocated",radius:[4,4,0,0]}),e.jsx(sF,{dataKey:"spent",fill:"#10B981",name:"Spent",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Categories"}),e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-1/2 h-40",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(RU,{children:[e.jsx(gR,{data:n.categories,cx:"50%",cy:"50%",labelLine:!1,outerRadius:60,fill:"#8884d8",dataKey:"budget",nameKey:"name",children:n.categories.map((t,r)=>e.jsx(Hk,{fill:s[r%s.length]},`cell-${r}`))}),e.jsx(Lk,{})]})})}),e.jsx("div",{className:"w-1/2 pl-3",children:e.jsx("div",{className:"space-y-2 text-sm",children:n.categories.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s[r%s.length]}}),e.jsx("span",{children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{children:["MWK ",t.budget.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(t.spent/t.budget*100),"% spent"]})]})]},r))})})]})]})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("button",{onClick:r,className:"px-4 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:"Close"})})]})})},Ine=()=>{const[t,r]=qr.useState(null),[n,s]=qr.useState(!1),[a,i]=qr.useState(""),[l,c]=qr.useState("all"),[d,u]=qr.useState(null),h=Dne.recentTransactions.filter(e=>{const t=e.description.toLowerCase().includes(a.toLowerCase())||e.id.toLowerCase().includes(a.toLowerCase())||e.vendor.toLowerCase().includes(a.toLowerCase()),r="all"===l||e.department===l;return t&&r});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Budget Management"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-gray-100 text-gray-700 rounded-lg text-sm font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(Ie,{size:14}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(G,{size:14}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[e.jsx(One,{title:"Total Budget",value:Dne.totalBudget,prefix:"MWK ",icon:m,color:"blue"}),e.jsx(One,{title:"Allocated",value:Dne.allocated,prefix:"MWK ",icon:re,color:"purple"}),e.jsx(One,{title:"Remaining",value:Dne.remaining,prefix:"MWK ",icon:g,color:"green"}),e.jsx(One,{title:"Utilization",value:Math.round(Dne.allocated/Dne.totalBudget*100),suffix:"%",icon:o,color:"orange",trend:5})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Monthly Trends"}),e.jsx("div",{className:"h-48",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(MU,{data:Dne.budgetTrends,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month"}),e.jsx(I$,{}),e.jsx(Lk,{}),e.jsx(Aq,{type:"monotone",dataKey:"budget",stroke:"#3B82F6",strokeWidth:2,name:"Budget"}),e.jsx(Aq,{type:"monotone",dataKey:"actual",stroke:"#10B981",strokeWidth:2,name:"Actual"})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-3",children:"Department Variance"}),e.jsx("div",{className:"h-48",children:e.jsx(Vk,{width:"100%",height:"100%",children:e.jsxs(IU,{data:Dne.varianceAnalysis,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"department"}),e.jsx(I$,{}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"budget",fill:"#3B82F6",name:"Budget",radius:[4,4,0,0]}),e.jsx(sF,{dataKey:"actual",fill:"#10B981",name:"Actual",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Department Budgets"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Dne.departments.length," departments"]})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:Dne.departments.map((t,n)=>e.jsxs("div",{className:"p-3 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>{return e=t.name,void u(d===e?null:e);var e},className:"text-gray-400 hover:text-gray-600",children:e.jsx(se,{size:16,className:"transition-transform "+(d===t.name?"rotate-90":"")})}),e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-xs text-gray-900 font-medium",children:["MWK ",t.spent.toLocaleString()," / ",t.allocated.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.percentage,"% utilized"]})]}),e.jsxs("button",{onClick:()=>(r(t),void s(!0)),className:"text-blue-600 hover:text-blue-700 text-xs font-medium flex items-center gap-1",children:[e.jsx(_,{size:12}),"Details"]})]})]}),d===t.name&&e.jsxs("div",{className:"mt-2 pl-6",children:[e.jsx("div",{className:"mb-2 w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"h-1.5 rounded-full "+(t.percentage>80?"bg-red-500":t.percentage>60?"bg-yellow-500":"bg-green-500"),style:{width:`${t.percentage}%`}})}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:t.categories.map((t,r)=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[e.jsx("div",{className:"font-medium",children:t.name}),e.jsxs("div",{className:"text-gray-500",children:["MWK ",t.spent.toLocaleString()," / ",t.budget.toLocaleString()]})]},r))})]})]},n))})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),e.jsx("input",{type:"text",placeholder:"Search transactions...",value:a,onChange:e=>i(e.target.value),className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("select",{value:l,onChange:e=>c(e.target.value),className:"px-2.5 py-1.5 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Departments"}),Dne.departments.map((t,r)=>e.jsx("option",{value:t.name,children:t.name},r))]})})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Recent Transactions"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs font-medium",children:"View All"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:h.map((t,r)=>e.jsx("div",{className:"p-3 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-medium text-gray-900",children:t.id}),e.jsx(Lne,{status:t.status})]}),e.jsx("div",{className:"text-sm text-gray-900",children:t.description}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1 text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:t.department}),e.jsx("span",{children:""}),e.jsx("span",{children:t.category}),e.jsx("span",{children:""}),e.jsxs("span",{children:["MWK ",t.amount.toLocaleString()]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:t.date}),e.jsx("button",{className:"mt-1 text-blue-600 hover:text-blue-700 text-xs font-medium",children:"Details"})]})]})},r))})]}),e.jsx(Mne,{isOpen:n,onClose:()=>s(!1),department:t})]})})},Rne="https://backend.nexusmwi.com",zne=["Equipment","Software Licenses","Training & Development","Travel & Transportation","Office Supplies","Consulting Services","Utilities","Maintenance","Marketing & Advertising","Research & Development","Personnel","Operations","Other"],Fne=[{value:"equal",label:"Equal Distribution",description:"Distribute budget equally among all departments"},{value:"proportional",label:"Employee-Based",description:"Distribute based on employee count"},{value:"previous",label:"Historical-Based",description:"Distribute based on previous allocations"},{value:"priority",label:"Priority-Based",description:"Distribute based on department priorities"}],Bne=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal",onClick:u})=>{const m="large"===c?"col-span-2":"",h="large"===c?"text-2xl":"text-base";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow cursor-pointer ${m}`,onClick:u,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${h} font-bold text-gray-900 mb-1`,children:[o,"number"==typeof r?r.toLocaleString():r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},qne=({notification:t,onClose:r})=>(qr.useEffect(()=>{if(t){const e=setTimeout(r,5e3);return()=>clearTimeout(e)}},[t,r]),t?e.jsx("div",{className:"fixed bottom-4 right-4 p-3 rounded-2xl shadow-sm max-w-md z-50 "+("success"===t.type?"bg-green-50 text-green-800 border border-green-200":"error"===t.type?"bg-red-50 text-red-800 border border-red-200":"warning"===t.type?"bg-yellow-50 text-yellow-800 border border-yellow-200":"bg-blue-50 text-blue-800 border border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["success"===t.type&&e.jsx(n,{size:16,className:"text-green-600"}),"error"===t.type&&e.jsx(Ce,{size:16,className:"text-red-600"}),"warning"===t.type&&e.jsx(Ce,{size:16,className:"text-yellow-600"}),"info"===t.type&&e.jsx(we,{size:16,className:"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:t.message}),e.jsx("button",{onClick:r,className:"ml-auto p-1 rounded-full hover:bg-white/20",children:e.jsx(s,{size:14})})]})}):null),$ne=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,Une=({isOpen:t,onClose:r,onDistribute:n,totalBudget:a,departmentCount:i})=>{const[o,l]=qr.useState("equal"),[c,d]=qr.useState(!1);return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Auto-Distribute Budget"}),e.jsx("button",{onClick:r,className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-xl",children:e.jsx(s,{size:18})})]})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-xl",children:[e.jsx("h4",{className:"font-semibold text-blue-900 text-sm mb-1",children:"Distribution Preview"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:["Total Budget: ",e.jsxs("span",{className:"font-medium",children:["MWK ",a.toLocaleString()]})]}),e.jsxs("div",{children:["Departments: ",e.jsx("span",{className:"font-medium",children:i})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Choose Distribution Method"}),Fne.map(t=>e.jsxs("label",{className:"flex items-start gap-3 p-3 border rounded-xl cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"radio",name:"distributionMethod",value:t.value,checked:o===t.value,onChange:e=>l(e.target.value),className:"mt-0.5"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.label}),e.jsx("div",{className:"text-xs text-gray-500",children:t.description})]})]},t.value))]})]}),e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex gap-2",children:[e.jsx("button",{onClick:r,className:"flex-1 px-3 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors text-sm font-medium",children:"Cancel"}),e.jsx("button",{onClick:async()=>{d(!0);try{await n(o),r()}catch(ide){}finally{d(!1)}},disabled:c,className:"flex-1 px-3 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 text-sm font-medium",children:c?e.jsxs(e.Fragment,{children:[e.jsx(Ue,{className:"animate-spin w-4 h-4"}),"Distributing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Vt,{size:14}),"Distribute Budget"]})})]})]})}):null},Wne=()=>{const[t,r]=qr.useState([]),[a,i]=qr.useState({}),[o,l]=qr.useState(0),[c,u]=qr.useState("2025-Q2"),[h,p]=qr.useState(2025),[f,x]=qr.useState("Q2"),[b,y]=qr.useState(!1),[v,j]=qr.useState(""),[w,N]=qr.useState(!1),[S,A]=qr.useState(!1),[T,E]=qr.useState({}),[_,P]=qr.useState(null),[D,O]=qr.useState(null),[L,M]=qr.useState(null);qr.useEffect(()=>{I(),R()},[]),qr.useEffect(()=>{const e={};t.forEach(t=>{e[t._id]={amount:t.budget||0,category:"Operations",notes:"",priority:"medium"}}),i(e)},[t]);const I=async()=>{try{y(!0);const e=localStorage.getItem("token"),t=await fetch(`${Rne}/api/departments`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch departments");{const e=(await t.json()).data.map(e=>({_id:e._id,name:e.name,departmentCode:e.departmentCode,departmentHead:e.departmentHead,budget:e.budget,budgetUtilization:e.budgetInfo?e.budgetInfo.utilizationPercentage:0,status:e.status}));r(e)}}catch(ide){V("Failed to fetch departments","error")}finally{y(!1)}},R=async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${Rne}/api/budget-allocations/current`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();if(M(e.data),e.data){u(e.data.budgetPeriod),p(e.data.budgetYear),x(e.data.quarter),l(e.data.totalBudget);const t={};e.data.departmentAllocations.forEach(e=>{t[e.department]={amount:e.allocatedAmount,category:e.category,notes:e.notes||"",priority:e.priority}}),i(t)}}}catch(ide){}},z=Object.values(a).reduce((e,t)=>e+(t.amount||0),0),F=o-z,B=o>0?z/o*100:0,q=(e,t,r)=>{i(n=>({...n,[e]:{...n[e],[t]:"amount"===t?parseFloat(r)||0:r}})),T[e]&&E(t=>({...t,[e]:null})),$()},$=async()=>{const e={};let t=!0;Object.entries(a).forEach(([r,n])=>{n.amount<0&&(e[r]="Budget allocation cannot be negative",t=!1),n.amount>o&&(e[r]="Allocation exceeds total budget",t=!1)}),E(e);try{const e=localStorage.getItem("token"),t=await fetch(`${Rne}/api/budget/validate`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({allocation:{totalBudget:o,totalAllocated:z,departmentAllocations:Object.entries(a).map(([e,t])=>({department:e,allocatedAmount:t.amount,allocationPercentage:o>0?t.amount/o*100:0}))}})});if(t.ok){const e=await t.json();O(e.data)}}catch(ide){}return t},U=async(e=!1)=>{if(await $())try{y(!0);const r=localStorage.getItem("token"),n={budgetPeriod:c,budgetYear:h,quarter:f,totalBudget:o,departmentAllocations:Object.entries(a).map(([e,r])=>{const n=t.find(t=>t._id===e);return{department:e,departmentName:n?.name,departmentCode:n?.departmentCode,allocatedAmount:r.amount,category:r.category,priority:r.priority,notes:r.notes,previousAllocation:n?.budget||0}})},s=L?`${Rne}/api/budget-allocations/${L._id}`:`${Rne}/api/budget-allocations`,i=L?"PUT":"POST",l=await fetch(s,{method:i,headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!l.ok)throw new Error("Failed to save budget allocation");{const t=await l.json();M(t.data),e?await W(t.data._id):V("Budget allocation saved successfully!","success")}}catch(ide){V("Failed to save budget allocation","error")}finally{y(!1)}else V("Please fix validation errors before saving","error")},W=async e=>{try{const t=localStorage.getItem("token");if(!(await fetch(`${Rne}/api/budget-allocations/${e}/submit`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to submit for approval");V("Budget allocation submitted for approval!","success"),R()}catch(ide){V("Failed to submit for approval","error")}},V=(e,t="info")=>{P({message:e,type:t})},H=t.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.departmentCode.toLowerCase().includes(v.toLowerCase())||e.departmentHead.toLowerCase().includes(v.toLowerCase()));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto p-3",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Budget Allocation"}),e.jsxs("p",{className:"text-xs text-gray-600 mt-0.5",children:["Allocate budget to departments for ",c]}),L&&e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full "+("draft"===L.status?"bg-gray-100 text-gray-800":"pending_approval"===L.status?"bg-yellow-100 text-yellow-800":"approved"===L.status?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:L.status.replace("_"," ").toUpperCase()}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(L.updatedAt).toLocaleDateString()]})]})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:c,onChange:e=>{u(e.target.value);const[t,r]=e.target.value.split("-");p(parseInt(t)),x(r)},className:"px-3 py-1.5 border border-gray-200 rounded-xl bg-white text-sm",disabled:L&&"draft"!==L.status,children:[e.jsx("option",{value:"2024-Q1",children:"Q1 2024"}),e.jsx("option",{value:"2024-Q2",children:"Q2 2024"}),e.jsx("option",{value:"2024-Q3",children:"Q3 2024"}),e.jsx("option",{value:"2024-Q4",children:"Q4 2024"}),e.jsx("option",{value:"2025-Q1",children:"Q1 2025"})]}),e.jsxs("button",{onClick:()=>A(!S),className:"px-3 py-1.5 border border-gray-200 rounded-xl bg-white hover:bg-gray-50 flex items-center gap-1.5 text-sm",children:[e.jsx(k,{size:14}),"Summary"]}),e.jsxs("button",{onClick:async()=>{if(L)try{const e=localStorage.getItem("token"),t=await fetch(`${Rne}/api/budget-allocations/export?format=csv&allocationId=${L._id}`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to export data");{const e=await t.blob(),r=window.URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=`budget-allocation-${c}.csv`,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(r),V("Budget allocation exported successfully","success")}}catch(ide){V("Failed to export budget allocation","error")}else V("No allocation data to export","warning")},className:"px-3 py-1.5 border border-gray-200 rounded-xl bg-white hover:bg-gray-50 flex items-center gap-1.5 text-sm",children:[e.jsx(Ie,{size:14}),"Export"]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-4",children:[e.jsx(Bne,{title:"Total Budget",value:o,prefix:"MWK ",icon:g,color:"blue",subtitle:c}),e.jsx(Bne,{title:"Allocated",value:z,prefix:"MWK ",icon:m,color:"green",subtitle:`${B.toFixed(1)}% of total`}),e.jsx(Bne,{title:"Remaining",value:F,prefix:"MWK ",icon:Vt,color:F>=0?"purple":"red",subtitle:F<0?"Over budget!":"Available"}),e.jsx(Bne,{title:"Departments",value:t.length,icon:C,color:"orange",subtitle:`${t.filter(e=>"active"===e.status).length} active`})]}),D&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"border rounded-xl p-3 "+(D.overallValid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[D.overallValid?e.jsx(n,{size:16,className:"text-green-600"}):e.jsx(Ce,{size:16,className:"text-red-600"}),e.jsx("span",{className:"font-medium text-sm",children:D.overallValid?"Allocation Valid":"Validation Issues Found"})]}),D.allocationValidation.errors.length>0&&e.jsxs("div",{className:"text-xs text-red-600 mb-1",children:[e.jsx("strong",{children:"Errors:"}),e.jsx("ul",{className:"list-disc list-inside",children:D.allocationValidation.errors.map((t,r)=>e.jsx("li",{children:t},r))})]}),D.allocationValidation.warnings.length>0&&e.jsxs("div",{className:"text-xs text-yellow-600",children:[e.jsx("strong",{children:"Warnings:"}),e.jsx("ul",{className:"list-disc list-inside",children:D.allocationValidation.warnings.map((t,r)=>e.jsx("li",{children:t},r))})]}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:["Efficiency: ",D.allocationValidation.efficiency.toFixed(1),"%"]})]})}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search departments...",value:v,onChange:e=>j(e.target.value),className:"pl-8 pr-3 py-1.5 border border-gray-200 rounded-xl w-56 text-sm"})]})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("button",{onClick:()=>N(!0),disabled:b||L&&"draft"!==L.status,className:"px-3 py-1.5 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 text-sm",children:[e.jsx(Vt,{size:14}),"Auto Distribute"]}),e.jsxs("button",{onClick:()=>U(!1),disabled:b||F<0||L&&"draft"!==L.status,className:"px-3 py-1.5 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 text-sm",children:[e.jsx(Pe,{size:14}),"Save Draft"]}),e.jsxs("button",{onClick:()=>U(!0),disabled:b||F<0||!D?.overallValid||L&&"draft"!==L.status,className:"px-3 py-1.5 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-1.5 text-sm",children:[e.jsx(Z,{size:14}),"Submit"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Department Allocations"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Department"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Current Budget"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"New Allocation"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Category"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Priority"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Notes"}),e.jsx("th",{className:"text-left py-2 px-4 text-xs font-medium text-gray-500 uppercase",children:"Change"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:H.map(t=>{const r=a[t._id]||{amount:0,category:"",notes:"",priority:"medium"},n=r.amount-(t.budget||0),s=t.budget>0?n/t.budget*100:0;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-lg",children:e.jsx(C,{size:14,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.departmentCode,"  ",t.departmentHead]})]})]})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"font-medium text-gray-900",children:["MWK ",(t.budget||0).toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.budgetUtilization||0,"% utilized"]})]}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsx("input",{type:"number",value:r.amount,onChange:e=>q(t._id,"amount",e.target.value),className:"w-28 px-2 py-1.5 border rounded-xl text-sm "+(T[t._id]?"border-red-300 bg-red-50":"border-gray-200"),min:"0",disabled:L&&"draft"!==L.status}),T[t._id]&&e.jsx("div",{className:"text-xs text-red-500 mt-0.5",children:T[t._id]})]}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:r.category,onChange:e=>q(t._id,"category",e.target.value),className:"w-32 px-2 py-1.5 border border-gray-200 rounded-xl text-sm",disabled:L&&"draft"!==L.status,children:[e.jsx("option",{value:"",children:"Select Category"}),zne.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("select",{value:r.priority,onChange:e=>q(t._id,"priority",e.target.value),className:"w-24 px-2 py-1.5 border border-gray-200 rounded-xl text-sm",disabled:L&&"draft"!==L.status,children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("input",{type:"text",value:r.notes,onChange:e=>q(t._id,"notes",e.target.value),placeholder:"Optional notes...",className:"w-28 px-2 py-1.5 border border-gray-200 rounded-xl text-sm",disabled:L&&"draft"!==L.status})}),e.jsxs("td",{className:"py-3 px-4",children:[e.jsxs("div",{className:"flex items-center gap-1 "+(n>0?"text-green-600":n<0?"text-red-600":"text-gray-500"),children:[n>0?e.jsx(d,{size:14}):n<0?e.jsx(We,{size:14}):null,e.jsxs("span",{className:"font-medium",children:[n>0?"+":"",n.toLocaleString()]})]}),0!==n&&e.jsxs("div",{className:"text-xs text-gray-500",children:[n>0?"+":"",s.toFixed(1),"%"]})]})]},t._id)})})]})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Budget Allocation Summary"}),e.jsx("button",{onClick:()=>A(!1),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-xl",children:e.jsx(s,{size:18})})]}),e.jsxs("div",{className:"p-4 space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-700",children:"Total Allocated"}),e.jsxs("div",{className:"text-lg font-bold text-blue-900",children:["MWK ",z.toLocaleString()]})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs font-medium text-green-700",children:"Remaining Budget"}),e.jsxs("div",{className:"text-lg font-bold text-green-900",children:["MWK ",F.toLocaleString()]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-xl p-3",children:[e.jsx("div",{className:"text-xs font-medium text-purple-700",children:"Allocation Rate"}),e.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[B.toFixed(1),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Department Breakdown"}),e.jsx("div",{className:"space-y-2",children:t.map(t=>{const r=a[t._id]||{amount:0},n=z>0?r.amount/z*100:0;return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-blue-500 rounded-full"}),e.jsx("span",{className:"font-medium text-sm",children:t.name})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"font-semibold text-sm",children:["MWK ",r.amount.toLocaleString()]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n.toFixed(1),"%"]})]})]},t._id)})})]})]})]})})]}),e.jsx(Une,{isOpen:w,onClose:()=>N(!1),onDistribute:async e=>{try{y(!0);const r=localStorage.getItem("token"),n=await fetch(`${Rne}/api/budget-allocations/auto-distribute`,{method:"POST",headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"},body:JSON.stringify({totalBudget:o,distributionMethod:e,departmentIds:t.map(e=>e._id)})});if(!n.ok)throw new Error("Failed to auto-distribute budget");{const t=await n.json(),r={};t.data.allocations.forEach(e=>{r[e.department]={amount:e.allocatedAmount,category:e.category,priority:e.priority,notes:""}}),i(r),V(`Budget distributed using ${e} method`,"success")}}catch(ide){V("Failed to auto-distribute budget","error")}finally{y(!1)}},totalBudget:o,departmentCount:t.length}),e.jsx($ne,{isVisible:b}),e.jsx(qne,{notification:_,onClose:()=>P(null)})]})},Vne=({isVisible:t,message:r="Processing payment..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-3 shadow-xl",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,Hne=({method:t,isSelected:r,onSelect:n,disabled:s=!1})=>e.jsx("div",{onClick:()=>!s&&n(t.id),className:"p-3 rounded-2xl border-2 cursor-pointer transition-all duration-200 "+(s?"opacity-50 cursor-not-allowed border-gray-200 bg-gray-50":r?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow-md bg-white"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+(r?"bg-blue-100":"bg-gray-100"),children:e.jsx(t.icon,{className:"w-4 h-4 "+(r?"text-blue-600":"text-gray-600")})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-600",children:t.description}),t.processingTime&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Processing: ",t.processingTime]})]}),r&&e.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx($e,{className:"w-2.5 h-2.5 text-white"})})]})}),Gne=({invoice:t,isSelected:r,onSelect:s,onPay:a,paymentStatus:i})=>{const o=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),l=`${t.vendor?.firstName||""} ${t.vendor?.lastName||""}`.trim()||"N/A",d=t.invoiceNumber||"N/A",u="processing"===i,h="paid"===i||"paid"===t.status;return e.jsxs("div",{className:"bg-white rounded-2xl border-2 p-4 transition-all duration-200 "+(h?"border-green-200 bg-green-50 opacity-75":r?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-blue-300 hover:shadow-md"),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg "+(h?"bg-green-100":r?"bg-blue-100":"bg-gray-100"),children:h?e.jsx(n,{className:"w-4 h-4 text-green-600"}):e.jsx(c,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:d}),e.jsx("p",{className:"text-xs text-gray-500",children:l})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!h&&e.jsx("input",{type:"checkbox",checked:r,onChange:()=>s(t._id),className:"w-3.5 h-3.5 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500",disabled:u}),h&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Paid"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(m,{className:"w-3 h-3 text-green-500"}),(t.amountDue||0).toFixed(0)]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Amount Due"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx(ze,{className:"w-3 h-3 text-blue-500"}),e.jsx("span",{className:"truncate text-xs",children:t.po?.poNumber||"N/A"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:"PO Number"})]})]}),e.jsxs("div",{className:"space-y-1.5 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Vendor"}),e.jsx("span",{className:"text-xs font-medium truncate ml-2",children:l})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Approved"}),e.jsx("span",{className:"text-xs font-medium",children:t.approvedAt?o(t.approvedAt):o(t.createdAt)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Due Date"}),e.jsx("span",{className:"text-xs font-medium",children:t.dueDate?o(t.dueDate):"No due date"})]})]}),!h&&e.jsx("div",{className:"pt-3 border-t border-gray-100",children:e.jsx("button",{onClick:()=>a(t._id),disabled:u,className:"w-full py-2 px-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-3 h-3 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"w-3 h-3"}),"Pay Now"]})})})]})},Kne=({isOpen:t,onClose:r,invoices:n,selectedInvoices:a,paymentMethod:i,onConfirm:o})=>{if(!t)return null;const l=a.reduce((e,t)=>{const r=n.find(e=>e._id===t);return e+(r?.amountDue||0)},0),d=[{id:"bank_transfer",name:"Bank Transfer",icon:L,description:"Direct bank transfer",processingTime:"1-2 business days"},{id:"mobile_money",name:"Mobile Money",icon:N,description:"Airtel/TNM Mobile Money",processingTime:"Instant"},{id:"check",name:"Check Payment",icon:c,description:"Physical check payment",processingTime:"3-5 business days"}].find(e=>e.id===i);return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(N,{size:20,className:"text-blue-500"}),"Confirm Payment"]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Review payment details before proceeding"})]}),e.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200 mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(Xe,{size:16,className:"text-blue-500"}),"Payment Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Selected Invoices"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",l.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Payment Method"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:d?.name})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Invoices to Pay"}),e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:a.map(t=>{const r=n.find(e=>e._id===t);if(!r)return null;const s=`${r.vendor?.firstName||""} ${r.vendor?.lastName||""}`.trim()||"N/A";return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:r.invoiceNumber}),e.jsx("p",{className:"text-xs text-gray-600",children:s})]}),e.jsxs("p",{className:"font-bold text-gray-900 text-sm",children:["$",(r.amountDue||0).toFixed(2)]})]},t)})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors font-medium flex items-center gap-2 text-sm",children:[e.jsx(s,{size:16}),"Cancel"]}),e.jsxs("button",{onClick:o,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium flex items-center gap-2 text-sm",children:[e.jsx(N,{size:16}),"Confirm Payment"]})]})]})]})})};function Yne({onNavigateToPayment:t=null}){const{token:r,user:a}=An(),i=$r();Vr();const[o,l]=qr.useState([]),[d,u]=qr.useState(!0),[m,h]=qr.useState([]),[p,f]=qr.useState("bank_transfer"),[x,g]=qr.useState(!1),[b,y]=qr.useState(new Set),[v,j]=qr.useState(""),[w,S]=qr.useState(!1),[C,A]=qr.useState(""),[T,E]=qr.useState("success"),_=[{id:"bank_transfer",name:"Bank Transfer",icon:L,description:"Direct bank transfer to vendor account",processingTime:"1-2 business days"},{id:"mobile_money",name:"Mobile Money",icon:N,description:"Airtel Money or TNM Mpamba",processingTime:"Instant"},{id:"check",name:"Check Payment",icon:c,description:"Physical check payment",processingTime:"3-5 business days"}];qr.useEffect(()=>{P()},[]);const P=async()=>{try{const e=await fetch("https://backend.nexusmwi.com/api/invoices?status=approved",{method:"GET",headers:{Authorization:`Bearer ${r}`}});if(!e.ok)throw new Error("Failed to fetch approved invoices");const t=await e.json();l(t)}catch(ide){z("Failed to fetch approved invoices","error")}finally{u(!1)}},D=o.filter(e=>e.invoiceNumber?.toLowerCase().includes(v.toLowerCase())||e.vendor?.firstName?.toLowerCase().includes(v.toLowerCase())||e.vendor?.lastName?.toLowerCase().includes(v.toLowerCase())||e.po?.poNumber?.toLowerCase().includes(v.toLowerCase()));o.reduce((e,t)=>e+(t.amountDue||0),0);const O=m.reduce((e,t)=>{const r=o.find(e=>e._id===t);return e+(r?.amountDue||0)},0);o.filter(e=>e.dueDate&&new Date(e.dueDate)<new Date).length;const M=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},I=e=>{h([e]),g(!0)},R=()=>{0!==m.length?g(!0):z("Please select invoices to pay","error")},z=(e,t="success")=>{A(e),E(t),S(!0),setTimeout(()=>S(!1),5e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Vne,{isVisible:d,message:"Loading approved invoices..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search invoices...",value:v,onChange:e=>j(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("button",{onClick:()=>{u(!0),P()},disabled:d,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 text-sm",children:[e.jsx(G,{size:14,className:d?"animate-spin":""}),"Refresh"]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5 text-blue-500"}),"Select Payment Method"]}),e.jsx("div",{className:"mb-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-sm text-blue-800",children:"After confirmation, you will be taken to the secure payment section to complete your transaction."})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:_.map(t=>e.jsx(Hne,{method:t,isSelected:p===t.id,onSelect:f},t.id))})]}),o.length>0&&e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:m.length===D.length&&D.length>0,onChange:()=>{m.length===D.length?h([]):h(D.map(e=>e._id))},className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Select All (",D.length,")"]})]}),m.length>0&&e.jsxs("span",{className:"text-sm text-gray-600",children:[m.length," selected  $",O.toFixed(2)," total"]})]}),e.jsx("div",{className:"flex items-center gap-2",children:m.length>0&&e.jsxs("button",{onClick:R,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors text-sm",children:[e.jsx(N,{size:14}),"Pay Selected (",m.length,")"]})})]})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"w-5 h-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Approved Invoices"})]}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[D.length," of ",o.length," invoices"]})})]}),0===D.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v?e.jsx(Re,{size:32,className:"text-gray-400"}):e.jsx(n,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:v?"No invoices match your search":"No Approved Invoices"}),e.jsx("p",{className:"text-gray-500 mb-4",children:v?"Try adjusting your search criteria.":"Approved invoices ready for payment will appear here."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(t=>e.jsx(Gne,{invoice:t,isSelected:m.includes(t._id),onSelect:M,onPay:I,paymentStatus:b.has(t._id)?"processing":t.status},t._id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(N,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Bulk Payment"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Pay multiple invoices at once"})]})]}),e.jsxs("button",{onClick:R,disabled:0===m.length,className:"w-full py-2 px-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:["Pay Selected (",m.length,")"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Ie,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Export Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download payment summary"})]})]}),e.jsx("button",{className:"w-full py-2 px-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors text-sm",children:"Download Report"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(k,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Payment Analytics"}),e.jsx("p",{className:"text-xs text-gray-500",children:"View payment trends and insights"})]})]}),e.jsx("button",{className:"w-full py-2 px-3 bg-purple-500 text-white rounded-lg font-medium hover:bg-purple-600 transition-colors text-sm",children:"View Analytics"})]})]})]}),e.jsx(Kne,{isOpen:x,onClose:()=>g(!1),invoices:o,selectedInvoices:m,paymentMethod:p,onConfirm:()=>{if(g(!1),1===m.length){const e=o.find(e=>e._id===m[0]);if(e){i("/dashboard?section=payment",{state:{paymentData:{invoice:e,paymentMethod:p,isBulkPayment:!1}}})}}else if(m.length>1){const e=o.filter(e=>m.includes(e._id));i("/dashboard?section=payment",{state:{paymentData:{invoices:e,paymentMethod:p,isBulkPayment:!0}}})}}}),e.jsx(Bl,{children:w&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-4 py-3 rounded-2xl shadow-2xl border "+("success"===T?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===T?e.jsx("div",{className:"w-5 h-5 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium text-sm",children:C}),e.jsx("button",{onClick:()=>S(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:16})})]})})})})]})}const Xne=1247,Jne=892,Qne=67,Zne=284e4,ese=87.5,tse=[{month:"Jan",submitted:105,approved:92,rejected:8,pending:5},{month:"Feb",submitted:118,approved:102,rejected:12,pending:4},{month:"Mar",submitted:134,approved:119,rejected:9,pending:6},{month:"Apr",submitted:142,approved:125,rejected:11,pending:6},{month:"May",submitted:156,approved:140,rejected:8,pending:8},{month:"Jun",submitted:163,approved:147,rejected:10,pending:6}],rse=[{name:"IT",value:285,amount:85e4,color:"#3B82F6"},{name:"Marketing",value:192,amount:64e4,color:"#10B981"},{name:"HR",value:134,amount:42e4,color:"#F59E0B"},{name:"Operations",value:198,amount:59e4,color:"#EF4444"},{name:"Finance",value:87,amount:28e4,color:"#8B5CF6"},{name:"Sales",value:156,amount:48e4,color:"#EC4899"}],nse=[{name:"Software & Licenses",value:324,amount:12e5},{name:"Office Supplies",value:287,amount:18e4},{name:"Equipment",value:198,amount:89e4},{name:"Services",value:156,amount:62e4},{name:"Training",value:134,amount:34e4},{name:"Travel",value:148,amount:53e4}],sse=[{month:"Jan",orders:78,value:42e4,avgValue:5385},{month:"Feb",orders:85,value:485e3,avgValue:5706},{month:"Mar",orders:92,value:518e3,avgValue:5630},{month:"Apr",orders:98,value:547e3,avgValue:5582},{month:"May",orders:104,value:592e3,avgValue:5692},{month:"Jun",orders:110,value:634e3,avgValue:5764}],ase=[{vendor:"TechPro Solutions",orders:45,onTime:42,quality:98,amount:65e4},{vendor:"Office Dynamics",orders:67,onTime:63,quality:95,amount:42e4},{vendor:"CloudTech Inc",orders:38,onTime:36,quality:97,amount:89e4},{vendor:"Supply Chain Ltd",orders:89,onTime:85,quality:92,amount:34e4},{vendor:"Global Services",orders:52,onTime:48,quality:94,amount:58e4}],ise=[{name:"Paid",value:623,amount:234e4,color:"#10B981"},{name:"Pending Payment",value:89,amount:42e4,color:"#F59E0B"},{name:"Overdue",value:31,amount:18e4,color:"#EF4444"},{name:"Disputed",value:13,amount:85e3,color:"#8B5CF6"}],ose=[{month:"Jan",paid:185e4,pending:32e4,overdue:95e3},{month:"Feb",paid:21e5,pending:38e4,overdue:12e4},{month:"Mar",paid:228e4,pending:42e4,overdue:85e3},{month:"Apr",paid:245e4,pending:35e4,overdue:11e4},{month:"May",paid:269e4,pending:39e4,overdue:95e3},{month:"Jun",paid:284e4,pending:42e4,overdue:18e4}],lse=[{month:"Jan",domestic:28,international:12,amount:185e3},{month:"Feb",domestic:32,international:15,amount:22e4},{month:"Mar",domestic:38,international:18,amount:285e3},{month:"Apr",domestic:35,international:22,amount:32e4},{month:"May",domestic:42,international:19,amount:295e3},{month:"Jun",domestic:45,international:25,amount:385e3}],cse=[{name:"Client Meetings",value:35,color:"#3B82F6"},{name:"Training",value:28,color:"#10B981"},{name:"Conferences",value:22,color:"#F59E0B"},{name:"Site Visits",value:15,color:"#EF4444"}],dse=[{month:"Jan",completed:68,pending:12,discrepancies:8},{month:"Feb",completed:75,pending:15,discrepancies:6},{month:"Mar",completed:82,pending:18,discrepancies:9},{month:"Apr",completed:78,pending:14,discrepancies:5},{month:"May",completed:85,pending:16,discrepancies:7},{month:"Jun",completed:89,pending:19,discrepancies:4}],use=[{metric:"Cost Savings",current:8.5,target:10,unit:"%"},{metric:"Processing Time",current:3.2,target:2.5,unit:"days"},{metric:"Approval Rate",current:87.5,target:90,unit:"%"},{metric:"Vendor Performance",current:94.2,target:95,unit:"%"}],mse=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",onClick:c})=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all cursor-pointer "+(c?"hover:border-blue-300":""),onClick:c,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:20,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),void 0!==a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:14,className:"text-emerald-500"}):e.jsx(We,{size:14,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[o,"number"==typeof r?r.toLocaleString():r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]}),hse=({metric:t,current:r,target:n,unit:s})=>{const a=r/n*100,i=r>=.9*n;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t}),e.jsxs("span",{className:"text-sm font-medium "+(i?"text-emerald-600":"text-orange-600"),children:[r,s," / ",n,s]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:e.jsx("div",{className:"h-2 rounded-full "+(i?"bg-emerald-500":"bg-orange-500"),style:{width:`${Math.min(a,100)}%`}})}),e.jsxs("div",{className:"text-xs text-gray-500",children:[a.toFixed(1),"% of target"]})]})},pse=()=>{const[t,r]=qr.useState("overview"),[s,a]=qr.useState("6months"),[i,o]=qr.useState("all"),d=[{id:"overview",name:"Overview",icon:k},{id:"requisitions",name:"Requisitions",icon:c},{id:"purchases",name:"Purchase Orders",icon:w},{id:"invoices",name:"Invoices",icon:m},{id:"travel",name:"Travel",icon:Se},{id:"reconciliation",name:"Reconciliation",icon:Vt}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Analytics Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Comprehensive insights into your procurement and finance operations"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{value:s,onChange:e=>a(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"1month",children:"Last Month"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(Ie,{size:16}),"Export"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(G,{size:16}),"Refresh"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-1",children:e.jsx("div",{className:"flex overflow-x-auto",children:d.map(n=>e.jsxs("button",{onClick:()=>r(n.id),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors whitespace-nowrap "+(t===n.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[e.jsx(n.icon,{size:16}),n.name]},n.id))})}),e.jsxs("div",{className:"space-y-6",children:["overview"===t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(mse,{title:"Total Requisitions",value:Xne,icon:c,color:"blue",trend:12,subtitle:"This year"}),e.jsx(mse,{title:"Purchase Orders",value:Jne,icon:w,color:"green",trend:8,subtitle:"Processed"}),e.jsx(mse,{title:"Monthly Spend",value:Zne,prefix:"MWK ",icon:m,color:"purple",trend:-3,subtitle:"Current month"}),e.jsx(mse,{title:"Pending Approvals",value:Qne,icon:l,color:"orange",trend:-15,subtitle:"Awaiting action"}),e.jsx(mse,{title:"Approval Rate",value:ese,suffix:"%",icon:n,color:"green",trend:5,subtitle:"Last 30 days"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:use.map((t,r)=>e.jsx(hse,{...t},r))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Monthly Spend Trend"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(BU,{data:ose,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{formatter:e=>[`MWK ${e.toLocaleString()}`,""]}),e.jsx(Uq,{dataKey:"paid",stackId:"1",fill:"#10B981",fillOpacity:.8}),e.jsx(Uq,{dataKey:"pending",stackId:"1",fill:"#F59E0B",fillOpacity:.8}),e.jsx(Uq,{dataKey:"overdue",stackId:"1",fill:"#EF4444",fillOpacity:.8}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Spending by Department"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(RU,{children:[e.jsx(gR,{data:rse,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:5,dataKey:"amount",children:rse.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{formatter:e=>[`MWK ${e.toLocaleString()}`,"Amount"]}),e.jsx(kN,{})]})})]})]})]}),"requisitions"===t&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Requisition Trends"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(zU,{data:tse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(Uq,{dataKey:"submitted",stackId:"1",fill:"#3B82F6",fillOpacity:.8}),e.jsx(Uq,{dataKey:"approved",stackId:"1",fill:"#10B981",fillOpacity:.8}),e.jsx(Uq,{dataKey:"rejected",stackId:"1",fill:"#EF4444",fillOpacity:.8}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Requisitions by Department"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(IU,{data:rse,layout:"horizontal",children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{type:"number",axisLine:!1,tickLine:!1}),e.jsx(I$,{type:"category",dataKey:"name",axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"value",fill:"#3B82F6",radius:[0,4,4,0]})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Requisitions by Category"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(IU,{data:nse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"name",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"value",fill:"#10B981",radius:[4,4,0,0]}),e.jsx(sF,{dataKey:"amount",fill:"#3B82F6",radius:[4,4,0,0]})]})})]})]}),"purchases"===t&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Purchase Order Trends"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(BU,{data:sse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"left",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(sF,{yAxisId:"left",dataKey:"orders",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(Aq,{yAxisId:"right",type:"monotone",dataKey:"value",stroke:"#10B981",strokeWidth:3}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Top Vendor Performance"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(IU,{data:ase.slice(0,5),layout:"horizontal",children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{type:"number",domain:[80,100],axisLine:!1,tickLine:!1}),e.jsx(I$,{type:"category",dataKey:"vendor",axisLine:!1,tickLine:!1,width:120}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"quality",fill:"#10B981",radius:[0,4,4,0]})]})})]})]})}),"invoices"===t&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Invoice Status Breakdown"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(RU,{children:[e.jsx(gR,{data:ise,cx:"50%",cy:"50%",outerRadius:120,paddingAngle:5,dataKey:"value",children:ise.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Payment Trends"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(MU,{data:ose,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{formatter:e=>[`MWK ${e.toLocaleString()}`,""]}),e.jsx(Aq,{type:"monotone",dataKey:"paid",stroke:"#10B981",strokeWidth:3}),e.jsx(Aq,{type:"monotone",dataKey:"pending",stroke:"#F59E0B",strokeWidth:3}),e.jsx(Aq,{type:"monotone",dataKey:"overdue",stroke:"#EF4444",strokeWidth:3}),e.jsx(kN,{})]})})]})]})}),"travel"===t&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Travel Request Trends"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(BU,{data:lse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"left",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(sF,{yAxisId:"left",dataKey:"domestic",fill:"#3B82F6",radius:[4,4,0,0]}),e.jsx(sF,{yAxisId:"left",dataKey:"international",fill:"#10B981",radius:[4,4,0,0]}),e.jsx(Aq,{yAxisId:"right",type:"monotone",dataKey:"amount",stroke:"#EF4444",strokeWidth:3}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Travel by Purpose"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(FU,{cx:"50%",cy:"50%",innerRadius:"20%",outerRadius:"90%",data:cse,children:[e.jsx(KR,{dataKey:"value",cornerRadius:10,fill:"#8884d8"}),e.jsx(Lk,{}),e.jsx(kN,{})]})})]})]})}),"reconciliation"===t&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Reconciliation Performance"}),e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(zU,{data:dse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(Uq,{dataKey:"completed",stackId:"1",fill:"#10B981",fillOpacity:.8}),e.jsx(Uq,{dataKey:"pending",stackId:"1",fill:"#F59E0B",fillOpacity:.8}),e.jsx(Uq,{dataKey:"discrepancies",stackId:"1",fill:"#EF4444",fillOpacity:.8}),e.jsx(kN,{})]})})]})})]})]})})},fse=[{id:"financial",name:"Financial Reports",icon:m,color:"green",reports:[{id:"expense-summary",name:"Monthly Expense Summary",description:"Comprehensive breakdown of all expenses by department and category",lastGenerated:"2024-07-05",frequency:"Monthly",format:["PDF","Excel"],size:"2.4 MB",recipients:12},{id:"budget-variance",name:"Budget Variance Analysis",description:"Comparison of actual vs budgeted expenses with variance analysis",lastGenerated:"2024-07-04",frequency:"Weekly",format:["PDF","Excel"],size:"1.8 MB",recipients:8},{id:"cost-center-report",name:"Cost Center Performance",description:"Detailed cost analysis by business units and cost centers",lastGenerated:"2024-07-03",frequency:"Monthly",format:["PDF"],size:"3.2 MB",recipients:15}]},{id:"procurement",name:"Procurement Reports",icon:w,color:"blue",reports:[{id:"vendor-performance",name:"Vendor Performance Report",description:"Comprehensive vendor evaluation including delivery times, quality, and pricing",lastGenerated:"2024-07-05",frequency:"Monthly",format:["PDF","Excel"],size:"4.1 MB",recipients:18},{id:"purchase-analysis",name:"Purchase Order Analysis",description:"Analysis of purchase orders, approval times, and processing efficiency",lastGenerated:"2024-07-04",frequency:"Weekly",format:["PDF","Excel"],size:"2.9 MB",recipients:10},{id:"procurement-savings",name:"Procurement Savings Report",description:"Cost savings achieved through strategic procurement initiatives",lastGenerated:"2024-07-02",frequency:"Quarterly",format:["PDF"],size:"1.5 MB",recipients:6}]},{id:"requisitions",name:"Requisition Reports",icon:c,color:"purple",reports:[{id:"requisition-summary",name:"Requisition Summary Report",description:"Overview of all requisitions by status, department, and approval stage",lastGenerated:"2024-07-05",frequency:"Daily",format:["PDF","Excel"],size:"1.2 MB",recipients:25},{id:"approval-workflow",name:"Approval Workflow Analysis",description:"Analysis of approval times, bottlenecks, and process efficiency",lastGenerated:"2024-07-04",frequency:"Weekly",format:["PDF"],size:"2.7 MB",recipients:12},{id:"department-requisitions",name:"Department Requisition Breakdown",description:"Detailed breakdown of requisitions by department with spending patterns",lastGenerated:"2024-07-03",frequency:"Monthly",format:["Excel"],size:"3.5 MB",recipients:20}]},{id:"compliance",name:"Compliance Reports",icon:n,color:"orange",reports:[{id:"audit-trail",name:"Audit Trail Report",description:"Comprehensive audit trail of all system activities and changes",lastGenerated:"2024-07-05",frequency:"Daily",format:["PDF"],size:"5.8 MB",recipients:8},{id:"policy-compliance",name:"Policy Compliance Report",description:"Assessment of compliance with internal policies and procedures",lastGenerated:"2024-07-01",frequency:"Monthly",format:["PDF","Excel"],size:"2.1 MB",recipients:14}]},{id:"operations",name:"Operational Reports",icon:k,color:"red",reports:[{id:"travel-expenses",name:"Travel Expense Report",description:"Analysis of travel expenses, patterns, and policy compliance",lastGenerated:"2024-07-04",frequency:"Monthly",format:["PDF","Excel"],size:"1.9 MB",recipients:16},{id:"invoice-processing",name:"Invoice Processing Report",description:"Invoice processing times, payment status, and aging analysis",lastGenerated:"2024-07-05",frequency:"Weekly",format:["PDF"],size:"2.3 MB",recipients:11}]}],xse=[{id:"SCH-001",name:"Monthly Financial Summary",nextRun:"2024-08-01",frequency:"Monthly",recipients:["finance@company.com","cfo@company.com"],status:"active",lastSuccess:"2024-07-01"},{id:"SCH-002",name:"Weekly Procurement Report",nextRun:"2024-07-08",frequency:"Weekly",recipients:["procurement@company.com"],status:"active",lastSuccess:"2024-07-01"},{id:"SCH-003",name:"Daily Requisition Summary",nextRun:"2024-07-06",frequency:"Daily",recipients:["managers@company.com"],status:"paused",lastSuccess:"2024-07-04"}],gse=[{month:"Jan",downloads:145,views:892},{month:"Feb",downloads:162,views:934},{month:"Mar",downloads:178,views:1056},{month:"Apr",downloads:134,views:876},{month:"May",downloads:189,views:1123},{month:"Jun",downloads:203,views:1245}],bse=[{name:"Monthly Expense Summary",downloads:89,color:"#3B82F6"},{name:"Vendor Performance",downloads:67,color:"#10B981"},{name:"Requisition Summary",downloads:54,color:"#F59E0B"},{name:"Budget Variance",downloads:43,color:"#EF4444"},{name:"Travel Expenses",downloads:32,color:"#8B5CF6"}],yse=({isOpen:t,onClose:r,report:n})=>{const[s,a]=qr.useState("PDF"),[i,o]=qr.useState("current-month"),[l,c]=qr.useState(!0),[d,u]=qr.useState(!1),[m,h]=qr.useState("");return t&&n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl m-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Generate Report"}),e.jsx("p",{className:"text-gray-600",children:n.name})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Jt,{size:24})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Export Format"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.format.map(t=>e.jsx("button",{onClick:()=>a(t),className:"p-3 border rounded-lg text-center transition-colors "+(s===t?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:border-gray-400"),children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),e.jsxs("select",{value:i,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"current-month",children:"Current Month"}),e.jsx("option",{value:"last-month",children:"Last Month"}),e.jsx("option",{value:"current-quarter",children:"Current Quarter"}),e.jsx("option",{value:"last-quarter",children:"Last Quarter"}),e.jsx("option",{value:"current-year",children:"Current Year"}),e.jsx("option",{value:"custom",children:"Custom Range"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"includeCharts",checked:l,onChange:e=>c(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"includeCharts",className:"ml-2 text-sm text-gray-700",children:"Include charts and visualizations"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"emailReport",checked:d,onChange:e=>u(e.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),e.jsx("label",{htmlFor:"emailReport",className:"ml-2 text-sm text-gray-700",children:"Email report when ready"})]})]}),d&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recipients"}),e.jsx("textarea",{value:m,onChange:e=>h(e.target.value),placeholder:"Enter email addresses separated by commas",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsxs("button",{className:"flex items-center gap-2 px-6 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(Ie,{size:16}),"Generate Report"]}),e.jsx("button",{onClick:r,className:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})]})}):null},vse=({report:t,onGenerate:r,onView:n,onSchedule:s})=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-1 ml-4",children:[e.jsx("button",{onClick:()=>n(t),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Preview",children:e.jsx(_,{size:16})}),e.jsx("button",{onClick:()=>r(t),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Generate",children:e.jsx(Ie,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-500 mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Last Generated:"}),e.jsx("div",{children:t.lastGenerated})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Frequency:"}),e.jsx("div",{children:t.frequency})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Size:"}),e.jsx("div",{children:t.size})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Recipients:"}),e.jsxs("div",{children:[t.recipients," users"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex gap-1",children:t.format.map(t=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded font-medium",children:t},t))}),e.jsxs("button",{onClick:()=>r(t),className:"flex items-center gap-1 px-3 py-1 text-blue-600 hover:bg-blue-50 rounded text-sm font-medium",children:[e.jsx(Ie,{size:14}),"Generate"]})]})]}),jse=({category:t,onGenerateReport:r,onViewReport:n})=>{const s=t.icon;return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 border-b border-gray-100",children:[e.jsx("div",{className:"p-2 rounded-lg "+("blue"===t.color?"bg-blue-50":"green"===t.color?"bg-emerald-50":"purple"===t.color?"bg-purple-50":"orange"===t.color?"bg-orange-50":"red"===t.color?"bg-red-50":"bg-gray-50"),children:e.jsx(s,{size:20,className:"blue"===t.color?"text-blue-600":"green"===t.color?"text-emerald-600":"purple"===t.color?"text-purple-600":"orange"===t.color?"text-orange-600":"red"===t.color?"text-red-600":"text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[t.reports.length," reports available"]})]})]}),e.jsx("div",{className:"p-4 grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:t.reports.map(t=>e.jsx(vse,{report:t,onGenerate:r,onView:n},t.id))})]})},wse=()=>{const[t,r]=qr.useState("all"),[s,a]=qr.useState(""),[i,o]=qr.useState(!1),[d,u]=qr.useState(null),m=e=>{u(e),o(!0)},h=e=>{},p=fse.filter(e=>("all"===t||e.id===t)&&(!s||e.reports.some(e=>e.name.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase()))));return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports"}),e.jsx("p",{className:"text-gray-600",children:"Generate and manage comprehensive reports across all business functions"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(v,{size:16}),"Schedule Report"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:[e.jsx(er,{size:16}),"Custom Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(c,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"47"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Available Reports"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Ie,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"203"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Downloads This Month"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(l,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"12"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Scheduled Reports"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-orange-50 rounded-lg",children:e.jsx(j,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"89"}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Active Recipients"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Report Usage Trends"}),e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(MU,{data:gse,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{}),e.jsx(Aq,{type:"monotone",dataKey:"downloads",stroke:"#3B82F6",strokeWidth:3}),e.jsx(Aq,{type:"monotone",dataKey:"views",stroke:"#10B981",strokeWidth:3}),e.jsx(kN,{})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Most Popular Reports"}),e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(IU,{data:bse,layout:"horizontal",children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{type:"number",axisLine:!1,tickLine:!1}),e.jsx(I$,{type:"category",dataKey:"name",axisLine:!1,tickLine:!1,width:120}),e.jsx(Lk,{}),e.jsx(sF,{dataKey:"downloads",fill:"#3B82F6",radius:[0,4,4,0]})]})})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search reports...",value:s,onChange:e=>a(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:t,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Categories"}),fse.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:[e.jsx(G,{size:16}),"Refresh"]})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Scheduled Reports"}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Manage Schedule"})]}),e.jsx("div",{className:"divide-y divide-gray-100",children:xse.map((t,r)=>e.jsx("div",{className:"p-4 hover:bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:t.name}),e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 text-xs font-medium rounded-full "+("active"===t.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:["active"===t.status?e.jsx(n,{size:12}):e.jsx(l,{size:12}),t.status]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["Next run: ",t.nextRun]}),e.jsx("span",{children:""}),e.jsx("span",{children:t.frequency}),e.jsx("span",{children:""}),e.jsxs("span",{children:[t.recipients.length," recipients"]})]})]}),e.jsxs("div",{className:"text-right text-sm text-gray-500",children:["Last success: ",t.lastSuccess]})]})},r))})]}),e.jsx("div",{className:"space-y-6",children:p.map(t=>e.jsx(jse,{category:t,onGenerateReport:m,onViewReport:h},t.id))}),e.jsx(yse,{isOpen:i,onClose:()=>o(!1),report:d})]})})},Nse="https://backend.nexusmwi.com",kse=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,Sse=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const d="large"===c?"col-span-2":"",u="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${d}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})})}),e.jsxs("div",{className:`${u} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Cse=({tender:t,onMenuClick:r,showMenuId:n,onViewTender:s,bidCounts:a,actionLoading:i})=>{const o=(e=>{const t=new Date,r=new Date(e)-t;return Math.ceil(r/864e5)})(t.deadline),l=a[t._id]||0;return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:t.company.name})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"open":return"bg-green-100 text-green-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-red-100 text-red-800";case"awarded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status.replace("_"," ")}),e.jsx("button",{"data-tender-id":t._id,onClick:()=>r(t._id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:(d=t.budget,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d))}),e.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold "+(o<=7?"text-red-600":o<=14?"text-yellow-600":"text-green-600"),children:o>0?`${o}d`:"Expired"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Days Left"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Category"}),e.jsx("span",{className:"text-xs font-medium",children:t.category})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Location"}),e.jsx("span",{className:"text-xs font-medium",children:t.location})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"}),e.jsx("span",{className:"text-xs font-medium",children:(c=t.deadline,new Date(c).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Bids Received"}),e.jsx("span",{className:"text-xs font-medium text-blue-600",children:l})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-800 line-clamp-2",children:t.description})]}),t.requirements&&t.requirements.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Requirements"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.requirements.slice(0,2).map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full font-medium",children:t},r)),t.requirements.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",t.requirements.length-2]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(D,{size:12}),e.jsx("span",{className:"truncate",children:t.contactEmail})]}),e.jsx("div",{className:"flex gap-1",children:e.jsxs("button",{onClick:()=>s(t),className:"px-3 py-1 bg-blue-500 text-white text-xs font-medium rounded-xl hover:bg-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(_,{size:12}),"View Bids"]})})]})]});var c,d},Ase=({tender:t,bids:r,isOpen:n,onClose:a,onAwardBid:i})=>{const[o,l]=qr.useState(null),[d,u]=qr.useState(!1),[m,h]=qr.useState(null);if(!n||!t)return null;const p=Array.isArray(r)?r:[],f="https://backend.nexusmwi.com",x=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),g=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=e=>{if(!e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},v=async e=>{u(!0);try{await i(e),l(null)}catch(ide){}finally{u(!1)}},w=({bid:t,isOpen:r,onClose:n})=>{if(!r||!t)return null;return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1100]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-hidden shadow-2xl mr-16",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:["Docs - ",t.vendor?.businessName]}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:"Bid documents"})]}),e.jsx("button",{onClick:n,className:"p-1.5 hover:bg-gray-100 rounded-2xl flex-shrink-0 ml-2",children:e.jsx(s,{size:16})})]}),e.jsx("div",{className:"p-4 max-h-[70vh] overflow-y-auto",children:t.documents&&t.documents.length>0?e.jsx("div",{className:"space-y-2",children:t.documents.map((r,n)=>{return e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(c,{size:16,className:"text-blue-500 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-xs truncate",children:(s=r.type,{technical_proposal:"Technical Proposal",financial_proposal:"Financial Proposal",company_profile:"Company Profile",certificate_of_incorporation:"Certificate of Incorporation",tax_clearance:"Tax Clearance Certificate",business_license:"Business License"}[s]||s.replace("_"," ").toUpperCase())}),e.jsxs("div",{className:"flex flex-col text-xs text-gray-600 mt-0.5",children:[e.jsx("span",{className:"truncate",children:r.name}),e.jsx("span",{children:b(r.size)})]})]})]}),e.jsxs("div",{className:"flex gap-1 flex-shrink-0 ml-2",children:[e.jsxs("button",{onClick:()=>(async(e,t)=>{try{const r=localStorage.getItem("token"),n=`${f}/api/bids/${t}/documents/${e._id}/view`,s=await fetch(n,{headers:{Authorization:`Bearer ${r}`}});if(!s.ok)throw new Error("View failed");const a=await s.blob(),i=window.URL.createObjectURL(a);window.open(i,"_blank")}catch(ide){alert("Failed to view document")}})(r,t._id),className:"px-2 py-1 bg-blue-500 text-white text-xs font-medium rounded-xl hover:bg-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(_,{size:12}),"View"]}),e.jsxs("button",{onClick:()=>(async(e,t,r)=>{try{if(!e||!e._id)return;const n=localStorage.getItem("token"),s=`${f}/api/bids/${r}/documents/${e._id}/download`,a=await fetch(s,{headers:{Authorization:`Bearer ${n}`}});if(!a.ok)throw new Error("Download failed");const i=await a.blob(),o=URL.createObjectURL(i),l=document.createElement("a"),c=e.name?.split(".").pop()||"pdf",d=`${(t||"unknown").replace(/[^a-z0-9]/gi,"_").toLowerCase()}_${(e.type||"document").replace(/[^a-z0-9]/gi,"_").toLowerCase()}.${c}`;l.href=o,l.download=d,l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(o)}catch(ide){alert("Download failed. Please try again.")}})(r,t.vendor?.businessName,t._id),className:"px-2 py-1 bg-green-500 text-white text-xs font-medium rounded-xl hover:bg-green-600 transition-colors flex items-center gap-1",children:[e.jsx(Ie,{size:12}),"DL"]})]})]},n);var s})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx(c,{size:32,className:"text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"No documents uploaded"})]})}),e.jsx("div",{className:"px-4 py-3 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:n,className:"px-3 py-1.5 bg-gray-500 text-white text-xs rounded-xl hover:bg-gray-600 transition-colors font-medium",children:"Close"})})]})})};return e.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-end p-4 z-[1000]",children:[e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl mr-8",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900 truncate",children:t.title}),e.jsx("p",{className:"text-xs text-gray-600",children:"Tender Details & Bids"})]}),e.jsx("button",{onClick:a,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors flex-shrink-0 ml-2",children:e.jsx(s,{size:16})})]}),e.jsx("div",{className:"p-4 max-h-[75vh] overflow-y-auto",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-2",children:"Tender Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Budget"}),e.jsx("span",{className:"text-xs font-medium",children:x(t.budget)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Category"}),e.jsx("span",{className:"text-xs font-medium",children:t.category})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Location"}),e.jsx("span",{className:"text-xs font-medium",children:t.location})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"}),e.jsx("span",{className:"text-xs font-medium",children:g(t.deadline)})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Urgency"}),e.jsx("span",{className:"text-xs font-medium "+("high"===t.urgency?"text-red-600":"medium"===t.urgency?"text-yellow-600":"text-green-600"),children:t.urgency})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Status"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("open"===t.status?"bg-green-100 text-green-800":"closed"===t.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:t.status})]})]})]}),t.requirements&&t.requirements.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-2xl p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-2",children:"Requirements"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.requirements.map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full font-medium",children:t},r))})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 text-sm",children:["Vendor Bids (",p.length,")"]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx(j,{size:12}),e.jsx("span",{children:"Total Bids"})]})]}),0===p.length?e.jsxs("div",{className:"text-center py-4 bg-gray-50 rounded-2xl",children:[e.jsx(c,{size:28,className:"text-gray-400 mx-auto mb-1"}),e.jsx("p",{className:"text-gray-600 text-xs",children:"No bids received yet"})]}):e.jsx("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:p.map(t=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-2",children:[e.jsxs("div",{className:"flex flex-col gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm truncate",children:t.vendor?.businessName}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:t.vendor?.vendor?.email})]}),e.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 ml-2",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-bold text-blue-600",children:x(t.bidAmount)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Bid"})]}),e.jsx("span",{className:"px-1.5 py-0.5 text-xs font-medium rounded-full "+("submitted"===t.status?"bg-blue-100 text-blue-800":"under_review"===t.status?"bg-yellow-100 text-yellow-800":"awarded"===t.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:t.status.replace("_"," ")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Tech Score"}),e.jsx("p",{className:"text-xs font-medium",children:t.technicalScore||"Not evaluated"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Submitted"}),e.jsx("p",{className:"text-xs font-medium",children:g(t.submittedAt)})]})]}),t.proposal&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Proposal"}),e.jsx("p",{className:"text-xs text-gray-700 line-clamp-1",children:t.proposal})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>l(t),className:"px-2 py-0.5 bg-blue-500 text-white text-xs font-medium rounded-xl hover:bg-blue-600 transition-colors",children:"Evaluate"}),t.documents&&t.documents.length>0&&e.jsxs("button",{onClick:()=>h(t),className:"px-2 py-0.5 bg-purple-500 text-white text-xs font-medium rounded-xl hover:bg-purple-600 transition-colors flex items-center gap-0.5",children:[e.jsx(c,{size:10}),"Docs"]})]}),"awarded"!==t.status&&e.jsxs("button",{onClick:()=>v(t),disabled:d,className:"px-2 py-0.5 bg-green-500 text-white text-xs font-medium rounded-xl hover:bg-green-600 transition-colors disabled:opacity-50 flex items-center gap-0.5",children:[e.jsx(y,{size:10}),d?"...":"Award"]})]})]},t._id))})]})]})})]}),o&&e.jsx(Tse,{bid:o,isOpen:!!o,onClose:()=>l(null),onAward:v}),m&&e.jsx(w,{bid:m,isOpen:!!m,onClose:()=>h(null)})]})},Tse=({bid:t,isOpen:r,onClose:n,onAward:a})=>{const[i,o]=qr.useState({technicalScore:t.technicalScore||0,financialScore:t.financialScore||0,comments:"",recommendation:""});if(!r)return null;return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1100]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Evaluate Bid - ",t.vendor?.businessName]}),e.jsx("button",{onClick:n,className:"p-1 hover:bg-gray-100 rounded-2xl",children:e.jsx(s,{size:20})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),n()},className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technical Score (0-100)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:i.technicalScore,onChange:e=>o(t=>({...t,technicalScore:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Financial Score (0-100)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:i.financialScore,onChange:e=>o(t=>({...t,financialScore:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Evaluation Comments"}),e.jsx("textarea",{value:i.comments,onChange:e=>o(t=>({...t,comments:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-xl",placeholder:"Provide detailed evaluation comments..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Recommendation"}),e.jsxs("select",{value:i.recommendation,onChange:e=>o(t=>({...t,recommendation:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-xl",children:[e.jsx("option",{value:"",children:"Select recommendation"}),e.jsx("option",{value:"award",children:"Award Contract"}),e.jsx("option",{value:"shortlist",children:"Shortlist"}),e.jsx("option",{value:"reject",children:"Reject"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Save Evaluation"})]})]})]})})};function Ese(){const[t,r]=qr.useState([]),[a,i]=qr.useState(!1),[o,l]=qr.useState(null),[d,u]=qr.useState(""),[h,p]=qr.useState(null),[f,x]=qr.useState([]),[g,b]=qr.useState(!1),[y,v]=qr.useState({}),[j,w]=qr.useState(!1),[N,S]=qr.useState(""),[C,A]=qr.useState("success"),[T,E]=qr.useState("all"),[P,D]=qr.useState(!1),[O,L]=qr.useState(!1),[M,I]=qr.useState([]),[R,z]=qr.useState({title:"",description:"",budget:"",location:"",urgency:"medium",category:"",deadline:"",requisitionId:"",requirements:[]}),[F,B]=qr.useState(null),[q,$]=qr.useState(null),U=qr.useState(null);$r();const W=()=>{D(!1),z({title:"",description:"",budget:"",location:"",urgency:"medium",category:"",deadline:"",requisitionId:"",requirements:[]})},V=(e,t="success")=>{S(e),A(t),w(!0),setTimeout(()=>w(!1),5e3)},H=e=>{const{name:t,value:r}=e.target;if("requirements"===t){const e=r.split(",").map(e=>e.trim());z(t=>({...t,requirements:e}))}else if("requisitionId"===t){const e=M.find(e=>e._id===r);z(t=>({...t,requisitionId:r,budget:e?e.estimatedCost:"",urgency:e?e.urgency:"medium",category:e?e.category:"",location:e?e.location:""}))}else z(e=>({...e,[t]:r}))},K=e=>e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}K`:`$${e}`;qr.useEffect(()=>{(async()=>{i(!0);try{const e=localStorage.getItem("token"),[t,n]=await Promise.all([fetch(`${Nse}/api/tenders/company`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${Nse}/api/requisitions/all/approved`,{headers:{Authorization:`Bearer ${e}`}})]);let s=[],a=[];if(t.ok){const e=await t.json();s=e.data||e||[],r(s)}if(n.ok){const e=await n.json();a=Array.isArray(e)?e:e.data||[];const t=a.filter(e=>"approved"===e.status).filter(e=>e.estimatedCost>1e3||"high"===e.urgency);I(t)}const i=s.map(async t=>{try{const r=await fetch(`${Nse}/api/bids/tender/${t._id}`,{headers:{Authorization:`Bearer ${e}`}});if(r.ok){const e=await r.json();let n=[];return Array.isArray(e)?n=e:e.data&&Array.isArray(e.data)?n=e.data:e.bids&&Array.isArray(e.bids)&&(n=e.bids),{tenderId:t._id,count:n.length}}return{tenderId:t._id,count:0}}catch(r){return{tenderId:t._id,count:0}}}),o=await Promise.all(i),l={};o.forEach(e=>{l[e.tenderId]=e.count}),v(l)}catch(e){l("Failed to load data. Please try again.")}finally{i(!1)}})()},[Nse]);const Y=async e=>{try{const t=localStorage.getItem("token"),r=await fetch(`${Nse}/api/bids/tender/${e._id}`,{headers:{Authorization:`Bearer ${t}`}});if(!r.ok)throw new Error("Failed to fetch bids");{const t=await r.json();let n=[];Array.isArray(t)?n=t:t.data&&Array.isArray(t.data)?n=t.data:t.bids&&Array.isArray(t.bids)?n=t.bids:"object"==typeof t&&null!==t&&(n=[t]),x(n),p(e),b(!0)}}catch(t){V("Failed to load tender details","error"),x([]),p(e),b(!0)}},X=()=>{i(!0),setTimeout(()=>{i(!1)},1e3)},J=t.filter(e=>{const t=e.title?.toLowerCase().includes(d.toLowerCase())||e.company?.name?.toLowerCase().includes(d.toLowerCase())||e.category?.toLowerCase().includes(d.toLowerCase())||e.location?.toLowerCase().includes(d.toLowerCase()),r="all"===T||e.status===T;return t&&r}),Q=t.length,Z=t.filter(e=>"open"===e.status).length,ee=t.reduce((e,t)=>e+(t.budget||0),0),te=Q>0?ee/Q:0;return o?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:o})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(kse,{isVisible:a,message:"Loading tenders..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsx("input",{type:"file",accept:".xlsx, .xls",className:"hidden",ref:U,onChange:async e=>{const t=e.target.files[0];if(t)try{const e=n3(await t.arrayBuffer()),r=e.Sheets[e.SheetNames[0]],n=j3.sheet_to_json(r),s=localStorage.getItem("token");for(const t of n){const e={title:t.Title||"",description:t.Description||"",budget:Number(t.Budget)||0,category:t.Category||"",location:t.Location||"",urgency:t.Urgency||"medium",status:t.Status||"open",deadline:t.Deadline?new Date(t.Deadline).toISOString():(new Date).toISOString(),contactEmail:t.ContactEmail||"",requirements:t.Requirements?t.Requirements.split(",").map(e=>e.trim()):[]};await fetch(`${Nse}/api/tenders`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"},body:JSON.stringify(e)})}V("Excel import completed successfully!","success"),X()}catch(r){V("Excel import failed!","error")}}}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search tenders...",value:d,onChange:e=>u(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("select",{value:T,onChange:e=>E(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"under_review",children:"Under Review"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"awarded",children:"Awarded"})]}),e.jsxs("button",{onClick:()=>{D(!0)},disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-100 text-blue-700 rounded-2xl font-medium hover:bg-blue-200 transition-colors disabled:opacity-50",children:[e.jsx(Le,{size:16}),"Create Tender"]}),e.jsxs("button",{onClick:X,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Sse,{title:"Total Tenders",value:Q,icon:c,color:"blue",subtitle:"All tender opportunities"}),e.jsx(Sse,{title:"Open Tenders",value:Z,icon:n,color:"green",subtitle:"Currently accepting bids"}),e.jsx(Sse,{title:"Total Value",value:K(ee),icon:m,color:"purple",subtitle:"Combined tender value"}),e.jsx(Sse,{title:"Avg Budget",value:K(te),icon:k,color:"orange",subtitle:"Average tender budget"})]}),e.jsxs("div",{id:"tenders-section",className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Tenders"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{const e=document.getElementById("tenders-section")?.innerHTML;if(!e)return void V("Nothing to print","error");const t=window.open("","_blank","width=900,height=700");t.document.write(`\n      <html>\n        <head>\n          <title>Tenders Print</title>\n          <style>\n            body { font-family: Arial, sans-serif; padding: 20px; }\n            h1 { text-align: center; margin-bottom: 20px; }\n            .tenders-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 15px; margin-top: 20px; }\n            .tender-card { border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px; }\n            .tender-card h3 { margin: 0 0 10px 0; color: #333; }\n            .tender-card p { margin: 5px 0; color: #666; font-size: 14px; }\n            .status { display: inline-block; padding: 4px 8px; border-radius: 12px; font-size: 12px; font-weight: bold; }\n            .open { background-color: #d1fae5; color: #065f46; }\n            .closed { background-color: #fee2e2; color: #991b1b; }\n            .under_review { background-color: #fef3c7; color: #92400e; }\n            .awarded { background-color: #dbeafe; color: #1e40af; }\n          </style>\n        </head>\n        <body>\n          <h1>Tenders List</h1>\n          <div class="tenders-grid">\n            ${e}\n          </div>\n        </body>\n      </html>\n    `),t.document.close(),t.focus(),t.print()},children:[e.jsx(Fe,{size:16}),"Print"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>U.current?.click(),children:[e.jsx(qe,{size:16}),"Excel Import"]}),e.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-600 bg-white rounded-2xl text-sm font-medium hover:bg-blue-50 transition",onClick:()=>{if(!t||0===t.length)return void V("No tenders to export","error");const e=t.map(e=>({Title:e.title,Description:e.description,Company:e.company?.name||"",Budget:e.budget,Category:e.category,Location:e.location,Urgency:e.urgency,Status:e.status,Deadline:e.deadline?new Date(e.deadline).toLocaleDateString():"",ContactEmail:e.contactEmail,Requirements:e.requirements?.join(", ")||"",Created:e.createdAt?new Date(e.createdAt).toLocaleDateString():""})),r=j3.json_to_sheet(e),n=j3.book_new();j3.book_append_sheet(n,r,"Tenders"),c3(n,"tenders.xlsx"),V("Export successful!","success")},children:[e.jsx(Be,{size:16}),"Excel Export"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[J.length," of ",Q," tenders"]})]})]}),0===J.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:d||"all"!==T?"No tenders match your criteria":"No tenders available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:d||"all"!==T?"Try adjusting your search terms or status filter to find relevant tenders.":"Create a new tender to get started."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:J.map(t=>e.jsx(Cse,{tender:t,onMenuClick:B,showMenuId:F,onViewTender:Y,bidCounts:y,actionLoading:q},t._id))})]})]}),F&&e.jsxs(e.Fragment,{children:[e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"fixed inset-0 z-[100] bg-transparent",onClick:()=>B(null)}),e.jsx(Rm.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"fixed z-[101] w-56 bg-white rounded-2xl shadow-xl border border-gray-200",style:{top:(()=>{const e=document.querySelector(`[data-tender-id="${F}"]`);if(e){return`${e.getBoundingClientRect().bottom+window.scrollY}px`}return"50px"})(),left:(()=>{const e=document.querySelector(`[data-tender-id="${F}"]`);if(e){const t=e.getBoundingClientRect(),r=224;return t.right+window.scrollX+r>window.innerWidth?window.innerWidth-r-8+"px":`${t.right-r+window.scrollX}px`}return"50px"})()},transition:{duration:.1,ease:"easeOut"},children:e.jsxs("div",{className:"py-1",children:[e.jsxs("button",{onClick:()=>{B(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm rounded-xl",children:[e.jsx(_,{size:16,className:"text-gray-500"}),"View Details"]}),e.jsxs("button",{onClick:()=>{B(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm rounded-xl",children:[e.jsx(Qe,{size:16,className:"text-gray-500"}),"Edit Tender"]}),e.jsxs("button",{onClick:()=>{var e;e=F,navigator.clipboard.writeText(e),V("Tender ID copied to clipboard!","success"),B(null)},className:"w-full flex items-center gap-3 px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 text-left text-sm rounded-xl",children:[e.jsx(c,{size:16,className:"text-gray-500"}),"Copy Tender ID"]}),e.jsx("div",{className:"border-t border-gray-100 my-1"}),e.jsxs("button",{onClick:()=>(async e=>{$(e);try{const t=localStorage.getItem("token"),n=await fetch(`${Nse}/api/tenders/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to delete tender")}r(t=>Array.isArray(t)?t.filter(t=>t._id!==e):[]),V("Tender deleted successfully!","success")}catch(t){V(t.message||"Failed to delete tender","error")}finally{$(null),B(null)}})(F),disabled:q===F,className:"w-full flex items-center gap-3 px-4 py-2 text-red-600 hover:bg-red-50 text-left text-sm rounded-xl",children:[e.jsx(Me,{size:16}),"Delete Tender",q===F&&e.jsx("div",{className:"ml-auto",children:e.jsx("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]})]})})]}),g&&e.jsx(Ase,{tender:h,bids:f,isOpen:g,onClose:()=>b(!1),onAwardBid:async e=>{try{const t=localStorage.getItem("token");if(!(await fetch(`${Nse}/api/bids/${e._id}/award`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to award bid");if(V(`Bid awarded to ${e.vendor.businessName} successfully!`,"success"),h){const e=await fetch(`${Nse}/api/bids/tender/${h._id}`,{headers:{Authorization:`Bearer ${t}`}});if(e.ok){const t=await e.json();x(t)}}}catch(t){V("Failed to award bid","error")}}}),P&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-[1000]",children:e.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsxs("div",{className:"px-5 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create Tender"}),e.jsx("button",{onClick:W,className:"p-1.5 hover:bg-gray-100 rounded-2xl transition-colors",children:e.jsx(s,{size:18})})]}),e.jsx("div",{className:"p-5 max-h-[75vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),L(!0),l(null);try{const e=localStorage.getItem("token"),t=await fetch(`${Nse}/api/tenders`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(R)}),n=await t.json();if(!t.ok)throw new Error(n.message||"Failed to create tender");{const e=n.tender||n.data||n;r(t=>Array.isArray(t)?[...t,e]:[e]),V("Tender created successfully!","success"),W()}}catch(t){V(t.message||"Failed to create tender","error")}finally{L(!1)}},className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{type:"text",name:"title",value:R.title,onChange:H,required:!0,placeholder:"e.g., Supply of Medical Equipment",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category *"}),e.jsx("input",{type:"text",name:"category",value:R.category,onChange:H,placeholder:"e.g., Medical Supplies",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Requisition *"}),e.jsxs("select",{name:"requisitionId",value:R.requisitionId,onChange:H,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl",children:[e.jsx("option",{value:"",children:"Select requisition"}),M.map(t=>e.jsxs("option",{value:t._id,children:[t.itemName," (",t.budgetCode,")"]},t._id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Scope / Description *"}),e.jsx("textarea",{name:"description",value:R.description,onChange:H,required:!0,rows:3,placeholder:"Provide detailed description of goods/services",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Requirements *"}),e.jsx("input",{type:"text",name:"requirements",value:(R.requirements||[]).join(", "),onChange:H,placeholder:"e.g., License, 5+ yrs exp, ISO Cert",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Technical Specs"}),e.jsx("input",{type:"text",name:"technicalSpecs",value:R.technicalSpecs||"",onChange:H,placeholder:"Key specs",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Budget *"}),e.jsx("input",{type:"number",name:"budget",value:R.budget,onChange:H,required:!0,placeholder:"e.g., 500000",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Terms"}),e.jsx("input",{type:"text",name:"paymentTerms",value:R.paymentTerms||"",onChange:H,placeholder:"e.g., 30% advance",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Deadline *"}),e.jsx("input",{type:"date",name:"deadline",value:R.deadline,onChange:H,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Evaluation Criteria"}),e.jsx("input",{type:"text",name:"evaluationCriteria",value:R.evaluationCriteria||"",onChange:H,placeholder:"e.g., 60% tech / 40% finance",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Urgency *"}),e.jsxs("select",{name:"urgency",value:R.urgency,onChange:H,required:!0,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Location"}),e.jsx("input",{type:"text",name:"location",value:R.location||"",onChange:H,placeholder:"Location",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:W,className:"px-4 py-2 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:O,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium flex items-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Creating..."]}):"Create Tender"})]})]})})]})}),j&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-2xl shadow-2xl border "+("success"===C?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===C?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:N}),e.jsx("button",{onClick:()=>w(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const _se=({children:t,maxWidth:r="1200px"})=>{const n=pe(),s=fe(n.breakpoints.down("md"));return e.jsx(ae,{sx:{width:"100%",maxWidth:s?"100%":r,margin:"0 auto",padding:s?2:3,overflowX:"hidden","& .MuiCard-root, & .MuiPaper-root":{marginBottom:s?2:3},"& .MuiTableContainer-root":{overflowX:"auto",WebkitOverflowScrolling:"touch"},"& .MuiTypography-h4":{fontSize:s?"1.5rem":"2rem"},"& .MuiTypography-h5":{fontSize:s?"1.25rem":"1.5rem"},"& .MuiTypography-h6":{fontSize:s?"1.1rem":"1.25rem"}},children:t})},Pse=[{month:"Jan",revenue:65e3,target:6e4,growth:8},{month:"Feb",revenue:59e3,target:65e3,growth:-5},{month:"Mar",revenue:8e4,target:7e4,growth:12},{month:"Apr",revenue:81e3,target:75e3,growth:10},{month:"May",revenue:56e3,target:8e4,growth:-15},{month:"Jun",revenue:95e3,target:85e3,growth:20},{month:"Jul",revenue:1e5,target:9e4,growth:18}],Dse=[{name:"Product A",value:35,color:"#3f51b5"},{name:"Product B",value:25,color:"#00acc1"},{name:"Product C",value:20,color:"#4caf50"},{name:"Product D",value:15,color:"#ff9800"},{name:"Other",value:5,color:"#9e9e9e"}],Ose=[{region:"North",value:45e3},{region:"South",value:35e3},{region:"East",value:3e4},{region:"West",value:4e4},{region:"Central",value:25e3}];le(de)(({theme:e})=>({width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:"#292929 ",borderRight:`1px solid ${e.palette.divider}`,backgroundImage:"none",boxShadow:"none",color:"#ffffff"}}));const Lse=le(ae)(({theme:e})=>({height:"100vh",display:"flex",flexDirection:"column",backgroundColor:e.palette.background.default,overflow:"hidden",[e.breakpoints.down("md")]:{height:"100%",minHeight:"100vh",overflow:"auto"}}));le("div")(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(2,1.5),...e.mixins.toolbar,backgroundColor:"#292929 ",color:"#ffffff"})),le(oe)(({theme:e})=>({padding:e.spacing(1.5,2,1),color:"rgba(255, 255, 255, 0.7)",fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"})),le(tr)(({theme:e})=>({height:"100%",borderRadius:1.5*e.shape.borderRadius,boxShadow:e.shadows[1],transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]},"& .MuiCardContent-root":{padding:e.spacing(1.5)}})),le(ce)(({theme:e,selected:t})=>({borderRadius:e.shape.borderRadius,margin:e.spacing(.25,1.5),padding:e.spacing(.75,1.5),minHeight:40,"&.Mui-selected":{backgroundColor:ie(e.palette.primary.main,.1),"&:hover":{backgroundColor:ie(e.palette.primary.main,.15)},"& .MuiListItemIcon-root":{color:e.palette.primary.main},"& .MuiListItemText-primary":{fontWeight:600,fontSize:"0.875rem"}},"&:hover":{backgroundColor:e.palette.action.hover},"& .MuiListItemIcon-root":{minWidth:36},"& .MuiListItemText-root":{marginTop:2,marginBottom:2}})),le(vt)(({theme:e})=>({padding:e.spacing(1.5),borderRadius:1.5*e.shape.borderRadius,border:`1px solid ${e.palette.divider}`,transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-1px)",boxShadow:e.shadows[1]}})),le(tr)(({theme:e})=>({borderRadius:2*e.shape.borderRadius,overflow:"hidden",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]}}));const Mse="https://backend.nexusmwi.com";function Ise(){const t=$r(),r=Wr(),n=pe();fe(n.breakpoints.down("md"));const[s,a]=qr.useState(null),[i,o]=qr.useState({requisitions:{counts:{pending:0,approved:0,rejected:0,total:0},pendingRequisitions:[]},rfqs:{counts:{open:0,closed:0,total:0},openRFQs:[]},purchaseOrders:{counts:{pending:0,approved:0,rejected:0,total:0},pendingPOs:[]},invoices:{counts:{pending:0,approved:0,paid:0,total:0},pendingInvoices:[]}}),[l,c]=qr.useState(!0),[d,u]=qr.useState(!1),[m,h]=qr.useState(null),[p,f]=qr.useState(!1),[x,g]=qr.useState(!0),[b]=Vr(),[y,v]=qr.useState(()=>b.get("section")||"dashboard"),j=r.state?.paymentData,{user:w,loading:N}=An(),k=w?{...w,firstName:w.firstName||"",lastName:w.lastName||"",name:w.firstName?`${w.firstName} ${w.lastName||""}`.trim():"Guest User",avatar:w.avatar||null,email:w.email||"",role:w.role||"guest",companyName:w.companyName||"NexusMWI",billing:w.billing||{trialStartDate:null,trialEndDate:null,subscription:{plan:"trial",status:"trialing"}}}:{name:"Guest User",avatar:null,email:"",role:"guest",companyName:"NexusMWI",billing:{trialStartDate:null,trialEndDate:null,subscription:{plan:"trial",status:"trialing"}}},[S,C]=qr.useState([{name:"Procurement Summary",type:"Analytics",created_at:"2 days ago",thumbnail:"graph-bar"},{name:"Vendor Performance",type:"Report",created_at:"1 week ago",thumbnail:"trending-up"},{name:"Inventory Levels",type:"Report",created_at:"3 days ago",thumbnail:"box"},{name:"User Activity",type:"Analytics",created_at:"5 days ago",thumbnail:"users"}]),A=[{name:"Pending Requisitions",value:i.requisitions.counts.pending,category:"Requisitions",status:"pending"},{name:"Approved Requisitions",value:i.requisitions.counts.approved,category:"Requisitions",status:"approved"},{name:"Rejected Requisitions",value:i.requisitions.counts.rejected,category:"Requisitions",status:"rejected"},{name:"Open RFQs",value:i.rfqs.counts.open,category:"RFQs",status:"open"},{name:"Closed RFQs",value:i.rfqs.counts.closed,category:"RFQs",status:"closed"},{name:"Pending POs",value:i.purchaseOrders.counts.pending,category:"Purchase Orders",status:"pending"},{name:"Approved POs",value:i.purchaseOrders.counts.approved,category:"Purchase Orders",status:"approved"},{name:"Rejected POs",value:i.purchaseOrders.counts.rejected,category:"Purchase Orders",status:"rejected"},{name:"Pending Invoices",value:i.invoices.counts.pending,category:"Invoices",status:"pending"},{name:"Approved Invoices",value:i.invoices.counts.approved,category:"Invoices",status:"approved"},{name:"Paid Invoices",value:i.invoices.counts.paid,category:"Invoices",status:"paid"}];i.requisitions.counts.total,i.rfqs.counts.total,i.purchaseOrders.counts.total,i.invoices.counts.total;const T=A.reduce((e,t)=>(e[t.status]||(e[t.status]=0),e[t.status]+=t.value,e),{}),E=Object.entries(T).map(([e,t])=>({name:e.charAt(0).toUpperCase()+e.slice(1),value:t,status:e})),_=e=>{v(e),t(`?section=${e}`,{replace:!0})},[P,D]=qr.useState(0);qr.useEffect(()=>{const e=()=>{D(window.pageYOffset)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),qr.useEffect(()=>{document.querySelectorAll(".report-row").forEach((e,t)=>{setTimeout(()=>{e.classList.add("row-visible")},100*t)})},[S]),qr.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&g(JSON.parse(e))},t=e=>{g(e.detail.open)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",t),e(),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",t)}},[]);return qr.useEffect(()=>{const e=b.get("section");e&&v(e)},[b]),qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),[t,r,n,s]=await Promise.all([fetch(`${Mse}/api/requisitions/stats`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${Mse}/api/rfqs/stats`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${Mse}/api/purchase-orders/stats`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${Mse}/api/invoices/stats`,{headers:{Authorization:`Bearer ${e}`}})]),[a,i,l,c]=await Promise.all([t.json(),r.json(),n.json(),s.json()]),d={requisitions:{counts:{pending:a.data?.counts?.pending||0,approved:a.data?.counts?.approved||0,rejected:a.data?.counts?.rejected||0,total:a.data?.counts?.total||0},pendingRequisitions:a.data?.recentPending||[],urgencyDistribution:a.data?.urgencyDistribution||{high:0,medium:0,low:0}},rfqs:{counts:{open:i.data?.counts?.open||0,closed:i.data?.counts?.closed||0,total:i.data?.counts?.total||0},openRFQs:i.data?.openRFQs||[]},purchaseOrders:{counts:{pending:l.data?.counts?.pending||0,approved:l.data?.counts?.approved||0,rejected:l.data?.counts?.rejected||0,total:l.data?.counts?.total||0},pendingPOs:l.data?.pendingPOs||[]},invoices:{counts:{pending:c.data?.counts?.pending||0,approved:c.data?.counts?.approved||0,paid:c.data?.counts?.paid||0,total:c.data?.counts?.total||0},pendingInvoices:c.data?.pendingInvoices||[]}};o(d)}catch(ide){o({requisitions:{counts:{pending:0,approved:0,rejected:0,total:0},pendingRequisitions:[],urgencyDistribution:{high:0,medium:0,low:0}},rfqs:{counts:{open:0,closed:0,total:0},openRFQs:[]},purchaseOrders:{counts:{pending:0,approved:0,rejected:0,total:0},pendingPOs:[]},invoices:{counts:{pending:0,approved:0,paid:0,total:0},pendingInvoices:[]}})}finally{c(!1)}})()},[]),i&&k?l?e.jsx(rr,{theme:n,children:e.jsx(Lse,{children:e.jsx(ae,{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",sx:{background:"linear-gradient(145deg, #e3ecf6, #ffffff)",px:2},children:e.jsx(Rm.div,{initial:{y:40,opacity:0},animate:{y:0,opacity:1},transition:{duration:.7,ease:[.25,.8,.25,1]},children:e.jsxs(ae,{sx:{p:{xs:4,sm:6},borderRadius:5,background:"rgba(255, 255, 255, 0.65)",backdropFilter:"blur(16px)",boxShadow:"0 12px 32px rgba(0,0,0,0.1)",textAlign:"center",maxWidth:460,mx:"auto"},children:[e.jsx(ae,{sx:{display:"flex",justifyContent:"center"},children:e.jsx(vf,{src:"spinner.lottie",loop:!0,autoplay:!0,style:{width:120,height:120}})}),e.jsx(oe,{variant:"h4",component:"h1",sx:{fontWeight:700,fontSize:{xs:"1.5rem",sm:"1.75rem"},color:"text.primary",mt:3,mb:1},children:"Preparing Your Dashboard"}),e.jsx(oe,{variant:"body1",sx:{fontSize:"1rem",color:"text.secondary",lineHeight:1.8,px:{xs:1,sm:2}},children:"Sit back and relax. We're fetching the latest data and setting things up just for you."})]})})})})}):e.jsxs(ae,{sx:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:n.palette.background.default,[n.breakpoints.down("md")]:{height:"100%",minHeight:"100vh"}},children:[e.jsx(PW,{stats:i,activeSection:y,handleSectionChange:_,onSidebarToggle:g,user:k}),e.jsxs(ae,{component:"main",sx:{flexGrow:1,overflow:"auto",backgroundColor:n.palette.background.default,position:"relative",padding:{xs:"56px 0.5rem 1rem",sm:"56px 1rem 1.5rem",md:"56px 1.5rem 1.5rem"},minHeight:"calc(100vh - 64px)"},children:[e.jsx(MW,{user:k,onMobileMenuToggle:u,scrollPosition:P,handleSectionChange:_,sidebarOpen:x,sidebarWidth:256,collapsedSidebarWidth:70}),e.jsx(ae,{sx:{position:"relative",zIndex:1,mt:{xs:-4,md:-6}},children:"dashboard"===y?e.jsxs(ae,{sx:{maxWidth:"100%",margin:"0 auto",width:"100%"},children:[e.jsx(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:{xs:2,md:2.5},flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0},textAlign:{xs:"center",sm:"left"}},children:e.jsxs(ae,{children:[e.jsx(oe,{variant:"h5",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"black",fontSize:{xs:"1.25rem",sm:"1.5rem"},mb:.5},children:"Dashboard"}),e.jsxs(oe,{variant:"body1",sx:{fontSize:{xs:"0.8rem",sm:"0.875rem"},fontWeight:400,color:"black"},children:["Welcome back ",k.firstName.charAt(0).toUpperCase()+k.firstName.slice(1),", here's what's happening with your procurement activities."]})]})}),e.jsx(ae,{sx:{display:{xs:"none",md:"block"},mb:{md:2}},children:e.jsx(GU,{stats:i})}),e.jsxs(ae,{sx:{display:"grid",gap:{xs:2,md:3},gridTemplateColumns:{xs:"1fr",sm:"1fr",md:"1fr 1fr",lg:"2fr 1fr"},mb:{xs:2,md:4},width:"100%"},children:[e.jsx(UU,{salesData:Pse,revenueBreakdown:Dse,regionalMapData:Ose}),e.jsx(WU,{summaryData:E,colors:{pending:"#FF9F1C",approved:"#2EC4B6",rejected:"#E71D36",open:"#4361EE",closed:"#3A0CA3",paid:"#7209B7"},allData:A,activeIndex:s,onPieEnter:(e,t)=>{a(t)},onPieLeave:()=>{a(null)},stats:i})]}),e.jsx(ae,{sx:{mb:{xs:2,md:4}},children:e.jsx(KU,{})}),e.jsxs("div",{className:"recent-reports",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Recent Reports"}),e.jsxs("div",{className:"section-actions",children:[e.jsxs("button",{className:"btn-outline",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"17 8 12 3 7 8"}),e.jsx("line",{x1:"12",y1:"3",x2:"12",y2:"15"})]}),"Export All"]}),e.jsxs("button",{className:"btn-primary",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),"New Report"]})]})]}),e.jsx("div",{className:"reports-table-container",children:e.jsxs("table",{className:"reports-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Report Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Created"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:S.map((t,r)=>e.jsxs("tr",{className:"report-row",children:[e.jsx("td",{children:e.jsxs("div",{className:"report-info",children:[e.jsxs("div",{className:`report-thumbnail ${t.thumbnail}`,children:["graph-bar"===t.thumbnail&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"10"}),e.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"4"}),e.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"14"})]}),"box"===t.thumbnail&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}),e.jsx("polyline",{points:"3.27 6.96 12 12.01 20.73 6.96"}),e.jsx("line",{x1:"12",y1:"22.08",x2:"12",y2:"12"})]}),"users"===t.thumbnail&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),"trending-up"===t.thumbnail&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("polyline",{points:"23 6 13.5 15.5 8.5 10.5 1 18"}),e.jsx("polyline",{points:"17 6 23 6 23 12"})]})]}),e.jsx("div",{className:"report-name",children:t.name})]})}),e.jsx("td",{children:t.type}),e.jsx("td",{children:t.created_at}),e.jsx("td",{children:e.jsxs("div",{className:"report-actions",children:[e.jsx("button",{className:"action-btn view",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]})}),e.jsx("button",{className:"action-btn download",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),e.jsx("polyline",{points:"7 10 12 15 17 10"}),e.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]})}),e.jsx("button",{className:"action-btn favorite",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"})})}),e.jsx("button",{className:"action-btn more",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"1"}),e.jsx("circle",{cx:"19",cy:"12",r:"1"}),e.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})]})})]},r))})]})}),e.jsxs("div",{className:"pagination",children:[e.jsxs("button",{className:"pagination-btn prev disabled",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"15 18 9 12 15 6"})}),"Previous"]}),e.jsxs("div",{className:"pagination-info",children:["Showing ",e.jsx("span",{children:"1-4"})," of ",e.jsx("span",{children:"4"})]}),e.jsxs("button",{className:"pagination-btn next disabled",children:["Next",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"9 18 15 12 9 6"})})]})]})]}),e.jsx(ae,{sx:{mb:{xs:2,md:4}},children:e.jsx(VU,{})})]}):e.jsxs(ae,{children:["requisitions"===y&&e.jsx(_se,{children:e.jsx(S3,{})}),"reconciliation"===y&&e.jsx(_se,{children:e.jsx(Z8,{})}),"rfqs"===y&&e.jsx(_se,{children:e.jsx(jte,{})}),"purchase-orders"===y&&e.jsx(_se,{children:e.jsx(oee,{})}),"invoices"===y&&e.jsx(_se,{children:e.jsx(Mte,{})}),"fleet-management"===y&&e.jsx(_se,{children:e.jsx(ane,{})}),"travel-requests"===y&&e.jsx(_se,{children:e.jsx(Bte,{})}),"new-requisition"===y&&e.jsx(_se,{children:e.jsx(pte,{})}),"manage-rfq"===y&&e.jsx(_se,{children:e.jsx(S3,{})}),"rfq-details"===y&&e.jsx(_se,{children:e.jsx(jte,{})}),"create-rfq"===y&&e.jsx(_se,{children:e.jsx(fte,{})}),"add-vendor"===y&&e.jsx(_se,{children:e.jsx(wte,{})}),"vendor-rfq"===y&&e.jsx(_se,{children:e.jsx(Cte,{})}),"select-vendor"===y&&e.jsx(_se,{children:e.jsx(Ate,{})}),"vendor-purchase-orders"===y&&e.jsx(_se,{children:e.jsx(_te,{})}),"track-deliveries"===y&&e.jsx(_se,{children:e.jsx(Pte,{})}),"invoice"===y&&e.jsx(_se,{children:e.jsx(Mte,{})}),"invoice-manage"===y&&e.jsx(_se,{children:e.jsx(InvoiceManagementSection,{})}),"payment"===y&&e.jsx(_se,{children:e.jsx(Ite,{invoiceData:j,onBack:()=>{_("invoice-payment")},authContext:{user:k}})}),"supervisor-approval"===y&&e.jsx(_se,{children:e.jsx(Bte,{})}),"final-approval"===y&&e.jsx(_se,{children:e.jsx(Wte,{})}),"finance-processing"===y&&e.jsx(_se,{children:e.jsx(Xte,{})}),"travel"===y&&e.jsx(_se,{children:e.jsx(Zre,{})}),"international-travel"===y&&e.jsx(_se,{children:e.jsx(ene,{})}),"recon-review"===y&&e.jsx(_se,{children:e.jsx(Z8,{})}),"fleet-cordination"===y&&e.jsx(_se,{children:e.jsx(ane,{})}),"vendors"===y&&e.jsx(_se,{children:e.jsx(cne,{})}),"employees"===y&&e.jsx(_se,{children:e.jsx(hne,{})}),"departments"===y&&e.jsx(_se,{children:e.jsx(gne,{})}),"user-profile"===y&&e.jsx(_se,{children:e.jsx(KW,{})}),"pending-registration"===y&&e.jsx(_se,{children:e.jsx(jne,{})}),"employees-details"===y&&e.jsx(_se,{children:e.jsx(wne,{})}),"employees-edit"===y&&e.jsx(_se,{children:e.jsx(kne,{})}),"employee-performance"===y&&e.jsx(_se,{children:e.jsx(Nne,{})}),"budget"===y&&e.jsx(_se,{children:e.jsx(Pne,{})}),"budgeting"===y&&e.jsx(_se,{children:e.jsx(Ine,{})}),"budget-allocation"===y&&e.jsx(_se,{children:e.jsx(Wne,{})}),"invoice-payment"===y&&e.jsx(_se,{children:e.jsx(Yne,{})}),"analytics"===y&&e.jsx(_se,{children:e.jsx(pse,{})}),"reports"===y&&e.jsx(_se,{children:e.jsx(wse,{})}),"tenders"===y&&e.jsx(_se,{children:e.jsx(Ese,{})})]})})]}),e.jsx(Bm,{user:k})]}):e.jsxs(ae,{sx:{display:"flex",height:"100vh",width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",gap:2},children:[e.jsx(Cs,{sx:{fontSize:48,color:"error.main"}}),e.jsx(oe,{variant:"h6",children:"Failed to load dashboard data"}),e.jsx(oe,{variant:"body2",color:"text.secondary",children:"Please try refreshing the page"}),e.jsx(bt,{variant:"contained",onClick:()=>window.location.reload(),children:"Refresh"})]})}function Rse(){const t=Wr(),{state:r}=t,n=r?.rfq,s=$r(),[a,i]=qr.useState(""),[o,l]=qr.useState(""),[c,d]=qr.useState(""),[u,m]=qr.useState(null),[h,p]=qr.useState(!1);return n?"closed"===n.status?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(yt,{severity:"error",children:"This RFQ is closed. You cannot submit a quote."})}):e.jsxs(gt,{children:[e.jsx(bt,{variant:"outlined",startIcon:e.jsx(ys,{}),onClick:()=>s(-1),sx:{mb:2},"aria-label":"Go back",children:"Back"}),e.jsxs(oe,{variant:"h4",gutterBottom:!0,children:["Submit Quote for RFQ: ",n.itemName]}),e.jsx(vt,{sx:{p:3},children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await fetch(`https://backend.nexusmwi.com/api/rfqs/${n.id}/quote`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({price:a,deliveryTime:o,notes:c})}),r=await t.json();t.ok?(p(!0),m(null),setTimeout(()=>s("/vendors/quotes"),2e3)):m(r.message||"Failed to submit quote")}catch(t){m("Failed to submit quote. Please try again.")}},children:[e.jsx(jt,{label:"Price",type:"number",fullWidth:!0,value:a,onChange:e=>i(e.target.value),required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Delivery Time (in days)",type:"number",fullWidth:!0,value:o,onChange:e=>l(e.target.value),required:!0,sx:{mb:2}}),e.jsx(jt,{label:"Notes",multiline:!0,rows:4,fullWidth:!0,value:c,onChange:e=>d(e.target.value),sx:{mb:2}}),u&&e.jsx(yt,{severity:"error",sx:{mb:2},children:u}),h&&e.jsx(yt,{severity:"success",sx:{mb:2},children:"Quote submitted successfully! Redirecting..."}),e.jsx(bt,{type:"submit",variant:"contained",color:"primary",startIcon:e.jsx(Ps,{}),children:"Submit Quote"})]})})]}):e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx(yt,{severity:"warning",children:"RFQ details are missing."})})}const zse="#141b2d",Fse="rgba(145, 158, 171, 0.08)",Bse="rgba(85, 105, 255, 0.16)",qse="#5569ff",$se="rgba(85, 105, 255, 0.24)",Use="#e0e0e0",Wse="rgba(224, 224, 224, 0.6)",Vse="#90a0b7",Hse="#5569ff",Gse="rgba(145, 158, 171, 0.16)",Kse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),e.jsx("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]}),Yse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"9",cy:"7",r:"4"}),e.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),e.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),Xse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("path",{d:"M14 2v6h6"}),e.jsx("path",{d:"m9 15 2 2 4-4"}),e.jsx("path",{d:"M16 13h0"})]}),Jse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("path",{d:"M14 2v6h6"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),Qse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),Zse=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"2",y:"4",width:"20",height:"16",rx:"2"}),e.jsx("path",{d:"M7 15h0M2 9.5h20"}),e.jsx("path",{d:"M12 15h5"}),e.jsx("path",{d:"M9 11h6"})]}),eae=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]}),tae=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"}),e.jsx("path",{d:"m3.3 7 8.7 5 8.7-5"}),e.jsx("path",{d:"M12 22V12"})]}),rae=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),nae=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),sae=le(ce)(({theme:e})=>({color:Use,margin:"2px 12px",padding:"10px 16px",borderRadius:"6px",transition:"all 0.15s ease-in-out","&.Mui-selected":{backgroundColor:Bse,color:qse,"&:hover":{backgroundColor:$se},"& .MuiListItemIcon-root":{color:qse},"& .MuiTypography-root":{fontWeight:500}},"&:hover":{backgroundColor:Fse}})),aae=le(oe)(({theme:e,open:t})=>({color:Wse,fontSize:"0.6875rem",fontWeight:500,textTransform:"uppercase",padding:t?"16px 28px 6px":"16px 0",letterSpacing:"0.6px",textAlign:t?"left":"center",opacity:t?1:0,height:t?"auto":0,marginBottom:t?"4px":0,transition:"opacity 0.2s ease, height 0.2s ease, margin 0.2s ease"})),iae=le(de,{shouldForwardProp:e=>"open"!==e&&"isMobile"!==e})(({theme:e,open:t,isMobile:r})=>({width:t?256:70,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",overflowX:"hidden","& .MuiDrawer-paper":{backgroundColor:zse,borderRight:"none",width:t?256:r?0:70,overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})}})),oae=le(ue)(({theme:e,selected:t})=>({minWidth:0,marginRight:16,justifyContent:"center",color:t?Hse:Vse,transition:"color 0.15s ease, transform 0.2s ease","&:hover":{transform:"scale(1.05)"}})),lae=le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 12px 10px",backgroundColor:"transparent"})),cae=le(ae)(({theme:e,open:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:t?"space-between":"center",transition:"all 0.3s ease"}));le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",backgroundImage:"linear-gradient(135deg, #5569ff 0%, #6b8aff 100%)",boxShadow:"0 2px 10px rgba(85, 105, 255, 0.4)",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}}));const dae=le(me)(({theme:e})=>({color:Wse,"&:hover":{backgroundColor:"transparent"},transition:"all 0.15s ease",padding:0})),uae=le(he)(({theme:e})=>({"& .MuiBadge-badge":{right:-4,top:4,minWidth:18,height:18,fontSize:"0.625rem",fontWeight:600,padding:"0 4px",borderRadius:9,backgroundColor:"#ef4444",color:"white"}})),mae=le("span")(({theme:e})=>({position:"absolute",top:8,right:8,width:8,height:8,borderRadius:"50%",backgroundColor:"#ef4444","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"pulse 2s infinite",backgroundColor:"rgba(239, 68, 68, 0.7)"},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(2)",opacity:0},"100%":{transform:"scale(2.5)",opacity:0}}})),hae=({stats:t=pae,activeSection:r,handleSectionChange:n,onSidebarToggle:s,user:a})=>{const i=pe(),o=$r();Wr();const l=fe(i.breakpoints.down("md")),[c,d]=qr.useState(!l),[u,m]=qr.useState(!1),[h,p]=qr.useState(""),[f,x]=qr.useState(!1);qr.useEffect(()=>{const e=localStorage.getItem("sidebarOpen");if(null!==e&&!l){const t=JSON.parse(e);d(t),s?.(t)}},[l,s]);const g=()=>{if(!f)if(x(!0),l)m(!u),setTimeout(()=>x(!1),300);else{const e=!c;d(e),localStorage.setItem("sidebarOpen",JSON.stringify(e)),s?.(e),window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{open:e}})),setTimeout(()=>x(!1),300)}},b=[{id:"main",label:"Main",items:[{id:"vendor-dash",label:"Dashboard",icon:e.jsx(Kse,{}),badge:null},{id:"registration-management",label:"Registration",icon:e.jsx(Yse,{})},{id:"tenders",label:"Tenders",icon:e.jsx(Xse,{})},{id:"rfq",label:"RFQs",icon:e.jsx(Jse,{}),badge:t.rfqs?.counts?.open||null},{id:"purchase-order",label:"Purchase Orders",icon:e.jsx(Qse,{}),badge:t.purchaseOrders?.counts?.pending||null},{id:"invoices",label:"Invoices",icon:e.jsx(Zse,{}),badge:t.invoices?.counts?.pending||null}]},{id:"reports",label:"Reports",items:[{id:"analytics",label:"Analytics",icon:e.jsx(eae,{}),badge:null},{id:"reports",label:"Reports",icon:e.jsx(tae,{}),badge:null}]}],y=[{id:"settings",label:"Settings",icon:e.jsx(rae,{}),onClick:()=>o("/settings")},{id:"logout",label:"Logout",icon:e.jsx(nae,{}),onClick:()=>{}}],v=(t,s)=>e.jsxs(Ur.Fragment,{children:[s>0&&c&&e.jsx(ge,{sx:{borderColor:Gse,margin:"12px 24px 8px",opacity:.4}}),e.jsx(aae,{open:c,children:t.label}),e.jsx(be,{disablePadding:!0,sx:{mb:1},children:t.items.map(t=>(t=>{const s=r===t.id,a=h===t.id,i=e.jsxs(sae,{selected:s,onClick:()=>n(t.id),onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44,position:"relative",overflow:"hidden","&::after":s?{content:'""',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"3px",height:"50%",backgroundColor:qse,borderRadius:"0 3px 3px 0"}:{}},children:[e.jsx(oae,{selected:s,children:Ur.cloneElement(t.icon,{style:{transform:a&&!s?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsxs(e.Fragment,{children:[e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",fontWeight:s?500:400,color:"inherit",transition:"font-weight 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}}),t.badge&&e.jsx(uae,{badgeContent:t.badge})]}),!c&&t.badge&&e.jsx(mae,{})]},t.id);return c?i:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(zse,.9),color:Use,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(Gse,.5)}`}},arrow:{sx:{color:ie(zse,.9)}}},children:i},t.id)})(t))})]},t.id),j=e.jsxs(e.Fragment,{children:[e.jsx(lae,{children:e.jsx(cae,{open:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1,paddingLeft:"12px"},children:e.jsx("img",{src:"/hrms-logo11.png",alt:"Company Logo",style:{height:"22px",width:"22px",objectFit:"contain",transition:"transform 0.3s ease, opacity 0.3s ease"}})}),e.jsx(dae,{onClick:g,disabled:f,"aria-label":"close drawer",sx:{"& img":{filter:"brightness(0) invert(1)"}},children:e.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})]}):e.jsx(dae,{onClick:g,disabled:f,"aria-label":"open drawer",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:44,borderRadius:"6px",marginBottom:"4px",padding:0,"& img":{filter:"brightness(0) invert(1)"},"&:hover":{backgroundColor:Fse}},children:e.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})})}),e.jsxs(ae,{sx:{overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 64px)","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:ie(Wse,.3),borderRadius:2,"&:hover":{backgroundColor:ie(Wse,.5)}},padding:"10px 0 0",mt:1},children:[b.map((e,t)=>v(e,t)),e.jsxs(ae,{sx:{mt:"auto",mb:2,px:1},children:[c&&e.jsx(ge,{sx:{borderColor:Gse,margin:"12px 24px 16px",opacity:.4}}),e.jsx(be,{disablePadding:!0,children:y.map(t=>{const r=h===t.id,n=e.jsxs(sae,{onClick:t.onClick,onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44},children:[e.jsx(oae,{selected:!1,children:Ur.cloneElement(t.icon,{style:{transform:r?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}})]},t.id);return c?n:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(zse,.9),color:Use,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(Gse,.5)}`}},arrow:{sx:{color:ie(zse,.9)}}},children:n},t.id)})})]})]})]});return e.jsxs(e.Fragment,{children:[l&&e.jsx(me,{color:"inherit","aria-label":"open drawer",onClick:g,edge:"start",disabled:f,sx:{position:"fixed",top:12,left:16,zIndex:1300,backgroundColor:ie(zse,.8),backdropFilter:"blur(8px)",borderRadius:"6px",width:40,height:40,"&:hover":{backgroundColor:ie(zse,.95)}},children:e.jsx(Ts,{})}),l?e.jsx(de,{variant:"temporary",open:u,onClose:g,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:256,backgroundColor:zse,borderRight:"none"}},children:j}):e.jsx(iae,{variant:"permanent",open:c,isMobile:l,children:j})]})},pae={employees:{counts:{pending:0}},vendors:{counts:{open:0}},requisitions:{counts:{pending:0}},rfqs:{counts:{open:0}},purchaseOrders:{counts:{pending:0}},invoices:{counts:{pending:0}}};hae.propTypes={stats:ee.shape({employees:ee.object,vendors:ee.object,requisitions:ee.object,rfqs:ee.object,purchaseOrders:ee.object,invoices:ee.object}),activeSection:ee.string.isRequired,handleSectionChange:ee.func.isRequired,onSidebarToggle:ee.func};const fae=({user:t,notificationCount:r=3,onNotificationClick:i,onHelpClick:o,onAssistantClick:u,onPreferencesClick:m,onProfileClick:h,onSettingsClick:p,onSignOutClick:f,onMobileMenuToggle:g,scrollPosition:b=0,importantDates:y=[],sidebarOpen:j=!0,sidebarWidth:w=256,collapsedSidebarWidth:N=70})=>{const[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[T,E]=qr.useState(!1),[_,P]=qr.useState(new Date),[D,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(new Date),[F,B]=qr.useState(null),[q,$]=qr.useState(!0),U=$r(),[W]=Vr(),[V,G]=qr.useState(()=>W.get("section")||"dashboard");qr.useEffect(()=>{K()},[]);const K=async()=>{try{const e=localStorage.getItem("token");if(!e)return void $(!1);const t=await fetch("https://backend.nexusmwi.com/api/billing/subscription",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();B(e)}}catch(ide){}finally{$(!1)}},Y=(()=>{if(!t||!F)return null;const e=F.subscription,r=F.trial;return e&&["active","trialing"].includes(e.status)&&"trial"!==e.plan?{type:"paid",plan:e.plan,status:e.status}:r&&r.isActive&&r.remainingDays>0?{type:"trial",remainingDays:r.remainingDays,endDate:r.endDate}:!e||"trial"!==e.plan||r&&r.isActive?{type:"free",message:"Free plan"}:{type:"expired",message:"Trial expired"}})();qr.useEffect(()=>{q||"expired"!==Y?.type||window.location.pathname.startsWith("/billing")||U("/billing",{state:{subscriptionExpired:!0,from:window.location.pathname}})},[Y,q,U]);const X=Math.min(b/100,.95),J=Math.min(b/10,20),Q=(y.length>0?y:[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for Q2 IT equipment",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Office supplies contract renewal",location:"Legal Department",priority:"medium"}]).filter(e=>nn(e.date,new Date)&&sn(e.date,an(new Date,7))).sort((e,t)=>e.date-t.date);qr.useEffect(()=>{const e=()=>{A(!1),E(!1),S(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const Z=e=>{switch(e){case"deadline":return"bg-red-100 text-red-700 border-red-200";case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"contract":return"bg-purple-100 text-purple-700 border-purple-200";case"review":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approval":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},ee=t=>{switch(t){case"deadline":return e.jsx(Ae,{size:14});case"meeting":return e.jsx(l,{size:14});case"contract":return e.jsx(c,{size:14});case"review":return e.jsx(d,{size:14});case"approval":return e.jsx(n,{size:14});default:return e.jsx(v,{size:14})}};qr.useEffect(()=>{const e=()=>{S(!1),A(!1),E(!1)},t=()=>{S(!1),A(!1),E(!1)};return window.addEventListener("resize",e),window.addEventListener("sidebarToggle",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarToggle",t)}},[j]);return e.jsxs(e.Fragment,{children:[e.jsxs(Rm.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 z-50 transition-all duration-300",style:{left:window.innerWidth<768?0:j?w:N,width:(()=>{if(window.innerWidth<768)return"100%";return`calc(100% - ${j?w:N}px)`})(),backgroundColor:`rgba(255, 255, 255, ${X})`,backdropFilter:`blur(${J}px)`,borderBottom:X>.1?"1px solid rgba(229, 231, 235, 0.8)":"none"},children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{S(!k),g?.(!k)},className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:k?e.jsx(s,{size:20}):e.jsx(a,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>{e.stopPropagation(),E(!T)},className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-200 border border-blue-200",children:[e.jsx(v,{size:16}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:on(new Date,"MMM d, yyyy")}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(T?"rotate-180":"")})]}),e.jsx(Bl,{children:T&&e.jsxs(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(v,{size:18}),"Calendar"]}),e.jsx("span",{className:"text-sm bg-white/20 px-2 py-1 rounded-full",children:on(new Date,"MMMM yyyy")})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(l,{size:16,className:"text-blue-600"}),"Upcoming Events"]}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:Q.length})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Q.length>0?Q.map((t,r)=>e.jsxs(Rm.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer",onClick:()=>{I(t),L(!0),E(!1)},children:[e.jsx("div",{className:`p-1.5 rounded-lg ${Z(t.type)}`,children:ee(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 text-sm truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:on(t.date,"MMM d")}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-600",children:t.time})]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("high"===t.priority?"bg-red-100 text-red-700":"medium"===t.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:t.priority})]},r)):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(v,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No upcoming events"})]})})]}),e.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Meeting"})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors duration-200",children:"Close"})]})})]})})]}),e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",children:[e.jsx(we,{size:20}),r>0&&e.jsx(Rm.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:r})]})]}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:(()=>{if(q)return e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg animate-pulse",children:e.jsx("div",{className:"w-16 h-4 bg-gray-600 rounded"})});if(!Y)return null;switch(Y.type){case"paid":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-green-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Te,{size:14,className:"text-yellow-400"}),e.jsxs(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:[Y.plan.charAt(0).toUpperCase()+Y.plan.slice(1)," plan"]}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-green-400 group-hover:text-green-300 transition-all duration-200",whileHover:{scale:1.05},children:"Active"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-1"})]});case"trial":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer relative",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free trial"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"}),e.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:[Y.remainingDays," days left"]})]});case"expired":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-red-600/90 backdrop-blur-sm rounded-lg border border-red-700 shadow-lg hover:shadow-xl hover:shadow-red-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(220, 38, 38, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Ce,{size:14,className:"text-white"}),e.jsx(Rm.span,{className:"text-sm font-medium text-white group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Trial expired"}),e.jsx("span",{className:"text-white/50 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-white group-hover:text-white transition-all duration-200",whileHover:{scale:1.05},children:"Renew now"})]});case"free":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free plan"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"})]});default:return null}})()}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:o,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Help Center",children:e.jsx(Ne,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:u,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200",title:"AI Assistant",children:e.jsx(H,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:"Settings",children:e.jsx(x,{size:18})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>{e.stopPropagation(),A(!C)},className:"flex items-center gap-2 p-1 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-sm",children:t?.firstName&&t?.lastName?`${t.firstName.charAt(0).toUpperCase()}${t.lastName.charAt(0).toUpperCase()}`:t?.firstName?t.firstName.charAt(0).toUpperCase():t?.lastName?t.lastName.charAt(0).toUpperCase():"G"}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(C?"rotate-180":"")})]}),e.jsx(Bl,{children:C&&e.jsx(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{var e;h?.(),A(!1),G(e="user-profile"),U(`?section=${e}`,{replace:!0})},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(O,{size:16}),e.jsx("span",{className:"text-sm",children:"Profile"})]}),e.jsxs("button",{onClick:()=>{p?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:16}),e.jsx("span",{className:"text-sm",children:"Settings"})]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:()=>{f?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[e.jsx(ke,{size:16}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})})]})]})]})}),e.jsx(Bl,{children:k&&e.jsx(Rm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"Help Center"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"AI Assistant"})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:18}),e.jsx("span",{children:"Preferences"})]})]})})})]}),e.jsx(Bl,{children:D&&M&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:e.jsxs(Rm.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-6 text-white "+("deadline"===M.type?"bg-gradient-to-r from-red-600 to-red-700":"meeting"===M.type?"bg-gradient-to-r from-blue-600 to-blue-700":"contract"===M.type?"bg-gradient-to-r from-purple-600 to-purple-700":"review"===M.type?"bg-gradient-to-r from-yellow-600 to-yellow-700":"approval"===M.type?"bg-gradient-to-r from-green-600 to-green-700":"bg-gradient-to-r from-gray-600 to-gray-700"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 rounded-full text-xs font-medium mb-2",children:M.type?.toUpperCase()}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:M.title}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[e.jsx(v,{size:16}),e.jsxs("span",{className:"text-sm",children:[on(M.date,"EEEE, MMMM d, yyyy"),M.time&&`  ${M.time}`]})]})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors duration-200",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[M.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Se,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.location})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Description"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.description})]})]}),M.priority&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg "+("high"===M.priority?"bg-red-50 border border-red-200":"medium"===M.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[e.jsx(Ce,{size:16,className:"high"===M.priority?"text-red-600":"medium"===M.priority?"text-yellow-600":"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium "+("high"===M.priority?"text-red-700":"medium"===M.priority?"text-yellow-700":"text-blue-700"),children:"high"===M.priority?"High Priority":"medium"===M.priority?"Medium Priority":"Low Priority"})]})]}),e.jsxs("div",{className:"p-6 pt-0 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Close"}),e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-white rounded-lg transition-all duration-200 "+("deadline"===M.type?"bg-red-600 hover:bg-red-700":"meeting"===M.type?"bg-blue-600 hover:bg-blue-700":"contract"===M.type?"bg-purple-600 hover:bg-purple-700":"review"===M.type?"bg-yellow-600 hover:bg-yellow-700":"approval"===M.type?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:"View Details"})]})]})})})]})},xae=()=>e.jsx("style",{jsx:!0,global:!0,children:"\n    @keyframes pulse {\n      0%, 100% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: scale(1.1);\n        opacity: 0.4;\n      }\n    }\n    \n    @keyframes ripple {\n      0% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      100% {\n        transform: scale(1.3);\n        opacity: 0;\n      }\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .animate-pulse-custom {\n      animation: pulse 2s infinite;\n    }\n\n    .animate-ripple {\n      animation: ripple 3s infinite;\n    }\n\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n\n    /* Custom scrollbar for dropdown menus */\n    .custom-scrollbar::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-track {\n      background: #f1f5f9;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb {\n      background: #cbd5e1;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: #94a3b8;\n    }\n\n    /* Smooth transitions for all interactive elements */\n    .transition-smooth {\n      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    /* Backdrop blur support */\n    .backdrop-blur-custom {\n      backdrop-filter: blur(12px) saturate(180%);\n      -webkit-backdrop-filter: blur(12px) saturate(180%);\n    }\n\n    /* Focus styles for accessibility */\n    .focus-ring:focus {\n      outline: 2px solid #3b82f6;\n      outline-offset: 2px;\n    }\n\n    /* Hover effects for buttons */\n    .btn-hover:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n\n    /* Loading spinner animation */\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    .animate-spin-slow {\n      animation: spin 3s linear infinite;\n    }\n\n    /* Gradient animations */\n    @keyframes gradient-shift {\n      0%, 100% {\n        background-position: 0% 50%;\n      }\n      50% {\n        background-position: 100% 50%;\n      }\n    }\n\n    .gradient-animate {\n      background-size: 200% 200%;\n      animation: gradient-shift 6s ease infinite;\n    }\n\n    /* Text shimmer effect */\n    @keyframes shimmer {\n      0% {\n        background-position: -200px 0;\n      }\n      100% {\n        background-position: calc(200px + 100%) 0;\n      }\n    }\n\n    .text-shimmer {\n      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 37%, #f0f0f0 63%);\n      background-size: 400px 100%;\n      animation: shimmer 1.4s ease-in-out infinite;\n    }\n\n    /* Dark mode support */\n    @media (prefers-color-scheme: dark) {\n      .dark-mode-bg {\n        background-color: #1f2937;\n        color: #f9fafb;\n      }\n      \n      .dark-mode-border {\n        border-color: #374151;\n      }\n      \n      .dark-mode-text {\n        color: #d1d5db;\n      }\n    }\n\n    /* Mobile-specific styles */\n    @media (max-width: 768px) {\n      .mobile-optimized {\n        padding: 0.75rem;\n      }\n      \n      .mobile-text {\n        font-size: 0.875rem;\n      }\n      \n      .mobile-button {\n        min-height: 44px;\n        min-width: 44px;\n      }\n    }\n\n    /* High contrast mode support */\n    @media (prefers-contrast: high) {\n      .high-contrast {\n        border: 2px solid currentColor;\n      }\n      \n      .high-contrast-text {\n        font-weight: 600;\n      }\n    }\n\n    /* Reduced motion support */\n    @media (prefers-reduced-motion: reduce) {\n      * {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n      }\n    }\n\n    /* Print styles */\n    @media print {\n      .no-print {\n        display: none !important;\n      }\n      \n      .print-friendly {\n        background: white !important;\n        color: black !important;\n        box-shadow: none !important;\n      }\n    }\n  "}),gae=({user:t,onMobileMenuToggle:r,scrollPosition:n,sidebarOpen:s=!0,sidebarWidth:a=256,collapsedSidebarWidth:i=70})=>{const o=[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for the Q2 IT equipment procurement",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals and make selections",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Annual renewal of office supplies contract with OfficeMax",location:"Legal Department",priority:"medium"},{date:new Date(2025,4,24),title:"Quarterly Review",type:"review",description:"Financial review of procurement spending for Q1",location:"Executive Boardroom",time:"2:00 PM",priority:"high"},{date:new Date(2025,4,28),title:"Budget Approval",type:"approval",description:"Final approval for Q3 procurement budget",location:"Finance Department",priority:"high"},{date:new Date(2025,4,14),title:"Vendor Evaluation",type:"meeting",description:"Evaluate new potential suppliers for hardware components",location:"Meeting Room B",time:"11:30 AM",priority:"medium"},{date:new Date(2025,4,18),title:"Contract Draft Review",type:"contract",description:"Legal team review of new vendor contracts",location:"Legal Office",time:"9:00 AM",priority:"medium"},{date:new Date(2025,4,22),title:"Procurement Training",type:"meeting",description:"New system training for procurement team",location:"Training Center",time:"1:00 PM",priority:"low"}],[l,c]=qr.useState(o),d=$r(),[u]=Vr(),[m,h]=qr.useState(()=>u.get("section")||"dashboard"),[p,f]=qr.useState(3);return qr.useEffect(()=>{(async()=>{})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(xae,{}),e.jsx(fae,{user:t,notificationCount:p,onNotificationClick:()=>{},onHelpClick:()=>{},onAssistantClick:()=>{},onPreferencesClick:()=>{},onProfileClick:()=>{return h(e="user-profile"),void d(`?section=${e}`,{replace:!0});var e},onSettingsClick:()=>{},onSignOutClick:()=>{},onMobileMenuToggle:r,scrollPosition:n,importantDates:l,sidebarOpen:s,sidebarWidth:a,collapsedSidebarWidth:i})]})},bae=(e,t="MMM d, yyyy")=>!e||isNaN(new Date(e).getTime())?"N/A":on(new Date(e),t),yae=({status:t,type:r="trip"})=>e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${((e,t)=>{if("trip"===t)switch(e){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"reconciled":return"bg-purple-100 text-purple-800";case"upcoming":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}else switch(e){case"recorded":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t,r)}`,children:t}),vae=({trip:t,isSelected:r,onClick:n})=>e.jsxs("div",{className:"bg-white rounded-2xl border p-2 cursor-pointer transition-all hover:shadow-sm "+(r?"border-blue-500 shadow-sm":"border-gray-200"),onClick:n,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{children:e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:t.purpose})}),e.jsx(yae,{status:t.status})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[e.jsx(De,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[t.city,", ",t.country]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(v,{className:"w-3 h-3 text-gray-400"}),e.jsxs("span",{className:"text-xs text-gray-600",children:[on(t.departureDate,"MMM d")," - ",on(t.returnDate,"MMM d, yyyy")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"bg-blue-100 text-blue-800 px-1.5 py-0.5 rounded-full text-xs font-medium",children:new Intl.NumberFormat("en-US",{style:"currency",currency:t.currency||"USD"}).format(t.perDiemAmount)}),e.jsx("div",{className:"p-0.5 bg-blue-50 rounded",children:e.jsx(N,{className:"w-3 h-3 text-blue-600"})})]}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.expenses.length," expenses"]})]})]}),jae=({isOpen:t,onClose:r,title:n,children:a,size:i="md"})=>{if(!t)return null;return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:`bg-white rounded-xl shadow-xl ${{sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"}[i]} w-full max-h-[90vh] overflow-hidden`,children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:n}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1 rounded-xl hover:bg-gray-100",children:e.jsx(s,{size:18})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-4rem)]",children:a})]})})},wae=({size:t="md"})=>e.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"}[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`}),Nae=({type:t="info",title:r,children:a,onClose:i})=>{const o={info:Je,success:n,warning:Ce,error:T}[t];return e.jsx("div",{className:`p-3 rounded-2xl border ${{info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"}[t]}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{className:`w-4 h-4 mt-0.5 ${{info:"text-blue-500",success:"text-green-500",warning:"text-yellow-500",error:"text-red-500"}[t]}`}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("h4",{className:"font-medium mb-1 text-sm",children:r}),e.jsx("div",{className:"text-sm",children:a})]}),i&&e.jsx("button",{onClick:i,className:"text-gray-400 hover:text-gray-600 p-1 rounded-xl hover:bg-gray-100",children:e.jsx(s,{size:14})})]})})};function kae(){$r();const r=qr.useRef(null),{user:a}=An(),[i,o]=qr.useState("active"),[l,d]=qr.useState({expenses:[]}),[u,m]=qr.useState(""),[h,p]=qr.useState("all"),[f,x]=qr.useState(!1),[g,b]=qr.useState(!1),[y,j]=qr.useState(!1),[w,k]=qr.useState(!1),[S,C]=qr.useState(!1),[A,E]=qr.useState(1),[_,P]=qr.useState(!1),[D,O]=qr.useState(""),[L,M]=qr.useState("success"),[I,R]=qr.useState(!1),[z,F]=qr.useState(null),[B,q]=qr.useState(null),[$,U]=qr.useState(!0),[W,V]=qr.useState([]),[H,G]=qr.useState(null),[K,Y]=qr.useState(!1),X="https://backend.nexusmwi.com",[J,Q]=qr.useState({category:"",description:"",amount:"",currency:"",date:on(new Date,"yyyy-MM-dd"),paymentMethod:"card",receipt:null,notes:""}),[Z,ee]=qr.useState({tripReport:"",totalSpent:0,remainingBalance:0,expenses:[],receipts:[],additionalNotes:"",returnDate:on(new Date,"yyyy-MM-dd"),status:"draft"}),te=W.filter(e=>{const t=e.employeeName?.toLowerCase().includes(u.toLowerCase())||e.id?.toLowerCase().includes(u.toLowerCase())||e.country?.toLowerCase().includes(u.toLowerCase())||e.city?.toLowerCase().includes(u.toLowerCase()),r="all"===h||e.status===h;return t&&r});qr.useEffect(()=>{if(!l&&te.length>0&&(d(te[0]),"completed"===te[0].status)){const e=te[0].expenses.reduce((e,t)=>e+(t.amount||0),0),t=te[0].perDiemAmount-e;ee({tripReport:"",totalSpent:e,remainingBalance:t,expenses:[...te[0].expenses],receipts:te[0].expenses.map(e=>e.receipt),additionalNotes:"",returnDate:on(te[0].returnDate,"yyyy-MM-dd"),status:"draft"})}},[te,l]);const re=(e,t)=>new Intl.NumberFormat("en-US",{style:"currency",currency:t||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(e||0),ne=(e=[])=>(e||[]).reduce((e,t)=>e+(t?.amount||0),0);qr.useEffect(()=>{(async()=>{U(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${X}/api/travel-requests/finance/processed`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch completed travel requests");const r=await t.json(),n=r.map(e=>{const t=new Date,r=e.departureDate?new Date(e.departureDate):new Date,n=e.returnDate?new Date(e.returnDate):new Date(r.getTime()+864e5),s=new Date(r);s.setHours(9,0,0),new Date(s).setHours(s.getHours()+2);const a=new Date(n);a.setHours(16,0,0),new Date(a).setHours(a.getHours()+2);const i=n<t,o=t>=r&&t<=n;e.financeStatus;const l=e.reconciled||!1;let c;c=l?"reconciled":i?"completed":o?"active":"upcoming";const d=e.payment?.expenses?.reduce((e,t)=>e+(t.amount||0),0)||0,u=e.payment?.perDiemAmount||("MWK"===e.currency?1e5:1e3);return{id:e._id,employeeName:e.employee?.name||"Unknown Employee",employeeId:e.employee._id,department:e.employee?.department||"Unknown Department",purpose:e.purpose,country:"international"===e.travelType?"International":e.location||"Local",city:e.location||"Local",departureDate:r,returnDate:n,status:c,reconciled:l,perDiemAmount:u,currency:e.currency||"USD",cardDetails:{lastFour:e.payment?.card?.lastFour||"0000",type:e.payment?.card?.type||"VISA",holder:e.employee?.name||"Unknown"},expenses:e.payment?.expenses?.map(t=>({id:t._id,category:t.category||"Miscellaneous",description:t.description||"No description",amount:t.amount||0,currency:e.currency||"USD",date:new Date(t.date||e.departureDate),paymentMethod:"card",receipt:null,status:"recorded"}))||[],travelArrangements:{flight:{outbound:{airline:e.flight?.outbound?.airline||"Unknown",flightNumber:e.flight?.outbound?.flightNumber||"N/A",departureTime:new Date(e.departureDate),arrivalTime:new Date(e.departureDate),from:"Unknown",to:e.location||"Destination"},return:{airline:e.flight?.return?.airline||"Unknown",flightNumber:e.flight?.return?.flightNumber||"N/A",departureTime:new Date(e.returnDate),arrivalTime:new Date(e.returnDate),from:e.location||"Destination",to:"Unknown"}},accommodation:{name:"Unknown",address:"Not specified",checkIn:e.departureDate,checkOut:e.returnDate,confirmationNumber:"N/A"},transportation:{type:"Other",details:e.meansOfTravel||"N/A",provider:"Unknown",confirmationNumber:"N/A"}},emergencyContacts:[{name:"Company HR",phone:"+1234567890",email:"hr@company.com"},{name:"Local Emergency",phone:"+112",email:"emergency@local.com"}],reconciliation:l?{submittedDate:new Date(e.payment?.processedAt||e.updatedAt),approvedDate:l?new Date(e.updatedAt):null,approvedBy:e.finalApprover,totalSpent:d,remainingBalance:u-d,status:l?"approved":"pending",notes:l?"Reconciled automatically":""}:null}});V(n)}catch(ide){O("Failed to fetch completed travel requests"),M("error"),P(!0),setTimeout(()=>{P(!1)},3e3)}finally{U(!1)}})()},[]);const se=te.filter(e=>"reconciled"===i?e.reconciled:e.status===i);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Travel Execution & Reconciliation"})})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-1.5 border border-gray-200 rounded-2xl text-xs font-medium text-gray-700 bg-white",children:[e.jsx("option",{value:"all",children:"All Trips"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"upcoming",children:"Upcoming"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsx("div",{className:"p-3 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-2.5 top-1/2 transform -translate-y-1/2 text-gray-400 w-3 h-3"}),e.jsx("input",{type:"text",placeholder:"Search trips...",value:u,onChange:e=>m(e.target.value),className:"w-full pl-8 pr-3 py-1.5 border border-gray-200 rounded-2xl text-xs focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})}),e.jsx("div",{className:"border-b border-gray-100",children:e.jsx("nav",{className:"flex",children:[{id:"upcoming",label:"Upcoming",count:te.filter(e=>"upcoming"===e.status).length},{id:"active",label:"Active",count:te.filter(e=>"active"===e.status).length},{id:"completed",label:"Completed",count:te.filter(e=>"completed"===e.status).length}].map(t=>e.jsxs("button",{onClick:()=>o(t.id),className:"flex-1 px-2 py-2 text-xs font-medium border-b-2 "+(i===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[t.label,t.count>0&&e.jsx("span",{className:"ml-1 px-1 py-0.5 text-xs rounded-full "+(i===t.id?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600"),children:t.count})]},t.id))})}),e.jsx("div",{className:"p-3 space-y-2 max-h-80 overflow-y-auto",children:$?e.jsx("div",{className:"flex justify-center py-6",children:e.jsx(wae,{size:"lg"})}):0===se.length?e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(Ft,{className:"w-6 h-6 mx-auto mb-2 text-gray-300"}),e.jsxs("p",{className:"text-xs",children:["No ",i," trips found"]})]}):se.map(t=>e.jsx(vae,{trip:t,isSelected:l?.id===t.id,onClick:()=>(e=>{if(d({...e,expenses:e.expenses||[]}),x(!1),b(!1),E(1),"completed"===e.status){const t=e.expenses.reduce((e,t)=>e+(t.amount||0),0),r=e.perDiemAmount-t;ee({tripReport:"",totalSpent:t,remainingBalance:r,expenses:[...e.expenses],receipts:e.expenses.map(e=>e.receipt),additionalNotes:"",returnDate:e.returnDate?on(new Date(e.returnDate),"yyyy-MM-dd"):on(new Date,"yyyy-MM-dd"),status:"draft"})}Q({category:"",description:"",amount:"",currency:e?e.currency:"",date:on(new Date,"yyyy-MM-dd"),paymentMethod:"card",receipt:null,notes:""})})(t)},t.id))})]})}),e.jsx("div",{className:"lg:col-span-2",children:l&&l.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("div",{children:e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:l.purpose})})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(yae,{status:l.status}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-xl hover:bg-gray-100",children:e.jsx(He,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Destination"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Se,{className:"w-3 h-3 text-blue-600"}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[l.city,", ",l.country]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Travel Period"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(v,{className:"w-3 h-3 text-blue-600"}),e.jsxs("span",{className:"text-gray-900 text-sm",children:[bae(l.departureDate,"MMM d")," -"," ",bae(l.returnDate,"MMM d, yyyy")]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Per Diem Allowance"}),e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(Wt,{className:"w-3 h-3 text-blue-600"}),e.jsx("span",{className:"text-base font-semibold text-gray-900",children:re(l.perDiemAmount,l.currency)})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Spent:"," ",re(ne(l?.expenses||[]),l.currency)]}),e.jsxs("span",{className:"text-gray-500",children:["Remaining:"," ",re(((e=0,t=[])=>e-ne(t))(l.perDiemAmount,l?.expenses||[]),l.currency)]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-blue-600 h-1.5 rounded-full",style:{width:`${Math.min(ne(l?.expenses||[])/l.perDiemAmount*100,100)}%`}})})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Payment Card"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"p-1.5 bg-blue-100 rounded-xl",children:e.jsx(N,{className:"w-3 h-3 text-blue-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 text-sm",children:[l.cardDetails?.type??"Unknown"," ****"," ",l.cardDetails?.lastFour??"0000"]}),e.jsx("p",{className:"text-xs text-gray-500",children:l.cardDetails?.holder??"Unknown"})]})]})]}),"reconciled"===l.status&&l.reconciliation&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-gray-500 mb-1",children:"Reconciliation Status"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-green-50 rounded-xl",children:[e.jsx("div",{className:"p-1.5 bg-green-100 rounded-xl",children:e.jsx(n,{className:"w-3 h-3 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"approved"===l.reconciliation.status?"Approved":"Pending Approval"}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Submitted on ",on(l.reconciliation.submittedDate,"MMMM d, yyyy")]})]})]})]})]})]}),e.jsxs("div",{className:"mt-4",children:["active"===l.status&&e.jsx(Nae,{type:"success",title:"Active Trip",children:"Your trip is currently active. You can record expenses as they occur and view your travel arrangements."}),"completed"===l.status&&e.jsx(Nae,{type:"warning",title:"Trip Completed",children:"Your trip is complete. Please reconcile your expenses and submit your trip report."}),"reconciled"===l.status&&e.jsxs(Nae,{type:"info",title:"Trip Reconciled",children:["This trip has been reconciled and"," ","approved"===l.reconciliation.status?"approved":"is pending approval",".",l.reconciliation.remainingBalance>0&&` A remaining balance of ${re(l.reconciliation.remainingBalance,l.currency)} will be returned to the company.`]}),"upcoming"===l.status&&e.jsxs(Nae,{type:"info",title:"Upcoming Trip",children:["Your trip is scheduled for ",on(l.departureDate,"MMMM d, yyyy"),". You'll be able to record expenses once the trip begins."]})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-gray-100",children:["active"===l.status&&e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 transition-colors text-xs",children:[e.jsx(Le,{size:14}),"Record Expense"]}),"completed"===l.status&&e.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-orange-600 text-white rounded-2xl font-medium hover:bg-orange-700 transition-colors text-xs",children:[e.jsx(Xe,{size:14}),"Start Reconciliation"]}),"reconciled"===l.status&&e.jsxs("button",{onClick:()=>(e=>{try{const t=new a9;t.setFontSize(18),t.setTextColor(40,40,40),t.text("Travel Reconciliation Report",15,20),t.setFontSize(12),t.text(`Trip ID: ${e.id}`,15,30),t.text(`Status: ${e.status.charAt(0).toUpperCase()+e.status.slice(1)}`,15,40),t.setFontSize(14),t.text("Employee Information",15,55),t.setFontSize(12),t.text(`Name: ${e.employeeName}`,15,65),t.text(`Department: ${e.department}`,15,75),t.setFontSize(14),t.text("Trip Details",15,90),t.setFontSize(12),t.text(`Purpose: ${e.purpose}`,15,100),t.text(`Destination: ${e.city}, ${e.country}`,15,110),t.text(`Travel Period: ${K8(e.departureDate)} - ${K8(e.returnDate)}`,15,120),t.setFontSize(14),t.text("Financial Summary",15,135);const r=e.expenses.reduce((e,t)=>e+(t.amount||0),0),n=e.perDiemAmount-r;if(V8(t,{startY:145,head:[["Item","Amount"]],body:[["Per Diem Allowance",Y8(e.perDiemAmount,e.currency)],["Total Expenses",Y8(r,e.currency)],["Remaining Balance",Y8(n,e.currency)]],theme:"grid",headStyles:{fillColor:[33,150,243]},styles:{cellPadding:5}}),t.setFontSize(14),t.text("Payment Card",15,t.lastAutoTable.finalY+20),t.setFontSize(12),t.text(`Card Type: ${e.cardDetails?.type||"N/A"}`,15,t.lastAutoTable.finalY+30),t.text(`Card Number: **** ${e.cardDetails?.lastFour||"0000"}`,15,t.lastAutoTable.finalY+40),t.text(`Card Holder: ${e.cardDetails?.holder||"N/A"}`,15,t.lastAutoTable.finalY+50),e.expenses&&e.expenses.length>0){t.setFontSize(14),t.text("Expense Details",15,t.lastAutoTable.finalY+70);const r=e.expenses.map(t=>[K8(t.date),t.category,t.description,Y8(t.amount,e.currency),t.receipt?"Yes":"No"]);V8(t,{startY:t.lastAutoTable.finalY+80,head:[["Date","Category","Description","Amount","Receipt"]],body:r,theme:"grid",headStyles:{fillColor:[33,150,243]},styles:{cellPadding:3,fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:60},3:{cellWidth:25},4:{cellWidth:20}}})}if(t.setFontSize(14),t.text("Travel Arrangements",15,t.lastAutoTable.finalY+20),t.setFontSize(12),t.text(`Outbound Flight: ${e.travelArrangements?.flight?.outbound?.airline||"N/A"} ${e.travelArrangements?.flight?.outbound?.flightNumber||""}`,15,t.lastAutoTable.finalY+30),t.text(`Departure: ${X8(e.travelArrangements?.flight?.outbound?.departureTime)}`,15,t.lastAutoTable.finalY+40),t.text(`Return Flight: ${e.travelArrangements?.flight?.return?.airline||"N/A"} ${e.travelArrangements?.flight?.return?.flightNumber||""}`,15,t.lastAutoTable.finalY+50),t.text(`Departure: ${X8(e.travelArrangements?.flight?.return?.departureTime)}`,15,t.lastAutoTable.finalY+60),t.setFontSize(14),t.text("Accommodation",15,t.lastAutoTable.finalY+80),t.setFontSize(12),t.text(`${e.travelArrangements?.accommodation?.name||"N/A"}`,15,t.lastAutoTable.finalY+90),t.text(`Check-in: ${K8(e.travelArrangements?.accommodation?.checkIn)}`,15,t.lastAutoTable.finalY+100),t.text(`Check-out: ${K8(e.travelArrangements?.accommodation?.checkOut)}`,15,t.lastAutoTable.finalY+110),e.reconciliation&&(t.setFontSize(14),t.text("Reconciliation Details",15,t.lastAutoTable.finalY+130),t.setFontSize(12),t.text(`Status: ${e.reconciliation.status.charAt(0).toUpperCase()+e.reconciliation.status.slice(1)}`,15,t.lastAutoTable.finalY+140),t.text(`Submitted: ${X8(e.reconciliation.submittedDate)}`,15,t.lastAutoTable.finalY+150),e.reconciliation.approvedDate&&t.text(`Approved: ${X8(e.reconciliation.approvedDate)}`,15,t.lastAutoTable.finalY+160),e.reconciliation.notes)){const r=t.splitTextToSize(e.reconciliation.notes,180);t.text("Notes:",15,t.lastAutoTable.finalY+170),t.text(r,20,t.lastAutoTable.finalY+180)}t.setFontSize(10),t.setTextColor(150),t.text(`Generated by SoftEra Travel System - ${X8(new Date)}`,15,t.internal.pageSize.height-10),t.save(`Travel_Reconciliation_${e.id}.pdf`)}catch(ide){throw ide}})(l),className:"flex items-center gap-1.5 px-3 py-1.5 bg-green-600 text-white rounded-2xl font-medium hover:bg-green-700 transition-colors text-xs",children:[e.jsx(Ie,{size:14}),"Download Report"]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsx("div",{className:"p-3 border-b border-gray-100"}),e.jsxs("div",{className:"p-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Flight Information"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"font-medium text-sm",children:l.travelArrangements?.flight?.outbound?.airline??"N/A"})}),e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:l.travelArrangements?.flight?.outbound?.flightNumber??"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.travelArrangements?.flight?.outbound?.from??"N/A"}),e.jsx("p",{className:"text-gray-500",children:bae(l.travelArrangements?.flight?.outbound?.departureTime,"MMM d, h:mm a")})]}),e.jsx(t,{className:"text-gray-400",size:14}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:l.travelArrangements?.flight?.outbound?.to??"N/A"}),e.jsx("p",{className:"text-gray-500",children:bae(l.travelArrangements?.flight?.outbound?.arrivalTime,"MMM d, h:mm a")})]})]})]}),e.jsxs("div",{className:"p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsx("span",{className:"font-medium text-sm",children:l.travelArrangements?.flight?.return?.airline??"N/A"})}),e.jsx("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:l.travelArrangements?.flight?.return?.flightNumber??"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:l.travelArrangements?.flight?.return?.from??"N/A"}),e.jsx("p",{className:"text-gray-500",children:bae(l.travelArrangements?.flight?.return?.departureTime,"MMM d, h:mm a")})]}),e.jsx(t,{className:"text-gray-400",size:14}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-medium",children:l.travelArrangements?.flight?.return?.to??"N/A"}),e.jsx("p",{className:"text-gray-500",children:bae(l.travelArrangements?.flight?.return?.arrivalTime,"MMM d, h:mm a")})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm",children:"Accommodation"}),e.jsxs("div",{className:"p-2 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"p-1 bg-orange-100 rounded",children:e.jsx(nr,{className:"w-3 h-3 text-orange-600"})}),e.jsx("span",{className:"font-medium text-sm",children:l.travelArrangements?.accommodation?.name??"N/A"})]}),e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-200 text-gray-700 text-xs rounded",children:["Confirmation #",l.travelArrangements?.accommodation?.confirmationNumber??"N/A"]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-1.5",children:l.travelArrangements?.accommodation?.address??"N/A"}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Check-in"}),e.jsx("p",{className:"font-medium",children:l.travelArrangements?.accommodation?.checkIn??"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-gray-500",children:"Check-out"}),e.jsx("p",{className:"font-medium",children:l.travelArrangements?.accommodation?.checkOut??"N/A"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsxs("div",{className:"p-3 border-b border-gray-100 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Xe,{className:"w-4 h-4 text-blue-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Expenses"})]}),"active"===l.status&&e.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1.5 px-2 py-1 bg-blue-600 text-white rounded-2xl text-xs font-medium hover:bg-blue-700",children:[e.jsx(Le,{size:12}),"Add Expense"]})]}),0===l?.expenses?.length?e.jsxs("div",{className:"p-6 text-center text-gray-500",children:[e.jsx(Xe,{className:"w-6 h-6 mx-auto mb-2 text-gray-300"}),e.jsx("p",{className:"text-xs",children:"No expenses recorded yet"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-right py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-100",children:[l?.expenses?.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:on(t.date,"MMM d, yyyy")}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:t.category}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900",children:t.description}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right font-medium",children:re(t.amount,l.currency)}),e.jsx("td",{className:"py-2 px-3",children:e.jsx(yae,{status:t.status,type:"expense"})})]},t.id)),e.jsxs("tr",{className:"bg-gray-50 font-medium",children:[e.jsx("td",{colSpan:3,className:"py-2 px-3 text-xs text-gray-900 text-right",children:"Total"}),e.jsx("td",{className:"py-2 px-3 text-xs text-gray-900 text-right",children:re(ne(l?.expenses||[]),l.currency)}),e.jsx("td",{className:"py-2 px-3"})]})]})]})})]})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center",children:[e.jsx(Ft,{className:"w-8 h-8 mx-auto mb-3 text-gray-300"}),e.jsx("h3",{className:"text-base font-medium text-gray-900 mb-1",children:"No Trip Selected"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Select a trip from the list to view details"})]})})]}),e.jsx(jae,{isOpen:f,onClose:()=>x(!1),title:"Record Expense",size:"lg",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{value:J.category,onChange:e=>Q({...J,category:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select category"}),e.jsx("option",{value:"Meals",children:"Meals"}),e.jsx("option",{value:"Transportation",children:"Transportation"}),e.jsx("option",{value:"Accommodation",children:"Accommodation"}),e.jsx("option",{value:"Entertainment",children:"Entertainment"}),e.jsx("option",{value:"Business Services",children:"Business Services"}),e.jsx("option",{value:"Miscellaneous",children:"Miscellaneous"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("input",{type:"text",placeholder:"Brief description of the expense",value:J.description,onChange:e=>Q({...J,description:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:J.date,onChange:e=>Q({...J,date:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:l.currency}),e.jsx("input",{type:"number",placeholder:"0.00",value:J.amount,onChange:e=>Q({...J,amount:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("div",{className:"p-2 border-2 rounded-2xl cursor-pointer transition-colors "+("card"===J.paymentMethod?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>Q({...J,paymentMethod:"card"}),children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("input",{type:"radio",checked:"card"===J.paymentMethod,onChange:()=>Q({...J,paymentMethod:"card"}),className:"text-blue-600"}),e.jsx("span",{className:"text-xs font-medium",children:"Company Card"})]})}),e.jsx("div",{className:"p-2 border-2 rounded-2xl cursor-pointer transition-colors "+("cash"===J.paymentMethod?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>Q({...J,paymentMethod:"cash"}),children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("input",{type:"radio",checked:"cash"===J.paymentMethod,onChange:()=>Q({...J,paymentMethod:"cash"}),className:"text-blue-600"}),e.jsx("span",{className:"text-xs font-medium",children:"Cash"})]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Receipt"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",ref:r,onChange:e=>{const t=e.target.files[0];t&&(C(!0),setTimeout(()=>{Q({...J,receipt:t.name}),C(!1)},1e3))},className:"hidden"}),e.jsx("button",{type:"button",onClick:()=>r.current?.click(),disabled:S,className:"flex-1 flex items-center justify-center gap-1.5 px-3 py-2 border border-gray-200 rounded-2xl hover:bg-gray-50 disabled:opacity-50 text-xs",children:S?e.jsxs(e.Fragment,{children:[e.jsx(wae,{size:"sm"}),"Uploading..."]}):J.receipt?e.jsxs(e.Fragment,{children:[e.jsx(c,{size:14}),J.receipt]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{size:14}),"Upload Receipt"]})}),J.receipt&&e.jsx("button",{type:"button",onClick:()=>Q({...J,receipt:null}),className:"p-1.5 text-gray-400 hover:text-gray-600 rounded-xl hover:bg-gray-100",children:e.jsx(s,{size:14})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Upload a photo or scan of your receipt (JPG, PNG, or PDF)"})]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Notes"}),e.jsx("textarea",{placeholder:"Any additional notes about this expense",value:J.notes,onChange:e=>Q({...J,notes:e.target.value}),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex justify-end gap-2 mt-4 pt-3 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"px-3 py-1.5 text-gray-700 border border-gray-200 rounded-2xl hover:bg-gray-50 text-xs font-medium",children:"Cancel"}),e.jsx("button",{type:"button",onClick:async()=>{k(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${X}/api/travel-requests/${l.id}/expenses`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({category:J.category,amount:J.amount,description:J.description})});if(!t.ok)throw new Error("Failed to save expense");const r=await t.json(),n={id:r.payment.expenses[r.payment.expenses.length-1]._id,category:J.category,description:J.description,amount:Number.parseFloat(J.amount),currency:l.currency,date:new Date(J.date),paymentMethod:J.paymentMethod,receipt:J.receipt,status:"recorded"};d(e=>({...e,expenses:[...e.expenses,n]})),V(e=>e.map(e=>e.id===l.id?{...e,expenses:[...e.expenses,n]}:e)),O("Expense added successfully"),M("success"),P(!0),setTimeout(()=>{P(!1)},3e3),x(!1),Q({category:"",description:"",amount:"",currency:l.currency,date:on(new Date,"yyyy-MM-dd"),paymentMethod:"card",receipt:null,notes:""})}catch(ide){O("Failed to save expense"),M("error"),P(!0),setTimeout(()=>{P(!1)},3e3)}finally{k(!1)}},disabled:w||!J.category||!J.description||!J.amount,className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-600 text-white rounded-2xl font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:w?e.jsxs(e.Fragment,{children:[e.jsx(wae,{size:"sm"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:14}),"Save Expense"]})})]})]})}),e.jsx(jae,{isOpen:g,onClose:()=>b(!1),title:"Trip Reconciliation",size:"sm",children:e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"flex items-center space-x-2",children:[{step:1,label:"Trip"},{step:2,label:"Expenses"},{step:3,label:"Submit"}].map((t,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-5 h-5 rounded-full text-xs font-medium "+(A>=t.step?"bg-blue-600 text-white":"bg-gray-200 text-gray-500"),children:A>t.step?e.jsx($e,{size:10}):t.step}),e.jsx("span",{className:"ml-1 text-xs font-medium "+(A>=t.step?"text-blue-600":"text-gray-500"),children:t.label}),r<2&&e.jsx("div",{className:"w-6 h-0.5 ml-2 "+(A>t.step?"bg-blue-600":"bg-gray-200")})]},t.step))})}),1===A&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Trip Report"}),e.jsx("textarea",{placeholder:"Summary of your trip, meetings, outcomes",value:Z.tripReport,onChange:e=>ee({...Z,tripReport:e.target.value}),rows:4,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Actual Return Date"}),e.jsx("input",{type:"date",value:Z.returnDate,onChange:e=>ee({...Z,returnDate:e.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),2===A&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Expense Summary"}),e.jsxs("div",{className:"grid grid-cols-1 gap-2 mb-3",children:[e.jsx("div",{className:"bg-blue-50 p-2 rounded-2xl border border-blue-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Per Diem Allowance"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:re(l.perDiemAmount,l.currency)})]})}),e.jsx("div",{className:"bg-orange-50 p-2 rounded-2xl border border-orange-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Total Expenses"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:re(Z.totalSpent,l.currency)})]})}),e.jsx("div",{className:"p-2 rounded-2xl border "+(Z.remainingBalance<0?"bg-red-50 border-red-100":"bg-green-50 border-green-100"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Remaining Balance"}),e.jsx("span",{className:"text-sm font-semibold "+(Z.remainingBalance<0?"text-red-700":"text-green-700"),children:re(Z.remainingBalance,l.currency)})]})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-xs",children:"Expense Details"}),e.jsx("div",{className:"overflow-x-auto border border-gray-200 rounded-2xl text-xs",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-1.5 px-2 font-medium text-gray-500",children:"Date"}),e.jsx("th",{className:"text-left py-1.5 px-2 font-medium text-gray-500",children:"Category"}),e.jsx("th",{className:"text-right py-1.5 px-2 font-medium text-gray-500",children:"Amount"}),e.jsx("th",{className:"text-left py-1.5 px-2 font-medium text-gray-500",children:"Receipt"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Z.expenses.map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-1.5 px-2",children:on(t.date,"MMM d")}),e.jsx("td",{className:"py-1.5 px-2",children:t.category}),e.jsx("td",{className:"py-1.5 px-2 text-right font-medium",children:re(t.amount,l.currency)}),e.jsx("td",{className:"py-1.5 px-2",children:t.receipt?e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-xs px-1.5 py-0.5 bg-blue-50 rounded-2xl",children:"View"}):e.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-800 rounded-2xl",children:"Missing"})})]},t.id))})]})})]}),e.jsx("div",{className:"p-2 rounded-2xl "+(Z.remainingBalance<0?"bg-red-50 border border-red-100":"bg-green-50 border border-green-100"),children:e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("div",{className:"p-1 mt-0.5 rounded-2xl "+(Z.remainingBalance<0?"bg-red-100":"bg-green-100"),children:Z.remainingBalance<0?e.jsx(T,{size:12,className:"text-red-600"}):e.jsx(n,{size:12,className:"text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium "+(Z.remainingBalance<0?"text-red-800":"text-green-800"),children:Z.remainingBalance<0?"Overspent Budget":"Within Budget"}),e.jsx("p",{className:"text-xs mt-0.5 "+(Z.remainingBalance<0?"text-red-700":"text-green-700"),children:Z.remainingBalance<0?`Exceeded by ${re(Math.abs(Z.remainingBalance),l.currency)}`:`${re(Z.remainingBalance,l.currency)} remaining`})]})]})})]}),3===A&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Additional Notes"}),e.jsx("textarea",{placeholder:"Additional information or explanation",value:Z.additionalNotes,onChange:e=>ee({...Z,additionalNotes:e.target.value}),rows:3,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-2xl border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2 text-xs",children:"Reconciliation Summary"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-500",children:"Trip Details"}),e.jsxs("p",{className:"text-gray-700",children:[l.city,", ",l.country,"  ",l.purpose]}),e.jsxs("p",{className:"text-gray-700",children:[on(l.departureDate,"MMM d")," -"," ",Z.returnDate&&!isNaN(new Date(Z.returnDate).getTime())?on(new Date(Z.returnDate),"MMM d"):"N/A"]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-500",children:"Financial Summary"}),e.jsxs("p",{className:"text-gray-700",children:["Allowance: ",re(l.perDiemAmount,l.currency)]}),e.jsxs("p",{className:"text-gray-700",children:["Expenses: ",re(Z.totalSpent,l.currency)]}),e.jsxs("p",{className:"font-medium "+(Z.remainingBalance<0?"text-red-700":"text-green-700"),children:["Balance: ",re(Z.remainingBalance,l.currency)]})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[e.jsx("h5",{className:"text-xs font-medium text-gray-500 mb-0.5",children:"Next Steps"}),e.jsx("p",{className:"text-xs text-gray-700",children:Z.remainingBalance>0?`Return ${re(Z.remainingBalance,l.currency)} to company`:Z.remainingBalance<0?`Request ${re(Math.abs(Z.remainingBalance),l.currency)} reimbursement`:"No further action required"})]})]}),e.jsx("div",{className:"bg-yellow-50 p-2 rounded-2xl border border-yellow-100",children:e.jsxs("div",{className:"flex items-start gap-1.5",children:[e.jsx("div",{className:"p-1 mt-0.5 bg-yellow-100 rounded-2xl",children:e.jsx(Ce,{size:12,className:"text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-yellow-800",children:"Confirmation"}),e.jsx("p",{className:"text-xs mt-0.5 text-yellow-700",children:"Confirm expenses are accurate and comply with company policy."})]})]})})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>{A>1?E(A-1):b(!1)},className:"px-3 py-1.5 text-xs text-gray-700 bg-gray-100 rounded-2xl hover:bg-gray-200 transition-colors font-medium",children:A>1?"Back":"Cancel"}),A<3?e.jsx("button",{type:"button",onClick:()=>E(A+1),disabled:1===A&&!Z.tripReport,className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"}):e.jsx("button",{type:"button",onClick:async()=>{if(!l||!l.id)return G({type:"error",text:"Please select a valid travel request"}),void Y(!0);const e=Z.returnDate?new Date(Z.returnDate):new Date(l.returnDate);if(isNaN(e.getTime()))return G({type:"error",text:"Please enter a valid return date"}),void Y(!0);if(isNaN(Z.totalSpent)||Z.totalSpent<0)return G({type:"error",text:"Please enter a valid total amount spent"}),void Y(!0);j(!0);try{const t=localStorage.getItem("token"),r=await fetch(`${X}/api/travel-requests/${l.id}/reconcile`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({totalSpent:Number.parseFloat(Z.totalSpent),remainingBalance:Number.parseFloat(Z.remainingBalance),additionalNotes:Z.additionalNotes||"",returnDate:e.toISOString(),tripReport:Z.tripReport||"",expenses:Z.expenses||[]})});if(!r.ok){const e=await r.json();throw new Error(e.message||"Failed to submit reconciliation")}const n=await r.json(),s={...n.travelRequest,status:"pending_reconciliation",returnDate:n.travelRequest.returnDate?new Date(n.travelRequest.returnDate):new Date,reconciliation:{...n.travelRequest.reconciliation,submittedDate:new Date(n.travelRequest.reconciliation.submittedDate),approvedDate:n.travelRequest.reconciliation.approvedDate?new Date(n.travelRequest.reconciliation.approvedDate):null,status:"pending_reconciliation"}};d(s),V(e=>e.map(e=>e.id===l.id?s:e)),b(!1),E(1),o("reconciled"),O("Reconciliation submitted successfully!"),M("success"),P(!0)}catch(ide){O(ide.message||"Failed to submit reconciliation"),M("error"),P(!0),setTimeout(()=>{P(!1)},3e3)}finally{j(!1)}},disabled:y,className:"flex items-center gap-1 px-3 py-1.5 bg-orange-500 text-white rounded-2xl font-medium hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed text-xs",children:y?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx($e,{size:12}),"Submit"]})})]})]})}),_&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(Nae,{type:L,onClose:()=>P(!1),children:D})})]})})}const Sae=({size:t="md"})=>e.jsx("div",{className:`${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]} animate-spin rounded-full border-2 border-gray-300 border-t-blue-600`}),Cae=({type:t="info",title:r,children:s,onClose:a})=>{const i={info:Je,success:n,warning:T,error:T}[t];return e.jsx("div",{className:`p-3 rounded-2xl border ${{info:"bg-blue-50 border-blue-200 text-blue-800",success:"bg-green-50 border-green-200 text-green-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",error:"bg-red-50 border-red-200 text-red-800"}[t]} mb-3`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(i,{className:`w-4 h-4 mt-0.5 ${{info:"text-blue-500",success:"text-green-500",warning:"text-yellow-500",error:"text-red-500"}[t]}`}),e.jsxs("div",{className:"flex-1",children:[r&&e.jsx("h4",{className:"font-medium mb-1 text-sm",children:r}),e.jsx("div",{className:"text-xs",children:s})]})]})})},Aae=({status:t,type:r="default"})=>e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-2xl ${(e=>{switch(e){case"changes_requested":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(t)}`,children:t.replace("_"," ")}),Tae=({title:t,value:r,icon:n,color:s,subtitle:a,prefix:i="",suffix:o=""})=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})})}),e.jsxs("div",{className:"text-lg font-bold text-gray-900 mb-1",children:[i,r,o]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),a&&e.jsx("div",{className:"text-xs text-gray-400",children:a})]});function Eae(){const{user:t}=An(),[r,s]=qr.useState([]),[a,i]=qr.useState(null),[o,d]=qr.useState([{id:Date.now(),category:"",amount:"",description:"",receipt:null}]),[u,h]=qr.useState(""),[p,f]=qr.useState(!1),[x,g]=qr.useState(!0),[b,y]=qr.useState(null),[j,w]=qr.useState(!1),[k,S]=qr.useState(0),C="https://backend.nexusmwi.com",A=["Transportation","Meals","Lodging","Conference Fees","Supplies","Other"];qr.useEffect(()=>{(async()=>{try{if(g(!0),y(null),!t||!t._id)return y("User not authenticated"),void g(!1);const e=localStorage.getItem("token");if(!e)return y("No authentication token found"),void g(!1);const r=await fetch(`${C}/api/travel-requests/employee/processed`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!r.ok){const e=await r.text();throw new Error(`HTTP ${r.status}: ${e}`)}const n=(await r.json()).filter(e=>"processed"===e.financeStatus&&(e.employee?._id===t.id&&(!e.reconciliation||"changes_requested"===e.reconciliation.status)));s(n),n.length>0&&i(n[0])}catch(e){y(e.message)}finally{g(!1)}})()},[t,C]);const T=e=>{S(e)},E=(e,t,r)=>{d(o.map(n=>n.id===e?{...n,[t]:r}:n))},_=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(e||0);return x?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"flex justify-center items-center min-h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Sae,{size:"lg"}),e.jsx("p",{className:"mt-4 text-gray-600 text-sm",children:"Loading travel requests..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-3 space-y-4 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:e.jsx(Xe,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Travel Expense Reconciliation"})]})})}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200",children:[e.jsx("div",{className:"border-b border-gray-100",children:e.jsxs("nav",{className:"flex",children:[e.jsxs("button",{onClick:()=>T(0),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 "+(0===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[e.jsx(Xe,{size:14}),"New Reconciliation"]}),e.jsxs("button",{onClick:()=>T(1),className:"flex items-center gap-2 px-4 py-3 text-sm font-medium border-b-2 "+(1===k?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:[e.jsx(n,{size:14}),"Reconciliation History"]})]})}),e.jsx("div",{className:"p-4",children:0===k?e.jsxs(e.Fragment,{children:[b&&e.jsx(Cae,{type:"error",title:"Error",children:b}),j&&e.jsx(Cae,{type:"success",title:"Success",children:"Reconciliation submitted successfully!"}),0===r.length?e.jsx(Cae,{type:"info",title:"No Reconciliations Needed",children:"No travel requests requiring reconciliation found. All your trips are up to date!"}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Select Travel Request"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Travel Request"}),e.jsxs("select",{value:a?._id||"",onChange:e=>{const t=r.find(t=>t._id===e.target.value);i(t)},className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select a travel request..."}),r.map(t=>e.jsxs("option",{value:t._id,children:[t.purpose," - ",new Date(t.departureDate).toLocaleDateString()," to ",new Date(t.returnDate).toLocaleDateString(),"changes_requested"===t.reconciliation?.status?" (Changes Requested)":""]},t._id))]})]}),a&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(Tae,{title:"Trip Purpose",value:a.purpose,icon:Ft,color:"blue"}),e.jsx(Tae,{title:"Destination",value:a.location,icon:Se,color:"green"}),e.jsx(Tae,{title:"Duration",value:`${Math.ceil((new Date(a.returnDate)-new Date(a.departureDate))/864e5)} days`,icon:v,color:"purple"}),e.jsx(Tae,{title:"Per Diem",value:_(a.perDiemAmount),icon:m,color:"orange"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Departure Date"}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-900 text-sm",children:new Date(a.departureDate).toLocaleDateString()})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Method"}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-900 text-sm",children:a.paymentMethod||"None specified"})]})})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Return Date"}),e.jsx("div",{className:"p-2 bg-gray-50 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-gray-900 text-sm",children:new Date(a.returnDate).toLocaleDateString()})]})})]}),"changes_requested"===a.reconciliation?.status&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Status"}),e.jsx("div",{className:"p-2 bg-yellow-50 rounded-xl",children:e.jsx(Aae,{status:"changes_requested"})})]})]})]})]})]}),a&&e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),a){f(!0),y(null);try{const e=new FormData;e.append("tripReport",u),o.forEach((t,r)=>{e.append(`expenses[${r}][category]`,t.category),e.append(`expenses[${r}][amount]`,t.amount),e.append(`expenses[${r}][description]`,t.description),t.receipt&&e.append(`expenses[${r}][receipt]`,t.receipt)});const t=localStorage.getItem("token"),n=await fetch(`${C}/api/travel-requests/${a._id}/reconcile`,{method:"POST",headers:{Authorization:`Bearer ${t}`},body:e}),l=await n.json();if(!n.ok)throw new Error(l.message||"Submission failed");w(!0),d([{id:Date.now(),category:"",amount:"",description:"",receipt:null}]),h("");const c=r.filter(e=>e._id!==a._id);s(c),i(c[0]||null)}catch(t){y(t.message)}finally{f(!1)}}else y("No travel request selected")},className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(c,{className:"w-4 h-4 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Trip Report"})]}),e.jsx("textarea",{placeholder:"Provide a detailed summary of your trip, including meetings attended, objectives achieved, and any follow-up actions required...",rows:4,value:u,onChange:e=>h(e.target.value),required:!0,className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-blue-600"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Expenses"})]}),e.jsxs("button",{type:"button",onClick:()=>{d([...o,{id:Date.now(),category:"",amount:"",description:"",receipt:null}])},className:"flex items-center gap-2 px-3 py-1.5 bg-blue-600 text-white rounded-2xl text-sm font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(Le,{size:14}),"Add Expense"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount ($)"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Receipt"}),e.jsx("th",{className:"text-left py-2 px-3 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-2 px-3",children:e.jsxs("select",{value:t.category,onChange:e=>E(t.id,"category",e.target.value),required:!0,className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select category..."}),A.map(t=>e.jsx("option",{value:t,children:t},t))]})}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("input",{type:"text",placeholder:"Expense description",value:t.description,onChange:e=>E(t.id,"description",e.target.value),required:!0,className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("input",{type:"number",placeholder:"0.00",step:"0.01",min:"0",value:t.amount,onChange:e=>E(t.id,"amount",e.target.value),required:!0,className:"w-full px-2 py-1.5 text-sm border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),e.jsx("td",{className:"py-2 px-3",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("input",{accept:"image/*,.pdf",style:{display:"none"},id:`receipt-upload-${t.id}`,type:"file",onChange:e=>((e,t)=>{const r=t.target.files[0];r&&E(e,"receipt",r)})(t.id,e),required:t.amount>=25}),e.jsx("label",{htmlFor:`receipt-upload-${t.id}`,children:e.jsxs("button",{type:"button",className:"flex items-center gap-2 px-2 py-1.5 text-sm border border-gray-200 rounded-xl hover:bg-gray-50 transition-colors w-full",onClick:()=>document.getElementById(`receipt-upload-${t.id}`).click(),children:[e.jsx(Be,{size:12}),e.jsx("span",{className:"text-xs",children:t.receipt?t.receipt.name:"Upload Receipt"})]})}),t.amount>=25&&!t.receipt&&e.jsx("p",{className:"text-xs text-red-600",children:"Receipt required for amounts $25+"})]})}),e.jsx("td",{className:"py-2 px-3",children:e.jsx("button",{type:"button",onClick:()=>{return e=t.id,void(o.length>1&&d(o.filter(t=>t.id!==e)));var e},disabled:o.length<=1,className:"p-1.5 rounded-xl transition-colors "+(o.length<=1?"text-gray-400 cursor-not-allowed":"text-red-600 hover:bg-red-50"),children:e.jsx(Me,{size:14})})})]},t.id))})]})}),e.jsx("div",{className:"flex justify-end mt-3 pt-3 border-t border-gray-100",children:e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total Expenses"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:_(o.reduce((e,t)=>e+(parseFloat(t.amount)||0),0).toFixed(2))})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:p,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-2xl text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p?e.jsxs(e.Fragment,{children:[e.jsx(Sae,{size:"sm"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(n,{size:14}),"Submit Reconciliation"]})})})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"mx-auto w-10 h-10 bg-gray-100 rounded-xl flex items-center justify-center mb-3",children:e.jsx(n,{className:"w-5 h-5 text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Reconciliation History"}),e.jsx("p",{className:"text-gray-500 mb-3 text-sm",children:"View your past reconciliation submissions here"}),e.jsxs("div",{className:"inline-flex items-center px-3 py-1.5 bg-gray-100 text-gray-600 rounded-2xl text-sm",children:[e.jsx(l,{size:14,className:"mr-2"}),"Coming Soon"]})]})})]})]})})}function _ae(){const{token:t,user:r}=An();$r();const[a,i]=qr.useState(null),[o,d]=qr.useState([]),[u,h]=qr.useState(!0),[p,f]=qr.useState(""),[x,g]=qr.useState(""),[b,y]=qr.useState(!1),[v,j]=qr.useState(null),[w,N]=qr.useState(""),[k,C]=qr.useState(""),[A,E]=qr.useState("all"),_="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/vendors/me`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch vendor details");const r=await t.json();i(r._id)}catch(e){f("Could not fetch vendor details.")}})()},[t]),qr.useEffect(()=>{a&&(async()=>{if(a)try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/purchase-orders`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch purchase orders");const r=((await t.json()).data||[]).filter(e=>e.vendor?._id===a);d(r)}catch(e){f("Could not fetch purchase orders.")}finally{h(!1)}})()},[a,t]);const P=o.filter(e=>{const t=e._id.toLowerCase().includes(k.toLowerCase());let r=!0;return"confirmed"===A?r=e.vendorConfirmation?.confirmed:"pending"===A?r=!e.vendorConfirmation?.confirmed:"invoiced"===A?r=!!e.invoice:"not-invoiced"===A&&(r=!e.invoice),t&&r}),D=o?.length||0,O=o?.filter(e=>e.vendorConfirmation?.confirmed)?.length||0,L=o?.filter(e=>"delivered"===e.deliveryStatus)?.length||0,M=o?.filter(e=>e.invoice)?.length||0,I=o?.filter(e=>!e.invoice&&e.vendorConfirmation?.confirmed)?.length||0,R=o?.reduce((e,t)=>e+(t.invoice?t.totalAmount:0),0)||0,z=e=>{j(e),N(Math.floor(1e5+9e5*Math.random()).toString()),y(!0)},F=()=>{y(!1),N(""),j(null),f("")},B=e=>{switch(e?.toLowerCase()){case"confirmed":return"text-green-700 bg-green-50 border-green-200";case"pending":return"text-amber-700 bg-amber-50 border-amber-200";case"delivered":return"text-blue-700 bg-blue-50 border-blue-200";case"shipped":return"text-purple-700 bg-purple-50 border-purple-200";default:return"text-gray-700 bg-gray-50 border-gray-200"}},q=t=>{switch(t?.toLowerCase()){case"confirmed":return e.jsx(n,{size:14});case"pending":return e.jsx(l,{size:14});case"delivered":return e.jsx(ze,{size:14});case"shipped":return e.jsx(Ze,{size:14});default:return e.jsx(T,{size:14})}},$=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),U=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx(U,{isVisible:u,message:"Loading Invoices..."}),e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsx("div",{className:"flex items-center gap-6",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:"Invoice Submission"}),e.jsx("p",{className:"text-gray-500 text-lg mt-2",children:"Submit invoices for your completed purchase orders"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-6 gap-4",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg",children:e.jsx(c,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full text-xs font-medium",children:D})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Total POs"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:D})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg",children:e.jsx(n,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-medium",children:O})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Confirmed"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:O})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:e.jsx(ze,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium",children:L})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Delivered"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:L})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg",children:e.jsx(Xe,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-emerald-100 text-emerald-800 px-2 py-1 rounded-full text-xs font-medium",children:M})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Invoiced"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:M})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500 to-orange-600 rounded-lg",children:e.jsx(l,{size:18,className:"text-white"})}),e.jsx("span",{className:"bg-amber-100 text-amber-800 px-2 py-1 rounded-full text-xs font-medium",children:I})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Pending Invoice"}),e.jsx("p",{className:"text-xl font-bold text-gray-900",children:I})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-lg",children:e.jsx(m,{size:18,className:"text-white"})}),e.jsxs("span",{className:"bg-indigo-100 text-indigo-800 px-2 py-1 rounded-full text-xs font-medium",children:["$",(R/1e3).toFixed(0),"K"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-xs font-medium",children:"Invoice Value"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:$(R)})]})]})]})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs(Bl,{children:[x&&e.jsxs(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-green-50 border border-green-200 text-green-800 px-6 py-4 rounded-xl flex items-center gap-3",children:[e.jsx(n,{size:20}),e.jsx("span",{children:x}),e.jsx("button",{onClick:()=>g(""),className:"ml-auto p-1 hover:bg-green-100 rounded",children:e.jsx(s,{size:16})})]}),p&&e.jsxs(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-red-50 border border-red-200 text-red-800 px-6 py-4 rounded-xl flex items-center gap-3",children:[e.jsx(T,{size:20}),e.jsx("span",{children:p}),e.jsx("button",{onClick:()=>f(""),className:"ml-auto p-1 hover:bg-red-100 rounded",children:e.jsx(s,{size:16})})]})]}),e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 shadow-xl",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center flex-1",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(Re,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by PO number...",value:k,onChange:e=>C(e.target.value),className:"w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white/80 backdrop-blur-sm"})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("select",{value:A,onChange:e=>E(e.target.value),className:"px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 bg-white/80 backdrop-blur-sm font-medium",children:[e.jsx("option",{value:"all",children:"All Statuses"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"invoiced",children:"Invoiced"}),e.jsx("option",{value:"not-invoiced",children:"Not Invoiced"})]}),e.jsxs("button",{className:"px-4 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(at,{size:18}),"More Filters"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-white/80 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{size:16}),"Export"]}),e.jsx("button",{className:"p-2 bg-white/80 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:e.jsx(G,{size:18})})]})]})}),0===P.length?e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-12 shadow-xl text-center",children:e.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center",children:e.jsx(Xe,{size:40,className:"text-gray-500"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:k||"all"!==A?"No purchase orders match your filters":"No purchase orders available"}),e.jsx("p",{className:"text-gray-600 max-w-md mx-auto",children:k||"all"!==A?"Try adjusting your search criteria or filters to find what you're looking for.":"There are currently no purchase orders available for invoicing."})]})]})}):e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-gray-50/50 to-emerald-50/30 border-b border-gray-100/50 px-6 py-4",children:e.jsxs("div",{className:"grid grid-cols-6 gap-4 items-center font-semibold text-gray-700 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tt,{size:16}),"PO Number"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{size:16}),"Status"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{size:16}),"Delivery Status"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{size:16}),"Total Amount"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xe,{size:16}),"Invoice Status"]}),e.jsx("div",{className:"text-center",children:"Actions"})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:P.map((t,r)=>e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.05*r},className:"grid grid-cols-6 gap-4 items-center px-6 py-6 hover:bg-gray-50/50 transition-all duration-200 group",children:[e.jsx("div",{children:e.jsx("span",{className:"font-bold text-emerald-600 group-hover:text-emerald-700 transition-colors duration-200",children:t._id.slice(-8).toUpperCase()})}),e.jsx("div",{children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${B(t.vendorConfirmation?.confirmed?"confirmed":"pending")}`,children:[q(t.vendorConfirmation?.confirmed?"confirmed":"pending"),e.jsx("span",{className:"ml-2",children:t.vendorConfirmation?.confirmed?"Confirmed":"Pending"})]})}),e.jsx("div",{children:e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${B(t.deliveryStatus||"pending")}`,children:[q(t.deliveryStatus||"pending"),e.jsx("span",{className:"ml-2 capitalize",children:t.deliveryStatus||"Pending"})]})}),e.jsx("div",{children:e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:$(t.totalAmount)})}),e.jsx("div",{children:t.invoice?e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border text-green-700 bg-green-50 border-green-200",children:[e.jsx(S,{size:14}),e.jsx("span",{className:"ml-2",children:"Submitted"})]}):e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border text-amber-700 bg-amber-50 border-amber-200",children:[e.jsx(l,{size:14}),e.jsx("span",{className:"ml-2",children:"Pending"})]})}),e.jsx("div",{className:"text-center",children:t.invoice?e.jsxs("span",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-medium",children:[e.jsx(n,{size:16,className:"mr-2"}),"Invoice Submitted"]}):t.vendorConfirmation?.confirmed?e.jsxs("button",{onClick:()=>z(t),className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg hover:from-emerald-600 hover:to-emerald-700 transition-all duration-200 font-medium shadow-md hover:shadow-lg transform hover:scale-105 flex items-center gap-2",children:[e.jsx(Z,{size:16}),"Submit Invoice"]}):e.jsxs("span",{className:"inline-flex items-center px-4 py-2 bg-gray-100 text-gray-500 rounded-lg text-sm font-medium",children:[e.jsx(l,{size:16,className:"mr-2"}),"Awaiting Confirmation"]})})]},t._id))})]})]})}),b&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs(Rm.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-emerald-50 to-teal-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(Xe,{size:24,className:"text-emerald-500"}),"Submit Invoice"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Create invoice for PO: ",e.jsx("span",{className:"font-semibold",children:v._id.slice(-8).toUpperCase()})]})]}),e.jsx("button",{onClick:F,className:"p-3 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:24})})]})}),e.jsx("div",{className:"p-8 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ze,{size:20}),"Purchase Order Details"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"PO Number:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:v._id.slice(-8).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Total Amount:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:$(v.totalAmount)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Confirmation Status:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:v.vendorConfirmation?.confirmed?"Confirmed":"Pending"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Delivery Status:"}),e.jsx("p",{className:"font-semibold text-gray-900 capitalize",children:v.deliveryStatus||"Pending"})]}),v.createdAt&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"PO Date:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:(W=v.createdAt,new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}))})]}),v.trackingNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Tracking Number:"}),e.jsx("p",{className:"font-semibold text-gray-900",children:v.trackingNumber})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Tt,{size:16}),"Invoice Number"]}),e.jsx("input",{type:"text",value:w,readOnly:!0,className:"w-full px-4 py-4 border border-gray-300 rounded-xl bg-gray-50 text-gray-700 font-mono"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Auto-generated invoice number"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(m,{size:16}),"Invoice Amount"]}),e.jsx("input",{type:"text",value:$(v.totalAmount),readOnly:!0,className:"w-full px-4 py-4 border border-gray-300 rounded-xl bg-gray-50 text-gray-700 font-mono text-lg font-bold"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Amount matches the purchase order total"})]}),e.jsx("div",{className:"bg-emerald-50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-500 rounded-lg",children:e.jsx(sr,{size:16,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-emerald-900 mb-1",children:"Invoice Information"}),e.jsx("p",{className:"text-emerald-800 text-sm",children:"This invoice will be automatically submitted to the finance department for processing. You will receive payment according to the agreed terms once the invoice is approved."})]})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 bg-white",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Vt,{size:20}),"Invoice Summary"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:$(v.totalAmount)})]}),e.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[e.jsx("span",{className:"text-gray-600",children:"Tax (if applicable):"}),e.jsx("span",{className:"font-semibold text-gray-900",children:"$0.00"})]}),e.jsxs("div",{className:"flex justify-between items-center py-3 bg-emerald-50 px-4 rounded-lg",children:[e.jsx("span",{className:"text-emerald-900 font-semibold text-lg",children:"Total Amount Due:"}),e.jsx("span",{className:"font-bold text-emerald-900 text-xl",children:$(v.totalAmount)})]})]})]})]}),e.jsxs("div",{className:"flex gap-4 pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${_}/api/invoices`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({poId:v._id,invoiceNumber:w,amountDue:v.totalAmount,vendorId:a})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to submit invoice")}const r=await t.json();d(e=>e.map(e=>e._id===v._id?{...e,invoice:r.invoice}:e)),g(`Invoice ${w} submitted successfully!`),F()}catch(e){f(e.message||"Could not submit invoice.")}},className:"flex-1 px-6 py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2",children:[e.jsx(Z,{size:20}),"Submit Invoice"]}),e.jsxs("button",{onClick:F,className:"px-6 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all duration-200 font-semibold flex items-center justify-center gap-2",children:[e.jsx(s,{size:20}),"Cancel"]})]})]})})]})})]});var W}const Pae=({label:t,field:r,type:n="text",formData:s,onChange:a,...i})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:t}),e.jsx("input",{type:n,name:r,value:s[r],onChange:a,className:"w-full px-3 py-2 text-xs border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",...i})]}),Dae=({label:t,field:r,multiple:n,files:s,onFileChange:a})=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:t}),e.jsx("input",{type:"file",multiple:n,onChange:e=>a(r,e.target.files,n),className:"w-full text-xs text-gray-600"}),s[r]&&(Array.isArray(s[r])?s[r].map((t,r)=>e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:t.name},r)):s[r]instanceof File&&e.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:s[r].name}))]});function Oae(){const[t,r]=qr.useState({businessName:"",taxpayerIdentificationNumber:"",registrationNumber:"",registrationIssuedDate:"",phoneNumber:"",address:"",contactEmail:"",yearsInOperation:"",laborLawCompliance:!1,litigationHistory:!1,bankReference:"",insuranceCoverage:"",annualTurnover:"",deliveryCapacity:"",timelyDeliveryRecord:!1,performanceRatings:"",safetyPolicy:"",antiCorruptionPolicy:"",conflictOfInterest:!1,codeOfConductSigned:!1}),[n,s]=qr.useState({registrationCertificate:null,businessLicense:null,taxClearance:null,vatRegistration:null,industryLicenses:[],auditedStatements:[],relevantExperience:[],keyPersonnel:[],equipmentFacilities:[],qualityCertifications:[],clientReferences:[],completedProjects:[],safetyRecords:[],sustainabilityPractices:[],environmentCertificate:null,csrInitiatives:[]}),[a,i]=qr.useState({}),[o,l]=qr.useState(!1),d=e=>{const{name:t,value:n,type:s,checked:a}=e.target;r(e=>({...e,[t]:"checkbox"===s?a:n}))},u=(e,t,r)=>{s(n=>({...n,[e]:r?Array.from(t):t[0]}))};return e.jsx("div",{className:"min-h-screen bg-gray-50 px-6 py-10",children:e.jsxs("div",{className:"max-w-6xl mx-auto bg-white rounded-xl shadow border border-gray-200 p-6",children:[e.jsxs("h1",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(c,{size:18,className:"text-blue-500"}),"Vendor Registration"]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=new FormData;e.append("data",JSON.stringify(t)),Object.entries(n).forEach(([t,r])=>{r&&(Array.isArray(r)?r.forEach(r=>{r instanceof File&&e.append(t,r)}):r instanceof File&&e.append(t,r))});const a=localStorage.getItem("token"),i=await fetch("https://backend.nexusmwi.com/api/vendors/register",{method:"POST",body:e,headers:{...a&&{Authorization:`Bearer ${a}`}}}),o=await i.json();i.ok?(alert(`Registration submitted successfully! Score: ${o.preQualification?.score||0}%`),r({businessName:"",taxpayerIdentificationNumber:"",registrationNumber:"",registrationIssuedDate:"",phoneNumber:"",address:"",contactEmail:"",yearsInOperation:"",laborLawCompliance:!1,litigationHistory:!1,bankReference:"",insuranceCoverage:"",annualTurnover:"",deliveryCapacity:"",timelyDeliveryRecord:!1,performanceRatings:"",safetyPolicy:"",antiCorruptionPolicy:"",conflictOfInterest:!1,codeOfConductSigned:!1}),s({registrationCertificate:null,businessLicense:null,taxClearance:null,vatRegistration:null,industryLicenses:[],auditedStatements:[],relevantExperience:[],keyPersonnel:[],equipmentFacilities:[],qualityCertifications:[],clientReferences:[],completedProjects:[],safetyRecords:[],sustainabilityPractices:[],environmentCertificate:null,csrInitiatives:[]})):alert(o.message||"Failed to submit registration")}catch(a){alert("Failed to submit registration. Check console for details.")}finally{l(!1)}},className:"space-y-6 text-xs",children:[e.jsxs("section",{children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(L,{size:14,className:"text-purple-500"}),"Company Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(Pae,{label:"Business Name *",field:"businessName",formData:t,onChange:d,required:!0}),e.jsx(Pae,{label:"TIN *",field:"taxpayerIdentificationNumber",formData:t,onChange:d,required:!0}),e.jsx(Pae,{label:"Registration Number *",field:"registrationNumber",formData:t,onChange:d,required:!0}),e.jsx(Pae,{label:"Reg. Issued Date",type:"date",field:"registrationIssuedDate",formData:t,onChange:d}),e.jsx(Pae,{label:"Phone Number",field:"phoneNumber",formData:t,onChange:d}),e.jsx(Pae,{label:"Address",field:"address",formData:t,onChange:d}),e.jsx(Pae,{label:"Contact Email",type:"email",field:"contactEmail",formData:t,onChange:d}),e.jsx(Pae,{label:"Years in Operation",type:"number",field:"yearsInOperation",formData:t,onChange:d}),e.jsx(Dae,{label:"Registration Certificate",field:"registrationCertificate",files:n,onFileChange:u}),e.jsx(Dae,{label:"Business License",field:"businessLicense",files:n,onFileChange:u})]})]}),e.jsxs("section",{children:[e.jsxs("h2",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx(c,{size:14,className:"text-blue-500"}),"Legal Compliance"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(Dae,{label:"Tax Clearance",field:"taxClearance",files:n,onFileChange:u}),e.jsx(Dae,{label:"VAT Registration",field:"vatRegistration",files:n,onFileChange:u}),e.jsx(Dae,{label:"Industry Licenses",field:"industryLicenses",multiple:!0,files:n,onFileChange:u}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"laborLawCompliance",checked:t.laborLawCompliance,onChange:d})," ","Labor Law Compliance"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"litigationHistory",checked:t.litigationHistory,onChange:d})," ","No Litigation History"]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Financial Capability"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(Dae,{label:"Audited Statements",field:"auditedStatements",multiple:!0,files:n,onFileChange:u}),e.jsx(Pae,{label:"Bank Reference",field:"bankReference",formData:t,onChange:d}),e.jsx(Pae,{label:"Insurance Coverage",field:"insuranceCoverage",formData:t,onChange:d}),e.jsx(Pae,{label:"Annual Turnover",type:"number",field:"annualTurnover",formData:t,onChange:d})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Technical Capacity"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(Dae,{label:"Relevant Experience",field:"relevantExperience",multiple:!0,files:n,onFileChange:u}),e.jsx(Dae,{label:"Key Personnel",field:"keyPersonnel",multiple:!0,files:n,onFileChange:u}),e.jsx(Dae,{label:"Equipment/Facilities",field:"equipmentFacilities",multiple:!0,files:n,onFileChange:u}),e.jsx(Dae,{label:"Quality Certifications",field:"qualityCertifications",multiple:!0,files:n,onFileChange:u}),e.jsx(Pae,{label:"Delivery Capacity",field:"deliveryCapacity",formData:t,onChange:d})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Past Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsx(Dae,{label:"Client References",field:"clientReferences",multiple:!0,files:n,onFileChange:u}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"timelyDeliveryRecord",checked:t.timelyDeliveryRecord,onChange:d})," ","Timely Delivery Record"]}),e.jsx(Dae,{label:"Completed Projects",field:"completedProjects",multiple:!0,files:n,onFileChange:u}),e.jsx(Pae,{label:"Performance Ratings",field:"performanceRatings",formData:t,onChange:d})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Health, Safety & Environment"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Safety Policy"}),e.jsxs("select",{name:"safetyPolicy",value:t.safetyPolicy,onChange:e=>r(t=>({...t,safetyPolicy:"true"===e.target.value})),className:"w-full px-3 py-2 text-xs border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]}),e.jsx(Dae,{label:"Environment Certificate",field:"environmentCertificate",files:n,onFileChange:u}),e.jsx(Dae,{label:"Safety Records",field:"safetyRecords",multiple:!0,files:n,onFileChange:u}),e.jsx(Dae,{label:"Sustainability Practices",field:"sustainabilityPractices",multiple:!0,files:n,onFileChange:u})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 mb-3",children:"Ethics & Governance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Anti-Corruption Policy"}),e.jsxs("select",{name:"antiCorruptionPolicy",value:t.antiCorruptionPolicy,onChange:e=>r(t=>({...t,antiCorruptionPolicy:"true"===e.target.value})),className:"w-full px-3 py-2 text-xs border border-gray-300 rounded-2xl focus:ring-1 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"true",children:"Yes"}),e.jsx("option",{value:"false",children:"No"})]})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"conflictOfInterest",checked:t.conflictOfInterest,onChange:d})," ","No Conflict of Interest"]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",name:"codeOfConductSigned",checked:t.codeOfConductSigned,onChange:d})," ","Code of Conduct Signed"]}),e.jsx(Dae,{label:"CSR Initiatives",field:"csrInitiatives",multiple:!0,files:n,onFileChange:u})]})]}),e.jsx("div",{className:"flex justify-end border-t border-gray-200 pt-4",children:e.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-xs bg-blue-500 text-white rounded-2xl hover:bg-blue-600 flex items-center gap-1 disabled:opacity-50",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-3 h-3 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:14}),"Submit Registration"]})})})]})]})})}const Lae=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,Mae=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Iae=({item:t,index:r,isNewUser:n})=>e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1*r},className:"relative flex items-start gap-3 "+(t.current?"bg-blue-50 border border-blue-200 rounded-xl p-2 -ml-2":""),children:[e.jsx("div",{className:"relative z-10 w-3 h-3 rounded-full border-2 mt-1 "+(t.completed?"bg-green-500 border-green-500":t.current?n&&"start_registration"===t.status?"bg-orange-500 border-orange-500 animate-pulse":"bg-blue-500 border-blue-500 animate-pulse":"bg-white border-gray-300"),children:t.completed&&e.jsx($e,{size:8,className:"text-white absolute -top-0.5 -left-0.5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h4",{className:"font-semibold text-sm "+(t.current?"text-blue-900":"text-gray-900"),children:t.description}),e.jsxs("span",{className:"text-xs "+(t.current?"text-blue-600":"text-gray-500"),children:[t.date," ",t.time&&` ${t.time}`]})]}),t.current&&n&&"start_registration"===t.status&&e.jsxs("div",{className:"flex items-center gap-1 text-orange-600 text-xs",children:[e.jsx(T,{size:12}),e.jsx("span",{children:"Click the + button to start registration"})]}),t.current&&!n&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 text-xs",children:[e.jsx(Ue,{size:12,className:"animate-spin"}),e.jsx("span",{children:"Currently in progress..."})]})]})]}),Rae=({document:t,onDownload:r})=>e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 rounded-xl",children:e.jsx(c,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[t.uploadDate,"  ",t.size,t.type&&`  ${t.type.replace(/([A-Z])/g," $1").toLowerCase()}`]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("verified"===t.status?"bg-green-100 text-green-800":"rejected"===t.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:t.status.toUpperCase()}),e.jsx("button",{onClick:()=>r(t.name,t.filePath),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ie,{size:14})})]})]})});function zae(){const t=$r(),[r,a]=qr.useState(null),[i,o]=qr.useState(!0),[u,m]=qr.useState(null),[h,p]=qr.useState("overview"),[f,x]=qr.useState(!1),[g,b]=qr.useState(""),[v,j]=qr.useState("info"),[w,N]=qr.useState(!1),[k,S]=qr.useState(!1),[C]=Vr(),[A,E]=qr.useState(()=>C.get("section")||"vendor-dash"),[_,P]=qr.useState(!1),M="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token");0;const t=await fetch(`${M}/api/vendors/vendor-data`,{method:"GET",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}});if(!t.ok){if(404===t.status)return N(!0),S(!0),void a({id:null,registrationStatus:"not_started",isNewUser:!0,timeline:[{status:"start_registration",date:"Not started",time:"",description:"Click the + button to start your registration",completed:!1,current:!0},{status:"document_upload",date:"Pending",time:"",description:"Upload required documents",completed:!1},{status:"document_verification",date:"Pending",time:"",description:"Documents verification",completed:!1},{status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1}],metrics:{completionPercentage:0,daysInReview:0,averageProcessingTime:"5-7 days"}});if(401===t.status)throw new Error("Authentication failed. Please login again.");if(403===t.status)throw new Error("Access denied. You do not have permission to view this data.");if(t.status>=500)throw new Error("Server error. Please try again later.");{const e=await t.text();throw new Error(`HTTP ${t.status}: ${e||"Unknown error"}`)}}const r=await t.json();if(!r||"object"!=typeof r)throw new Error("Invalid API response format");const n=I(r);a(n),N(!1)}catch(e){e.message.includes("fetch")?m("Network error. Please check your internet connection and try again."):e.message.includes("Authentication")?m("Authentication failed. Please login again."):e.message.includes("404")||e.message.includes("Not Found")?(N(!0),S(!0),a({id:null,registrationStatus:"not_started",isNewUser:!0,timeline:[{status:"start_registration",date:"Not started",time:"",description:"Click the + button to start your registration",completed:!1,current:!0},{status:"document_upload",date:"Pending",time:"",description:"Upload required documents",completed:!1},{status:"document_verification",date:"Pending",time:"",description:"Documents verification",completed:!1},{status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1}],metrics:{completionPercentage:0,daysInReview:0,averageProcessingTime:"5-7 days"}})):m(e.message||"Failed to load vendor data")}finally{o(!1)}})()},[M]);const I=e=>{try{if(!e._id)throw new Error("Missing vendor ID in API response");const t=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},r=t(e.createdAt),n=t(e.updatedAt),s=r?Math.floor((new Date-r)/864e5):0,a=e=>{switch(e){case"pending":return 25;case"under_review":return 75;case"approved":return 100;case"rejected":return 50;default:return 0}},i=(e,t,r)=>{const n=[],s=new Date(t);n.push({status:"submitted",date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Registration submitted successfully",completed:!0});const a=new Date(s);if(a.setDate(a.getDate()+1),n.push({status:"document_verification",date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Documents under verification",completed:["under_review","approved","rejected"].includes(e)}),["under_review","approved","rejected"].includes(e)){const t=new Date(s);t.setDate(t.getDate()+2),n.push({status:e,date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"rejected"===e?"Application was rejected - please review feedback":"Application under review by compliance team",completed:["approved","rejected"].includes(e),current:"under_review"===e})}else"pending"===e&&n.push({status:"under_review",date:"Pending",time:"",description:"Waiting for review by compliance team",completed:!1,current:!0});if("approved"===e&&r){const e=new Date(r);n.push({status:"final_approval",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Final approval and account activation completed",completed:!0})}else"rejected"!==e&&n.push({status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1});return n},o=e=>{if(!e||0===e)return"0 Bytes";const t=Math.floor(Math.log(e)/Math.log(1024));return Number.parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]},l=r=>{if(!r||"object"!=typeof r)return[];const n=[];try{Object.entries(r).forEach(([r,s])=>{if(s)if(Array.isArray(s))s.forEach((s,a)=>{if(s&&(s.fileName||s.originalName||s.filename)){const i=s.fileName||s.originalName||s.filename||`${r}_${a+1}`,l=t(s.uploadedAt||s.uploadDate||s.createdAt)?.toLocaleDateString()||"N/A",d=s.size?o(s.size):"N/A",u=s.filePath||s.path||s.url||"";n.push({name:i,type:r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),uploadDate:l,status:c(e.registrationStatus,s.status),size:d,filePath:u})}});else if("object"==typeof s&&(s.fileName||s.originalName||s.filename)){const a=s.fileName||s.originalName||s.filename||r,i=t(s.uploadedAt||s.uploadDate||s.createdAt)?.toLocaleDateString()||"N/A",l=s.size?o(s.size):"N/A",d=s.filePath||s.path||s.url||"";n.push({name:a,type:r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),uploadDate:i,status:c(e.registrationStatus,s.status),size:l,filePath:d})}else"string"==typeof s&&n.push({name:r.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()),type:r,uploadDate:"N/A",status:c(e.registrationStatus),size:"N/A",filePath:s})})}catch(s){}return n},c=(e,t)=>{if(t)return t.toLowerCase();switch(e){case"approved":return"verified";case"rejected":return"rejected";default:return"pending"}};return{id:e._id,registrationStatus:e.registrationStatus||"pending",submissionDate:r?r.toLocaleDateString():"N/A",approvalDate:n?n.toLocaleDateString():null,isNewUser:!1,basicInfo:{countryOfRegistration:e.countryOfRegistration||"N/A",businessName:e.businessName||"N/A",taxpayerIdentificationNumber:e.taxpayerIdentificationNumber||"N/A",tinIssuedDate:t(e.tinIssuedDate)?.toLocaleDateString()||"N/A",companyType:e.companyType||"N/A",formOfBusiness:e.formOfBusiness||"N/A",ownershipType:e.ownershipType||"N/A",businessCategory:e.categories?e.categories.join(", "):"N/A",registrationNumber:e.registrationNumber||"N/A",registrationIssuedDate:t(e.registrationIssuedDate)?.toLocaleDateString()||"N/A"},contactInfo:e.vendor?{authorizedUser:`${e.vendor.firstName||""} ${e.vendor.lastName||""}`.trim()||"N/A",phone:e.vendor.phoneNumber||"N/A",email:e.vendor.email||"N/A"}:{authorizedUser:"N/A",phone:"N/A",email:"N/A"},documents:l(e.documents),timeline:i(e.registrationStatus||"pending",e.createdAt,e.updatedAt),metrics:{completionPercentage:a(e.registrationStatus),daysInReview:s,averageProcessingTime:"5-7 days"},vendor:e.vendor||null}}catch(t){throw new Error("Failed to process vendor data: "+t.message)}},R=(e,t="info")=>{b(e),j(t),x(!0),setTimeout(()=>x(!1),4e3)},z=async(e,t)=>{try{if(!t)return void R(`No file path available for ${e}`,"error");R(`Downloading ${e}...`,"info");const r=localStorage.getItem("token");let n=t;t.startsWith("http")||t.startsWith("/api/")||(n=`${M}/api/vendors/download-document`);const s=await fetch(n,{method:t.startsWith("http")?"GET":"POST",headers:{"Content-Type":"application/json",...r&&{Authorization:`Bearer ${r}`}},...!t.startsWith("http")&&{body:JSON.stringify({filePath:t})}});if(!s.ok)throw new Error(`Download failed with status: ${s.status}`);const a=await s.blob();if(0===a.size)throw new Error("Downloaded file is empty");const i=window.URL.createObjectURL(a),o=document.createElement("a");o.style.display="none",o.href=i,o.download=e,document.body.appendChild(o),o.click(),window.URL.revokeObjectURL(i),document.body.removeChild(o),R(`${e} downloaded successfully!`,"success")}catch(r){R(`Failed to download ${e}: ${r.message}`,"error")}},F=()=>{S(!1),t(`?section=${"registration"}`,{replace:!0})};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl max-w-md w-full text-center",children:[e.jsx(T,{size:24,className:"mx-auto mb-2"}),e.jsx("p",{className:"font-medium",children:u}),e.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Lae,{isVisible:i,message:"Loading dashboard..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:"Vendor Management Dashboard"})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:F,className:"p-2 rounded-2xl transition-colors "+(w?"bg-blue-600 text-white hover:bg-blue-700 animate-pulse":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e.jsx(Le,{size:16})})})]}),k&&w&&e.jsx(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-xl",children:e.jsx(Je,{size:20,className:"text-red-600"})}),e.jsx("div",{children:e.jsx("p",{className:"text-red-700 text-sm",children:"You haven't started your registration yet. Click the + button to begin your vendor registration process."})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Mae,{title:"Registration Status",value:w?"Not Started":r?(e=>{if(!e)return"Loading...";switch(e){case"not_started":return"Not Started";case"pending":return"Pending";case"under_review":return"Under Review";case"approved":return"Approved";case"rejected":return"Rejected";default:return"Unknown"}})(r.registrationStatus):"Loading...",icon:r?(t=>{if(!t)return e.jsx(T,{size:16});switch(t){case"not_started":default:return e.jsx(T,{size:16});case"pending":return e.jsx(l,{size:16});case"under_review":return e.jsx(Ue,{size:16,className:"animate-spin"});case"approved":return e.jsx(n,{size:16});case"rejected":return e.jsx(Jt,{size:16})}})(r.registrationStatus).type:T,color:r?"approved"===r.registrationStatus?"green":"under_review"===r.registrationStatus?"blue":"rejected"===r.registrationStatus?"red":"amber":"gray",subtitle:"Current status"}),e.jsx(Mae,{title:"Completion",value:r?r.metrics.completionPercentage:0,suffix:"%",icon:d,color:"green",subtitle:"Progress made"}),e.jsx(Mae,{title:"Days in Review",value:w?"0":r?r.metrics.daysInReview:0,icon:l,color:"purple",subtitle:"Processing time"}),e.jsx(Mae,{title:"Vendor ID",value:w?"N/A":r?r.id?.slice(-8):"Loading...",icon:y,color:"amber",subtitle:"Your identifier"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Registration Progress"})})}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"absolute left-6 top-0 w-0.5 bg-gradient-to-b from-blue-500 to-purple-600 transition-all duration-1000",style:{height:r?r.timeline.filter(e=>e.completed).length/r.timeline.length*100+"%":"0%"}}),e.jsx("div",{className:"space-y-4",children:r&&r.timeline.map((t,r)=>e.jsx(Iae,{item:t,index:r,isNewUser:w},r))})]})]}),!w&&r&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-6 px-4",children:[{id:"overview",label:"Business Overview",icon:L},{id:"documents",label:"Documents",icon:c},{id:"contact",label:"Contact Information",icon:B}].map(t=>e.jsxs("button",{onClick:()=>p(t.id),className:"flex items-center gap-2 py-3 px-2 border-b-2 font-medium text-sm transition-colors "+(h===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(t.icon,{size:16}),t.label]},t.id))})}),e.jsxs("div",{className:"p-4",children:["overview"===h&&e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Information"}),e.jsxs("button",{onClick:()=>{t("/vendor-registration/edit")},className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm",children:[e.jsx(Qe,{size:14}),"Edit Information"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:r.basicInfo&&Object.entries(r.basicInfo).map(([t,r])=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:r||"N/A"})]},t))})]}),"documents"===h&&e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Uploaded Documents"}),e.jsxs("div",{className:"text-sm text-gray-500",children:[r.documents?.length||0," document(s)"]})]}),r.documents&&r.documents.length>0?e.jsx("div",{className:"space-y-3",children:r.documents.map((t,r)=>e.jsx(Rae,{document:t,onDownload:z},r))}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border border-gray-200",children:[e.jsx(c,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-gray-500 mb-2",children:"No Documents Uploaded"}),e.jsx("p",{className:"text-gray-400 max-w-md mx-auto",children:"No documents have been uploaded yet. Documents will appear here once you upload them during the registration process."})]})]}),"contact"===h&&e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),r.contactInfo?e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{size:18,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:"Authorized User"}),e.jsx("p",{className:"text-gray-700 text-sm",children:r.contactInfo.authorizedUser})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{size:18,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:"Phone Number"}),e.jsx("p",{className:"text-gray-700 text-sm",children:r.contactInfo.phone})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{size:18,className:"text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:"Email Address"}),e.jsx("p",{className:"text-gray-700 text-sm",children:r.contactInfo.email})]})]})]})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No contact information available"})]})]})]})]}),w&&e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl border border-blue-200 p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(L,{size:32,className:"text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"Join our vendor network by completing the registration process. It only takes a few minutes to submit your business information and required documents."}),e.jsx("button",{onClick:F,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:"Start Your Registration"})]})]}),f&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===v?"bg-green-50 text-green-800 border-green-200":"error"===v?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full flex items-center justify-center "+("success"===v?"bg-green-500":"error"===v?"bg-red-500":"bg-blue-500"),children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"font-medium",children:g}),e.jsx("button",{onClick:()=>x(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}const Fae=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,Bae=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const d="large"===c?"col-span-2":"",u="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-1.5 hover:shadow-sm transition-shadow ${d}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-1",children:e.jsx("div",{className:"p-1.5 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})})}),e.jsxs("div",{className:`${u} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})};function qae(){const[t,r]=qr.useState([]),[a,i]=qr.useState(null),[o,l]=qr.useState(!1),[d,u]=qr.useState(null),[h,p]=qr.useState(""),[f,x]=qr.useState(null),[g,b]=qr.useState(null),[y,v]=qr.useState(null),[j,w]=qr.useState(!1),[N,S]=qr.useState(""),[C,A]=qr.useState("success"),[T,E]=qr.useState(!1),[P,O]=qr.useState(!1),L="https://backend.nexusmwi.com",M=$r(),[I,R]=qr.useState({}),[z,F]=qr.useState("all"),B=({tender:t,onMenuClick:r,showMenuId:n,onStartPreApproval:s,hasApplied:i})=>{const o=(e=>{const t=new Date,r=new Date(e)-t;return Math.ceil(r/864e5)})(t.deadline);return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-2 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm text-gray-900",children:t.title}),e.jsx("p",{className:"text-xs text-gray-500",children:t.company.name})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"open":return"bg-green-100 text-green-800";case"under_review":return"bg-yellow-100 text-yellow-800";case"closed":return"bg-red-100 text-red-800";case"awarded":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status.replace("_"," ")}),e.jsx("button",{"data-tender-id":t.id,onClick:()=>r(t.id),className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(Ve,{size:16})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 mb-1.5",children:[e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold text-gray-900",children:(c=t.budget,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(c))}),e.jsx("div",{className:"text-xs text-gray-500",children:"Budget"})]}),e.jsxs("div",{className:"text-center p-1.5 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-base font-bold "+(o<=7?"text-red-600":o<=14?"text-yellow-600":"text-green-600"),children:o>0?`${o}d`:"Expired"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Days Left"})]})]}),e.jsxs("div",{className:"space-y-0.5 mb-1.5",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Category"}),e.jsx("span",{className:"text-xs font-medium",children:t.category})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Location"}),e.jsx("span",{className:"text-xs font-medium",children:t.location})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"}),e.jsx("span",{className:"text-xs font-medium",children:(l=t.deadline,new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Urgency"}),e.jsx("span",{className:`text-xs font-medium ${(e=>{switch(e){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}})(t.urgency)}`,children:t.urgency})]})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Description"}),e.jsx("p",{className:"text-xs text-gray-800 line-clamp-2",children:t.description})]}),t.requirements&&t.requirements.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Requirements"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.requirements.slice(0,2).map((t,r)=>e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded-full font-medium",children:t},r)),t.requirements.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full font-medium",children:["+",t.requirements.length-2]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-1.5 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(D,{size:12}),e.jsx("span",{className:"truncate",children:t.contactEmail})]}),e.jsxs("div",{className:"flex gap-1",children:[i?e.jsxs("button",{onClick:()=>{const e=`?section=bid&tenderId=${t._id}&vendorId=${a.id}`;M(e)},className:"px-3 py-1 bg-gray-500 text-white text-xs font-medium rounded-xl hover:bg-gray-600 transition-colors flex items-center gap-1",children:[e.jsx(_,{size:12}),"View"]}):"open"===t.status&&o>0&&e.jsxs("button",{onClick:()=>s(t),className:"px-3 py-1 bg-blue-500 text-white text-xs font-medium rounded-xl hover:bg-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(Z,{size:12}),"Apply"]}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600 rounded-xl",children:e.jsx(_,{size:14})})]})]})]});var l,c};qr.useEffect(()=>{r(t)},[]),qr.useEffect(()=>{(async()=>{l(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${L}/api/tenders`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();r(e)}}catch(e){u("Failed to load data. Please try again.")}finally{l(!1)}})()},[L]),qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token");0;const t=await fetch(`${L}/api/vendors/vendor-data`,{method:"GET",headers:{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}});if(!t.ok){if(404===t.status)return E(!0),O(!0),void i({id:null,registrationStatus:"not_started",isNewUser:!0,timeline:[{status:"start_registration",date:"Not started",time:"",description:"Click the + button to start your registration",completed:!1,current:!0},{status:"document_upload",date:"Pending",time:"",description:"Upload required documents",completed:!1},{status:"document_verification",date:"Pending",time:"",description:"Documents verification",completed:!1},{status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1}],metrics:{completionPercentage:0,daysInReview:0,averageProcessingTime:"5-7 days"}});if(401===t.status)throw new Error("Authentication failed. Please login again.");if(403===t.status)throw new Error("Access denied. You do not have permission to view this data.");if(t.status>=500)throw new Error("Server error. Please try again later.");{const e=await t.text();throw new Error(`HTTP ${t.status}: ${e||"Unknown error"}`)}}const r=await t.json();if(!r||"object"!=typeof r)throw new Error("Invalid API response format");const n=$(r);i(n),E(!1)}catch(e){e.message.includes("fetch")?u("Network error. Please check your internet connection and try again."):e.message.includes("Authentication")?u("Authentication failed. Please login again."):e.message.includes("404")||e.message.includes("Not Found")?(E(!0),O(!0),i({id:null,registrationStatus:"not_started",isNewUser:!0,timeline:[{status:"start_registration",date:"Not started",time:"",description:"Click the + button to start your registration",completed:!1,current:!0},{status:"document_upload",date:"Pending",time:"",description:"Upload required documents",completed:!1},{status:"document_verification",date:"Pending",time:"",description:"Documents verification",completed:!1},{status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1}],metrics:{completionPercentage:0,daysInReview:0,averageProcessingTime:"5-7 days"}})):u(e.message||"Failed to load vendor data")}finally{l(!1)}})()},[L]),qr.useEffect(()=>{a?.id&&t.length>0&&t.forEach(e=>{q(e._id)})},[a?.id,t]);const q=async e=>{try{const t=localStorage.getItem("token"),r=await fetch(`${L}/api/bids/check-application/${a.id}/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){const t=await r.json();return R(r=>({...r,[e]:t.data.hasApplied})),t.data.hasApplied}return!1}catch(t){return!1}},$=e=>{try{if(!e._id)throw new Error("Missing vendor ID in API response");const t=e=>{if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t},r=t(e.createdAt),n=t(e.updatedAt),s=r?Math.floor((new Date-r)/864e5):0,a=e=>{switch(e){case"pending":return 25;case"under_review":return 75;case"approved":return 100;case"rejected":return 50;default:return 0}},i=(e,t,r)=>{const n=[],s=new Date(t);n.push({status:"submitted",date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Registration submitted successfully",completed:!0});const a=new Date(s);if(a.setDate(a.getDate()+1),n.push({status:"document_verification",date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Documents under verification",completed:["under_review","approved","rejected"].includes(e)}),["under_review","approved","rejected"].includes(e)){const t=new Date(s);t.setDate(t.getDate()+2),n.push({status:e,date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"rejected"===e?"Application was rejected - please review feedback":"Application under review by compliance team",completed:["approved","rejected"].includes(e),current:"under_review"===e})}else"pending"===e&&n.push({status:"under_review",date:"Pending",time:"",description:"Waiting for review by compliance team",completed:!1,current:!0});if("approved"===e&&r){const e=new Date(r);n.push({status:"final_approval",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Final approval and account activation completed",completed:!0})}else"rejected"!==e&&n.push({status:"final_approval",date:"Pending",time:"",description:"Final approval and account activation",completed:!1});return n};return{id:e._id,registrationStatus:e.registrationStatus||"pending",submissionDate:r?r.toLocaleDateString():"N/A",approvalDate:n?n.toLocaleDateString():null,isNewUser:!1,basicInfo:{countryOfRegistration:e.countryOfRegistration||"N/A",businessName:e.businessName||"N/A",taxpayerIdentificationNumber:e.taxpayerIdentificationNumber||"N/A",tinIssuedDate:t(e.tinIssuedDate)?.toLocaleDateString()||"N/A",companyType:e.companyType||"N/A",formOfBusiness:e.formOfBusiness||"N/A",ownershipType:e.ownershipType||"N/A",businessCategory:e.categories?e.categories.join(", "):"N/A",registrationNumber:e.registrationNumber||"N/A",registrationIssuedDate:t(e.registrationIssuedDate)?.toLocaleDateString()||"N/A"},contactInfo:e.vendor?{authorizedUser:`${e.vendor.firstName||""} ${e.vendor.lastName||""}`.trim()||"N/A",phone:e.vendor.phoneNumber||"N/A",email:e.vendor.email||"N/A"}:{authorizedUser:"N/A",phone:"N/A",email:"N/A"},documents:e.documents&&e.documents.length>0?{powerOfAttorney:{name:"Power of Attorney",uploadDate:t(e.createdAt)?.toLocaleDateString()||"N/A",status:"approved"===e.registrationStatus?"verified":"pending",size:"N/A",filePath:""}}:null,timeline:i(e.registrationStatus||"pending",e.createdAt,e.updatedAt),metrics:{completionPercentage:a(e.registrationStatus),daysInReview:s,averageProcessingTime:"5-7 days"},vendor:e.vendor||null}}catch(t){throw new Error("Failed to process vendor data: "+t.message)}},U=t.filter(e=>{const t="all"===z||e.status===z,r=e.title?.toLowerCase().includes(h.toLowerCase())||!1,n=e.company?.name?.toLowerCase().includes(h.toLowerCase())||!1,s=e.category?.toLowerCase().includes(h.toLowerCase())||!1,a=e.location?.toLowerCase().includes(h.toLowerCase())||!1;return t&&(r||n||s||a)}),W=t.length,V=t.filter(e=>"open"===e.status).length,H=t.filter(e=>"closed"===e.status).length,K=t.filter(e=>"awarded"===e.status).length,Y=t.reduce((e,t)=>e+(t.budget||0),0),X=W>0?Y/W:0,J=e=>e>=1e6?`$${(e/1e6).toFixed(1)}M`:e>=1e3?`$${(e/1e3).toFixed(0)}K`:`$${e}`,Q=async e=>{x(e),l(!0),S(""),A("success");try{const t=localStorage.getItem("token"),r=await fetch(`${L}/api/prequalifications/vendor/${a.id}`,{method:"GET",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}}});let n=null;if(r.ok){n=(await r.json()).data}if(!n){const e=await fetch(`${L}/api/prequalifications`,{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:`Bearer ${t}`}},body:JSON.stringify({vendorId:a.id})});if(!e.ok)throw new Error("Failed to create pre-qualification record");n=(await e.json()).data}const s=await fetch(`${L}/api/vendors/send-pre-qual-email`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({tenderTitle:e.title,preQualStatus:n.status,preQualScore:n.score,vendorId:a.id,tenderId:e._id})});if(!s.ok)throw new Error("Failed to send email notification");{const t=await s.json(),r=t.simulatedData?.status||n.status,i=t.simulatedData?.score||n.score,o=70;if("rejected"===r||i<o){const e=n.reasons||[],t=["certificate","license","registration","statement","policy","clearance","reference","insurance"],r=e.filter(e=>t.some(t=>e.toLowerCase().includes(t))).slice(0,3);let s=`Score: ${i}%`;if(r.length>0){s+=` - Add: ${r.map(e=>e.replace(" is missing or invalid","").replace("Registration Certificate","Business Reg.").replace("Business License","Trade License")).join(", ")}`}else s+=` - Below required ${o}%`;S(s),A("error"),w(!0)}else{S(`Approved! Score: ${i}% - Redirecting to bid portal...`),A("success"),w(!0);const t=`?section=bid&tenderId=${e._id}&vendorId=${a.id}&bidId=${n._id}`;M(t)}}}catch(t){S("Error processing application"),A("error"),w(!0)}finally{l(!1)}},ee=e=>{b(g===e?null:e)};return d?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-2xl",children:d})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(Fae,{isVisible:o,message:"Loading tenders..."}),e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Available Tenders"}),e.jsx("p",{className:"text-gray-600",children:"Browse and apply for business opportunities"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search tenders...",value:h,onChange:e=>p(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white"})]}),e.jsxs("select",{value:z,onChange:e=>F(e.target.value),className:"px-4 py-2 border border-gray-200 rounded-2xl text-sm bg-white",children:[e.jsxs("option",{value:"all",children:["All Status (",W,")"]}),e.jsxs("option",{value:"open",children:["Open (",V,")"]}),e.jsxs("option",{value:"closed",children:["Closed (",H,")"]}),e.jsxs("option",{value:"awarded",children:["Awarded (",K,")"]}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("button",{onClick:()=>{l(!0),setTimeout(()=>{l(!1)},1e3)},disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-2xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:o?"animate-spin":""}),"Refresh"]})]})]}),P&&T&&e.jsx(Rm.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"space-y-4",children:e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-2xl p-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-xl",children:e.jsx(Je,{size:20,className:"text-red-600"})}),e.jsx("div",{children:e.jsx("p",{className:"text-red-700 text-sm",children:"You haven't started your registration yet. Click the registration link to begin your vendor registration process."})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Bae,{title:"Total Tenders",value:W,icon:c,color:"blue",subtitle:"Available opportunities"}),e.jsx(Bae,{title:"Open Tenders",value:V,icon:n,color:"green",trend:8,subtitle:"Currently accepting bids"}),e.jsx(Bae,{title:"Total Value",value:J(Y),icon:m,color:"purple",trend:15,subtitle:"Combined tender value"}),e.jsx(Bae,{title:"Avg Budget",value:J(X),icon:k,color:"orange",trend:-3,subtitle:"Average tender budget"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Available Tenders"})}),e.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:e.jsxs("span",{children:[U.length," of ",W," tenders"]})})]}),0===U.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(c,{size:32,className:"text-gray-400"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h?"No tenders match your search":"No tenders available"}),e.jsx("p",{className:"text-gray-500 mb-4",children:h?"Try adjusting your search terms to find relevant tenders.":"Check back later for new tender opportunities."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:U.map(t=>e.jsx(B,{tender:t,onMenuClick:ee,showMenuId:g,actionLoading:y,onStartPreApproval:Q,hasApplied:I[t._id]},t.id))})]})]}),j&&e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:e.jsx("div",{className:"p-3 rounded-xl border shadow-sm "+("success"===C?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:e.jsxs("div",{className:"flex items-center gap-2",children:["success"===C?e.jsx(n,{size:16,className:"flex-shrink-0"}):e.jsx(Ce,{size:16,className:"flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium leading-tight",children:N}),e.jsx("button",{onClick:()=>w(!1),className:"ml-1 text-gray-400 hover:text-gray-600 flex-shrink-0",children:e.jsx(s,{size:16})})]})})})]})}const $ae=({isVisible:t,message:r="Processing..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-6 flex items-center gap-3",children:[e.jsx(Ue,{className:"animate-spin w-6 h-6 text-blue-500"}),e.jsx("span",{className:"font-medium",children:r})]})}):null,Uae=({currentStatus:t})=>{const r=[{id:"submitted",label:"Bid Submitted",description:"Your bid has been received"},{id:"under_review",label:"Under Review",description:"Initial document review"},{id:"technical_evaluation",label:"Technical Evaluation",description:"Technical compliance check"},{id:"financial_evaluation",label:"Financial Evaluation",description:"Price and financial assessment"},{id:"awarded",label:"Award Decision",description:"Final award decision"}];return e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Bid Status Timeline"}),e.jsx("div",{className:"space-y-4",children:r.map((s,a)=>{const i=(e=>{const n=r.map(e=>e.id),s=n.indexOf(t),a=n.indexOf(e);return a<s?"completed":a===s?"current":"upcoming"})(s.id);return e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+("completed"===i?"bg-green-500 text-white":"current"===i?"bg-blue-500 text-white":"bg-gray-200 text-gray-500"),children:"completed"===i?e.jsx(n,{size:16}):a+1}),a<r.length-1&&e.jsx("div",{className:"w-0.5 h-8 mt-1 "+("completed"===i?"bg-green-500":"bg-gray-200")})]}),e.jsxs("div",{className:"flex-1 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:s.label}),"current"===i&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 text-sm",children:[e.jsx(l,{size:14}),e.jsx("span",{children:"In Progress"})]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description})]})]},s.id)})})]})},Wae=({tender:t,onDocumentUpload:r,uploadedDocuments:s})=>{const[a,i]=qr.useState(null);return s&&0!==Object.keys(s).length?e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Required Documents"}),e.jsx("div",{className:"space-y-3",children:[{id:"technical_proposal",name:"Technical Proposal",description:"Detailed technical solution",accept:".pdf,.doc,.docx"},{id:"financial_proposal",name:"Financial Proposal",description:"Detailed cost breakdown",accept:".pdf,.xlsx,.xls"},{id:"company_profile",name:"Company Profile",description:"Company background and experience",accept:".pdf,.doc,.docx"}].map(t=>{const o=s[t.id],l=o?.uploaded;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm text-gray-900",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.description}),l&&e.jsxs("p",{className:"text-xs text-green-600",children:["Uploaded: ",o.name]})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:l?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(n,{size:16}),e.jsx("span",{className:"text-xs",children:"Uploaded"})]}):e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",onChange:e=>(async(e,t,n)=>{const s=Array.from(e.target.files);if(0!==s.length){i(t);try{await r(s,t,n),e.target.value=""}catch(ide){}finally{i(null)}}})(e,t.id,t.name),accept:t.accept,disabled:a===t.id}),e.jsx("div",{className:"flex items-center gap-1 px-3 py-1 text-xs font-medium rounded-lg transition-colors "+(a===t.id?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),children:a===t.id?"Uploading...":"Upload"})]})})]},t.id)})})]}):e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Required Documents"}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading documents..."})]})]})},Vae=({bidAmount:t,setBidAmount:r,proposal:n,setProposal:s})=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Bid Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bid Amount (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"number",value:t,onChange:e=>r(e.target.value),className:"pl-10 w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your bid amount",min:"0",step:"0.01"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Technical Proposal"}),e.jsx("textarea",{value:n,onChange:e=>s(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your technical approach, methodology, and why you're the best choice for this tender..."})]})]})]});function Hae({tenderId:t,vendorId:r,bidId:s}){const[a,i]=qr.useState(null),[o,l]=qr.useState(null),[c,d]=qr.useState(null),[u,h]=qr.useState(!0),[p,f]=qr.useState(null),[x,g]=qr.useState(null),[b,y]=qr.useState(!1),[j,w]=qr.useState(""),[N,k]=qr.useState("success"),[S,C]=qr.useState(""),[A,E]=qr.useState(""),[_,P]=qr.useState({}),[M,I]=qr.useState(!1),[R,z]=qr.useState(!1),q=(e,t="success")=>{w(e),k(t),y(!0),setTimeout(()=>{y(!1)},5e3)},$=$r(),U="https://backend.nexusmwi.com",W=[{id:"technical_proposal",name:"Technical Proposal"},{id:"financial_proposal",name:"Financial Proposal"},{id:"company_profile",name:"Company Profile"}];qr.useEffect(()=>{o?.documents&&W.forEach(e=>{o.documents.find(t=>t.type===e.id),_[e.id]})},[o,_]),qr.useEffect(()=>{const e=new URLSearchParams(window.location.search),n={tenderId:t||e.get("tenderId"),vendorId:r||e.get("vendorId"),bidId:s||e.get("bidId")};if(!n.tenderId||!n.vendorId){return f("Invalid link parameters. Please make sure you're using a valid bid invitation link from the Tenders page."),void h(!1)}g(n)},[t,r,s]);const V=e=>{const t={};W.forEach(e=>{t[e.id]={uploaded:!1,name:e.name}}),Array.isArray(e.documents)&&e.documents.forEach(e=>{t[e.type]&&(t[e.type]={uploaded:!0,name:e.name,filePath:e.filePath.startsWith("/")?e.filePath:`/${e.filePath}`,document:e})}),P(t)};qr.useEffect(()=>{if(!x)return;(async()=>{const{tenderId:e,vendorId:t}=x;if(!e||!t){return f("Invalid link parameters. Please make sure you're using a valid bid invitation link."),void h(!1)}try{const r=localStorage.getItem("token");if(!r){return f("Please log in to access the bid portal"),void h(!1)}const n=await fetch(`${U}/api/tenders/${e}`,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!n.ok){await n.text();throw 404===n.status?new Error(`Tender not found. The tender may have been removed or the ID is incorrect. Tender ID: ${e}`):401===n.status?new Error("Authentication failed. Please log in again."):new Error(`Failed to fetch tender: ${n.status} ${n.statusText}`)}const s=await n.json();i(s);const a=await fetch(`${U}/api/vendors/${t}`,{headers:{Authorization:`Bearer ${r}`}});if(!a.ok)throw new Error(`Failed to fetch vendor details: ${a.status} ${a.statusText}`);{const e=await a.json();d(e)}const o=await fetch(`${U}/api/bids/vendor/${t}/tender/${e}`,{headers:{Authorization:`Bearer ${r}`}});if(o.ok){const e=await o.json(),t=e.data||e;l(t),V(t),C(t.bidAmount?.toString()||""),E(t.proposal||"")}else(()=>{const e={};W.forEach(t=>{e[t.id]={uploaded:!1,name:t.name}}),P(e),C(""),E("")})()}catch(r){f(r.message)}finally{h(!1)}})()},[x,U]),qr.useEffect(()=>{o&&o.documents&&V(o)},[o]),qr.useEffect(()=>{(()=>{const e=W.every(e=>!0===_[e.id]?.uploaded),t=S&&parseFloat(S)>0,r=A&&A.trim().length>0;I(e&&t&&r)})()},[_,S,A]);const H=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),G=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return x?u?e.jsx($ae,{isVisible:!0,message:"Loading bid details..."}):p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-red-200 p-6 max-w-md text-center",children:[e.jsx(T,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Unable to Load Bid"}),e.jsx("p",{className:"text-gray-600 mb-4",children:p}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>$("?section=tenders"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[e.jsx(F,{size:20}),e.jsx("span",{children:"Back to Tenders"})]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-gray-500 text-white rounded-xl hover:bg-gray-600 transition-colors",children:"Try Again"})]})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:["draft"===o?.status&&e.jsx("div",{className:"max-w-7xl mx-auto p-4 pb-0",children:e.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Ready to Submit"}),e.jsx("p",{className:"text-sm text-gray-600",children:M?"All requirements completed. You can now submit your bid.":"Complete all required documents and bid details to submit."}),!M&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[e.jsx("p",{children:"Missing requirements:"}),e.jsxs("ul",{className:"list-disc list-inside",children:[!_.technical_proposal?.uploaded&&e.jsx("li",{children:"Technical Proposal"}),!_.financial_proposal?.uploaded&&e.jsx("li",{children:"Financial Proposal"}),!_.company_profile?.uploaded&&e.jsx("li",{children:"Company Profile"}),(!S||parseFloat(S)<=0)&&e.jsx("li",{children:"Valid Bid Amount"}),(!A||0===A.trim().length)&&e.jsx("li",{children:"Technical Proposal Description"})]})]})]}),e.jsx("button",{onClick:async()=>{if(M){z(!0);try{const e=localStorage.getItem("token"),t=await fetch(`${U}/api/bids/submit`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({bidId:o?._id,tenderId:x.tenderId,vendorId:x.vendorId,bidAmount:parseFloat(S),proposal:A})}),r=await t.json();if(!t.ok)throw new Error(r.message||"Failed to submit bid");l(r.data),q("Bid submitted successfully!","success")}catch(e){q(e.message||"Error submitting bid","error")}finally{z(!1)}}},disabled:!M||R,className:"px-6 py-3 rounded-xl font-medium transition-colors "+(M&&!R?"bg-green-500 text-white hover:bg-green-600":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:R?"Submitting...":"Submit Bid"})]})})}),b&&e.jsx("div",{className:"fixed top-4 right-4 z-50 max-w-sm",children:e.jsx("div",{className:"p-3 rounded-xl border shadow-sm "+("success"===N?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["success"===N?e.jsx(n,{size:16,className:"flex-shrink-0"}):e.jsx(T,{size:16,className:"flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium",children:j})]}),e.jsx("button",{onClick:()=>y(!1),className:"ml-2 text-gray-400 hover:text-gray-600",children:e.jsx("span",{className:"text-lg",children:""})})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto p-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"text-gray-400",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Issuing Organization"}),e.jsx("p",{className:"font-medium",children:a.company?.name})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m,{className:"text-gray-400",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Budget"}),e.jsx("p",{className:"font-medium",children:H(a.budget)})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"text-gray-400",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),e.jsx("p",{className:"font-medium",children:a.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"text-gray-400",size:20}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Submission Deadline"}),e.jsx("p",{className:"font-medium",children:G(a.deadline)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:a.description})]})]}),("draft"===o?.status||!o)&&e.jsx(Vae,{bidAmount:S,setBidAmount:C,proposal:A,setProposal:E}),o&&"draft"!==o.status&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h2",{className:"font-semibold text-gray-900 mb-4",children:"Your Bid Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Bid Amount"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:H(o.bidAmount)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Submitted On"}),e.jsx("p",{className:"font-medium",children:G(o.submittedAt)})]}),o.proposal&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Technical Proposal"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.proposal})]})]})]}),e.jsx(Wae,{tender:a,onDocumentUpload:async(e,t,r)=>{h(!0);try{const n=localStorage.getItem("token"),s=new FormData;e.forEach(e=>{s.append("documents",e)}),s.append("bidId",o?._id?o._id:"new"),s.append("tenderId",x?.tenderId),s.append("vendorId",x?.vendorId),s.append("documentType",t);const a=await fetch(`${U}/api/bids/documents`,{method:"POST",headers:{Authorization:`Bearer ${n}`},body:s});if(!a.ok){const e=await a.text();throw new Error(`Failed to upload ${r}: ${a.status} - ${e}`)}const i=await a.json();q(`${r} uploaded successfully`,"success"),l(i.data),V(i.data)}catch(n){q(`Error uploading ${r}: ${n.message}`,"error")}finally{h(!1)}},uploadedDocuments:_})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Uae,{currentStatus:o?.status||"draft"}),c&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Your Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(O,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[c.vendor?.firstName," ",c.vendor?.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Authorized Representative"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{size:16,className:"text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-900",children:c.businessName})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(D,{size:16,className:"text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-900",children:c.vendor?.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(B,{size:16,className:"text-gray-400"}),e.jsx("p",{className:"text-sm text-gray-900",children:c.vendor?.phoneNumber})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Important Dates"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Bid Submission"}),e.jsx("p",{className:"text-xs text-gray-500",children:o?.submittedAt?G(o.submittedAt):"Not submitted yet"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Technical Evaluation"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Within 5 business days"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Award Decision"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Within 15 business days"})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-2xl border border-blue-200 p-6",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Contact our procurement team for any questions about your bid submission."}),e.jsxs("div",{className:"text-xs text-blue-600 space-y-1",children:[e.jsx("p",{children:" procurement@nexusmwi.com"}),e.jsx("p",{children:" +265 123 456 789"})]})]})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 max-w-md text-center",children:[e.jsx(T,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tender Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The tender you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>$("/tenders"),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors",children:"Back to Tenders"})]})}):e.jsx($ae,{isVisible:!0,message:"Initializing bid portal..."})}const Gae=({title:t,children:r,action:n,subtitle:s,actionIcon:a,isLoading:i=!1,size:o="normal"})=>{const l="large"===o?"lg:col-span-2":"full"===o?"col-span-full":"";return e.jsxs("div",{className:`bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 ${l}`,children:[e.jsx("div",{className:"p-5 border-b border-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900",children:t}),s&&e.jsx("p",{className:"text-xs text-gray-600",children:s})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsxs("button",{className:"flex items-center gap-1 px-3 py-1.5 text-xs font-semibold text-blue-600 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors duration-200",children:[n,a&&e.jsx("actionIcon",{size:12})]}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(Ve,{size:14})})]})]})}),e.jsx("div",{className:"p-5",children:i?e.jsxs("div",{className:"animate-pulse space-y-3",children:[e.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-32 bg-gray-100 rounded-lg"})]}):r})]})},Kae=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-xl p-3 backdrop-blur-sm",children:[e.jsx("p",{className:"font-semibold text-gray-900 mb-1 text-xs",children:n}),e.jsx("div",{className:"space-y-1",children:r.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsxs("span",{className:"text-gray-600",children:[t.name,":"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:"number"==typeof t.value?t.value.toLocaleString():t.value})]},r))})]}):null,Yae=()=>{const[t,n]=qr.useState(!1),s=[{name:"Won",value:15,color:"#10b981",percentage:37.5},{name:"Submitted",value:12,color:"#3b82f6",percentage:30},{name:"Pending",value:8,color:"#f59e0b",percentage:20},{name:"Draft",value:5,color:"#6b7280",percentage:12.5}],a=e=>{switch(e){case"submitted":return"bg-blue-100 text-blue-800 border-blue-200";case"pending":return"bg-amber-100 text-amber-800 border-amber-200";case"draft":default:return"bg-gray-100 text-gray-800 border-gray-200";case"won":return"bg-emerald-100 text-emerald-800 border-emerald-200"}},i=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-5 mb-7",children:[e.jsx("div",{className:"xl:col-span-4",children:e.jsxs(Gae,{title:"RFQ Distribution",subtitle:"Current pipeline status",isLoading:t,children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:s,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:4,dataKey:"value",children:s.map((t,r)=>e.jsx(Hk,{fill:t.color,stroke:"white",strokeWidth:2},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Kae,{})})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-5",children:s.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:t.color}}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:t.value}),e.jsx("div",{className:"text-xs font-medium text-gray-600",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.percentage,"%"]})]})]},r))})]})}),e.jsx("div",{className:"xl:col-span-8",children:e.jsxs(Gae,{title:"Performance Analytics",subtitle:"RFQ submissions and win rate trends",action:"View Details",actionIcon:nt,isLoading:t,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-semibold border border-emerald-200",children:[e.jsx(r,{size:12}),"+23% Win Rate"]})}),e.jsx(Vk,{width:"100%",height:240,children:e.jsxs(zU,{data:[{month:"Jan",submitted:8,won:3},{month:"Feb",submitted:12,won:5},{month:"Mar",submitted:15,won:7},{month:"Apr",submitted:18,won:8},{month:"May",submitted:22,won:12},{month:"Jun",submitted:25,won:15}],margin:{top:15,right:25,left:15,bottom:15},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"submittedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"wonGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]})]}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(Lk,{content:e.jsx(Kae,{})}),e.jsx(Uq,{type:"monotone",dataKey:"submitted",stroke:"#3b82f6",fillOpacity:1,fill:"url(#submittedGradient)",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:3},activeDot:{r:5,fill:"#3b82f6",strokeWidth:2,stroke:"white"},name:"Submitted"}),e.jsx(Uq,{type:"monotone",dataKey:"won",stroke:"#10b981",fillOpacity:1,fill:"url(#wonGradient)",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:3},activeDot:{r:5,fill:"#10b981",strokeWidth:2,stroke:"white"},name:"Won"}),e.jsx(kN,{wrapperStyle:{paddingTop:"15px",fontSize:"12px"},iconType:"circle"})]})})]})}),e.jsx("div",{className:"xl:col-span-12",children:e.jsx(Gae,{title:"High-Value Opportunities",subtitle:"Priority RFQs requiring immediate attention",action:"New Quote",actionIcon:Le,isLoading:t,children:e.jsx("div",{className:"space-y-5",children:[{id:"RFQ-2025-001",title:"Enterprise Cloud Infrastructure",value:285e3,status:"pending",daysLeft:4,priority:"high",client:"TechCorp Solutions"},{id:"RFQ-2025-002",title:"Digital Transformation Suite",value:42e4,status:"submitted",daysLeft:2,priority:"critical",client:"Global Industries"},{id:"RFQ-2025-003",title:"Cybersecurity Framework",value:175e3,status:"draft",daysLeft:6,priority:"medium",client:"SecureFlow Inc"}].map((t,r)=>e.jsxs("div",{className:"group flex items-center justify-between p-5 border border-gray-100 rounded-lg hover:border-blue-200 hover:shadow-md hover:shadow-blue-500/10 transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg",children:e.jsx(c,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:t.title}),e.jsxs("p",{className:"text-xs text-gray-600 font-mono",children:[t.id,"  ",t.client]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx(l,{size:12,className:"text-gray-400"}),e.jsxs("span",{className:"text-gray-500",children:[t.daysLeft," days remaining"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold bg-gradient-to-r from-emerald-600 to-emerald-500 bg-clip-text text-transparent",children:["$",(t.value/1e3).toFixed(0),"k"]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Potential Value"})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsx("span",{className:`px-2.5 py-1.5 text-xs font-semibold rounded-full border ${a(t.status)}`,children:t.status.toUpperCase()}),e.jsx("span",{className:`px-2.5 py-1.5 text-xs font-semibold rounded-full border ${i(t.priority)}`,children:t.priority.toUpperCase()})]}),e.jsx(se,{size:16,className:"text-gray-400 group-hover:text-blue-500 transition-colors"})]})]},t.id))})})})]})},Xae=()=>{const[t,r]=qr.useState(!1),s=[{name:"Delivered",value:25,color:"#10b981"},{name:"Confirmed",value:18,color:"#3b82f6"},{name:"Processing",value:12,color:"#f59e0b"},{name:"Pending",value:8,color:"#6b7280"}],a=[{metric:"On-Time Delivery",value:94,target:95,color:"emerald",icon:g},{metric:"Order Accuracy",value:98,target:97,color:"blue",icon:n},{metric:"Customer Rating",value:4.8,target:4.5,color:"amber",icon:p,isRating:!0},{metric:"Fulfillment Rate",value:96,target:95,color:"purple",icon:y}];return e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-5 mb-7",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(Gae,{title:"Order Pipeline",subtitle:"Current order distribution",isLoading:t,children:e.jsx(Vk,{width:"100%",height:180,children:e.jsxs(IU,{data:s,margin:{top:15,right:25,left:15,bottom:35},children:[e.jsx("defs",{children:s.map((t,r)=>e.jsxs("linearGradient",{id:`gradient-${t.name}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:t.color}),e.jsx("stop",{offset:"100%",stopColor:t.color,stopOpacity:.8})]},r))}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1}),e.jsx(S$,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500},angle:-45,textAnchor:"end",height:50}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(Lk,{content:e.jsx(Kae,{})}),e.jsx(sF,{dataKey:"value",radius:[8,8,8,8],stroke:"white",strokeWidth:1,children:s.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))})]})})}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:a.map((t,r)=>{const n={emerald:{bg:"bg-emerald-50",text:"text-emerald-600",gradient:"from-emerald-500 to-emerald-400"},blue:{bg:"bg-blue-50",text:"text-blue-600",gradient:"from-blue-500 to-blue-400"},amber:{bg:"bg-amber-50",text:"text-amber-600",gradient:"from-amber-500 to-amber-400"},purple:{bg:"bg-purple-50",text:"text-purple-600",gradient:"from-purple-500 to-purple-400"}};return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 p-4 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${n[t.color].bg}`,children:e.jsx(t.icon,{className:`w-4 h-4 ${n[t.color].text}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-lg font-bold ${n[t.color].text}`,children:t.isRating?t.value:`${t.value}%`}),e.jsx("div",{className:"text-xs font-medium text-gray-600",children:t.metric})]})]}),e.jsx("div",{className:"w-full bg-gray-100 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r ${n[t.color].gradient} transition-all duration-500`,style:{width:`${t.isRating?t.value/5*100:t.value}%`}})})]},r)})})]}),e.jsxs(Gae,{title:"Delivery Excellence",subtitle:"Monthly performance tracking",action:"View Details",actionIcon:nt,isLoading:t,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-semibold border border-emerald-200",children:[e.jsx(y,{size:12}),"94% Success Rate"]})}),e.jsx(Vk,{width:"100%",height:240,children:e.jsxs(MU,{data:[{month:"Jan",orders:45,onTime:42},{month:"Feb",orders:52,onTime:48},{month:"Mar",orders:48,onTime:46},{month:"Apr",orders:65,onTime:61},{month:"May",orders:58,onTime:55},{month:"Jun",orders:63,onTime:59}],margin:{top:15,right:25,left:15,bottom:15},children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(Lk,{content:e.jsx(Kae,{})}),e.jsx(Aq,{type:"monotone",dataKey:"orders",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",strokeWidth:2,r:3},activeDot:{r:5,fill:"#3b82f6",strokeWidth:2,stroke:"white"},name:"Total Orders"}),e.jsx(Aq,{type:"monotone",dataKey:"onTime",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:3},activeDot:{r:5,fill:"#10b981",strokeWidth:2,stroke:"white"},name:"On-Time Delivery"}),e.jsx(kN,{wrapperStyle:{paddingTop:"15px",fontSize:"12px"},iconType:"circle"})]})})]})]})},Jae=()=>{const[t,r]=qr.useState(!1),n=[{name:"Paid",value:85e4,color:"#10b981",percentage:68},{name:"Pending",value:22e4,color:"#f59e0b",percentage:18},{name:"Processing",value:125e3,color:"#3b82f6",percentage:10},{name:"Overdue",value:55e3,color:"#ef4444",percentage:4}],s=[{label:"Monthly Revenue",value:175e4,change:18.5,icon:m,color:"emerald"},{label:"Profit Margin",value:58.9,change:4.2,icon:d,color:"blue",isPercentage:!0},{label:"Outstanding",value:275e3,change:-12.3,icon:l,color:"amber"},{label:"Collection Rate",value:96.2,change:2.1,icon:g,color:"purple",isPercentage:!0}];return e.jsxs("div",{className:"space-y-5 mb-7",children:[e.jsx(Gae,{title:"Financial Overview",subtitle:"Key financial metrics and performance indicators",isLoading:t,children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5",children:s.map((t,r)=>{const n={emerald:{bg:"from-emerald-500 to-emerald-600",shadow:"shadow-emerald-500/25",text:"text-emerald-600",accent:"from-emerald-500/10"},blue:{bg:"from-blue-500 to-blue-600",shadow:"shadow-blue-500/25",text:"text-blue-600",accent:"from-blue-500/10"},amber:{bg:"from-amber-500 to-amber-600",shadow:"shadow-amber-500/25",text:"text-amber-600",accent:"from-amber-500/10"},purple:{bg:"from-purple-500 to-purple-600",shadow:"shadow-purple-500/25",text:"text-purple-600",accent:"from-purple-500/10"}};return e.jsxs("div",{className:"group relative bg-gradient-to-br from-gray-50 to-white rounded-lg border border-gray-100 p-5 hover:shadow-md transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:`p-2.5 rounded-lg bg-gradient-to-br ${n[t.color].bg} shadow-lg ${n[t.color].shadow}`,children:e.jsx(t.icon,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex items-center gap-1 px-2.5 py-1.5 rounded-full text-xs font-semibold "+(t.change>0?"bg-emerald-50 text-emerald-700 border border-emerald-200":"bg-red-50 text-red-700 border border-red-200"),children:[t.change>0?e.jsx(Ht,{size:12}):e.jsx(ar,{size:12}),Math.abs(t.change),"%"]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:`text-xl font-bold ${n[t.color].text}`,children:t.isPercentage?`${t.value}%`:`$${(t.value/1e3).toFixed(0)}k`}),e.jsx("div",{className:"text-xs font-semibold text-gray-600",children:t.label})]}),e.jsx("div",{className:`absolute top-0 right-0 w-16 h-16 bg-gradient-to-br ${n[t.color].accent} to-transparent rounded-lg pointer-events-none`})]},r)})})}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-5",children:[e.jsxs(Gae,{title:"Payment Distribution",subtitle:"Current payment status breakdown",isLoading:t,children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:n,cx:"50%",cy:"50%",innerRadius:50,outerRadius:80,paddingAngle:4,dataKey:"value",children:n.map((t,r)=>e.jsx(Hk,{fill:t.color,stroke:"white",strokeWidth:2},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Kae,{}),formatter:e=>[`$${(e/1e3).toFixed(0)}k`,"Amount"]})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:n.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:t.color}}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm font-bold text-gray-900",children:["$",(t.value/1e3).toFixed(0),"k"]}),e.jsxs("div",{className:"text-xs font-medium text-gray-600",children:[t.name," (",t.percentage,"%)"]})]})]},r))})]}),e.jsxs(Gae,{title:"Cash Flow Analysis",subtitle:"Monthly income vs expenses trend",action:"View Details",actionIcon:nt,isLoading:t,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-emerald-50 text-emerald-700 rounded-full text-xs font-semibold border border-emerald-200",children:[e.jsx(h,{size:12}),"$1.03M Profit"]})}),e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(zU,{data:[{month:"Jan",income:745e3,expenses:385e3},{month:"Feb",income:892e3,expenses:445e3},{month:"Mar",income:115e4,expenses:52e4},{month:"Apr",income:134e4,expenses:58e4},{month:"May",income:158e4,expenses:65e4},{month:"Jun",income:175e4,expenses:72e4}],margin:{top:15,right:25,left:15,bottom:15},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"incomeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.1})]}),e.jsxs("linearGradient",{id:"expenseGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.1})]})]}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f1f5f9",strokeWidth:1}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#64748b",fontWeight:500},tickFormatter:e=>`$${(e/1e3).toFixed(0)}k`}),e.jsx(Lk,{content:e.jsx(Kae,{}),formatter:e=>[`$${(e/1e3).toFixed(0)}k`,""]}),e.jsx(Uq,{type:"monotone",dataKey:"income",stroke:"#10b981",fillOpacity:1,fill:"url(#incomeGradient)",strokeWidth:2,dot:{fill:"#10b981",strokeWidth:2,r:3},activeDot:{r:5,fill:"#10b981",strokeWidth:2,stroke:"white"},name:"Income"}),e.jsx(Uq,{type:"monotone",dataKey:"expenses",stroke:"#ef4444",fillOpacity:1,fill:"url(#expenseGradient)",strokeWidth:2,dot:{fill:"#ef4444",strokeWidth:2,r:3},activeDot:{r:5,fill:"#ef4444",strokeWidth:2,stroke:"white"},name:"Expenses"}),e.jsx(kN,{wrapperStyle:{paddingTop:"15px",fontSize:"12px"},iconType:"circle"})]})})]})]})]})};function Qae(){const t=$r(),{user:r}=An(),[n,s]=qr.useState(null),[a,i]=qr.useState(!0),[o,l]=qr.useState(!1),[c,d]=qr.useState(!1),[u,m]=qr.useState({requisitions:{counts:{total:0,pending:0}},rfqs:{counts:{total:0,open:0}},purchaseOrders:{counts:{total:0,pending:0}},invoices:{counts:{total:0,pending:0}}}),[h]=Vr(),[p,f]=qr.useState(()=>h.get("section")||"vendor-dash"),[x,g]=qr.useState(!0),[b,y]=qr.useState(0);qr.useEffect(()=>{const e=document.createElement("style");return e.textContent="\n      @keyframes blob {\n        0% { transform: translate(0px, 0px) scale(1); }\n        33% { transform: translate(30px, -50px) scale(1.1); }\n        66% { transform: translate(-20px, 20px) scale(0.9); }\n        100% { transform: translate(0px, 0px) scale(1); }\n      }\n      .animate-blob { animation: blob 7s infinite; }\n      .animation-delay-2000 { animation-delay: 2s; }\n      .animation-delay-4000 { animation-delay: 4s; }\n    ",document.head.appendChild(e),()=>{document.head.removeChild(e)}},[]),qr.useEffect(()=>{r&&(async()=>{try{i(!0),await new Promise(e=>setTimeout(e,1e3)),s({user:{firstName:r?.firstName||"Vendor",lastName:r?.lastName||"User",email:r?.email||"vendor@example.com",avatar:null,department:"Vendor Services",role:"Vendor"},preferences:{theme:"light",notifications:!0,language:"en"}}),setTimeout(()=>l(!0),500)}catch(ide){}finally{i(!1)}})()},[r]),qr.useEffect(()=>{const e=h.get("section")||"vendor-dash";f(e)},[h]);return qr.useEffect(()=>{const e=()=>{y(window.pageYOffset)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50/30 to-indigo-50/20 flex relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-20",children:[e.jsx("div",{className:"absolute top-0 left-1/4 w-72 h-72 bg-blue-400/20 rounded-full mix-blend-multiply filter blur-xl animate-blob"}),e.jsx("div",{className:"absolute top-0 right-1/4 w-72 h-72 bg-purple-400/20 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-2000"}),e.jsx("div",{className:"absolute -bottom-8 left-1/3 w-72 h-72 bg-pink-400/20 rounded-full mix-blend-multiply filter blur-xl animate-blob animation-delay-4000"})]}),e.jsx(hae,{stats:u,activeSection:p,handleSectionChange:e=>{f(e),t(`?section=${e}`,{replace:!0})},onSidebarToggle:g}),e.jsxs("main",{className:"flex-1 overflow-auto relative z-10",children:[e.jsx(gae,{user:r,userProfile:n,scrollPosition:b,sidebarOpen:x,sidebarWidth:256,collapsedSidebarWidth:70}),e.jsx("div",{className:"pt-20 p-5 space-y-7 max-w-[1200px] mx-auto",children:"vendor-dash"===p?e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-7",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vendor Dashboard"}),e.jsxs("p",{className:"text-gray-700 text-sm max-w-xl",children:["Welcome back, ",e.jsx("span",{className:"font-semibold text-black",children:r?.firstName?r.firstName.charAt(0).toUpperCase()+r.firstName.slice(1):"Vendor"}),". Monitor your business performance with comprehensive analytics."]})]})}),e.jsx(Yae,{}),e.jsx(Xae,{}),e.jsx(Jae,{})]}):e.jsxs("div",{children:["requisitions"===p&&e.jsx(pte,{}),"new-recon"===p&&e.jsx(Eae,{}),"travel-requests"===p&&e.jsx(Zre,{}),"travel-execution"===p&&e.jsx(kae,{}),"manage-requisitions"===p&&e.jsx(S3,{}),"rfq"===p&&e.jsx(Cte,{}),"invoices"===p&&e.jsx(_ae,{}),"purchase-order"===p&&e.jsx(_te,{}),"registration"===p&&e.jsx(Oae,{}),"registration-management"===p&&e.jsx(zae,{}),"user-profile"===p&&e.jsx(KW,{}),"tenders"===p&&e.jsx(qae,{}),"bid"===p&&e.jsx("div",{className:"w-full",children:e.jsx(Hae,{tenderId:h.get("tenderId"),vendorId:h.get("vendorId"),bidId:h.get("bidId")},`bid-${h.get("tenderId")}-${h.get("vendorId")}-${h.get("bidId")}`)})]})})]}),e.jsx(Bm,{user:r})]})}const Zae="#141b2d",eie="rgba(145, 158, 171, 0.08)",tie="rgba(85, 105, 255, 0.16)",rie="#5569ff",nie="rgba(85, 105, 255, 0.24)",sie="#e0e0e0",aie="rgba(224, 224, 224, 0.6)",iie="#90a0b7",oie="#5569ff",lie="rgba(145, 158, 171, 0.16)",cie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),e.jsx("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]}),die=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),uie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e.jsx("path",{d:"M14 2v6h6"}),e.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e.jsx("polyline",{points:"10 9 9 9 8 9"})]}),mie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M15 11h.01M11 15h.01M16 16h.01M10 12h.01M3 7l2.5 3 4-5 2.5 3 3-4 2.5 3L20.5 5"}),e.jsx("path",{d:"M20 22h-2a2 2 0 0 1-2-2v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20h3a1 1 0 0 1 1 1v0a1 1 0 0 1-1 1ZM15.4 22H8.6c-.5 0-.9-.4-.9-.9V10.1c0-.5.4-.9.9-.9h6.8c.5 0 .9.4.9.9v10.9c0 .6-.4 1-.9 1Z"}),e.jsx("path",{d:"M4 22H2a1 1 0 0 1-1-1v0a1 1 0 0 1 1-1h3v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20a2 2 0 0 1-2 2Z"})]}),hie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"}),e.jsx("path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"}),e.jsx("circle",{cx:"7",cy:"18",r:"2"}),e.jsx("path",{d:"M15 18H9"}),e.jsx("circle",{cx:"17",cy:"18",r:"2"})]}),pie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.5 10-10 10Z"}),e.jsx("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"})]}),fie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]}),xie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"m4.93 10.93 2.83-2.83"}),e.jsx("path",{d:"M16.24 16.24 19.07 19.07"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"m10.93 4.93-2.83 2.83"}),e.jsx("path",{d:"M16.24 7.76 19.07 4.93"})]}),gie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),bie=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),yie=le(ce)(({theme:e})=>({color:sie,margin:"2px 12px",padding:"10px 16px",borderRadius:"6px",transition:"all 0.15s ease-in-out","&.Mui-selected":{backgroundColor:tie,color:rie,"&:hover":{backgroundColor:nie},"& .MuiListItemIcon-root":{color:rie},"& .MuiTypography-root":{fontWeight:500}},"&:hover":{backgroundColor:eie}})),vie=le(oe)(({theme:e,open:t})=>({color:aie,fontSize:"0.6875rem",fontWeight:500,textTransform:"uppercase",padding:t?"16px 28px 6px":"16px 0",letterSpacing:"0.6px",textAlign:t?"left":"center",opacity:t?1:0,height:t?"auto":0,marginBottom:t?"4px":0,transition:"opacity 0.2s ease, height 0.2s ease, margin 0.2s ease"})),jie=le(de,{shouldForwardProp:e=>"open"!==e&&"isMobile"!==e})(({theme:e,open:t,isMobile:r})=>({width:t?256:70,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",overflowX:"hidden","& .MuiDrawer-paper":{backgroundColor:Zae,borderRight:"none",width:t?256:r?0:70,overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})}})),wie=le(ue)(({theme:e,selected:t})=>({minWidth:0,marginRight:16,justifyContent:"center",color:t?oie:iie,transition:"color 0.15s ease, transform 0.2s ease","&:hover":{transform:"scale(1.05)"}})),Nie=le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 12px 10px",backgroundColor:"transparent"})),kie=le(ae)(({theme:e,open:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:t?"space-between":"center",transition:"all 0.3s ease"}));le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",backgroundImage:"linear-gradient(135deg, #5569ff 0%, #6b8aff 100%)",boxShadow:"0 2px 10px rgba(85, 105, 255, 0.4)",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}}));const Sie=le(me)(({theme:e})=>({color:aie,"&:hover":{backgroundColor:"transparent"},transition:"all 0.15s ease",padding:0})),Cie=le(he)(({theme:e})=>({"& .MuiBadge-badge":{right:-4,top:4,minWidth:18,height:18,fontSize:"0.625rem",fontWeight:600,padding:"0 4px",borderRadius:9,backgroundColor:"#ef4444",color:"white"}})),Aie=le("span")(({theme:e})=>({position:"absolute",top:8,right:8,width:8,height:8,borderRadius:"50%",backgroundColor:"#ef4444","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"pulse 2s infinite",backgroundColor:"rgba(239, 68, 68, 0.7)"},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(2)",opacity:0},"100%":{transform:"scale(2.5)",opacity:0}}})),Tie=({stats:t=Eie,activeSection:r,handleSectionChange:n,onSidebarToggle:s,user:a})=>{const i=pe(),o=$r();Wr();const l=fe(i.breakpoints.down("md")),[c,d]=qr.useState(!l),[u,m]=qr.useState(!1),[h,p]=qr.useState(""),[f,x]=qr.useState(!1);qr.useEffect(()=>{const e=localStorage.getItem("sidebarOpen");if(null!==e&&!l){const t=JSON.parse(e);d(t),s?.(t)}},[l,s]);const g=()=>{if(!f)if(x(!0),l)m(!u),setTimeout(()=>x(!1),300);else{const e=!c;d(e),localStorage.setItem("sidebarOpen",JSON.stringify(e)),s?.(e),window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{open:e}})),setTimeout(()=>x(!1),300)}},b=[{id:"main",label:"Main",items:[{id:"dashboard",label:"Dashboard",icon:e.jsx(cie,{}),badge:null},{id:"manage-requisitions",label:"Requisitions",icon:e.jsx(die,{}),badge:t.requisitions?.counts?.pending||null},{id:"rfqs",label:"WorkSpace",icon:e.jsx(uie,{}),badge:t.rfqs?.counts?.open||null}]},{id:"travel",label:"Travel Management",items:[{id:"travel-requests",label:"Travel Requests",icon:e.jsx(mie,{}),badge:null},{id:"travel-execution",label:"Fleet Management",icon:e.jsx(hie,{}),badge:null}]},{id:"finance",label:"Finance Processing",items:[{id:"new-recon",label:"Reconciliation",icon:e.jsx(pie,{}),badge:null}]},{id:"reports",label:"Reports",items:[{id:"analytics",label:"Analytics",icon:e.jsx(fie,{}),badge:null},{id:"reports",label:"Reports",icon:e.jsx(xie,{}),badge:null}]}],y=[{id:"settings",label:"Settings",icon:e.jsx(gie,{}),onClick:()=>o("/settings")},{id:"logout",label:"Logout",icon:e.jsx(bie,{}),onClick:()=>{}}],v=(t,s)=>e.jsxs(Ur.Fragment,{children:[s>0&&c&&e.jsx(ge,{sx:{borderColor:lie,margin:"12px 24px 8px",opacity:.4}}),e.jsx(vie,{open:c,children:t.label}),e.jsx(be,{disablePadding:!0,sx:{mb:1},children:t.items.map(t=>(t=>{const s=r===t.id,a=h===t.id,i=e.jsxs(yie,{selected:s,onClick:()=>n(t.id),onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44,position:"relative",overflow:"hidden","&::after":s?{content:'""',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"3px",height:"50%",backgroundColor:rie,borderRadius:"0 3px 3px 0"}:{}},children:[e.jsx(wie,{selected:s,children:Ur.cloneElement(t.icon,{style:{transform:a&&!s?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsxs(e.Fragment,{children:[e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",fontWeight:s?500:400,color:"inherit",transition:"font-weight 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}}),t.badge&&e.jsx(Cie,{badgeContent:t.badge})]}),!c&&t.badge&&e.jsx(Aie,{})]},t.id);return c?i:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(Zae,.9),color:sie,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(lie,.5)}`}},arrow:{sx:{color:ie(Zae,.9)}}},children:i},t.id)})(t))})]},t.id),j=e.jsxs(e.Fragment,{children:[e.jsx(Nie,{children:e.jsx(kie,{open:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1},children:e.jsx("img",{src:"/hrms-logo11.png",alt:"Company Logo",style:{height:"22px",width:"22px",objectFit:"contain",marginLeft:"4px",transition:"transform 0.3s ease, opacity 0.3s ease"}})}),e.jsx(Sie,{onClick:g,disabled:f,"aria-label":"close drawer",sx:{"& img":{filter:"brightness(0) invert(1)"}},children:e.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})]}):e.jsx(Sie,{onClick:g,disabled:f,"aria-label":"open drawer",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:44,borderRadius:"6px",marginBottom:"4px",padding:0,"& img":{filter:"brightness(0) invert(1)",marginLeft:"-6px"},"&:hover":{backgroundColor:eie}},children:e.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})})}),e.jsxs(ae,{sx:{overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 64px)","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:ie(aie,.3),borderRadius:2,"&:hover":{backgroundColor:ie(aie,.5)}},padding:"10px 0 0",mt:1},children:[b.map((e,t)=>v(e,t)),e.jsxs(ae,{sx:{mt:"auto",mb:2,px:1},children:[c&&e.jsx(ge,{sx:{borderColor:lie,margin:"12px 24px 16px",opacity:.4}}),e.jsx(be,{disablePadding:!0,children:y.map(t=>{const r=h===t.id,n=e.jsxs(yie,{onClick:t.onClick,onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44},children:[e.jsx(wie,{selected:!1,children:Ur.cloneElement(t.icon,{style:{transform:r?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}})]},t.id);return c?n:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(Zae,.9),color:sie,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(lie,.5)}`}},arrow:{sx:{color:ie(Zae,.9)}}},children:n},t.id)})}),c&&e.jsx(ae,{sx:{mt:3,mx:3,p:1.5,borderRadius:"10px",backgroundColor:ie(rie,.08),display:"flex",alignItems:"center",gap:1.5},children:e.jsx(ir,{sx:{width:32,height:32,backgroundColor:ie(rie,.2),color:rie,fontSize:"0.75rem",fontWeight:600,boxShadow:`0 0 0 2px ${ie(rie,.1)}`},children:"A"})})]})]})]});return e.jsxs(e.Fragment,{children:[l&&e.jsx(me,{color:"inherit","aria-label":"open drawer",onClick:g,edge:"start",disabled:f,sx:{position:"fixed",top:12,left:16,zIndex:1300,backgroundColor:ie(Zae,.8),backdropFilter:"blur(8px)",borderRadius:"6px",width:40,height:40,"&:hover":{backgroundColor:ie(Zae,.95)}},children:e.jsx(Ts,{})}),l?e.jsx(de,{variant:"temporary",open:u,onClose:g,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:256,backgroundColor:Zae,borderRight:"none"}},children:j}):e.jsx(jie,{variant:"permanent",open:c,isMobile:l,children:j})]})},Eie={employees:{counts:{pending:0}},vendors:{counts:{open:0}},requisitions:{counts:{pending:0}},rfqs:{counts:{open:0}},purchaseOrders:{counts:{pending:0}},invoices:{counts:{pending:0}}};Tie.propTypes={stats:ee.shape({employees:ee.object,vendors:ee.object,requisitions:ee.object,rfqs:ee.object,purchaseOrders:ee.object,invoices:ee.object}),activeSection:ee.string.isRequired,handleSectionChange:ee.func.isRequired,onSidebarToggle:ee.func};const _ie=({user:t,notificationCount:r=3,onNotificationClick:i,onHelpClick:o,onAssistantClick:u,onPreferencesClick:m,onProfileClick:h,onSettingsClick:p,onSignOutClick:f,onMobileMenuToggle:g,scrollPosition:b=0,importantDates:y=[],sidebarOpen:j=!0,sidebarWidth:w=256,collapsedSidebarWidth:N=70})=>{const[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[T,E]=qr.useState(!1),[_,P]=qr.useState(new Date),[D,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(new Date),[F,B]=qr.useState(null),[q,$]=qr.useState(!0),U=$r(),[W]=Vr(),[V,G]=qr.useState(()=>W.get("section")||"dashboard");qr.useEffect(()=>{K()},[]);const K=async()=>{try{const e=localStorage.getItem("token");if(!e)return void $(!1);const t=await fetch("https://backend.nexusmwi.com/api/billing/subscription",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();B(e)}}catch(ide){}finally{$(!1)}},Y=(()=>{if(!t||!F)return null;const e=F.subscription,r=F.trial;return e&&["active","trialing"].includes(e.status)&&"trial"!==e.plan?{type:"paid",plan:e.plan,status:e.status}:r&&r.isActive&&r.remainingDays>0?{type:"trial",remainingDays:r.remainingDays,endDate:r.endDate}:!e||"trial"!==e.plan||r&&r.isActive?{type:"free",message:"Free plan"}:{type:"expired",message:"Trial expired"}})();qr.useEffect(()=>{q||"expired"!==Y?.type||window.location.pathname.startsWith("/billing")||U("/billing",{state:{subscriptionExpired:!0,from:window.location.pathname}})},[Y,q,U]);const X=Math.min(b/100,.95),J=Math.min(b/10,20),Q=(y.length>0?y:[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for Q2 IT equipment",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Office supplies contract renewal",location:"Legal Department",priority:"medium"}]).filter(e=>nn(e.date,new Date)&&sn(e.date,an(new Date,7))).sort((e,t)=>e.date-t.date);qr.useEffect(()=>{const e=()=>{A(!1),E(!1),S(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const Z=e=>{switch(e){case"deadline":return"bg-red-100 text-red-700 border-red-200";case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"contract":return"bg-purple-100 text-purple-700 border-purple-200";case"review":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approval":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},ee=t=>{switch(t){case"deadline":return e.jsx(Ae,{size:14});case"meeting":return e.jsx(l,{size:14});case"contract":return e.jsx(c,{size:14});case"review":return e.jsx(d,{size:14});case"approval":return e.jsx(n,{size:14});default:return e.jsx(v,{size:14})}};qr.useEffect(()=>{const e=()=>{S(!1),A(!1),E(!1)},t=()=>{S(!1),A(!1),E(!1)};return window.addEventListener("resize",e),window.addEventListener("sidebarToggle",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarToggle",t)}},[j]);return e.jsxs(e.Fragment,{children:[e.jsxs(Rm.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 z-50 transition-all duration-300",style:{left:window.innerWidth<768?0:j?w:N,width:(()=>{if(window.innerWidth<768)return"100%";return`calc(100% - ${j?w:N}px)`})(),backgroundColor:`rgba(255, 255, 255, ${X})`,backdropFilter:`blur(${J}px)`,borderBottom:X>.1?"1px solid rgba(229, 231, 235, 0.8)":"none"},children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{S(!k),g?.(!k)},className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:k?e.jsx(s,{size:20}):e.jsx(a,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>{e.stopPropagation(),E(!T)},className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-200 border border-blue-200",children:[e.jsx(v,{size:16}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:on(new Date,"MMM d, yyyy")}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(T?"rotate-180":"")})]}),e.jsx(Bl,{children:T&&e.jsxs(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(v,{size:18}),"Calendar"]}),e.jsx("span",{className:"text-sm bg-white/20 px-2 py-1 rounded-full",children:on(new Date,"MMMM yyyy")})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(l,{size:16,className:"text-blue-600"}),"Upcoming Events"]}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:Q.length})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:Q.length>0?Q.map((t,r)=>e.jsxs(Rm.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer",onClick:()=>{I(t),L(!0),E(!1)},children:[e.jsx("div",{className:`p-1.5 rounded-lg ${Z(t.type)}`,children:ee(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 text-sm truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:on(t.date,"MMM d")}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-600",children:t.time})]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("high"===t.priority?"bg-red-100 text-red-700":"medium"===t.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:t.priority})]},r)):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(v,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No upcoming events"})]})})]}),e.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Meeting"})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors duration-200",children:"Close"})]})})]})})]}),e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",children:[e.jsx(we,{size:20}),r>0&&e.jsx(Rm.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:r})]})]}),e.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:(()=>{if(q)return e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg animate-pulse",children:e.jsx("div",{className:"w-16 h-4 bg-gray-600 rounded"})});if(!Y)return null;switch(Y.type){case"paid":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-green-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Te,{size:14,className:"text-yellow-400"}),e.jsxs(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:[Y.plan.charAt(0).toUpperCase()+Y.plan.slice(1)," plan"]}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-green-400 group-hover:text-green-300 transition-all duration-200",whileHover:{scale:1.05},children:"Active"}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-1"})]});case"trial":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer relative",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free trial"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"}),e.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:[Y.remainingDays," days left"]})]});case"expired":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-red-600/90 backdrop-blur-sm rounded-lg border border-red-700 shadow-lg hover:shadow-xl hover:shadow-red-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(220, 38, 38, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Ce,{size:14,className:"text-white"}),e.jsx(Rm.span,{className:"text-sm font-medium text-white group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Trial expired"}),e.jsx("span",{className:"text-white/50 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-white group-hover:text-white transition-all duration-200",whileHover:{scale:1.05},children:"Renew now"})]});case"free":return e.jsxs(Rm.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>U("/billing"),children:[e.jsx(Rm.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free plan"}),e.jsx("span",{className:"text-gray-500 mx-1",children:""}),e.jsx(Rm.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"})]});default:return null}})()}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:o,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Help Center",children:e.jsx(Ne,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:u,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200",title:"AI Assistant",children:e.jsx(H,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:"Settings",children:e.jsx(x,{size:18})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>{e.stopPropagation(),A(!C)},className:"flex items-center gap-2 p-1 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-sm",children:t?.firstName&&t?.lastName?`${t.firstName.charAt(0).toUpperCase()}${t.lastName.charAt(0).toUpperCase()}`:t?.firstName?t.firstName.charAt(0).toUpperCase():t?.lastName?t.lastName.charAt(0).toUpperCase():"G"}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(C?"rotate-180":"")})]}),e.jsx(Bl,{children:C&&e.jsx(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{var e;h?.(),A(!1),G(e="user-profile"),U(`?section=${e}`,{replace:!0})},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(O,{size:16}),e.jsx("span",{className:"text-sm",children:"Profile"})]}),e.jsxs("button",{onClick:()=>{p?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:16}),e.jsx("span",{className:"text-sm",children:"Settings"})]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:()=>{f?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[e.jsx(ke,{size:16}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})})]})]})]})}),e.jsx(Bl,{children:k&&e.jsx(Rm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"Help Center"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"AI Assistant"})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:18}),e.jsx("span",{children:"Preferences"})]})]})})})]}),e.jsx(Bl,{children:D&&M&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:e.jsxs(Rm.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-6 text-white "+("deadline"===M.type?"bg-gradient-to-r from-red-600 to-red-700":"meeting"===M.type?"bg-gradient-to-r from-blue-600 to-blue-700":"contract"===M.type?"bg-gradient-to-r from-purple-600 to-purple-700":"review"===M.type?"bg-gradient-to-r from-yellow-600 to-yellow-700":"approval"===M.type?"bg-gradient-to-r from-green-600 to-green-700":"bg-gradient-to-r from-gray-600 to-gray-700"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 rounded-full text-xs font-medium mb-2",children:M.type?.toUpperCase()}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:M.title}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[e.jsx(v,{size:16}),e.jsxs("span",{className:"text-sm",children:[on(M.date,"EEEE, MMMM d, yyyy"),M.time&&`  ${M.time}`]})]})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors duration-200",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[M.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Se,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.location})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Description"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.description})]})]}),M.priority&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg "+("high"===M.priority?"bg-red-50 border border-red-200":"medium"===M.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[e.jsx(Ce,{size:16,className:"high"===M.priority?"text-red-600":"medium"===M.priority?"text-yellow-600":"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium "+("high"===M.priority?"text-red-700":"medium"===M.priority?"text-yellow-700":"text-blue-700"),children:"high"===M.priority?"High Priority":"medium"===M.priority?"Medium Priority":"Low Priority"})]})]}),e.jsxs("div",{className:"p-6 pt-0 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Close"}),e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-white rounded-lg transition-all duration-200 "+("deadline"===M.type?"bg-red-600 hover:bg-red-700":"meeting"===M.type?"bg-blue-600 hover:bg-blue-700":"contract"===M.type?"bg-purple-600 hover:bg-purple-700":"review"===M.type?"bg-yellow-600 hover:bg-yellow-700":"approval"===M.type?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:"View Details"})]})]})})})]})},Pie=()=>e.jsx("style",{jsx:!0,global:!0,children:"\n    @keyframes pulse {\n      0%, 100% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: scale(1.1);\n        opacity: 0.4;\n      }\n    }\n    \n    @keyframes ripple {\n      0% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      100% {\n        transform: scale(1.3);\n        opacity: 0;\n      }\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .animate-pulse-custom {\n      animation: pulse 2s infinite;\n    }\n\n    .animate-ripple {\n      animation: ripple 3s infinite;\n    }\n\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n\n    /* Custom scrollbar for dropdown menus */\n    .custom-scrollbar::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-track {\n      background: #f1f5f9;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb {\n      background: #cbd5e1;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: #94a3b8;\n    }\n\n    /* Smooth transitions for all interactive elements */\n    .transition-smooth {\n      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    /* Backdrop blur support */\n    .backdrop-blur-custom {\n      backdrop-filter: blur(12px) saturate(180%);\n      -webkit-backdrop-filter: blur(12px) saturate(180%);\n    }\n\n    /* Focus styles for accessibility */\n    .focus-ring:focus {\n      outline: 2px solid #3b82f6;\n      outline-offset: 2px;\n    }\n\n    /* Hover effects for buttons */\n    .btn-hover:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n\n    /* Loading spinner animation */\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    .animate-spin-slow {\n      animation: spin 3s linear infinite;\n    }\n\n    /* Gradient animations */\n    @keyframes gradient-shift {\n      0%, 100% {\n        background-position: 0% 50%;\n      }\n      50% {\n        background-position: 100% 50%;\n      }\n    }\n\n    .gradient-animate {\n      background-size: 200% 200%;\n      animation: gradient-shift 6s ease infinite;\n    }\n\n    /* Text shimmer effect */\n    @keyframes shimmer {\n      0% {\n        background-position: -200px 0;\n      }\n      100% {\n        background-position: calc(200px + 100%) 0;\n      }\n    }\n\n    .text-shimmer {\n      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 37%, #f0f0f0 63%);\n      background-size: 400px 100%;\n      animation: shimmer 1.4s ease-in-out infinite;\n    }\n\n    /* Dark mode support */\n    @media (prefers-color-scheme: dark) {\n      .dark-mode-bg {\n        background-color: #1f2937;\n        color: #f9fafb;\n      }\n      \n      .dark-mode-border {\n        border-color: #374151;\n      }\n      \n      .dark-mode-text {\n        color: #d1d5db;\n      }\n    }\n\n    /* Mobile-specific styles */\n    @media (max-width: 768px) {\n      .mobile-optimized {\n        padding: 0.75rem;\n      }\n      \n      .mobile-text {\n        font-size: 0.875rem;\n      }\n      \n      .mobile-button {\n        min-height: 44px;\n        min-width: 44px;\n      }\n    }\n\n    /* High contrast mode support */\n    @media (prefers-contrast: high) {\n      .high-contrast {\n        border: 2px solid currentColor;\n      }\n      \n      .high-contrast-text {\n        font-weight: 600;\n      }\n    }\n\n    /* Reduced motion support */\n    @media (prefers-reduced-motion: reduce) {\n      * {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n      }\n    }\n\n    /* Print styles */\n    @media print {\n      .no-print {\n        display: none !important;\n      }\n      \n      .print-friendly {\n        background: white !important;\n        color: black !important;\n        box-shadow: none !important;\n      }\n    }\n  "}),Die=({user:t,userProfile:r,onMobileMenuToggle:n,scrollPosition:s,sidebarOpen:a=!0,sidebarWidth:i=256,collapsedSidebarWidth:o=70})=>{const l=[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for the Q2 IT equipment procurement",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals and make selections",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Annual renewal of office supplies contract with OfficeMax",location:"Legal Department",priority:"medium"},{date:new Date(2025,4,24),title:"Quarterly Review",type:"review",description:"Financial review of procurement spending for Q1",location:"Executive Boardroom",time:"2:00 PM",priority:"high"},{date:new Date(2025,4,28),title:"Budget Approval",type:"approval",description:"Final approval for Q3 procurement budget",location:"Finance Department",priority:"high"},{date:new Date(2025,4,14),title:"Vendor Evaluation",type:"meeting",description:"Evaluate new potential suppliers for hardware components",location:"Meeting Room B",time:"11:30 AM",priority:"medium"},{date:new Date(2025,4,18),title:"Contract Draft Review",type:"contract",description:"Legal team review of new vendor contracts",location:"Legal Office",time:"9:00 AM",priority:"medium"},{date:new Date(2025,4,22),title:"Procurement Training",type:"meeting",description:"New system training for procurement team",location:"Training Center",time:"1:00 PM",priority:"low"}],[c,d]=qr.useState(l),u=$r(),[m]=Vr(),[h,p]=qr.useState(()=>m.get("section")||"dashboard"),[f,x]=qr.useState(3);return qr.useEffect(()=>{(async()=>{})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Pie,{}),e.jsx(_ie,{user:t,userProfile:r,notificationCount:f,onNotificationClick:()=>{},onHelpClick:()=>{},onAssistantClick:()=>{},onPreferencesClick:()=>{},onProfileClick:()=>{return p(e="user-profile"),void u(`?section=${e}`,{replace:!0});var e},onSettingsClick:()=>{},onSignOutClick:()=>{},onMobileMenuToggle:n,scrollPosition:s,importantDates:c,sidebarOpen:a,sidebarWidth:i,collapsedSidebarWidth:o})]})},Oie=({title:t,value:r,description:n,trend:s,trendDirection:a,icon:i,color:o="primary",emphasizeWithArrow:l=!1,testId:c})=>{const d={primary:{main:"#3366FF",light:"#EBF0FF",dark:"#1939B7",gradient:"linear-gradient(135deg, #3366FF 0%, #5B8DEF 100%)",soft:"rgba(51, 102, 255, 0.08)"},info:{main:"#00B8D9",light:"#E6FCFF",dark:"#006C9C",gradient:"linear-gradient(135deg, #00B8D9 0%, #36C5F0 100%)",soft:"rgba(0, 184, 217, 0.08)"},secondary:{main:"#6E56CF",light:"#F4F0FF",dark:"#4D399E",gradient:"linear-gradient(135deg, #6E56CF 0%, #9F85F0 100%)",soft:"rgba(110, 86, 207, 0.08)"},error:{main:"#E5484D",light:"#FEF0F0",dark:"#B42B2B",gradient:"linear-gradient(135deg, #E5484D 0%, #FF6A6A 100%)",soft:"rgba(229, 72, 77, 0.08)"},success:{main:"#30A46C",light:"#ECFDF3",dark:"#18794E",gradient:"linear-gradient(135deg, #30A46C 0%, #4CC38A 100%)",soft:"rgba(48, 164, 108, 0.08)"}},u=d[o]||d.primary;return e.jsxs(ae,{sx:{position:"relative",height:70,background:"#FFFFFF",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(0, 0, 0, 0.02)",borderRadius:5,p:2.5,pl:3.2,display:"flex",flexDirection:"column",justifyContent:"center",transition:"all 0.25s ease",overflow:"hidden","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.02)",transform:"translateY(-2px)"},"&::before":{content:'""',position:"absolute",left:0,top:10,bottom:10,width:"4px",background:u.gradient,borderRadius:4,boxShadow:`0 0 8px ${ie(u.main,.2)}`,transition:"all 0.3s ease"},"&:hover::before":{top:6,bottom:6},"&::after":{content:'""',position:"absolute",right:0,bottom:0,width:"40%",height:"60%",background:`radial-gradient(circle at bottom right, ${ie(u.light,.7)}, transparent 70%)`,opacity:.5,zIndex:0,transition:"opacity 0.3s ease"},"&:hover::after":{opacity:.8}},"data-testid":c,children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,position:"relative",zIndex:1},children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center"},children:[e.jsx(oe,{variant:"h6",component:"div",sx:{fontWeight:700,fontSize:"1.25rem",color:"#1A1A1A",letterSpacing:"-0.02em"},"data-testid":c?`${c}-value`:void 0,children:r}),(()=>{if(l)return e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"center",ml:1,width:24,height:24,borderRadius:"50%",background:d.error.gradient,boxShadow:`0 2px 4px ${ie(d.error.main,.25)}`,transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)",boxShadow:`0 3px 6px ${ie(d.error.main,.3)}`}},"data-testid":c?`${c}-arrow`:void 0,children:e.jsx(bs,{sx:{fontSize:14,color:"#fff"}})});if(s){const t="up"===a?d.success:d.error;return e.jsxs(ae,{sx:{display:"inline-flex",alignItems:"center",ml:1,px:.8,py:.3,borderRadius:1.5,background:t.soft,color:t.main,fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.01em"},"data-testid":c?`${c}-trend`:void 0,children:["up"===a?e.jsx(vs,{sx:{fontSize:11,mr:.3}}):e.jsx(gs,{sx:{fontSize:11,mr:.3}}),s]})}return null})()]}),i&&e.jsx(ae,{sx:{display:"flex",alignItems:"center",justifyContent:"center",background:u.soft,color:u.main,width:32,height:32,borderRadius:"50%",transition:"all 0.2s ease","&:hover":{background:ie(u.main,.12),transform:"scale(1.05)"}},"data-testid":c?`${c}-icon`:void 0,children:Ur.cloneElement(i,{sx:{fontSize:16}})})]}),e.jsx(oe,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.8125rem",fontWeight:600,position:"relative",zIndex:1,letterSpacing:"-0.01em"},"data-testid":c?`${c}-title`:void 0,children:t}),n&&e.jsx(oe,{variant:"caption",sx:{color:"#6B7280",fontSize:"0.6875rem",display:"block",fontWeight:500,position:"relative",zIndex:1,mt:.3},"data-testid":c?`${c}-description`:void 0,children:n})]})},Lie=({stats:t,testId:r})=>e.jsxs(ae,{sx:{display:"flex",gap:3.5,pt:0,pb:2,px:1.5,width:"100%",marginTop:-1,"& > div":{transition:"all 0.3s ease","&:hover":{transform:"translateZ(0)",zIndex:1}}},"data-testid":r||"stats-cards-grid",children:[e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(Oie,{title:"Approved",value:t.requisitions.counts.total,color:"primary",icon:e.jsx(Ds,{}),testId:"approve-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(Oie,{title:"Travel Requisitions",value:t.rfqs.counts.total,icon:e.jsx(Es,{}),color:"info",testId:"po-requisitions-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(Oie,{title:"Reconciliation",value:t.purchaseOrders.counts.total,icon:e.jsx(As,{}),color:"secondary",testId:"supplier-card"})}),e.jsx(ae,{sx:{width:"25%",minWidth:130},children:e.jsx(Oie,{title:"To be paid",value:t.invoices.counts.total,icon:e.jsx(Ss,{}),color:"error",testId:"to-be-paid-card"})})]}),Mie=({handleSectionChange:n})=>{const[s,a]=qr.useState("actions"),[i,d]=qr.useState(""),[u,m]=qr.useState(!1),[h,f]=qr.useState(!1);qr.useEffect(()=>(f(!0),()=>f(!1)),[]);const g=[{id:"requisitions",title:"Create New Requisition",description:"Request new items or services for your department",icon:e.jsx(Le,{size:20}),color:"blue",badge:null,trend:"up"},{id:"travel-requests",title:"Submit Travel Request",description:"Plan your business trip with detailed itinerary",icon:e.jsx(Yt,{size:20}),color:"purple",badge:null,trend:"stable"},{id:"expense-reports",title:"Submit Expense Report",description:"Record and get reimbursed for business expenses",icon:e.jsx(Xe,{size:20}),color:"teal",badge:"New",trend:"up"},{id:"team-meeting",title:"Schedule Team Meeting",description:"Coordinate with your team members",icon:e.jsx(lr,{size:20}),color:"amber",badge:null,trend:"up"}],b=[{id:"report-q1",title:"Q1 Financial Report",time:"2 hours ago",icon:e.jsx(c,{size:20}),color:"indigo",status:"completed"},{id:"travel-nyc",title:"NYC Conference Trip",time:"Yesterday",icon:e.jsx(Yt,{size:20}),color:"purple",status:"in-progress"},{id:"team-budget",title:"Team Budget Review",time:"2 days ago",icon:e.jsx(cr,{size:20}),color:"green",status:"pending"}],y=[{id:"monthly-report",title:"Monthly Department Report",icon:e.jsx(c,{size:20}),color:"rose",usage:"87%"},{id:"team-dashboard",title:"Team Performance Dashboard",icon:e.jsx(cr,{size:20}),color:"sky",usage:"92%"}],v=i?g.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())):g;return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 w-full h-full flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 relative bg-white",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(r,{size:20,className:"text-blue-500"}),"Quick Actions"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Streamline your workflow with AI-powered assistance"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m(!u),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(Re,{size:18})}),e.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(x,{size:18})})]})]}),u&&e.jsxs("div",{className:"mt-4 flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 transition-all duration-300",children:[e.jsx(Re,{size:18,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search actions...",value:i,onChange:e=>d(e.target.value),className:"bg-transparent border-none outline-none text-gray-800 w-full pl-2 placeholder-gray-400 text-sm"})]})]}),e.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:["actions","recent","favorites"].map(t=>e.jsxs("button",{onClick:()=>a(t),className:"flex-1 py-3 text-sm font-medium transition-all duration-200 relative "+(s===t?"text-blue-600":"text-gray-500 hover:text-gray-800"),children:["actions"===t&&e.jsx(or,{size:16,className:"inline mr-2"}),"recent"===t&&e.jsx(l,{size:16,className:"inline mr-2"}),"favorites"===t&&e.jsx(p,{size:16,className:"inline mr-2"}),t.charAt(0).toUpperCase()+t.slice(1),s===t&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},t))}),e.jsxs("div",{className:"max-h-96 overflow-y-auto custom-scrollbar",children:["actions"===s&&e.jsx("div",{className:"divide-y divide-gray-100",children:v.map(r=>{return e.jsxs("button",{onClick:()=>n(r.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsx("span",{className:`flex items-center justify-center w-12 h-12 rounded-lg bg-${r.color}-50 text-${r.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${r.color}-100`,children:r.icon}),e.jsxs("div",{className:"ml-4 text-left flex-grow",children:[e.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:r.title}),e.jsx("span",{className:"text-gray-500 text-sm block mt-0.5 group-hover:translate-x-1 transition-transform duration-200 delay-75",children:r.description}),r.trend&&(s=r.trend,"up"===s?e.jsxs("div",{className:"flex items-center text-emerald-600 text-xs",children:[e.jsx(t,{size:12,className:"rotate-[-45deg]"})," ",e.jsx("span",{className:"ml-0.5",children:"+12%"})]}):"down"===s?e.jsxs("div",{className:"flex items-center text-rose-600 text-xs",children:[e.jsx(t,{size:12,className:"rotate-45deg"})," ",e.jsx("span",{className:"ml-0.5",children:"-8%"})]}):null)]}),r.badge&&e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-100",children:r.badge}),e.jsx("div",{className:"ml-2 p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:e.jsx(se,{size:16})})]},r.id);var s})}),"recent"===s&&e.jsx("div",{className:"divide-y divide-gray-100",children:b.map(t=>{return e.jsxs("button",{onClick:()=>n(t.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),e.jsxs("div",{className:"ml-4 text-left flex-grow",children:[e.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:t.title}),e.jsxs("div",{className:"flex items-center mt-1 text-gray-500 group-hover:translate-x-1 transition-transform duration-200 delay-75",children:[e.jsx(l,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-gray-500 text-xs ml-1",children:t.time})]})]}),e.jsx("div",{className:"mr-2",children:(r=t.status,"completed"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Completed"}):"in-progress"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:"In Progress"}):"pending"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-100",children:"Pending"}):null)}),e.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:e.jsx(se,{size:16})})]},t.id);var r})}),"favorites"===s&&e.jsxs("div",{className:"divide-y divide-gray-100",children:[y.map(t=>e.jsxs("button",{onClick:()=>n(t.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),e.jsx("span",{className:"ml-4 text-gray-800 font-medium flex-grow text-left group-hover:translate-x-1 transition-transform duration-200",children:t.title}),e.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden mr-2",children:e.jsx("div",{className:`h-full bg-gradient-to-r from-${t.color}-500 to-${t.color}-400`,style:{width:t.usage}})}),e.jsx(p,{size:16,className:"text-amber-400 mr-2",fill:"#fbbf24"}),e.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:e.jsx(se,{size:16})})]},t.id)),e.jsx("div",{className:"px-6 py-3 text-center",children:e.jsxs("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700 transition-colors duration-200 flex items-center justify-center mx-auto",children:[e.jsx(x,{size:14,className:"mr-1"}),"Manage Favorites"]})})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx(o,{size:16,className:"mr-1"}),e.jsx("span",{children:"4 pending tasks"})]}),e.jsxs("button",{onClick:()=>n("all-actions"),className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All",e.jsx(se,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),e.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})},Iie=({title:t,total:r,items:n,subtitle:s})=>{const[a,i]=qr.useState(!1);qr.useEffect(()=>{i(!0)},[]);const o=["bg-blue-600","bg-blue-500","bg-blue-400","bg-blue-300"];return e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 w-full h-full",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-gray-900 font-semibold text-lg flex items-center gap-2",children:[e.jsx(k,{size:20,className:"text-blue-500"}),t]}),s&&e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:s})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"bg-blue-50 text-blue-700 font-semibold py-1 px-3 rounded-full text-sm border border-blue-100",children:["Total: ",r]}),e.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(x,{size:16})})]})]}),e.jsx("div",{className:"relative h-48 flex items-end justify-between px-4 mt-8 pt-6 mb-3",children:n.map((t,n)=>{const s=Math.round(t.value/r*100),i=Math.max(30,1.5*s);return e.jsxs("div",{className:"flex flex-col items-center group",children:[e.jsxs("div",{className:"absolute -top-6 text-gray-800 font-semibold bg-gray-50 px-2 py-0.5 rounded shadow-sm border border-gray-100 transition-all duration-200 group-hover:bg-blue-50 group-hover:border-blue-100",children:[s,"%"]}),e.jsx("div",{className:"relative",style:{height:`${i}px`},children:e.jsx("div",{className:`w-12 ${o[n%o.length]} rounded-lg transition-all duration-300 group-hover:opacity-90 group-hover:shadow-md group-hover:scale-105`,style:{height:a?"100%":"0%",minHeight:"20px",transition:"height 0.8s ease-out"}})}),e.jsx("div",{className:"text-gray-600 font-medium text-sm mt-3 transition-all duration-200 group-hover:text-gray-900 group-hover:translate-y-[-2px]",children:t.label})]},n)})}),e.jsx("div",{className:"relative h-0.5 bg-gray-100 w-full mt-1 mb-1 rounded-full"})]})},Rie=({title:r,total:s,items:a,onAction:i,trend:c})=>{const d=e=>{switch(e){case"error":return"red";case"warning":return"amber";case"success":return"green";case"info":return"blue";default:return"gray"}};return e.jsxs("button",{onClick:i,className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsx("span",{className:`flex items-center justify-center w-12 h-12 rounded-lg bg-${d(a[0]?.color||"blue")}-50 text-${d(a[0]?.color||"blue")}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${d(a[0]?.color||"blue")}-100`,children:(t=>{switch(t){case"error":return e.jsx(Jt,{size:16});case"warning":return e.jsx(T,{size:16});case"success":return e.jsx(n,{size:16});case"info":return e.jsx(l,{size:16});default:return e.jsx(o,{size:16})}})(a[0]?.color)}),e.jsxs("div",{className:"ml-4 text-left flex-grow",children:[e.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:r}),e.jsxs("div",{className:"flex items-center mt-0.5 space-x-2",children:[e.jsxs("span",{className:"text-gray-500 text-sm group-hover:translate-x-1 transition-transform duration-200 delay-75",children:[a.length," items  Total: ",s]}),c&&(u=c,"up"===u?e.jsxs("div",{className:"flex items-center text-emerald-600 text-xs",children:[e.jsx(t,{size:12,className:"rotate-[-45deg]"})," ",e.jsx("span",{className:"ml-0.5",children:"+12%"})]}):"down"===u?e.jsxs("div",{className:"flex items-center text-rose-600 text-xs",children:[e.jsx(t,{size:12,className:"rotate-45deg"})," ",e.jsx("span",{className:"ml-0.5",children:"-8%"})]}):null)]})]}),e.jsx("div",{className:"flex items-center space-x-2 mr-2",children:a.slice(0,3).map((t,r)=>e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium bg-${d(t.color)}-50 text-${d(t.color)}-700 border border-${d(t.color)}-100`,children:t.value},r))}),e.jsx("div",{className:"ml-2 p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:e.jsx(se,{size:16})})]});var u};function zie(){const[t,r]=qr.useState("charts"),[n,s]=qr.useState(""),[a,i]=qr.useState(!1),[l,c]=qr.useState(!1);qr.useEffect(()=>(c(!0),()=>c(!1)),[]);const d=[{id:"revenue",title:"Revenue Distribution",subtitle:"Annual breakdown by category",total:100,items:[{label:"Category 1",value:38},{label:"Category 2",value:27},{label:"Category 3",value:23},{label:"Category 4",value:12}],trend:"up"},{id:"resources",title:"Resource Allocation",subtitle:"Department distribution",total:100,items:[{label:"Engineering",value:45},{label:"Marketing",value:30},{label:"Operations",value:15},{label:"Support",value:10}],trend:"up"},{id:"expenses",title:"Expense Categories",subtitle:"Q2 breakdown",total:100,items:[{label:"Payroll",value:55},{label:"Facilities",value:20},{label:"Software",value:15},{label:"Travel",value:10}],trend:"stable"}],u=[{id:"requisitions",title:"Requisitions to Approve",total:8,items:[{label:"High Priority",value:3,color:"error"},{label:"Medium Priority",value:4,color:"warning"},{label:"Low Priority",value:1,color:"success"}],trend:"up"},{id:"pending-requests",title:"My Pending Requests",total:5,items:[{label:"Awaiting Approval",value:3,color:"warning"},{label:"In Progress",value:2,color:"info"}],trend:"stable"},{id:"travel-approvals",title:"Travel Approvals",total:4,items:[{label:"Pending",value:2,color:"warning"},{label:"Approved",value:1,color:"success"},{label:"Rejected",value:1,color:"error"}],trend:"down"},{id:"expense-reports",title:"Expense Reports",total:6,items:[{label:"Draft",value:2,color:"info"},{label:"Submitted",value:3,color:"warning"},{label:"Approved",value:1,color:"success"}],trend:"up"}],m=n?u.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())):u,f=n?d.filter(e=>e.title.toLowerCase().includes(n.toLowerCase())||e.subtitle.toLowerCase().includes(n.toLowerCase())):d;return e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 w-full h-full flex flex-col",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 relative bg-white",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(h,{size:20,className:"text-purple-500"}),"My Tasks Dashboard"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your progress and activities with intelligent insights"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>i(!a),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(Re,{size:18})}),e.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:e.jsx(x,{size:18})})]})]}),a&&e.jsxs("div",{className:"mt-4 flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 transition-all duration-300",children:[e.jsx(Re,{size:18,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search tasks and charts...",value:n,onChange:e=>s(e.target.value),className:"bg-transparent border-none outline-none text-gray-800 w-full pl-2 placeholder-gray-400 text-sm"})]})]}),e.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:["tasks","charts","favorites"].map(n=>e.jsxs("button",{onClick:()=>r(n),className:"flex-1 py-3 text-sm font-medium transition-all duration-200 relative "+(t===n?"text-blue-600":"text-gray-500 hover:text-gray-800"),children:["tasks"===n&&e.jsx(dr,{size:16,className:"inline mr-2"}),"charts"===n&&e.jsx(k,{size:16,className:"inline mr-2"}),"favorites"===n&&e.jsx(p,{size:16,className:"inline mr-2"}),n.charAt(0).toUpperCase()+n.slice(1),t===n&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},n))}),e.jsxs("div",{className:"max-h-96 overflow-y-auto custom-scrollbar",children:["charts"===t&&e.jsx("div",{className:"p-4 space-y-4",children:f.map((t,r)=>e.jsx(Iie,{title:t.title,subtitle:t.subtitle,total:t.total,items:t.items},t.id))}),"tasks"===t&&e.jsx("div",{className:"divide-y divide-gray-100",children:m.map(t=>e.jsx(Rie,{title:t.title,total:t.total,items:t.items,trend:t.trend,onAction:()=>{}},t.id))}),"favorites"===t&&e.jsxs("div",{className:"divide-y divide-gray-100",children:[m.slice(0,2).map(t=>e.jsxs("button",{className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsx("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-50 text-purple-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-purple-100",children:e.jsx(p,{size:16})}),e.jsx("span",{className:"ml-4 text-gray-800 font-medium flex-grow text-left group-hover:translate-x-1 transition-transform duration-200",children:t.title}),e.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden mr-2",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400",style:{width:40*Math.random()+60+"%"}})}),e.jsx(p,{size:16,className:"text-amber-400 mr-2",fill:"#fbbf24"}),e.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:e.jsx(se,{size:16})})]},t.id)),e.jsx("div",{className:"px-6 py-3 text-center",children:e.jsxs("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700 transition-colors duration-200 flex items-center justify-center mx-auto",children:[e.jsx(x,{size:14,className:"mr-1"}),"Manage Favorites"]})})]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx(o,{size:16,className:"mr-1"}),e.jsx("span",{children:"8 pending approvals"})]}),e.jsxs("button",{className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All Tasks",e.jsx(se,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),e.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})}const Fie=()=>{const[t,s]=qr.useState(!1);qr.useEffect(()=>(s(!0),()=>s(!1)),[]);const a=[{id:1,title:"Requisition Approved",description:"Office supplies #REQ-2023-042 approved",time:"2 hours ago",icon:e.jsx(n,{size:18}),color:"emerald",status:"completed"},{id:2,title:"Travel Request Submitted",description:"Conference trip to New York submitted",time:"Yesterday",icon:e.jsx(ur,{size:18}),color:"blue",status:"in-progress"},{id:3,title:"Expense Report Rejected",description:"Hotel expenses #EXP-2023-15 needs revision",time:"3 days ago",icon:e.jsx(T,{size:18}),color:"rose",status:"pending"}];return e.jsxs("div",{className:`bg-white rounded-xl overflow-hidden border border-gray-200 max-w-md shadow-lg ${t?"shadow-lg shadow-gray-200/50":""} transition-all duration-300`,children:[e.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 relative",children:[e.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[e.jsx(o,{size:20,className:"text-blue-500"}),"Activity Timeline"]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your workflow progress"})]}),e.jsxs("div",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-medium border border-blue-100 flex items-center",children:[e.jsx(r,{size:14,className:"mr-1"}),"New Activity"]})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-10 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-100 via-purple-100 to-pink-100"}),e.jsx("ul",{className:"relative z-10",children:a.map(t=>{return e.jsxs("li",{className:"px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden cursor-pointer",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),e.jsxs("div",{className:"ml-4 flex-1 group-hover:translate-x-1 transition-transform duration-200",children:[e.jsxs("div",{className:"flex items-center text-gray-500 text-xs mb-1",children:[e.jsx(l,{size:14,className:"mr-1"}),e.jsx("span",{children:t.time})]}),e.jsx("div",{className:"text-gray-800 text-base font-medium mb-1",children:t.title}),e.jsx("div",{className:"text-gray-600 text-sm",children:t.description})]}),e.jsx("div",{className:"ml-2",children:(r=t.status,"completed"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Completed"}):"in-progress"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:"In Progress"}):"pending"===r?e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-100",children:"Pending"}):null)})]})]},t.id);var r})})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[e.jsx(o,{size:16,className:"mr-1"}),e.jsx("span",{children:"3 recent activities"})]}),e.jsxs("button",{className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All",e.jsx(se,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),e.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})},Bie=({isVisible:t,message:r="Loading Requisitions..."})=>t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-2",children:[e.jsx(Ue,{className:"animate-spin w-5 h-5 text-blue-500"}),e.jsx("span",{className:"font-medium text-sm",children:r})]})}):null,qie=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-3xl":"text-xl";return e.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-md transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-xl "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"amber"===s?"bg-amber-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:16,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"amber"===s?"text-amber-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:12,className:"text-emerald-500"}):e.jsx(We,{size:12,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})};function $ie(){const t=$r(),[r,a]=qr.useState([]),[i,d]=qr.useState(!0),[u,h]=qr.useState(null),[p,f]=qr.useState("overview"),[x,g]=qr.useState(!1),[b,y]=qr.useState(""),[j,w]=qr.useState("info"),[N,k]=qr.useState(null),[S,C]=qr.useState(""),[A,E]=qr.useState(!1),[P,O]=qr.useState("all"),[L]=Vr(),[M,I]=qr.useState(()=>L.get("section")||"requisition-dash"),R="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${R}/api/requisitions/my`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const r=(await t.json()).map(z);a(r)}catch(e){h("Failed to load requisition data")}finally{d(!1)}})()},[R]);const z=e=>{const t=new Date(e.createdAt),r=new Date,n=Math.floor((r-t)/864e5);return{id:e._id,itemName:e.itemName,quantity:e.quantity,status:e.status,budgetCode:e.budgetCode,urgency:e.urgency,preferredSupplier:e.preferredSupplier,reason:e.reason,category:e.category,estimatedCost:e.estimatedCost,deliveryDate:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():null,department:e.department,environmentalImpact:e.environmentalImpact,submissionDate:t.toLocaleDateString(),submissionTime:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),daysInProcess:n,employee:e.employee,approver:e.approver,timeline:((e,t,r)=>{const n=[],s=new Date(t);n.push({status:"submitted",date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Requisition submitted successfully",completed:!0});const a=new Date(s);if(a.setHours(a.getHours()+2),n.push({status:"under_review",date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Under review by department manager",completed:["approved","rejected","under_review"].includes(e),current:"pending"===e}),["approved","procurement","shipped","delivered"].includes(e)){const t=new Date(s);t.setDate(t.getDate()+1),n.push({status:"procurement",date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Approved - Procurement team sourcing items",completed:["procurement","shipped","delivered"].includes(e),current:"approved"===e})}if(["shipped","delivered"].includes(e)){const t=new Date(s);t.setDate(t.getDate()+3),n.push({status:"shipped",date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Items shipped and in transit",completed:"delivered"===e,current:"shipped"===e})}if("delivered"===e){const e=new Date(s);e.setDate(e.getDate()+5),n.push({status:"delivered",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Items delivered successfully",completed:!0})}if("rejected"===e){const e=new Date(r||t);n.push({status:"rejected",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Requisition was rejected - please review feedback",completed:!0,isRejection:!0})}return n})(e.status,e.createdAt,e.updatedAt),trackingId:`REQ-${new Date(e.createdAt).getFullYear()}-${e._id.slice(-6).toUpperCase()}`}},F=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-blue-600 bg-blue-50 border-blue-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"under_review":return"text-purple-600 bg-purple-50 border-purple-200";case"procurement":return"text-indigo-600 bg-indigo-50 border-indigo-200";case"shipped":return"text-orange-600 bg-orange-50 border-orange-200";case"delivered":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},B=t=>{switch(t){case"pending":return e.jsx(l,{size:16});case"approved":case"delivered":return e.jsx(n,{size:16});case"rejected":return e.jsx(Jt,{size:16});case"under_review":return e.jsx(Ue,{size:16,className:"animate-spin"});case"procurement":return e.jsx(ze,{size:16});case"shipped":return e.jsx(Ze,{size:16});default:return e.jsx(T,{size:16})}},q=e=>{switch(e){case"pending":return"Pending Review";case"approved":return"Approved";case"rejected":return"Rejected";case"under_review":return"Under Review";case"procurement":return"In Procurement";case"shipped":return"Shipped";case"delivered":return"Delivered";default:return"Unknown"}},$=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-amber-600 bg-amber-50 border-amber-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},U=()=>{t(`?section=${"requisitions"}`,{replace:!0})},W=e=>{navigator.clipboard.writeText(e),((e,t="info")=>{y(e),w(t),g(!0),setTimeout(()=>g(!1),4e3)})(`Tracking ID ${e} copied to clipboard!`,"success")},V={total:r.length,pending:r.filter(e=>"pending"===e.status).length,approved:r.filter(e=>"approved"===e.status).length,rejected:r.filter(e=>"rejected"===e.status).length,delivered:r.filter(e=>"delivered"===e.status).length,totalValue:r.reduce((e,t)=>e+t.estimatedCost,0),averageProcessingTime:Math.round(r.reduce((e,t)=>e+t.daysInProcess,0)/(r.length||1))},H=r.filter(e=>{const t=e.itemName.toLowerCase().includes(S.toLowerCase())||e.trackingId.toLowerCase().includes(S.toLowerCase())||e.department.toLowerCase().includes(S.toLowerCase()),r="all"===P||e.status===P;return t&&r});return i?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx(Bie,{isVisible:i,message:"Loading requisitions..."})}):u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx(T,{size:32,className:"text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Requisitions"}),e.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:u}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium text-sm",children:"Try Again"})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("main",{className:"p-3 space-y-3 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Requisitions"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Re,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search requisitions...",value:S,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl text-sm bg-white"})]}),e.jsxs("select",{value:P,onChange:e=>O(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm bg-white",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"approved",children:"Approved"}),e.jsx("option",{value:"rejected",children:"Rejected"}),e.jsx("option",{value:"delivered",children:"Delivered"})]}),e.jsxs("button",{onClick:()=>{d(!0),setTimeout(()=>d(!1),1e3),window.location.reload()},disabled:i,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 text-sm",children:[e.jsx(G,{size:14,className:i?"animate-spin":""}),"Refresh"]}),e.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors text-sm",children:[e.jsx(Le,{size:14}),"New Request"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(qie,{title:"Total Requests",value:V.total,icon:ze,color:"blue",subtitle:"All requisitions"}),e.jsx(qie,{title:"Pending Review",value:V.pending,icon:l,color:"amber",subtitle:"Awaiting approval"}),e.jsx(qie,{title:"Approved",value:V.approved,icon:n,color:"green",trend:12,subtitle:"In procurement"}),e.jsx(qie,{title:"Total Value",value:V.totalValue.toLocaleString(),prefix:"$",icon:m,color:"purple",trend:8,subtitle:"Estimated cost"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Requisition Requests"})]}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:e.jsxs("span",{children:[H.length," of ",V.total," requests"]})})]}),0===H.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:e.jsx(ze,{size:24,className:"text-gray-400"})}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:S||"all"!==P?"No requisitions match your filters":"No Requisitions Found"}),e.jsx("p",{className:"text-gray-500 mb-3 text-xs",children:S||"all"!==P?"Try adjusting your search criteria or filters.":"You haven't created any requisitions yet. Start by creating your first request."}),e.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 mx-auto text-sm",children:[e.jsx(Le,{size:14}),"Create New Request"]})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:H.map(t=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.itemName}),e.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[e.jsx("button",{onClick:()=>(e=>{k(e)})(t),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(_,{size:14})}),e.jsx("button",{onClick:()=>W(t.trackingId),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:e.jsx(X,{size:14})}),e.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-colors",children:e.jsx(Ve,{size:14})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium border ${F(t.status)}`,children:[B(t.status),e.jsx("span",{className:"ml-1",children:q(t.status)})]}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium ${$(t.urgency)}`,children:t.urgency.toUpperCase()})]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(c,{size:12}),t.trackingId]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{size:12}),t.submissionDate]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(l,{size:12}),t.daysInProcess,"d"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-blue-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-blue-600 font-medium text-xs",children:"Quantity"}),e.jsx("p",{className:"font-bold text-blue-900 text-sm",children:t.quantity})]}),e.jsxs("div",{className:"bg-green-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-green-600 font-medium text-xs",children:"Est. Cost"}),e.jsxs("p",{className:"font-bold text-green-900 text-sm",children:["$",t.estimatedCost.toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[e.jsxs("div",{className:"bg-purple-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-purple-600 font-medium text-xs",children:"Procurement Officer"}),e.jsx("p",{className:"font-bold text-purple-900 text-xs",children:t.approver.email})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-2",children:[e.jsx("span",{className:"text-amber-600 font-medium text-xs",children:"Budget Code"}),e.jsx("p",{className:"font-bold text-amber-900 text-xs",children:t.budgetCode})]})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Progress Timeline"}),e.jsxs("span",{className:"text-xs text-gray-500",children:[t.timeline.filter(e=>e.completed).length," of ",t.timeline.length," steps"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"absolute left-2 top-0 w-0.5 bg-blue-500 transition-all duration-500",style:{height:t.timeline.filter(e=>e.completed).length/t.timeline.length*100+"%"}}),e.jsxs("div",{className:"space-y-2",children:[t.timeline.slice(0,3).map((t,r)=>e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"relative z-10 w-1.5 h-1.5 rounded-full "+(t.completed?"bg-green-500":t.current?"bg-blue-500 animate-pulse":"bg-gray-300")}),e.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-xs font-medium "+(t.current?"text-blue-600":"text-gray-900"),children:t.description})}),e.jsx("div",{className:"text-xs text-gray-500",children:t.date})]})]},r)),t.timeline.length>3&&e.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["+",t.timeline.length-3," more steps"]})]})]})]})]},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:e.jsx(Le,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"New Requisition"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Submit a new procurement request"})]})]}),e.jsx("button",{onClick:U,className:"w-full py-2 px-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors text-sm",children:"Create Request"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:e.jsx(Ie,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Export Report"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Download requisition summary"})]})]}),e.jsx("button",{className:"w-full py-2 px-3 bg-green-500 text-white rounded-xl font-medium hover:bg-green-600 transition-colors text-sm",children:"Download Report"})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:e.jsx(o,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Track Status"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Monitor all active requests"})]})]}),e.jsx("button",{className:"w-full py-2 px-3 bg-purple-500 text-white rounded-xl font-medium hover:bg-purple-600 transition-colors text-sm",children:"View All"})]})]})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(ze,{size:20,className:"text-blue-600"}),"Requisition Details"]}),e.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Track the progress of your request"})]}),e.jsx("button",{onClick:()=>k(null),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(s,{size:20})})]})}),e.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:N.itemName}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium border ${F(N.status)}`,children:[B(N.status),e.jsx("span",{className:"ml-1",children:q(N.status)})]}),e.jsxs("button",{onClick:()=>W(N.trackingId),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-1",children:[e.jsx(X,{size:10}),N.trackingId]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Submitted"}),e.jsx("p",{className:"font-bold text-blue-900 text-sm",children:N.submissionDate})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Quantity"}),e.jsx("p",{className:"font-bold text-blue-900 text-sm",children:N.quantity})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Est. Cost"}),e.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["$",N.estimatedCost.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Days in Process"}),e.jsx("p",{className:"font-bold text-blue-900 text-sm",children:N.daysInProcess})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(o,{size:16}),"Detailed Progress Timeline"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"absolute left-4 top-0 w-0.5 bg-blue-500 transition-all duration-1000",style:{height:N.timeline.filter(e=>e.completed).length/N.timeline.length*100+"%"}}),e.jsx("div",{className:"space-y-4",children:N.timeline.map((t,r)=>e.jsxs("div",{className:"relative flex items-start gap-4 "+(t.current?"bg-blue-50 border border-blue-200 rounded-2xl p-3 -ml-3":""),children:[e.jsx("div",{className:"relative z-10 w-3 h-3 rounded-full border-2 "+(t.completed?"bg-green-500 border-green-500":t.current?"bg-blue-500 border-blue-500 animate-pulse":"bg-white border-gray-300"),children:t.completed&&e.jsx(n,{size:10,className:"text-green-500 absolute -top-0.5 -left-0.5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("h5",{className:"font-semibold text-sm "+(t.current?"text-blue-900":"text-gray-900"),children:t.description}),e.jsxs("span",{className:"text-xs "+(t.current?"text-blue-600":"text-gray-500"),children:[t.date," ",t.time&&` ${t.time}`]})]}),t.current&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 text-xs",children:[e.jsx(Ue,{size:12,className:"animate-spin"}),e.jsx("span",{children:"Currently in progress..."})]})]})]},r))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-3",children:"Request Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Department"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.department})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Budget Code"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.budgetCode})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Priority Level"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium ${$(N.urgency)}`,children:N.urgency.toUpperCase()})]}),N.deliveryDate&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Required Delivery Date"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.deliveryDate})]}),N.preferredSupplier&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Preferred Supplier"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.preferredSupplier})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-3",children:"Additional Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Business Justification"}),e.jsx("p",{className:"text-gray-900 text-xs leading-relaxed",children:N.reason})]}),N.environmentalImpact&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Environmental Considerations"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.environmentalImpact})]}),N.category&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[e.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Category"}),e.jsx("p",{className:"text-gray-900 font-medium text-sm",children:N.category})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{className:"px-3 py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Ie,{size:14}),"Export PDF"]}),e.jsxs("button",{className:"px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-gray-100 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(D,{size:14}),"Email Updates"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:["rejected"===N.status&&e.jsxs("button",{className:"px-3 py-2 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors flex items-center gap-1 text-sm",children:[e.jsx(Qe,{size:14}),"Resubmit"]}),e.jsx("button",{onClick:()=>k(null),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors text-sm",children:"Close"})]})]})]})})]})}),x&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-4 py-3 rounded-2xl shadow-2xl border "+("success"===j?"bg-green-50 text-green-800 border-green-200":"error"===j?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center "+("success"===j?"bg-green-500":"error"===j?"bg-red-500":"bg-blue-500"),children:e.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("span",{className:"font-medium text-sm",children:b}),e.jsx("button",{onClick:()=>g(!1),className:"ml-3 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:16})})]})})})]})}le(de)(({theme:e})=>({width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:e.palette.background.default,borderRight:`1px solid ${e.palette.divider}`,backgroundImage:"none",boxShadow:"none"}})),le(ce)(({theme:e,selected:t})=>({borderRadius:e.shape.borderRadius,margin:e.spacing(.25,1.5),padding:e.spacing(.75,1.5),minHeight:40,"&.Mui-selected":{backgroundColor:ie(e.palette.primary.main,.1),"&:hover":{backgroundColor:ie(e.palette.primary.main,.15)},"& .MuiListItemIcon-root":{color:e.palette.primary.main},"& .MuiListItemText-primary":{fontWeight:600,fontSize:"0.875rem"}},"&:hover":{backgroundColor:e.palette.action.hover},"& .MuiListItemIcon-root":{minWidth:36},"& .MuiListItemText-root":{marginTop:2,marginBottom:2}})),le("div")(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(2,1.5),...e.mixins.toolbar})),le(oe)(({theme:e})=>({padding:e.spacing(1.5,2,1),color:e.palette.text.secondary,fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"})),le(tr)(({theme:e})=>({height:"100%",borderRadius:1.5*e.shape.borderRadius,boxShadow:e.shadows[1],transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]},"& .MuiCardContent-root":{padding:e.spacing(2)}})),le(vt)(({theme:e})=>({padding:e.spacing(1.5),borderRadius:1.5*e.shape.borderRadius,border:`1px solid ${e.palette.divider}`,transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-1px)",boxShadow:e.shadows[1]}})),le(tr)(({theme:e})=>({borderRadius:2*e.shape.borderRadius,overflow:"hidden",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]}}));const Uie=({theme:t})=>e.jsx(ae,{sx:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center",backgroundColor:t.palette.background.default},children:e.jsxs(ae,{sx:{textAlign:"center"},children:[e.jsx(Ct,{size:40,sx:{mb:2}}),e.jsx(oe,{variant:"h6",sx:{mb:2,color:t.palette.text.primary},children:"Loading Dashboard..."}),e.jsx(oe,{variant:"body2",color:"text.secondary",children:"Please wait while we load your information"})]})});function Wie(){const t=$r(),r=pe(),{user:n,loading:s,token:a}=An(),[i]=Vr(),[o,l]=qr.useState({requisitions:{counts:{total:0,pending:0}},rfqs:{counts:{total:0,open:0}},purchaseOrders:{counts:{total:0,pending:0}},invoices:{counts:{total:0,pending:0}}}),[c,d]=qr.useState(null),[u,m]=qr.useState(null),[h,p]=qr.useState(!0),[f,x]=qr.useState(null),[g,b]=qr.useState(!1),[y,v]=qr.useState(!1),[j,w]=qr.useState(()=>i.get("section")||"dashboard"),[N,k]=qr.useState(!0),[S,C]=qr.useState(0);if(qr.useEffect(()=>{const e=()=>{C(window.pageYOffset)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),qr.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&k(JSON.parse(e))},t=e=>{k(e.detail.open)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",t),e(),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",t)}},[]),qr.useEffect(()=>{const e=i.get("section")||"dashboard";w(e)},[i]),qr.useEffect(()=>{(async()=>{if(n&&a)try{p(!0);const[e,t]=await Promise.all([$W().catch(e=>null),HW().catch(e=>null)]);e&&d(e),t&&(m(t),t.dashboardStats&&l(e=>({...e,...t.dashboardStats})))}catch(ide){}finally{p(!1)}})()},[n,a]),qr.useEffect(()=>{s||n&&a||t("/login")},[n,a,s,t]),s||h)return e.jsx(Uie,{theme:r});if(!n||!a)return e.jsx(Uie,{theme:r});const A=e=>{t(`?section=${e}`,{replace:!0})};return e.jsxs(ae,{sx:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:r.palette.background.default},children:[e.jsx(Tie,{stats:o,activeSection:j,handleSectionChange:A,onSidebarToggle:k}),e.jsxs(ae,{component:"main",sx:{flexGrow:1,overflow:"auto",backgroundColor:r.palette.background.default,position:"relative"},children:[e.jsx(Die,{user:n,onMobileMenuToggle:v,scrollPosition:S,handleSectionChange:A,sidebarOpen:N,sidebarWidth:256,collapsedSidebarWidth:70}),e.jsx(ae,{sx:{paddingTop:"80px",minHeight:"calc(100vh - 64px)",position:"relative",zIndex:1,padding:"80px 1.5rem 1.5rem"},children:"dashboard"===j?e.jsxs(ae,{sx:{maxWidth:"100%",margin:"0 auto"},children:[e.jsx(Lie,{stats:o,userStats:u}),e.jsxs(ae,{sx:{display:"flex",gap:2,mb:4,width:"100%",height:"100%"},children:[e.jsx(ae,{sx:{flex:1,minWidth:0,height:"100%",display:"flex",flexDirection:"column"},children:e.jsx(zie,{})}),e.jsx(ae,{sx:{flex:1,minWidth:0,height:"100%",display:"flex",flexDirection:"column"},children:e.jsx(Mie,{handleSectionChange:A})})]}),e.jsxs(ae,{sx:{width:"100%"},children:[e.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(oe,{variant:"h6",sx:{fontWeight:600},children:"Recent Activity"}),c&&e.jsx(ae,{sx:{display:"flex",alignItems:"center",gap:1,px:2,py:1,bgcolor:"grey.50",borderRadius:1},children:e.jsxs(oe,{variant:"body2",color:"text.secondary",children:["Member since: ",new Date((c.user||c).createdAt).toLocaleDateString()]})})]}),e.jsx(Fie,{userStats:u})]})]}):e.jsxs(ae,{children:["requisitions"===j&&e.jsx(pte,{}),"new-recon"===j&&e.jsx(Eae,{}),"travel-requests"===j&&e.jsx(Zre,{}),"travel-execution"===j&&e.jsx(kae,{}),"manage-requisitions"===j&&e.jsx($ie,{}),"user-profile"===j&&e.jsx(KW,{})]})})]}),e.jsx(Bm,{user:n})]})}const Vie=({onCancel:t,onSubmitSuccess:a})=>{const[i,o]=qr.useState({purpose:"",departureDate:"",returnDate:"",location:"",fundingCodes:"",meansOfTravel:"",currency:"MWK",travelType:"local",estimatedCost:"",numberOfTravelers:1,accommodationNeeded:!1,emergencyContact:"",specialRequirements:"",businessJustification:"",department:""}),[l,c]=qr.useState(!1),[d,h]=qr.useState(!1),[p,f]=qr.useState(!1),[x,g]=qr.useState(!1),[b,y]=qr.useState(""),[j,w]=qr.useState({}),[k,S]=qr.useState(0),[C,A]=qr.useState(!1),E=$r(),{token:P}=An(),D=[{id:0,title:"Travel Details",description:"Basic travel information and purpose",icon:e.jsx(Se,{size:20})},{id:1,title:"Dates & Logistics",description:"Travel dates and transportation",icon:e.jsx(v,{size:20})},{id:2,title:"Budget & Approval",description:"Cost estimates and justification",icon:e.jsx(N,{size:20})}],O=[{value:"own",label:"Own Vehicle",icon:e.jsx(Bt,{size:16}),description:"Use personal vehicle"},{value:"company",label:"Company Vehicle",icon:e.jsx(L,{size:16}),description:"Use company fleet"},{value:"rental",label:"Rental Car",icon:e.jsx(Bt,{size:16}),description:"Rent a vehicle"},{value:"flight",label:"Flight",icon:e.jsx(Ft,{size:16}),description:"Air travel"},{value:"bus",label:"Bus/Coach",icon:e.jsx(Bt,{size:16}),description:"Bus transportation"}];qr.useEffect(()=>{A(!0);const e=setTimeout(()=>{Object.values(i).some(e=>""!==e&&1!==e&&!1!==e)&&(localStorage.setItem("travelRequestDraft",JSON.stringify(i)),h(!0),setTimeout(()=>h(!1),2e3))},3e3);return()=>clearTimeout(e)},[i]),qr.useEffect(()=>{const e=localStorage.getItem("travelRequestDraft");e&&o(JSON.parse(e))},[]);const M=e=>{const{name:t,value:r,type:n,checked:s}=e.target;o(e=>({...e,[t]:"checkbox"===n?s:r})),j[t]&&w(e=>({...e,[t]:""}))},I=e=>{const t={};if(0===e&&(i.purpose.trim()||(t.purpose="Purpose of travel is required"),i.location.trim()||(t.location="Destination is required"),i.department||(t.department="Department is required"),i.purpose.length<10&&(t.purpose="Please provide more details about the purpose")),1===e&&(i.departureDate||(t.departureDate="Departure date is required"),i.returnDate||(t.returnDate="Return date is required"),i.meansOfTravel||(t.meansOfTravel="Transportation method is required"),i.departureDate&&i.returnDate)){const e=new Date(i.departureDate);e>=new Date(i.returnDate)&&(t.returnDate="Return date must be after departure date"),e<new Date&&(t.departureDate="Departure date cannot be in the past")}return 2===e&&(i.fundingCodes.trim()||(t.fundingCodes="Funding code is required"),i.businessJustification.trim()||(t.businessJustification="Business justification is required"),i.businessJustification.length<20&&(t.businessJustification="Please provide detailed justification (minimum 20 characters)")),w(t),0===Object.keys(t).length},R=()=>{if(i.departureDate&&i.returnDate){const e=new Date(i.departureDate),t=new Date(i.returnDate),r=Math.abs(t-e);return Math.ceil(r/864e5)}return 0};return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(Se,{size:24})}),"Local Travel Request"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Submit a request for domestic business travel"})]}),d&&e.jsxs("div",{className:"flex items-center text-green-600 text-sm bg-green-50 px-3 py-2 rounded-lg border border-green-200 animate-pulse",children:[e.jsx(Pe,{size:16,className:"mr-2"}),"Draft saved"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",k+1," of ",D.length]})]}),e.jsx("div",{className:"flex items-center justify-between",children:D.map((t,r)=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl border-2 transition-all duration-300 "+(r<=k?"bg-gradient-to-br from-blue-500 to-purple-600 border-transparent text-white shadow-lg":"bg-white border-gray-300 text-gray-400"),children:r<k?e.jsx(n,{size:20}):t.icon}),r<D.length-1&&e.jsx("div",{className:"w-16 h-1 mx-4 rounded-full transition-all duration-500 "+(r<k?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-300")})]},t.id))}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:D[k].title}),e.jsx("p",{className:"text-sm text-gray-600",children:D[k].description})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[e.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-gray-50/50 to-blue-50/30",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[D[k].icon,D[k].title]})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),I(2)){c(!0);try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!t||!t._id)throw new Error("User not logged in or user ID not found");const r={employee:t._id,purpose:i.purpose,departureDate:i.departureDate?new Date(i.departureDate).toISOString():null,returnDate:i.returnDate?new Date(i.returnDate).toISOString():null,location:i.location,fundingCodes:i.fundingCodes,meansOfTravel:i.meansOfTravel,travelType:"local",currency:"MWK",estimatedCost:i.estimatedCost,numberOfTravelers:i.numberOfTravelers,accommodationNeeded:i.accommodationNeeded,emergencyContact:i.emergencyContact,specialRequirements:i.specialRequirements,businessJustification:i.businessJustification,department:i.department},n=await fetch("https://backend.nexusmwi.com/api/travel-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(r)});if(n.ok){await n.json();f(!0),localStorage.removeItem("travelRequestDraft"),a?setTimeout(()=>{a()},2e3):setTimeout(()=>{E("/travel/manage/dash")},2e3)}else{const e=await n.json();y(e.message||"Failed to submit travel request"),g(!0)}}catch(ide){y(ide.message||"An error occurred while submitting the travel request"),g(!0)}finally{c(!1)}}},className:"p-8",children:[0===k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose of Travel *"}),e.jsx("textarea",{name:"purpose",value:i.purpose,onChange:M,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none "+(j.purpose?"border-red-300":"border-gray-300"),placeholder:"Provide detailed information about the purpose of your travel, meetings planned, objectives..."}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[j.purpose?e.jsx("p",{className:"text-sm text-red-600",children:j.purpose}):e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 10 characters required"}),e.jsxs("span",{className:"text-xs "+(i.purpose.length>=10?"text-green-600":"text-gray-400"),children:[i.purpose.length,"/10"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Se,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"location",value:i.location,onChange:M,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(j.location?"border-red-300":"border-gray-300"),placeholder:"Enter destination city/location"})]}),j.location&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.location})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),e.jsxs("div",{className:"relative",children:[e.jsx(L,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsxs("select",{name:"department",value:i.department,onChange:M,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(j.department?"border-red-300":"border-gray-300"),children:[e.jsx("option",{value:"",children:"Select Department"}),["Information Technology","Human Resources","Finance & Accounting","Operations","Marketing & Communications","Research & Development","Customer Support"].map(t=>e.jsx("option",{value:t,children:t},t))]})]}),j.department&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.department})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Travelers"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(e=>({...e,numberOfTravelers:Math.max(1,e.numberOfTravelers-1)})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:e.jsx(Y,{size:16})}),e.jsx("span",{className:"text-lg font-medium text-gray-900 px-4",children:i.numberOfTravelers}),e.jsx("button",{type:"button",onClick:()=>o(e=>({...e,numberOfTravelers:e.numberOfTravelers+1})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:e.jsx(Le,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"emergencyContact",value:i.emergencyContact,onChange:M,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Name and phone number"})]})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"accommodationNeeded",name:"accommodationNeeded",checked:i.accommodationNeeded,onChange:M,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"accommodationNeeded",className:"ml-3 text-sm font-medium text-gray-900",children:"Accommodation required for this trip"})]})]}),1===k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"departureDate",value:i.departureDate,onChange:M,min:(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(j.departureDate?"border-red-300":"border-gray-300")})]}),j.departureDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.departureDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"date",name:"returnDate",value:i.returnDate,onChange:M,min:i.departureDate||(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(j.returnDate?"border-red-300":"border-gray-300")})]}),j.returnDate&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.returnDate})]})]}),i.departureDate&&i.returnDate&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-900 font-medium",children:"Trip Duration"}),e.jsxs("span",{className:"text-blue-700 font-bold",children:[R()," ",1===R()?"day":"days"]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transportation Method *"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(t=>e.jsxs("button",{type:"button",onClick:()=>o(e=>({...e,meansOfTravel:t.value})),className:"p-4 border-2 rounded-xl transition-all duration-200 text-left "+(i.meansOfTravel===t.value?"border-blue-500 bg-blue-50 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+(i.meansOfTravel===t.value?"bg-blue-100":"bg-gray-100"),children:t.icon}),i.meansOfTravel===t.value&&e.jsx(n,{size:20,className:"text-blue-600"})]}),e.jsx("h4",{className:"font-medium text-gray-900",children:t.label}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:t.description})]},t.value))}),j.meansOfTravel&&e.jsx("p",{className:"mt-2 text-sm text-red-600",children:j.meansOfTravel})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements (Optional)"}),e.jsx("textarea",{name:"specialRequirements",value:i.specialRequirements,onChange:M,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Any special requirements, dietary restrictions, accessibility needs, etc."})]})]}),2===k&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Code *"}),e.jsxs("div",{className:"relative",children:[e.jsx(N,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",name:"fundingCodes",value:i.fundingCodes,onChange:M,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(j.fundingCodes?"border-red-300":"border-gray-300"),placeholder:"e.g., PROJ-2024-001"})]}),j.fundingCodes&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:j.fundingCodes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Cost (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(m,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"number",name:"estimatedCost",value:i.estimatedCost,onChange:M,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",min:"0",step:"0.01"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Currency: Malawian Kwacha (MWK)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Justification *"}),e.jsx("textarea",{name:"businessJustification",value:i.businessJustification,onChange:M,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none "+(j.businessJustification?"border-red-300":"border-gray-300"),placeholder:"Explain the business necessity for this travel, expected outcomes, and how it aligns with organizational goals..."}),e.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[j.businessJustification?e.jsx("p",{className:"text-sm text-red-600",children:j.businessJustification}):e.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 20 characters required"}),e.jsxs("span",{className:"text-xs "+(i.businessJustification.length>=20?"text-green-600":"text-gray-400"),children:[i.businessJustification.length,"/20"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[e.jsx(_,{size:20}),"Travel Request Summary"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Destination:"}),e.jsx("p",{className:"text-blue-900",children:i.location||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Department:"}),e.jsx("p",{className:"text-blue-900",children:i.department||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Travel Dates:"}),e.jsx("p",{className:"text-blue-900",children:i.departureDate&&i.returnDate?`${new Date(i.departureDate).toLocaleDateString()} - ${new Date(i.returnDate).toLocaleDateString()}`:"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Transportation:"}),e.jsx("p",{className:"text-blue-900",children:O.find(e=>e.value===i.meansOfTravel)?.label||"Not specified"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Travelers:"}),e.jsxs("p",{className:"text-blue-900",children:[i.numberOfTravelers," person(s)"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"Estimated Cost:"}),e.jsx("p",{className:"text-blue-900",children:i.estimatedCost?`MWK ${parseFloat(i.estimatedCost).toLocaleString()}`:"Not specified"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(u,{size:20,className:"text-amber-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-amber-900 mb-2",children:"Travel Policy Compliance"}),e.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[e.jsx("li",{children:" All travel must be pre-approved by your department head"}),e.jsx("li",{children:" Receipts are required for all expenses over MWK 5,000"}),e.jsx("li",{children:" Travel must comply with company safety and security guidelines"}),e.jsx("li",{children:" Changes to approved travel must be communicated immediately"})]})]})]})})]}),e.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-200 mt-8",children:[e.jsxs("button",{type:"button",onClick:0===k?t:()=>{S(e=>e-1)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(F,{size:16}),0===k?"Cancel":"Previous"]}),e.jsx("div",{className:"flex space-x-3",children:k<D.length-1?e.jsxs("button",{type:"button",onClick:()=>{I(k)&&S(e=>e+1)},className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:["Continue",e.jsx(se,{size:16})]}):e.jsx("button",{type:"submit",disabled:l,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-xl hover:from-green-700 hover:to-blue-700 disabled:opacity-50 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{size:16}),"Submit Request"]})})})]})]})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-6 shadow-lg animate-pulse",children:e.jsx(n,{size:32,className:"text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Request Submitted Successfully! "}),e.jsxs("div",{className:"text-gray-600 mb-6 space-y-2",children:[e.jsx("p",{children:"Your travel request has been submitted and is now pending approval."}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsxs("div",{className:"text-lg font-bold text-green-900 font-mono",children:["TR-",(new Date).getFullYear(),"-",String(Math.floor(1e3*Math.random())).padStart(3,"0")]}),e.jsx("div",{className:"text-sm text-green-700",children:"Reference Number"})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsx("p",{children:" Department manager will be notified"}),e.jsx("p",{children:" HR will review for policy compliance"}),e.jsx("p",{children:" You'll receive email updates on status"})]})]})]})})}),x&&e.jsx("div",{className:"fixed top-4 right-4 bg-red-50 border border-red-200 rounded-xl p-4 shadow-lg z-50 max-w-md",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(T,{size:20,className:"text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Submission Failed"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:b})]}),e.jsx("button",{onClick:()=>g(!1),className:"text-red-400 hover:text-red-600 transition-colors duration-200",children:e.jsx(s,{size:16})})]})}),e.jsx("div",{className:"fixed right-6 bottom-6 z-40",children:e.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl p-4 text-white shadow-2xl max-w-xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[e.jsx(r,{size:16}),"Need Help?"]}),e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(st,{size:14}),"Travel Policy Guide"]}),e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(rt,{size:14}),"Live Chat Support"]}),e.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[e.jsx(B,{size:14}),"Call Travel Team"]})]})]})}),e.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 md:hidden bg-white rounded-full px-4 py-2 shadow-lg border border-gray-200 z-40",children:e.jsx("div",{className:"flex items-center space-x-2",children:D.map((t,r)=>e.jsx("div",{className:"w-2 h-2 rounded-full transition-all duration-300 "+(r<=k?"bg-blue-500":"bg-gray-300")},r))})})]})},Hie=Ur.forwardRef(function(t,r){return e.jsx(yt,{elevation:6,ref:r,variant:"filled",...t})}),Gie=()=>{const[t,r]=qr.useState([]),[n,s]=qr.useState(!0),[a,i]=qr.useState(!1),[o,l]=qr.useState(""),[c,d]=qr.useState("success"),[u,m]=qr.useState(!1),[h,p]=qr.useState(null),[f,x]=qr.useState({perDiemRate:50,advanceAmount:0,paymentMethod:"none",notes:""}),g="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${g}/api/travel-requests/finance/pending`,{headers:{Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error("Failed to fetch approved travel requests");const n=await t.json();r(n)}catch(ide){l("Failed to fetch approved travel requests"),d("error"),i(!0)}finally{s(!1)}})()},[]);const b=(e,t)=>{"clickaway"!==t&&i(!1)},y=e=>Math.ceil((new Date(e.returnDate)-new Date(e.departureDate))/864e5)*f.perDiemRate,v=()=>{m(!1)},j=e=>{const{name:t,value:r}=e.target;x(e=>({...e,[t]:"perDiemRate"===t||"advanceAmount"===t?Number(r):r}))};return n?e.jsx(ae,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",children:e.jsx(Ct,{})}):e.jsxs(gt,{children:[e.jsxs(ae,{sx:{background:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",color:"white",borderRadius:2,p:3,mb:4},children:[e.jsx(oe,{variant:"h4",gutterBottom:!0,children:"Finance Processing"}),e.jsx(oe,{variant:"subtitle1",children:"Process payments for approved travel requests"})]}),0===t.length?e.jsx(Hie,{severity:"info",children:"No travel requests pending finance processing"}):e.jsx(Et,{component:vt,children:e.jsxs(_t,{children:[e.jsx(Pt,{children:e.jsxs(Dt,{children:[e.jsx(Ot,{children:"Employee"}),e.jsx(Ot,{children:"Dates"}),e.jsx(Ot,{children:"Location"}),e.jsx(Ot,{children:"Purpose"}),e.jsx(Ot,{children:"Approval Status"}),e.jsx(Ot,{children:"Actions"})]})}),e.jsx(Lt,{children:t.map(t=>e.jsxs(Dt,{children:[e.jsx(Ot,{children:t.employee?.name||"N/A"}),e.jsxs(Ot,{children:[new Date(t.departureDate).toLocaleDateString()," -"," ",new Date(t.returnDate).toLocaleDateString()]}),e.jsx(Ot,{children:t.location}),e.jsx(Ot,{children:t.purpose}),e.jsx(Ot,{children:"approved"===t.finalApproval&&"Final Approved"}),e.jsx(Ot,{children:e.jsx(bt,{variant:"contained",color:"primary",startIcon:e.jsx(js,{}),onClick:()=>(e=>{p(e),x({perDiemRate:50,advanceAmount:0,paymentMethod:"none",notes:""}),m(!0)})(t),children:"Process Payment"})})]},t._id))})]})}),e.jsxs(Mt,{open:u,onClose:v,maxWidth:"md",fullWidth:!0,children:[e.jsx(It,{children:"Process Travel Payment"}),e.jsx(Rt,{dividers:!0,children:h&&e.jsxs(ae,{children:[e.jsx(oe,{variant:"h6",gutterBottom:!0,children:"Request Details"}),e.jsxs(oe,{children:[e.jsx("strong",{children:"Employee:"})," ",h.employee?.name]}),e.jsxs(oe,{children:[e.jsx("strong",{children:"Dates:"})," ",new Date(h.departureDate).toLocaleDateString()," -"," ",new Date(h.returnDate).toLocaleDateString()," (",Math.ceil((new Date(h.returnDate)-new Date(h.departureDate))/864e5)," ","days)"]}),e.jsxs(oe,{children:[e.jsx("strong",{children:"Location:"})," ",h.location]}),e.jsxs(oe,{children:[e.jsx("strong",{children:"Purpose:"})," ",h.purpose]}),e.jsxs(ae,{sx:{mt:4},children:[e.jsx(oe,{variant:"h6",gutterBottom:!0,children:"Payment Details"}),e.jsxs(ae,{sx:{display:"flex",gap:2,mb:3},children:[e.jsx(jt,{label:"Per Diem Rate ($)",name:"perDiemRate",type:"number",value:f.perDiemRate,onChange:j,sx:{width:150}}),e.jsx(ae,{sx:{flexGrow:1},children:e.jsxs(oe,{children:[e.jsx("strong",{children:"Per Diem Calculation:"})," ",Math.ceil((new Date(h.returnDate)-new Date(h.departureDate))/864e5)," ","days  $",f.perDiemRate," = $",y(h)]})})]}),e.jsxs(wt,{fullWidth:!0,sx:{mb:3},children:[e.jsx(Nt,{children:"Payment Method"}),e.jsxs(kt,{name:"paymentMethod",value:f.paymentMethod,label:"Payment Method",onChange:j,children:[e.jsx(St,{value:"none",children:"No Payment Required"}),e.jsx(St,{value:"advance",children:"Travel Advance"}),e.jsx(St,{value:"reimbursement",children:"Expense Reimbursement"}),e.jsx(St,{value:"corporate_card",children:"Corporate Card"})]})]}),"advance"===f.paymentMethod&&e.jsx(jt,{label:"Advance Amount ($)",name:"advanceAmount",type:"number",fullWidth:!0,value:f.advanceAmount,onChange:j,sx:{mb:3}}),e.jsx(jt,{label:"Notes",name:"notes",multiline:!0,rows:3,fullWidth:!0,value:f.notes,onChange:j}),e.jsx(ae,{sx:{mt:2},children:e.jsxs(oe,{variant:"h6",children:[e.jsx("strong",{children:"Total Amount:"})," $",y(h)+f.advanceAmount]})})]})]})}),e.jsxs(zt,{children:[e.jsx(bt,{onClick:v,children:"Cancel"}),e.jsx(bt,{onClick:async()=>{try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"))._id,n=y(h),s=await fetch(`${g}/api/travel-requests/${h._id}/finance-process`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({perDiemAmount:n,travelAdvanceAmount:f.advanceAmount,paymentMethod:f.paymentMethod,financeOfficer:t,notes:f.notes})});if(s.ok)r(e=>e.filter(e=>e._id!==h._id)),l("Payment processed successfully!"),d("success"),m(!1);else{const e=await s.json();l(e.message||"Failed to process payment"),d("error")}i(!0)}catch(ide){l("An error occurred while processing payment"),d("error"),i(!0)}},variant:"contained",color:"success",startIcon:e.jsx(Ns,{}),children:"Complete Processing"})]})]}),e.jsx(mr,{open:a,autoHideDuration:6e3,onClose:b,anchorOrigin:{vertical:"top",horizontal:"right"},children:e.jsx(Hie,{onClose:b,severity:c,children:o})})]})};function Kie(){const[t,r]=qr.useState(3e4),[n,s]=qr.useState(3),[a,i]=qr.useState([]),[o,l]=qr.useState([]),[c,d]=qr.useState(30),[u,m]=qr.useState(!1),[h,p]=qr.useState({}),[f,x]=qr.useState(!1),[g,b]=qr.useState(""),[y,v]=qr.useState("balanced"),[j,w]=qr.useState(!1),N=[{id:1,name:"Cooking Oil (500ml)",price:2500,unit:"bottle",category:"staple"},{id:2,name:"Tomatoes",price:100,unit:"piece",category:"vegetable"},{id:3,name:"Onions",price:80,unit:"piece",category:"vegetable"},{id:4,name:"Fish (tilapia)",price:3500,unit:"kg",category:"protein"},{id:5,name:"Chicken",price:2800,unit:"kg",category:"protein"},{id:6,name:"Beef",price:3200,unit:"kg",category:"protein"},{id:7,name:"Beans",price:1200,unit:"kg",category:"protein"},{id:8,name:"Eggs",price:120,unit:"piece",category:"protein"},{id:9,name:"Maize Flour",price:950,unit:"kg",category:"staple"},{id:10,name:"Rice",price:1500,unit:"kg",category:"staple"},{id:11,name:"Charcoal",price:700,unit:"kg",category:"utility"},{id:12,name:"Salt",price:400,unit:"kg",category:"staple"},{id:13,name:"Cabbage",price:350,unit:"head",category:"vegetable"},{id:14,name:"Potatoes",price:800,unit:"kg",category:"vegetable"},{id:15,name:"Carrots",price:600,unit:"kg",category:"vegetable"},{id:16,name:"Bananas",price:200,unit:"piece",category:"fruit"},{id:17,name:"Green peppers",price:100,unit:"piece",category:"vegetable"},{id:18,name:"Garlic",price:50,unit:"clove",category:"vegetable"},{id:19,name:"Ginger",price:100,unit:"piece",category:"vegetable"},{id:20,name:"Sugar",price:1200,unit:"kg",category:"staple"},{id:21,name:"Dried Fish (Usipa)",price:1800,unit:"kg",category:"protein"},{id:22,name:"Groundnuts",price:1500,unit:"kg",category:"protein"},{id:23,name:"Pumpkin Leaves",price:200,unit:"bunch",category:"vegetable"},{id:24,name:"Sweet Potatoes",price:600,unit:"kg",category:"staple"},{id:25,name:"Milk",price:800,unit:"liter",category:"protein"},{id:26,name:"Bread",price:500,unit:"loaf",category:"staple"},{id:27,name:"Tea Leaves",price:300,unit:"packet",category:"staple"},{id:28,name:"Lemons",price:50,unit:"piece",category:"fruit"},{id:29,name:"Cassava",price:400,unit:"kg",category:"staple"},{id:30,name:"Soy Pieces",price:1e3,unit:"kg",category:"protein"}];qr.useEffect(()=>{if(!j){const e={};N.forEach(t=>{e[t.id]=!0}),p(e),w(!0)}},[j]);const k=[{id:1,name:"Fish with Rice and Vegetables",ingredients:[{item:"Fish (tilapia)",quantity:.5},{item:"Rice",quantity:.5},{item:"Tomatoes",quantity:3},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Cabbage",quantity:.3}],type:"dinner",cost:0,frequency:3},{id:2,name:"Beef Stew with Nsima",ingredients:[{item:"Beef",quantity:.5},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:3},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Green peppers",quantity:2}],type:"dinner",cost:0,frequency:3},{id:3,name:"Beans with Nsima",ingredients:[{item:"Beans",quantity:.4},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:4},{id:4,name:"Chicken Stew with Rice",ingredients:[{item:"Chicken",quantity:.5},{item:"Rice",quantity:.5},{item:"Tomatoes",quantity:3},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Carrots",quantity:.2}],type:"dinner",cost:0,frequency:2},{id:5,name:"Egg Stew with Nsima",ingredients:[{item:"Eggs",quantity:6},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:3},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Green peppers",quantity:1}],type:"lunch",cost:0,frequency:3},{id:6,name:"Vegetable Rice",ingredients:[{item:"Rice",quantity:.5},{item:"Cabbage",quantity:.5},{item:"Carrots",quantity:.2},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:2},{id:7,name:"Fish Curry with Nsima",ingredients:[{item:"Fish (tilapia)",quantity:.5},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:3},{item:"Onions",quantity:2},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Garlic",quantity:3},{item:"Ginger",quantity:1}],type:"dinner",cost:0,frequency:2},{id:8,name:"Bean Stew with Rice",ingredients:[{item:"Beans",quantity:.4},{item:"Rice",quantity:.5},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:3},{id:9,name:"Potato and Egg Stew",ingredients:[{item:"Potatoes",quantity:.5},{item:"Eggs",quantity:3},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:2},{id:10,name:"Simple Nsima with Vegetables",ingredients:[{item:"Maize Flour",quantity:.6},{item:"Cabbage",quantity:.5},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:3},{id:11,name:"Usipa with Nsima",ingredients:[{item:"Dried Fish (Usipa)",quantity:.3},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"dinner",cost:0,frequency:3},{id:12,name:"Groundnut Stew with Nsima",ingredients:[{item:"Groundnuts",quantity:.3},{item:"Maize Flour",quantity:.6},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01},{item:"Pumpkin Leaves",quantity:1}],type:"dinner",cost:0,frequency:2},{id:13,name:"Sweet Potato Nsima with Beans",ingredients:[{item:"Sweet Potatoes",quantity:.5},{item:"Maize Flour",quantity:.3},{item:"Beans",quantity:.4},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"lunch",cost:0,frequency:2},{id:14,name:"Cassava with Fish",ingredients:[{item:"Cassava",quantity:.5},{item:"Fish (tilapia)",quantity:.5},{item:"Tomatoes",quantity:2},{item:"Onions",quantity:1},{item:"Cooking Oil (500ml)",quantity:.1},{item:"Salt",quantity:.01}],type:"dinner",cost:0,frequency:2},{id:15,name:"Tea with Bread",ingredients:[{item:"Bread",quantity:.5},{item:"Tea Leaves",quantity:.05},{item:"Sugar",quantity:.1},{item:"Milk",quantity:.2}],type:"breakfast",cost:0,frequency:5},{id:16,name:"Banana Pancakes",ingredients:[{item:"Maize Flour",quantity:.3},{item:"Bananas",quantity:3},{item:"Sugar",quantity:.05},{item:"Cooking Oil (500ml)",quantity:.05}],type:"breakfast",cost:0,frequency:2}],S=(e=y)=>{m(!0),x(!1);const r=(()=>{const e={};return N.forEach(t=>{h[t.id]&&(e[t.name]=t)}),k.map(t=>{let r=0,s=!0;return t.ingredients.forEach(t=>{const a=e[t.item];a?r+=a.price*t.quantity*n:s=!1}),{...t,cost:r,available:s}})})().filter(e=>e.available);if(0===r.length)return b("No recipes available with the selected ingredients. Please select more food items."),x(!0),void m(!1);const s=r.filter(e=>"breakfast"===e.type),a=r.filter(e=>"lunch"===e.type),i=r.filter(e=>"dinner"===e.type),o=a.length>0?a:r,d=i.length>0?i:r,u=s.length>0?s:r,p=[];let f=0;const g=e=>{const t=[];return e.forEach(e=>{for(let r=0;r<(e.frequency||1);r++)t.push(e)}),t},v=g(o),j=g(d),w=g(u),S=e=>{const t=[...e];for(let r=t.length-1;r>0;r--){const e=Math.floor(Math.random()*(r+1));[t[r],t[e]]=[t[e],t[r]]}return t};for(let n=1;n<=c;n++){let r,s,a;"variety"===e?(r=S(w)[0],s=S(v)[0],a=S(j)[0]):"economic"===e||n%3==0?(r=[...w].sort((e,t)=>e.cost-t.cost)[0],s=[...v].sort((e,t)=>e.cost-t.cost)[0],a=[...j].sort((e,t)=>e.cost-t.cost)[0]):(r=S(w)[0],s=S(v)[0],a=S(j)[0]);if(f+((r?.cost||0)+(s?.cost||0)+(a?.cost||0))>t){const e=(t-f)/(c-n+1),i=w.filter(t=>t.cost<=.3*e),o=v.filter(t=>t.cost<=.4*e),l=j.filter(t=>t.cost<=.4*e);i.length>0&&(r=i.sort((e,t)=>e.cost-t.cost)[0]),o.length>0&&(s=o.sort((e,t)=>e.cost-t.cost)[0]),l.length>0&&(a=l.sort((e,t)=>e.cost-t.cost)[0])}const i=(r?.cost||0)+(s?.cost||0)+(a?.cost||0);f+=i,p.push({day:n,breakfast:r?.name||"None",lunch:s?.name||"None",dinner:a?.name||"None",breakfastCost:r?.cost||0,lunchCost:s?.cost||0,dinnerCost:a?.cost||0,dayCost:i})}if(f>t){const e=t/f,r=p.map(t=>({...t,breakfastCost:t.breakfastCost*e,lunchCost:t.lunchCost*e,dinnerCost:t.dinnerCost*e,dayCost:t.dayCost*e}));l(r),C(r)}else l(p),C(p);m(!1)},C=e=>{const r={};e.forEach(e=>{if(e.breakfast&&"None"!==e.breakfast){const t=k.find(t=>t.name===e.breakfast);t&&t.ingredients.forEach(e=>{const t=e.quantity*n;r[e.item]?r[e.item]+=t:r[e.item]=t})}if(e.lunch&&"None"!==e.lunch){const t=k.find(t=>t.name===e.lunch);t&&t.ingredients.forEach(e=>{const t=e.quantity*n;r[e.item]?r[e.item]+=t:r[e.item]=t})}if(e.dinner&&"None"!==e.dinner){const t=k.find(t=>t.name===e.dinner);t&&t.ingredients.forEach(e=>{const t=e.quantity*n;r[e.item]?r[e.item]+=t:r[e.item]=t})}});const s=Object.keys(r).map(e=>{const t=N.find(t=>t.name===e);return t?{name:e,quantity:Math.ceil(r[e]),unit:t.unit,unitPrice:t.price,totalCost:0,priority:A(t),category:t.category}:null}).filter(e=>null!==e),a=T(s,t);i(a)},A=e=>e.name.includes("Maize Flour")?5:e.name.includes("Cooking Oil")||e.name.includes("Salt")?4:"protein"===e.category||["Tomatoes","Onions","Cabbage"].includes(e.name)?3:"vegetable"===e.category?2:1,T=(e,t)=>{const r=[...e].sort((e,t)=>t.priority!==e.priority?t.priority-e.priority:e.unitPrice-t.unitPrice);let n=t;const s=[];for(const a of r){const e=Math.floor(n/a.unitPrice);if(e>0){const t=a.priority>=4?1:0,r=Math.max(t,Math.min(a.quantity,e)),i=r*a.unitPrice;s.push({...a,quantity:r,totalCost:i}),n-=i}}if(n>0){s.sort((e,t)=>t.priority!==e.priority?t.priority-e.priority:e.unitPrice-t.unitPrice);for(const e of s){for(;n>=e.unitPrice;)e.quantity+=1,e.totalCost+=e.unitPrice,n-=e.unitPrice;if(0===n)break}}return s.sort((e,t)=>e.name.localeCompare(t.name))},E=a.reduce((e,t)=>e+t.totalCost,0),_=c>0?E/c:0,P=n>0?_/n:0;return qr.useEffect(()=>{j&&Object.keys(h).length>0&&S()},[j]),e.jsxs("div",{className:"p-4 max-w-6xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Malawian Household Food Budget Planner"}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-medium",children:"Budget (MWK)"}),e.jsx("input",{type:"number",value:t,onChange:e=>r(Number(e.target.value)),className:"w-full p-2 border rounded",min:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-medium",children:"Household Size"}),e.jsx("input",{type:"number",value:n,onChange:e=>s(Number(e.target.value)),className:"w-full p-2 border rounded",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 font-medium",children:"Days to Plan"}),e.jsx("input",{type:"number",value:c,onChange:e=>d(Number(e.target.value)),className:"w-full p-2 border rounded",min:"1",max:"90"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block mb-2 font-medium",children:"Meal Plan Optimization"}),e.jsxs("select",{value:y,onChange:e=>v(e.target.value),className:"w-full md:w-1/3 p-2 border rounded",children:[e.jsx("option",{value:"balanced",children:"Balanced (Mix of economy and variety)"}),e.jsx("option",{value:"economic",children:"Economic (Prioritize lower cost meals)"}),e.jsx("option",{value:"variety",children:"Variety (Prioritize diverse meals)"})]})]})]}),e.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Available Food Items"}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Food Categories:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[["staple","protein","vegetable","fruit","utility"].map(t=>e.jsxs("button",{className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700",onClick:()=>{const e={...h};N.forEach(r=>{r.category===t&&(e[r.id]=!0)}),p(e)},children:["Select All ",t.charAt(0).toUpperCase()+t.slice(1),"s"]},t)),e.jsx("button",{className:"px-3 py-1 bg-gray-600 text-white rounded text-sm hover:bg-gray-700",onClick:()=>{const e={};N.forEach(t=>{e[t.id]=!1}),p(e)},children:"Clear All"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:N.map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:`food-item-${t.id}`,checked:h[t.id]||!1,onChange:()=>{return e=t.id,void p(t=>({...t,[e]:!t[e]}));var e},className:"mr-2"}),e.jsxs("label",{htmlFor:`food-item-${t.id}`,className:"flex-1",children:[t.name," - MWK ",t.price,"/",t.unit]})]},t.id))}),e.jsx("button",{onClick:()=>S(y),className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",disabled:u,children:u?"Generating...":"Generate Meal Plan"})]})]}),f&&e.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6",children:e.jsx("p",{className:"text-red-700",children:g})}),e.jsxs("div",{className:"bg-green-100 p-4 rounded-lg mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Budget Allocation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Total Budget:"}),e.jsxs("p",{className:"text-2xl",children:["MWK ",t.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Allocated Spending:"}),e.jsxs("p",{className:"text-2xl",children:["MWK ",E.toLocaleString()]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Daily Food Budget:"}),e.jsxs("p",{className:"text-xl",children:["MWK ",_.toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Per Person Daily:"}),e.jsxs("p",{className:"text-xl",children:["MWK ",P.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-3 text-green-700",children:[" Your entire budget of MWK ",t.toLocaleString()," has been allocated to essential food items."]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Shopping List"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"py-2 px-4 border text-left",children:"Item"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Quantity"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Unit Price (MWK)"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Total (MWK)"})]})}),e.jsxs("tbody",{children:[a.map((t,r)=>e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4 border",children:t.name}),e.jsxs("td",{className:"py-2 px-4 border",children:[t.quantity," ",t.unit]}),e.jsx("td",{className:"py-2 px-4 border",children:t.unitPrice.toLocaleString()}),e.jsx("td",{className:"py-2 px-4 border",children:t.totalCost.toLocaleString()})]},r)),e.jsxs("tr",{className:"bg-gray-50 font-bold",children:[e.jsx("td",{className:"py-2 px-4 border",colSpan:"3",children:"Total"}),e.jsx("td",{className:"py-2 px-4 border",children:E.toLocaleString()})]})]})]})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Meal Plan"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full bg-white border",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"py-2 px-4 border text-left",children:"Day"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Breakfast"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Breakfast Cost"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Lunch"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Lunch Cost"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Dinner"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Dinner Cost"}),e.jsx("th",{className:"py-2 px-4 border text-left",children:"Day Total"})]})}),e.jsx("tbody",{children:o.map((t,r)=>e.jsxs("tr",{children:[e.jsxs("td",{className:"py-2 px-4 border",children:["Day ",t.day]}),e.jsx("td",{className:"py-2 px-4 border",children:t.lunch}),e.jsxs("td",{className:"py-2 px-4 border",children:["MWK ",t.lunchCost.toLocaleString()]}),e.jsx("td",{className:"py-2 px-4 border",children:t.dinner}),e.jsxs("td",{className:"py-2 px-4 border",children:["MWK ",t.dinnerCost.toLocaleString()]}),e.jsxs("td",{className:"py-2 px-4 border",children:["MWK ",t.dayCost.toLocaleString()]})]},r))})]})})]})]})}const Yie=()=>{const[t,r]=qr.useState(""),[n,s]=qr.useState(""),[a,i]=qr.useState(""),[o,l]=qr.useState(!1),[c,d]=qr.useState(""),[u,m]=qr.useState(!1),[h,p]=qr.useState(!1),[f,x]=qr.useState(!1),[g,b]=qr.useState(0),y=Wr(),v=$r();qr.useEffect(()=>{const e=new URLSearchParams(y.search).get("token");e?r(e):d("No reset token found in URL")},[y]),qr.useEffect(()=>{b((e=>{let t=0;return e.length>=8&&(t+=1),/[A-Z]/.test(e)&&(t+=1),/[a-z]/.test(e)&&(t+=1),/[0-9]/.test(e)&&(t+=1),/[^A-Za-z0-9]/.test(e)&&(t+=1),t})(n))},[n]);return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center",children:e.jsx("div",{className:"max-w-md w-full mx-auto",children:e.jsx("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg border border-green-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Password Reset Successful!"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Your password has been successfully updated.",e.jsx("br",{}),"Redirecting you to login in a few seconds..."]}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 text-green-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center",children:e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Create New Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Choose a strong password to secure your account"})]}),e.jsxs("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg border border-gray-100",children:[c&&e.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),d(""),t)if(n.length<8)d("Password must be at least 8 characters");else if(n===a)try{l(!0);(await hn.post("https://backend.nexusmwi.com/api/auth/reset-password",{token:t,newPassword:n})).data.message&&(m(!0),setTimeout(()=>{v("/login")},3e3))}catch(r){d(r.response?.data?.message||"Failed to reset password")}finally{l(!1)}else d("Passwords do not match");else d("Reset token is missing")},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"newPassword",type:h?"text":"password",value:n,onChange:e=>s(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-3 pr-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150",placeholder:"Enter your new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>p(!h),children:h?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),n&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:"Password Strength"}),e.jsx("span",{className:"font-medium "+(g>=4?"text-green-600":g>=3?"text-blue-600":g>=2?"text-yellow-600":"text-red-600"),children:(j=g,j<=1?"Very Weak":j<=2?"Weak":j<=3?"Fair":j<=4?"Good":"Strong")})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${(e=>e<=1?"bg-red-500":e<=2?"bg-orange-500":e<=3?"bg-yellow-500":e<=4?"bg-blue-500":"bg-green-500")(g)}`,style:{width:g/5*100+"%"}})}),e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Use 8+ characters with uppercase, lowercase, numbers & symbols"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm New Password"}),e.jsxs("div",{className:"mt-1 relative",children:[e.jsx("input",{id:"confirmPassword",type:f?"text":"password",value:a,onChange:e=>i(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-3 pr-10 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 transition duration-150 "+(a&&n!==a?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"Confirm your new password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!f),children:f?e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):e.jsxs("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]}),a&&n!==a&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:"Passwords do not match"})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:o||!n||!a||n!==a,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 disabled:opacity-50 disabled:cursor-not-allowed",children:o?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Update Password"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Remember your password?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/login",className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition duration-150",children:"Back to Login"})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Need help? ",e.jsx("a",{href:"/contact",className:"font-medium text-blue-600 hover:text-blue-500 transition duration-150",children:"Contact Support"})]})})]})});var j},Xie=()=>{const[t,r]=qr.useState(""),[n,s]=qr.useState(!1),[a,i]=qr.useState(""),[o,l]=qr.useState(!1);$r();return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center",children:e.jsxs("div",{className:"max-w-md w-full mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Reset Password"}),e.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We'll send you a link to get back into your account"})]}),e.jsxs("div",{className:"bg-white py-8 px-6 shadow-lg rounded-lg border border-gray-100",children:[o?e.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm font-medium text-green-800",children:["If an account with that email exists, we've sent a password reset link.",e.jsx("br",{}),"Please check your email (including spam folder)."]})})]})}):e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),i(""),t&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))try{s(!0);(await hn.post("https://backend.nexusmwi.com/api/auth/reset",{email:t})).data.message&&l(!0)}catch(r){l(!0)}finally{s(!1)}else i("Please enter a valid email address")},className:"space-y-6",children:[a&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:a})})]})}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("div",{className:"mt-1 relative rounded-md shadow-sm",children:e.jsx("input",{id:"email",type:"email",value:t,onChange:e=>r(e.target.value),required:!0,className:"appearance-none block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150",placeholder:"you@example.com"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition duration-150 disabled:opacity-50",children:n?e.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):"Send Reset Link"})})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Remember your password?"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("a",{href:"/login",className:"text-sm font-medium text-blue-600 hover:text-blue-500 transition duration-150",children:"Back to Login"})})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Need help? ",e.jsx("a",{href:"/contact",className:"font-medium text-blue-600 hover:text-blue-500 transition duration-150",children:"Contact Support"})]})})]})})},Jie=()=>{const t=$r();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition duration-150",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",(new Date).toLocaleDateString()]})]})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-8 py-12 text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Terms of Service"}),e.jsx("p",{className:"text-xl text-blue-100 max-w-2xl",children:"Please read these terms carefully before using our service. By accessing or using our platform, you agree to be bound by these terms."})]}),e.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsx("a",{href:"#acceptance",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"1. Acceptance of Terms"}),e.jsx("a",{href:"#description",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"2. Description of Service"}),e.jsx("a",{href:"#eligibility",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"3. Eligibility"}),e.jsx("a",{href:"#accounts",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"4. User Accounts"}),e.jsx("a",{href:"#conduct",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"5. User Conduct"}),e.jsx("a",{href:"#content",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"6. Content and Intellectual Property"}),e.jsx("a",{href:"#privacy",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"7. Privacy"}),e.jsx("a",{href:"#payments",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"8. Payments and Billing"}),e.jsx("a",{href:"#termination",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"9. Termination"}),e.jsx("a",{href:"#disclaimers",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"10. Disclaimers"}),e.jsx("a",{href:"#limitation",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"11. Limitation of Liability"}),e.jsx("a",{href:"#changes",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"12. Changes to Terms"})]})]}),e.jsxs("div",{className:"px-8 py-8 space-y-8",children:[e.jsxs("section",{id:"acceptance",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"1. Acceptance of Terms"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:'By accessing and using this website and service (the "Service"), you accept and agree to be bound by the terms and provision of this agreement. If you do not agree to abide by the above, please do not use this service.'}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'These Terms of Service ("Terms") constitute a legally binding agreement between you and our company regarding your use of the Service. Your access to and use of the Service is conditioned on your acceptance of and compliance with these Terms.'})]})]}),e.jsxs("section",{id:"description",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"2. Description of Service"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Our Service provides [describe your service here]. We reserve the right to modify, suspend, or discontinue the Service (or any part or content thereof) at any time with or without notice to you."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Access to our platform and its features"}),e.jsx("li",{children:"User account creation and management"}),e.jsx("li",{children:"Data storage and processing capabilities"}),e.jsx("li",{children:"Customer support services"}),e.jsx("li",{children:"Regular updates and improvements"})]})]})]}),e.jsxs("section",{id:"eligibility",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"3. Eligibility"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You must be at least 18 years old to use this Service. By using the Service, you represent and warrant that:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"You are at least 18 years of age"}),e.jsx("li",{children:"You have the legal capacity to enter into this agreement"}),e.jsx("li",{children:"Your use of the Service will not violate any applicable law or regulation"}),e.jsx("li",{children:"All information you provide is accurate and truthful"})]})]})]}),e.jsxs("section",{id:"accounts",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"4. User Accounts"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"When you create an account with us, you must provide information that is accurate, complete, and current at all times. You are responsible for safeguarding the password and for all activities that occur under your account."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 my-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Account Security"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"You agree to immediately notify us of any unauthorized use of your account or any other breach of security. We will not be liable for any loss or damage arising from your failure to comply with this security obligation."})]})]})]}),e.jsxs("section",{id:"conduct",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"5. User Conduct"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"You agree not to use the Service to:"}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Violate any local, state, national, or international law or regulation"}),e.jsx("li",{children:"Transmit or procure the sending of any advertising or promotional material without our consent"}),e.jsx("li",{children:"Impersonate or attempt to impersonate another person or entity"}),e.jsx("li",{children:"Engage in any conduct that restricts or inhibits anyone's use or enjoyment of the Service"}),e.jsx("li",{children:"Use any robot, spider, or other automatic device to access the Service"}),e.jsx("li",{children:"Introduce any viruses, trojan horses, worms, logic bombs, or other malicious material"})]})]})]}),e.jsxs("section",{id:"content",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"6. Content and Intellectual Property"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"The Service and its original content, features, and functionality are and will remain the exclusive property of our company and its licensors. The Service is protected by copyright, trademark, and other laws."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 my-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Your Content"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"You retain rights to any content you submit, post, or display on or through the Service. By posting content, you grant us a worldwide license to use, modify, and distribute your content."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Our Content"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"All content provided by us is protected by intellectual property laws. You may not reproduce, distribute, or create derivative works without our permission."})]})]})]})]}),e.jsxs("section",{id:"privacy",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"7. Privacy"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Your privacy is important to us. Please review our Privacy Policy, which also governs your use of the Service, to understand our practices."}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-green-800 text-sm",children:[e.jsx("strong",{children:"Privacy Policy:"})," Our Privacy Policy explains how we collect, use, and protect your information. By using our Service, you agree to the collection and use of information in accordance with our Privacy Policy."]})})]})]}),e.jsxs("section",{id:"payments",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"8. Payments and Billing"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you purchase any paid services, you agree to pay all fees and charges associated with your account. All fees are non-refundable unless otherwise specified."}),e.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2",children:[e.jsx("li",{children:"Payment is due upon subscription or purchase"}),e.jsx("li",{children:"Automatic renewals may apply to subscription services"}),e.jsx("li",{children:"You can cancel subscriptions through your account settings"}),e.jsx("li",{children:"Refund policies are outlined in our separate refund policy"})]})]})]}),e.jsxs("section",{id:"termination",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"9. Termination"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We may terminate or suspend your account and bar access to the Service immediately, without prior notice or liability, under our sole discretion, for any reason whatsoever including breach of the Terms."}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Upon termination, your right to use the Service will cease immediately. If you wish to terminate your account, you may simply discontinue using the Service or contact us for account deletion."})]})]}),e.jsxs("section",{id:"disclaimers",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"10. Disclaimers"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:'THE SERVICE IS PROVIDED ON AN "AS IS" AND "AS AVAILABLE" BASIS WITHOUT WARRANTIES OF ANY KIND.'})}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We disclaim all warranties, whether express or implied, including but not limited to warranties of merchantability, fitness for a particular purpose, and non-infringement. We do not warrant that the Service will be uninterrupted, timely, secure, or error-free."})]})]}),e.jsxs("section",{id:"limitation",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"11. Limitation of Liability"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"In no event shall our company, its directors, employees, partners, agents, suppliers, or affiliates be liable for any indirect, incidental, special, consequential, or punitive damages arising out of your use of the Service."}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our total liability to you for all damages shall not exceed the amount paid by you, if any, for accessing the Service."})]})]}),e.jsxs("section",{id:"changes",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"12. Changes to Terms"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"We reserve the right to modify or replace these Terms at any time. If a revision is material, we will provide at least 30 days notice prior to any new terms taking effect."}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:"What constitutes a material change will be determined at our sole discretion. By continuing to access or use our Service after any revisions become effective, you agree to be bound by the revised terms."})]})]}),e.jsxs("section",{className:"bg-gray-50 rounded-lg p-6 mt-8",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Contact Information"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("p",{children:"Email: nyasatech@nyasatech.mw"}),e.jsx("p",{children:"Phone: +265 (993) 773-578"}),e.jsx("p",{children:"Address: 123 Glyn Jones Street, Suite 100, Lilongwe, Area 3"})]})]})]})]})})]})},Qie=()=>{const t=$r(),[r,n]=qr.useState(null);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("button",{onClick:()=>t(-1),className:"inline-flex items-center text-sm font-medium text-gray-500 hover:text-gray-700 transition duration-150",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Last updated: ",(new Date).toLocaleDateString()]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-green-700 px-8 py-12 text-white",children:[e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Privacy Policy"}),e.jsx("p",{className:"text-xl text-green-100 max-w-2xl",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your personal information."})]}),e.jsxs("div",{className:"bg-blue-50 border-b border-blue-200 px-8 py-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Privacy at a Glance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Data Protection"}),e.jsx("p",{className:"text-blue-700",children:"We use encryption and security measures to protect your data"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Transparency"}),e.jsx("p",{className:"text-blue-700",children:"Clear information about what data we collect and why"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-4 h-4 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-blue-900",children:"Your Control"}),e.jsx("p",{className:"text-blue-700",children:"Tools to manage, export, or delete your personal data"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-8 py-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[e.jsx("a",{href:"#information-collection",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"1. Information We Collect"}),e.jsx("a",{href:"#information-use",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"2. How We Use Information"}),e.jsx("a",{href:"#information-sharing",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"3. Information Sharing"}),e.jsx("a",{href:"#data-security",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"4. Data Security"}),e.jsx("a",{href:"#cookies",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"5. Cookies and Tracking"}),e.jsx("a",{href:"#third-party",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"6. Third-Party Services"}),e.jsx("a",{href:"#data-retention",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"7. Data Retention"}),e.jsx("a",{href:"#your-rights",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"8. Your Rights"}),e.jsx("a",{href:"#international",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"9. International Transfers"}),e.jsx("a",{href:"#children",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"10. Children's Privacy"}),e.jsx("a",{href:"#changes",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"11. Policy Changes"}),e.jsx("a",{href:"#contact",className:"text-blue-600 hover:text-blue-800 transition duration-150",children:"12. Contact Us"})]})]}),e.jsxs("div",{className:"px-8 py-8 space-y-8",children:[e.jsxs("section",{id:"information-collection",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"1. Information We Collect"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Personal Information You Provide"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"We collect information you provide directly to us, such as when you create an account, make a purchase, or contact us for support."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Account Information"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Name and email address"}),e.jsx("li",{children:" Username and password"}),e.jsx("li",{children:" Profile information"}),e.jsx("li",{children:" Account preferences"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Payment Information"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Billing address"}),e.jsx("li",{children:" Payment method details"}),e.jsx("li",{children:" Transaction history"}),e.jsx("li",{children:" Tax information"})]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Information Collected Automatically"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"We automatically collect certain information when you use our service to improve your experience and our platform."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Usage Data"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Pages visited"}),e.jsx("li",{children:" Features used"}),e.jsx("li",{children:" Time spent"}),e.jsx("li",{children:" Click patterns"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Device Information"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Device type"}),e.jsx("li",{children:" Operating system"}),e.jsx("li",{children:" Browser type"}),e.jsx("li",{children:" Screen resolution"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Network Data"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" IP address"}),e.jsx("li",{children:" Location data"}),e.jsx("li",{children:" Connection type"}),e.jsx("li",{children:" ISP information"})]})]})]})]})]})]}),e.jsxs("section",{id:"information-use",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"2. How We Use Information"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We use the information we collect for various purposes, including providing, maintaining, and improving our services."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Service Provision"}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:" Account creation and management"}),e.jsx("li",{children:" Processing transactions"}),e.jsx("li",{children:" Providing customer support"}),e.jsx("li",{children:" Delivering requested services"})]})]}),e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Communication"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" Sending service notifications"}),e.jsx("li",{children:" Responding to inquiries"}),e.jsx("li",{children:" Marketing communications (with consent)"}),e.jsx("li",{children:" Important updates and announcements"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Service Improvement"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:" Analytics and usage patterns"}),e.jsx("li",{children:" Feature development"}),e.jsx("li",{children:" Performance optimization"}),e.jsx("li",{children:" Bug fixes and troubleshooting"})]})]}),e.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[e.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Legal & Security"}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:" Fraud prevention"}),e.jsx("li",{children:" Legal compliance"}),e.jsx("li",{children:" Terms enforcement"}),e.jsx("li",{children:" Security monitoring"})]})]})]})]})]})]}),e.jsxs("section",{id:"information-sharing",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"3. Information Sharing"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We do not sell, trade, or otherwise transfer your personal information to third parties without your consent, except in the limited circumstances described below."}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-3",children:"We Never Sell Your Data"}),e.jsx("p",{className:"text-red-800 text-sm",children:"We do not and will never sell your personal information to third parties for marketing purposes. Your data is not a product to us."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Service Providers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We may share information with trusted service providers who assist us in operating our platform, conducting business, or serving users. These parties are bound by confidentiality agreements."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Legal Requirements"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"We may disclose information when required by law, court order, or to protect our rights, property, or safety, or that of our users or others."})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Business Transfers"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"In the event of a merger, acquisition, or sale of assets, your information may be transferred as part of the business transaction, subject to appropriate protections."})]})]})]})]}),e.jsxs("section",{id:"data-security",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"4. Data Security"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We implement industry-standard security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Encryption"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Data encrypted in transit and at rest using industry standards"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access Control"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Strict access controls and authentication for all systems"})]}),e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Regular Audits"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Continuous monitoring and security assessments"})]})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"Important Security Note"}),e.jsx("p",{className:"text-yellow-800 text-sm",children:"While we implement strong security measures, no method of transmission over the internet or electronic storage is 100% secure. We cannot guarantee absolute security, but we continuously work to improve our protections."})]})]})]}),e.jsxs("section",{id:"cookies",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"5. Cookies and Tracking Technologies"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We use cookies and similar tracking technologies to enhance your experience and gather information about how you use our service."}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Types of Cookies We Use"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Essential Cookies"}),e.jsx("p",{className:"text-sm text-green-800 mb-2",children:"Required for basic website functionality"}),e.jsxs("ul",{className:"text-xs text-green-700 space-y-1",children:[e.jsx("li",{children:" Authentication"}),e.jsx("li",{children:" Security"}),e.jsx("li",{children:" User preferences"})]})]}),e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Analytics Cookies"}),e.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Help us understand how you use our site"}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:" Usage statistics"}),e.jsx("li",{children:" Performance metrics"}),e.jsx("li",{children:" Error tracking"})]})]}),e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Functional Cookies"}),e.jsx("p",{className:"text-sm text-purple-800 mb-2",children:"Remember your preferences and settings"}),e.jsxs("ul",{className:"text-xs text-purple-700 space-y-1",children:[e.jsx("li",{children:" Language settings"}),e.jsx("li",{children:" Theme preferences"}),e.jsx("li",{children:" Saved selections"})]})]}),e.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[e.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:"Marketing Cookies"}),e.jsx("p",{className:"text-sm text-orange-800 mb-2",children:"Used for targeted advertising (with consent)"}),e.jsxs("ul",{className:"text-xs text-orange-700 space-y-1",children:[e.jsx("li",{children:" Ad personalization"}),e.jsx("li",{children:" Campaign tracking"}),e.jsx("li",{children:" Conversion metrics"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Managing Your Cookie Preferences"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"You can control cookies through your browser settings or our preference center. Note that disabling certain cookies may affect website functionality."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition duration-150",children:"Cookie Preferences"}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md text-sm hover:bg-gray-300 transition duration-150",children:"Browser Settings Guide"})]})]})]})]})]}),e.jsxs("section",{id:"third-party",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"6. Third-Party Services"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We integrate with trusted third-party services to provide you with a better experience. Each service has its own privacy policy governing their use of your information."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Payment Processing"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Secure payment handling through certified providers"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Airtel Money"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"Tnm Mpamba"}),e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:"PayChangu"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Understanding user behavior and site performance"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Google Analytics"}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded",children:"Hotjar"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Communication"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Email delivery and customer support tools"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:"SendGrid"}),e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs rounded",children:"Intercom"})]})]})]})]})]}),e.jsxs("section",{id:"data-retention",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"7. Data Retention"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We retain your personal information only as long as necessary to provide our services and fulfill the purposes outlined in this policy."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Active Accounts"}),e.jsx("p",{className:"text-sm text-gray-700",children:"We retain account information and usage data while your account is active and for a reasonable period thereafter to provide continued service and support."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Inactive Accounts"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Accounts inactive for 2+ years may be scheduled for deletion after appropriate notice. You can reactivate your account by logging in."})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Legal Requirements"}),e.jsx("p",{className:"text-sm text-gray-700",children:"Some information may be retained longer to comply with legal obligations, resolve disputes, or enforce our agreements."})]})]})]})]}),e.jsxs("section",{id:"your-rights",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"8. Your Privacy Rights"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"You have important rights regarding your personal information. We provide tools and processes to help you exercise these rights easily."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-green-200 rounded-lg p-4 bg-green-50",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:" Access Your Data"}),e.jsx("p",{className:"text-sm text-green-800",children:"Request a copy of the personal information we hold about you"})]}),e.jsxs("div",{className:"border border-blue-200 rounded-lg p-4 bg-blue-50",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:" Correct Information"}),e.jsx("p",{className:"text-sm text-blue-800",children:"Update or correct any inaccurate or incomplete data"})]}),e.jsxs("div",{className:"border border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:" Delete Your Data"}),e.jsx("p",{className:"text-sm text-purple-800",children:"Request deletion of your personal information (right to be forgotten)"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border border-orange-200 rounded-lg p-4 bg-orange-50",children:[e.jsx("h4",{className:"font-semibold text-orange-900 mb-2",children:" Data Portability"}),e.jsx("p",{className:"text-sm text-orange-800",children:"Export your data in a machine-readable format"})]}),e.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-2",children:" Limit Processing"}),e.jsx("p",{className:"text-sm text-red-800",children:"Restrict how we process your personal information"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Withdraw Consent"}),e.jsx("p",{className:"text-sm text-gray-800",children:"Opt out of marketing communications and optional data processing"})]})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"How to Exercise Your Rights"}),e.jsx("p",{className:"text-blue-800 text-sm mb-4",children:"You can exercise most of these rights through your account settings, or by contacting us directly. We'll respond to your request within 30 days."}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition duration-150",children:"Account Settings"}),e.jsx("button",{className:"px-4 py-2 bg-white text-blue-600 border border-blue-600 rounded-md text-sm hover:bg-blue-50 transition duration-150",children:"Contact Privacy Team"})]})]})]})]}),e.jsxs("section",{id:"international",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"9. International Data Transfers"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We operate globally and may transfer your information to countries other than where you reside. We ensure appropriate safeguards are in place for international transfers."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Transfer Safeguards"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[e.jsx("li",{children:" Standard Contractual Clauses (SCCs)"}),e.jsx("li",{children:" Adequacy decisions by relevant authorities"}),e.jsx("li",{children:" Binding Corporate Rules where applicable"}),e.jsx("li",{children:" Your explicit consent when required"})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-3",children:"Data Locations"}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Your data may be processed in the following regions:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:" United States (primary servers)"}),e.jsx("li",{children:" European Union (GDPR compliance)"}),e.jsx("li",{children:" Canada (backup systems)"})]})]})]})]})]}),e.jsxs("section",{id:"children",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"10. Children's Privacy"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 mb-6",children:[e.jsx("h4",{className:"font-semibold text-red-900 mb-3",children:"Age Restriction"}),e.jsx("p",{className:"text-red-800 text-sm",children:"Our service is not intended for children under 18 years of age. We do not knowingly collect personal information from children under 18."})]}),e.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you are a parent or guardian and believe your child has provided us with personal information, please contact us immediately. We will take steps to remove such information from our systems."}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"If We Discover Child Data"}),e.jsx("p",{className:"text-blue-800 text-sm",children:"If we become aware that we have collected personal information from a child under 18 without parental consent, we will take immediate steps to delete that information."})]})]})]}),e.jsxs("section",{id:"changes",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 pb-2 border-b border-gray-200",children:"11. Changes to This Policy"}),e.jsxs("div",{className:"prose prose-gray max-w-none",children:[e.jsx("p",{className:"text-gray-700 leading-relaxed mb-6",children:"We may update this Privacy Policy from time to time to reflect changes in our practices or for legal, operational, or regulatory reasons."}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-yellow-900 mb-2",children:"How We Notify You"}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:" Email notification for significant changes"}),e.jsx("li",{children:" Prominent notice on our website"}),e.jsx("li",{children:" In-app notifications when you log in"}),e.jsx("li",{children:' Updated "Last Modified" date at the top'})]})]}),e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Your Options"}),e.jsx("p",{className:"text-sm text-green-800",children:"If you disagree with changes to this policy, you can close your account. Continued use of our service after changes indicates acceptance of the updated policy."})]})]})]})]}),e.jsxs("section",{id:"contact",className:"bg-gray-50 rounded-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"12. Contact Us"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Privacy Questions?"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"If you have any questions about this Privacy Policy or our data practices, we're here to help. Choose the best way to reach us:"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:e.jsxs("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:[e.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Email Us"}),e.jsx("p",{className:"text-sm text-gray-600",children:"nyasatech@nyasatech.mw"}),e.jsx("p",{className:"text-xs text-gray-500",children:"We respond within 24 hours"})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Mail Us"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Privacy Team",e.jsx("br",{}),"123 Glyn Jones, Suite 100",e.jsx("br",{}),"Lilongwe, Area 3"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-600",children:"+265 (993) 773-578"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Mon-Fri, 9 AM - 5 PM CAT"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Data Protection Officer"}),e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center mr-4",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Ishmael Ntenje"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Chief Privacy Officer"})]})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"For complex privacy matters or GDPR-related inquiries, you can contact our Data Protection Officer directly."}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," dpo@nyasatech.mw"]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Direct Line:"})," +265 (999) 555-640"]})]})]}),e.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{className:"w-full text-left px-4 py-2 bg-white border border-blue-200 rounded-md text-sm text-blue-800 hover:bg-blue-50 transition duration-150",children:"Download My Data"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-white border border-blue-200 rounded-md text-sm text-blue-800 hover:bg-blue-50 transition duration-150",children:"Delete My Account"}),e.jsx("button",{className:"w-full text-left px-4 py-2 bg-white border border-blue-200 rounded-md text-sm text-blue-800 hover:bg-blue-50 transition duration-150",children:"Update Preferences"})]})]})]})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Also available in:"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 transition duration-150",children:"Espaol"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 transition duration-150",children:"Franais"}),e.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 transition duration-150",children:"Deutsch"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsx("a",{href:"/terms-of-service",className:"hover:text-gray-700 transition duration-150",children:"Terms of Service"}),e.jsx("a",{href:"/cookies",className:"hover:text-gray-700 transition duration-150",children:"Cookie Policy"}),e.jsx("a",{href:"/security",className:"hover:text-gray-700 transition duration-150",children:"Security"})]})]})})]})]})]}),e.jsx("div",{className:"mt-8 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Your Privacy Matters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We're committed to protecting your personal information"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 transition duration-150",children:"Privacy Settings"}),e.jsx("button",{className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md text-sm hover:bg-gray-300 transition duration-150",children:"Contact Us"})]})]})})]})]})},Zie="#141b2d",eoe="rgba(145, 158, 171, 0.08)",toe="rgba(85, 105, 255, 0.16)",roe="#5569ff",noe="rgba(85, 105, 255, 0.24)",soe="#e0e0e0",aoe="rgba(224, 224, 224, 0.6)",ioe="#90a0b7",ooe="#5569ff",loe="rgba(145, 158, 171, 0.16)",coe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),e.jsx("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),e.jsx("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]}),doe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("rect",{x:"3",y:"11",width:"18",height:"5",rx:"2"}),e.jsx("path",{d:"M5 11V7h14v4"}),e.jsx("circle",{cx:"7.5",cy:"16",r:"1.5"}),e.jsx("circle",{cx:"16.5",cy:"16",r:"1.5"})]}),uoe=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:e.jsx("path",{d:"M4 17a4 4 0 1 1 8 0H4zM18 3l-3 3 3 3M15 6H9a6 6 0 0 0-6 6v4"})}),moe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.5 10-10 10Z"}),e.jsx("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"})]}),hoe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M3 3v18h18"}),e.jsx("path",{d:"M18 17V9"}),e.jsx("path",{d:"M13 17V5"}),e.jsx("path",{d:"M8 17v-3"})]}),poe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12 2v4"}),e.jsx("path",{d:"M12 18v4"}),e.jsx("path",{d:"m4.93 10.93 2.83-2.83"}),e.jsx("path",{d:"M16.24 16.24 19.07 19.07"}),e.jsx("path",{d:"M2 12h4"}),e.jsx("path",{d:"M18 12h4"}),e.jsx("path",{d:"m10.93 4.93-2.83 2.83"}),e.jsx("path",{d:"M16.24 7.76 19.07 4.93"})]}),foe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),e.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),xoe=t=>e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),goe=le(ce)(({theme:e})=>({color:soe,margin:"2px 12px",padding:"10px 16px",borderRadius:"6px",transition:"all 0.15s ease-in-out","&.Mui-selected":{backgroundColor:toe,color:roe,"&:hover":{backgroundColor:noe},"& .MuiListItemIcon-root":{color:roe},"& .MuiTypography-root":{fontWeight:500}},"&:hover":{backgroundColor:eoe}})),boe=le(oe)(({theme:e,open:t})=>({color:aoe,fontSize:"0.6875rem",fontWeight:500,textTransform:"uppercase",padding:t?"16px 28px 6px":"16px 0",letterSpacing:"0.6px",textAlign:t?"left":"center",opacity:t?1:0,height:t?"auto":0,marginBottom:t?"4px":0,transition:"opacity 0.2s ease, height 0.2s ease, margin 0.2s ease"})),yoe=le(de,{shouldForwardProp:e=>"open"!==e&&"isMobile"!==e})(({theme:e,open:t,isMobile:r})=>({width:t?256:70,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",overflowX:"hidden","& .MuiDrawer-paper":{backgroundColor:Zie,borderRight:"none",width:t?256:r?0:70,overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})}})),voe=le(ue)(({theme:e,selected:t})=>({minWidth:0,marginRight:16,justifyContent:"center",color:t?ooe:ioe,transition:"color 0.15s ease, transform 0.2s ease","&:hover":{transform:"scale(1.05)"}})),joe=le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 12px 10px",backgroundColor:"transparent"})),woe=le(ae)(({theme:e,open:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:t?"space-between":"center",transition:"all 0.3s ease"}));le(ae)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",backgroundImage:"linear-gradient(135deg, #5569ff 0%, #6b8aff 100%)",boxShadow:"0 2px 10px rgba(85, 105, 255, 0.4)",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}}));const Noe=le(me)(({theme:e})=>({color:aoe,"&:hover":{backgroundColor:"transparent"},transition:"all 0.15s ease",padding:0})),koe=le(he)(({theme:e})=>({"& .MuiBadge-badge":{right:-4,top:4,minWidth:18,height:18,fontSize:"0.625rem",fontWeight:600,padding:"0 4px",borderRadius:9,backgroundColor:"#ef4444",color:"white"}})),Soe=le("span")(({theme:e})=>({position:"absolute",top:8,right:8,width:8,height:8,borderRadius:"50%",backgroundColor:"#ef4444","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"pulse 2s infinite",backgroundColor:"rgba(239, 68, 68, 0.7)"},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(2)",opacity:0},"100%":{transform:"scale(2.5)",opacity:0}}})),Coe=({stats:t=Aoe,activeSection:r,handleSectionChange:n,onSidebarToggle:s,user:a={}})=>{const i=pe(),o=$r();Wr();const l=fe(i.breakpoints.down("md")),[c,d]=qr.useState(!l),[u,m]=qr.useState(!1),[h,p]=qr.useState(""),[f,x]=qr.useState(!1);qr.useEffect(()=>{const e=localStorage.getItem("sidebarOpen");if(null!==e&&!l){const t=JSON.parse(e);d(t),s?.(t)}},[l,s]);a?.companyName?.charAt(0);const g=()=>{if(!f)if(x(!0),l)m(!u),setTimeout(()=>x(!1),300);else{const e=!c;d(e),localStorage.setItem("sidebarOpen",JSON.stringify(e)),s?.(e),window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{open:e}})),setTimeout(()=>x(!1),300)}},b=[{id:"main",label:"Main",items:[{id:"vendor-dash",label:"Dashboard",icon:e.jsx(coe,{}),badge:null},{id:"trip-management",label:"Trip Management",icon:e.jsx(uoe,{})},{id:"vehicle-management",label:"Vehicle Management",icon:e.jsx(doe,{}),badge:t.rfqs?.counts?.open||null}]},{id:"finance",label:"Finance Processing",items:[{id:"driver-reconciliation",label:"Reconciliation",icon:e.jsx(moe,{}),badge:null}]},{id:"reports",label:"Reports",items:[{id:"analytics",label:"Analytics",icon:e.jsx(hoe,{}),badge:null},{id:"reports",label:"Reports",icon:e.jsx(poe,{}),badge:null}]}],y=[{id:"settings",label:"Settings",icon:e.jsx(foe,{}),onClick:()=>o("/settings")},{id:"logout",label:"Logout",icon:e.jsx(xoe,{}),onClick:()=>{}}],v=(t,s)=>e.jsxs(Ur.Fragment,{children:[s>0&&c&&e.jsx(ge,{sx:{borderColor:loe,margin:"12px 24px 8px",opacity:.4}}),e.jsx(boe,{open:c,children:t.label}),e.jsx(be,{disablePadding:!0,sx:{mb:1},children:t.items.map(t=>(t=>{const s=r===t.id,a=h===t.id,i=e.jsxs(goe,{selected:s,onClick:()=>n(t.id),onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44,position:"relative",overflow:"hidden","&::after":s?{content:'""',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"3px",height:"50%",backgroundColor:roe,borderRadius:"0 3px 3px 0"}:{}},children:[e.jsx(voe,{selected:s,children:Ur.cloneElement(t.icon,{style:{transform:a&&!s?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsxs(e.Fragment,{children:[e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",fontWeight:s?500:400,color:"inherit",transition:"font-weight 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}}),t.badge&&e.jsx(koe,{badgeContent:t.badge})]}),!c&&t.badge&&e.jsx(Soe,{})]},t.id);return c?i:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(Zie,.9),color:soe,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(loe,.5)}`}},arrow:{sx:{color:ie(Zie,.9)}}},children:i},t.id)})(t))})]},t.id),j=e.jsxs(e.Fragment,{children:[e.jsx(joe,{children:e.jsx(woe,{open:c,children:c?e.jsxs(e.Fragment,{children:[e.jsxs(ae,{sx:{display:"flex",alignItems:"center",gap:2,flexGrow:1},children:[e.jsxs(ae,{sx:{width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",textTransform:"uppercase"},children:[a?.companyName?.charAt(0)?.toUpperCase()||"N"," "]}),e.jsxs(ae,{children:[e.jsxs(oe,{variant:"subtitle1",sx:{color:soe,fontWeight:600,lineHeight:1.2,textTransform:"uppercase"},children:[a?.companyName?.toUpperCase()||"NYASASC"," "]}),e.jsx(oe,{variant:"caption",sx:{color:aoe,fontSize:"0.75rem"},children:"ORGANIZATION "})]})]}),e.jsx(Noe,{onClick:g,disabled:f,"aria-label":"close drawer",sx:{"& img":{filter:"brightness(0) invert(1)"}},children:e.jsx("img",{src:"/sidebar1.png",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})]}):e.jsxs(ae,{onClick:g,sx:{width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",cursor:"pointer",textTransform:"uppercase","&:hover":{transform:"scale(1.05)"}},children:[a?.companyName?.charAt(0)?.toUpperCase()||"N"," "]})})}),e.jsxs(ae,{sx:{overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 64px)","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:ie(aoe,.3),borderRadius:2,"&:hover":{backgroundColor:ie(aoe,.5)}},padding:"10px 0 0",mt:1},children:[b.map((e,t)=>v(e,t)),e.jsxs(ae,{sx:{mt:"auto",mb:2,px:1},children:[c&&e.jsx(ge,{sx:{borderColor:loe,margin:"12px 24px 16px",opacity:.4}}),e.jsx(be,{disablePadding:!0,children:y.map(t=>{const r=h===t.id,n=e.jsxs(goe,{onClick:t.onClick,onMouseEnter:()=>p(t.id),onMouseLeave:()=>p(""),sx:{justifyContent:c?"initial":"center",px:2,py:1,minHeight:44},children:[e.jsx(voe,{selected:!1,children:Ur.cloneElement(t.icon,{style:{transform:r?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),c&&e.jsx(ye,{primary:t.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:c?1:0,ml:.5}})]},t.id);return c?n:e.jsx(ve,{title:t.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ie(Zie,.9),color:soe,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ie(loe,.5)}`}},arrow:{sx:{color:ie(Zie,.9)}}},children:n},t.id)})}),c&&e.jsx(ae,{sx:{mt:3,mx:3,p:1.5,borderRadius:"10px",backgroundColor:ie(roe,.08),display:"flex",alignItems:"center",gap:1.5},children:e.jsx(ir,{sx:{width:32,height:32,backgroundColor:ie(roe,.2),color:roe,fontSize:"0.75rem",fontWeight:600,boxShadow:`0 0 0 2px ${ie(roe,.1)}`},children:"A"})})]})]})]});return e.jsxs(e.Fragment,{children:[l&&e.jsx(me,{color:"inherit","aria-label":"open drawer",onClick:g,edge:"start",disabled:f,sx:{position:"fixed",top:12,left:16,zIndex:1300,backgroundColor:ie(Zie,.8),backdropFilter:"blur(8px)",borderRadius:"6px",width:40,height:40,"&:hover":{backgroundColor:ie(Zie,.95)}},children:e.jsx(Ts,{})}),l?e.jsx(de,{variant:"temporary",open:u,onClose:g,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:256,backgroundColor:Zie,borderRight:"none"}},children:j}):e.jsx(yoe,{variant:"permanent",open:c,isMobile:l,children:j})]})},Aoe={employees:{counts:{pending:0}},vendors:{counts:{open:0}},requisitions:{counts:{pending:0}},rfqs:{counts:{open:0}},purchaseOrders:{counts:{pending:0}},invoices:{counts:{pending:0}}};Coe.propTypes={stats:ee.shape({employees:ee.object,vendors:ee.object,requisitions:ee.object,rfqs:ee.object,purchaseOrders:ee.object,invoices:ee.object}),activeSection:ee.string.isRequired,handleSectionChange:ee.func.isRequired,onSidebarToggle:ee.func};const Toe=({user:t,notificationCount:r=3,onNotificationClick:i,onHelpClick:o,onAssistantClick:u,onPreferencesClick:m,onProfileClick:h,onSettingsClick:p,onSignOutClick:f,onMobileMenuToggle:g,scrollPosition:b=0,importantDates:y=[],sidebarOpen:j=!0,sidebarWidth:w=256,collapsedSidebarWidth:N=70})=>{const[k,S]=qr.useState(!1),[C,A]=qr.useState(!1),[T,E]=qr.useState(!1),[_,P]=qr.useState(new Date),[D,L]=qr.useState(!1),[M,I]=qr.useState(null),[R,z]=qr.useState(new Date),F=$r(),[B]=Vr(),[q,$]=qr.useState(()=>B.get("section")||"dashboard"),U=Math.min(b/100,.95),W=Math.min(b/10,20),V=(y.length>0?y:[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for Q2 IT equipment",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Office supplies contract renewal",location:"Legal Department",priority:"medium"}]).filter(e=>nn(e.date,new Date)&&sn(e.date,an(new Date,7))).sort((e,t)=>e.date-t.date);qr.useEffect(()=>{const e=()=>{A(!1),E(!1),S(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const G=e=>{switch(e){case"deadline":return"bg-red-100 text-red-700 border-red-200";case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"contract":return"bg-purple-100 text-purple-700 border-purple-200";case"review":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approval":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},K=t=>{switch(t){case"deadline":return e.jsx(Ae,{size:14});case"meeting":return e.jsx(l,{size:14});case"contract":return e.jsx(c,{size:14});case"review":return e.jsx(d,{size:14});case"approval":return e.jsx(n,{size:14});default:return e.jsx(v,{size:14})}};return qr.useEffect(()=>{const e=()=>{S(!1),A(!1),E(!1)},t=()=>{S(!1),A(!1),E(!1)};return window.addEventListener("resize",e),window.addEventListener("sidebarToggle",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarToggle",t)}},[j]),e.jsxs(e.Fragment,{children:[e.jsxs(Rm.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 z-50 transition-all duration-300",style:{left:window.innerWidth<768?0:j?w:N,width:(()=>{if(window.innerWidth<768)return"100%";return`calc(100% - ${j?w:N}px)`})(),backgroundColor:`rgba(255, 255, 255, ${U})`,backdropFilter:`blur(${W}px)`,borderBottom:U>.1?"1px solid rgba(229, 231, 235, 0.8)":"none"},children:[e.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{S(!k),g?.(!k)},className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:k?e.jsx(s,{size:20}):e.jsx(a,{size:20})}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>{e.stopPropagation(),E(!T)},className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-200 border border-blue-200",children:[e.jsx(v,{size:16}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:on(new Date,"MMM d, yyyy")}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(T?"rotate-180":"")})]}),e.jsx(Bl,{children:T&&e.jsxs(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[e.jsx(v,{size:18}),"Calendar"]}),e.jsx("span",{className:"text-sm bg-white/20 px-2 py-1 rounded-full",children:on(new Date,"MMMM yyyy")})]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(l,{size:16,className:"text-blue-600"}),"Upcoming Events"]}),e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:V.length})]}),e.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:V.length>0?V.map((t,r)=>e.jsxs(Rm.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*r},className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer",onClick:()=>{I(t),L(!0),E(!1)},children:[e.jsx("div",{className:`p-1.5 rounded-lg ${G(t.type)}`,children:K(t.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h5",{className:"font-medium text-gray-900 text-sm truncate",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:on(t.date,"MMM d")}),t.time&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-600",children:t.time})]})]})]}),e.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("high"===t.priority?"bg-red-100 text-red-700":"medium"===t.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:t.priority})]},r)):e.jsxs("div",{className:"text-center py-6 text-gray-500",children:[e.jsx(v,{size:24,className:"mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No upcoming events"})]})})]}),e.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-xs text-gray-600",children:"Meeting"})]})]}),e.jsx("button",{onClick:()=>E(!1),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors duration-200",children:"Close"})]})})]})})]}),e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:i,className:"relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",children:[e.jsx(we,{size:20}),r>0&&e.jsx(Rm.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:r})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:o,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Help Center",children:e.jsx(Ne,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:u,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200",title:"AI Assistant",children:e.jsx(H,{size:18})}),e.jsx(Rm.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:m,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:"Settings",children:e.jsx(x,{size:18})})]}),e.jsxs("div",{className:"relative",children:[e.jsxs(Rm.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>{e.stopPropagation(),A(!C)},className:"flex items-center gap-2 p-1 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-sm",children:t?.firstName&&t?.lastName?`${t.firstName.charAt(0)}${t.lastName.charAt(0)}`:t?.firstName?t.firstName.charAt(0):t?.lastName?t.lastName.charAt(0):"G"}),e.jsx(je,{size:14,className:"transition-transform duration-200 "+(C?"rotate-180":"")})]}),e.jsx(Bl,{children:C&&e.jsx(Rm.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{onClick:()=>{var e;h?.(),A(!1),$(e="user-profile"),F(`?section=${e}`,{replace:!0})},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(O,{size:16}),e.jsx("span",{className:"text-sm",children:"Profile"})]}),e.jsxs("button",{onClick:()=>{p?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:16}),e.jsx("span",{className:"text-sm",children:"Settings"})]}),e.jsx("hr",{className:"my-2 border-gray-200"}),e.jsxs("button",{onClick:()=>{f?.(),A(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[e.jsx(ke,{size:16}),e.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})})]})]})]})}),e.jsx(Bl,{children:k&&e.jsx(Rm.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm",children:e.jsxs("div",{className:"px-4 py-3 space-y-2",children:[e.jsxs("button",{onClick:o,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(Ne,{size:18}),e.jsx("span",{children:"Help Center"})]}),e.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(H,{size:18}),e.jsx("span",{children:"AI Assistant"})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[e.jsx(x,{size:18}),e.jsx("span",{children:"Preferences"})]})]})})})]}),e.jsx(Bl,{children:D&&M&&e.jsx(Rm.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:e.jsxs(Rm.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[e.jsx("div",{className:"p-6 text-white "+("deadline"===M.type?"bg-gradient-to-r from-red-600 to-red-700":"meeting"===M.type?"bg-gradient-to-r from-blue-600 to-blue-700":"contract"===M.type?"bg-gradient-to-r from-purple-600 to-purple-700":"review"===M.type?"bg-gradient-to-r from-yellow-600 to-yellow-700":"approval"===M.type?"bg-gradient-to-r from-green-600 to-green-700":"bg-gradient-to-r from-gray-600 to-gray-700"),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 rounded-full text-xs font-medium mb-2",children:M.type?.toUpperCase()}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:M.title}),e.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[e.jsx(v,{size:16}),e.jsxs("span",{className:"text-sm",children:[on(M.date,"EEEE, MMMM d, yyyy"),M.time&&`  ${M.time}`]})]})]}),e.jsx("button",{onClick:()=>L(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors duration-200",children:e.jsx(s,{size:20})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[M.location&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Se,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.location})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(c,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Description"}),e.jsx("p",{className:"text-gray-600 text-sm",children:M.description})]})]}),M.priority&&e.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg "+("high"===M.priority?"bg-red-50 border border-red-200":"medium"===M.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[e.jsx(Ce,{size:16,className:"high"===M.priority?"text-red-600":"medium"===M.priority?"text-yellow-600":"text-blue-600"}),e.jsx("span",{className:"text-sm font-medium "+("high"===M.priority?"text-red-700":"medium"===M.priority?"text-yellow-700":"text-blue-700"),children:"high"===M.priority?"High Priority":"medium"===M.priority?"Medium Priority":"Low Priority"})]})]}),e.jsxs("div",{className:"p-6 pt-0 flex items-center justify-end gap-3",children:[e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Close"}),e.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-white rounded-lg transition-all duration-200 "+("deadline"===M.type?"bg-red-600 hover:bg-red-700":"meeting"===M.type?"bg-blue-600 hover:bg-blue-700":"contract"===M.type?"bg-purple-600 hover:bg-purple-700":"review"===M.type?"bg-yellow-600 hover:bg-yellow-700":"approval"===M.type?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:"View Details"})]})]})})})]})},Eoe=()=>e.jsx("style",{jsx:!0,global:!0,children:"\n    @keyframes pulse {\n      0%, 100% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: scale(1.1);\n        opacity: 0.4;\n      }\n    }\n    \n    @keyframes ripple {\n      0% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      100% {\n        transform: scale(1.3);\n        opacity: 0;\n      }\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .animate-pulse-custom {\n      animation: pulse 2s infinite;\n    }\n\n    .animate-ripple {\n      animation: ripple 3s infinite;\n    }\n\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n\n    /* Custom scrollbar for dropdown menus */\n    .custom-scrollbar::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-track {\n      background: #f1f5f9;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb {\n      background: #cbd5e1;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: #94a3b8;\n    }\n\n    /* Smooth transitions for all interactive elements */\n    .transition-smooth {\n      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    /* Backdrop blur support */\n    .backdrop-blur-custom {\n      backdrop-filter: blur(12px) saturate(180%);\n      -webkit-backdrop-filter: blur(12px) saturate(180%);\n    }\n\n    /* Focus styles for accessibility */\n    .focus-ring:focus {\n      outline: 2px solid #3b82f6;\n      outline-offset: 2px;\n    }\n\n    /* Hover effects for buttons */\n    .btn-hover:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n\n    /* Loading spinner animation */\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    .animate-spin-slow {\n      animation: spin 3s linear infinite;\n    }\n\n    /* Gradient animations */\n    @keyframes gradient-shift {\n      0%, 100% {\n        background-position: 0% 50%;\n      }\n      50% {\n        background-position: 100% 50%;\n      }\n    }\n\n    .gradient-animate {\n      background-size: 200% 200%;\n      animation: gradient-shift 6s ease infinite;\n    }\n\n    /* Text shimmer effect */\n    @keyframes shimmer {\n      0% {\n        background-position: -200px 0;\n      }\n      100% {\n        background-position: calc(200px + 100%) 0;\n      }\n    }\n\n    .text-shimmer {\n      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 37%, #f0f0f0 63%);\n      background-size: 400px 100%;\n      animation: shimmer 1.4s ease-in-out infinite;\n    }\n\n    /* Dark mode support */\n    @media (prefers-color-scheme: dark) {\n      .dark-mode-bg {\n        background-color: #1f2937;\n        color: #f9fafb;\n      }\n      \n      .dark-mode-border {\n        border-color: #374151;\n      }\n      \n      .dark-mode-text {\n        color: #d1d5db;\n      }\n    }\n\n    /* Mobile-specific styles */\n    @media (max-width: 768px) {\n      .mobile-optimized {\n        padding: 0.75rem;\n      }\n      \n      .mobile-text {\n        font-size: 0.875rem;\n      }\n      \n      .mobile-button {\n        min-height: 44px;\n        min-width: 44px;\n      }\n    }\n\n    /* High contrast mode support */\n    @media (prefers-contrast: high) {\n      .high-contrast {\n        border: 2px solid currentColor;\n      }\n      \n      .high-contrast-text {\n        font-weight: 600;\n      }\n    }\n\n    /* Reduced motion support */\n    @media (prefers-reduced-motion: reduce) {\n      * {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n      }\n    }\n\n    /* Print styles */\n    @media print {\n      .no-print {\n        display: none !important;\n      }\n      \n      .print-friendly {\n        background: white !important;\n        color: black !important;\n        box-shadow: none !important;\n      }\n    }\n  "}),_oe=({user:t,onMobileMenuToggle:r,scrollPosition:n,sidebarOpen:s=!0,sidebarWidth:a=256,collapsedSidebarWidth:i=70})=>{const o=[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for the Q2 IT equipment procurement",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals and make selections",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Annual renewal of office supplies contract with OfficeMax",location:"Legal Department",priority:"medium"},{date:new Date(2025,4,24),title:"Quarterly Review",type:"review",description:"Financial review of procurement spending for Q1",location:"Executive Boardroom",time:"2:00 PM",priority:"high"},{date:new Date(2025,4,28),title:"Budget Approval",type:"approval",description:"Final approval for Q3 procurement budget",location:"Finance Department",priority:"high"},{date:new Date(2025,4,14),title:"Vendor Evaluation",type:"meeting",description:"Evaluate new potential suppliers for hardware components",location:"Meeting Room B",time:"11:30 AM",priority:"medium"},{date:new Date(2025,4,18),title:"Contract Draft Review",type:"contract",description:"Legal team review of new vendor contracts",location:"Legal Office",time:"9:00 AM",priority:"medium"},{date:new Date(2025,4,22),title:"Procurement Training",type:"meeting",description:"New system training for procurement team",location:"Training Center",time:"1:00 PM",priority:"low"}],[l,c]=qr.useState(o),d=$r(),[u]=Vr(),[m,h]=qr.useState(()=>u.get("section")||"dashboard"),[p,f]=qr.useState(3);return qr.useEffect(()=>{(async()=>{})()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Eoe,{}),e.jsx(Toe,{user:t,notificationCount:p,onNotificationClick:()=>{},onHelpClick:()=>{},onAssistantClick:()=>{},onPreferencesClick:()=>{},onProfileClick:()=>{return h(e="user-profile"),void d(`?section=${e}`,{replace:!0});var e},onSettingsClick:()=>{},onSignOutClick:()=>{},onMobileMenuToggle:r,scrollPosition:n,importantDates:l,sidebarOpen:s,sidebarWidth:a,collapsedSidebarWidth:i})]})},Poe=Object.create(null);Poe.open="0",Poe.close="1",Poe.ping="2",Poe.pong="3",Poe.message="4",Poe.upgrade="5",Poe.noop="6";const Doe=Object.create(null);Object.keys(Poe).forEach(e=>{Doe[Poe[e]]=e});const Ooe={type:"error",data:"parser error"},Loe="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Moe="function"==typeof ArrayBuffer,Ioe=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,Roe=({type:e,data:t},r,n)=>Loe&&t instanceof Blob?r?n(t):zoe(t,n):Moe&&(t instanceof ArrayBuffer||Ioe(t))?r?n(t):zoe(new Blob([t]),n):n(Poe[e]+(t||"")),zoe=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)};function Foe(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Boe;const qoe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$oe="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let $=0;$<64;$++)$oe[qoe.charCodeAt($)]=$;const Uoe="function"==typeof ArrayBuffer,Woe=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Hoe(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:Voe(e.substring(1),t)};return Doe[r]?e.length>1?{type:Doe[r],data:e.substring(1)}:{type:Doe[r]}:Ooe},Voe=(e,t)=>{if(Uoe){const r=(e=>{let t,r,n,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const c=new ArrayBuffer(i),d=new Uint8Array(c);for(t=0;t<o;t+=4)r=$oe[e.charCodeAt(t)],n=$oe[e.charCodeAt(t+1)],s=$oe[e.charCodeAt(t+2)],a=$oe[e.charCodeAt(t+3)],d[l++]=r<<2|n>>4,d[l++]=(15&n)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c})(e);return Hoe(r,t)}return{base64:!0,data:e}},Hoe=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Goe=String.fromCharCode(30);function Koe(){return new TransformStream({transform(e,t){!function(e,t){Loe&&e.data instanceof Blob?e.data.arrayBuffer().then(Foe).then(t):Moe&&(e.data instanceof ArrayBuffer||Ioe(e.data))?t(Foe(e.data)):Roe(e,!1,e=>{Boe||(Boe=new TextEncoder),t(Boe.encode(e))})}(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const e=new DataView(s.buffer);e.setUint8(0,126),e.setUint16(1,n)}else{s=new Uint8Array(9);const e=new DataView(s.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(n))}e.data&&"string"!=typeof e.data&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let Yoe;function Xoe(e){return e.reduce((e,t)=>e+t.length,0)}function Joe(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Qoe(e){if(e)return function(e){for(var t in Qoe.prototype)e[t]=Qoe.prototype[t];return e}(e)}Qoe.prototype.on=Qoe.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Qoe.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},Qoe.prototype.off=Qoe.prototype.removeListener=Qoe.prototype.removeAllListeners=Qoe.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var s=0;s<n.length;s++)if((r=n[s])===t||r.fn===t){n.splice(s,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},Qoe.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var s=(r=r.slice(0)).length;n<s;++n)r[n].apply(this,t)}return this},Qoe.prototype.emitReserved=Qoe.prototype.emit,Qoe.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Qoe.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Zoe="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),ele="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function tle(e,...t){return t.reduce((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t),{})}const rle=ele.setTimeout,nle=ele.clearTimeout;function sle(e,t){t.useNativeTimers?(e.setTimeoutFn=rle.bind(ele),e.clearTimeoutFn=nle.bind(ele)):(e.setTimeoutFn=ele.setTimeout.bind(ele),e.clearTimeoutFn=ele.clearTimeout.bind(ele))}function ale(e){return"string"==typeof e?function(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}function ile(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class ole extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class lle extends Qoe{constructor(e){super(),this.writable=!1,sle(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,r){return super.emitReserved("error",new ole(e,t,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Woe(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}(e);return t.length?"?"+t:""}}class cle extends lle{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",function(){--e||t()})),this.writable||(e++,this.once("drain",function(){--e||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(Goe),n=[];for(let s=0;s<r.length;s++){const e=Woe(r[s],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach(e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((e,a)=>{Roe(e,!1,e=>{n[a]=e,++s===r&&t(n.join(Goe))})})})(e,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ile()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let dle=!1;try{dle="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ode){}const ule=dle;function mle(){}class hle extends cle{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",(e,t)=>{this.onError("xhr post error",e,t)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(e,t)=>{this.onError("xhr poll error",e,t)}),this.pollXhr=e}}class ple extends Qoe{constructor(e,t,r){super(),this.createRequest=e,sle(this,r),this._opts=r,this._method=r.method||"GET",this._uri=t,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const t=tle(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(t);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&r.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(sde){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(sde){}try{r.setRequestHeader("Accept","*/*")}catch(sde){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var e;3===r.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(sde){return void this.setTimeoutFn(()=>{this._onError(sde)},0)}"undefined"!=typeof document&&(this._index=ple.requestsCount++,ple.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(void 0!==this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=mle,e)try{this._xhr.abort()}catch(sde){}"undefined"!=typeof document&&delete ple.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(ple.requestsCount=0,ple.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",fle);else if("function"==typeof addEventListener){addEventListener("onpagehide"in ele?"pagehide":"unload",fle,!1)}function fle(){for(let e in ple.requests)ple.requests.hasOwnProperty(e)&&ple.requests[e].abort()}const xle=function(){const e=gle({xdomain:!1});return e&&null!==e.responseType}();function gle(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||ule))return new XMLHttpRequest}catch(sde){}if(!t)try{return new(ele[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(sde){}}const ble="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class yle extends lle{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,r=ble?{}:tle(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,r)}catch(ode){return this.emitReserved("error",ode)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;Roe(r,this.supportsBinary,e=>{try{this.doWrite(r,e)}catch(sde){}n&&Zoe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ile()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const vle=ele.WebSocket||ele.MozWebSocket;const jle={websocket:class extends yle{createSocket(e,t,r){return ble?new vle(e,t,r):t?new vle(e,t):new vle(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends lle{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(ode){return this.emitReserved("error",ode)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=function(e,t){Yoe||(Yoe=new TextDecoder);const r=[];let n=0,s=-1,a=!1;return new TransformStream({transform(i,o){for(r.push(i);;){if(0===n){if(Xoe(r)<1)break;const e=Joe(r,1);a=!(128&~e[0]),s=127&e[0],n=s<126?3:126===s?1:2}else if(1===n){if(Xoe(r)<2)break;const e=Joe(r,2);s=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),n=3}else if(2===n){if(Xoe(r)<8)break;const e=Joe(r,8),t=new DataView(e.buffer,e.byteOffset,e.length),a=t.getUint32(0);if(a>Math.pow(2,21)-1){o.enqueue(Ooe);break}s=a*Math.pow(2,32)+t.getUint32(4),n=3}else{if(Xoe(r)<s)break;const e=Joe(r,s);o.enqueue(Woe(a?e:Yoe.decode(e),t)),n=0}if(0===s||s>e){o.enqueue(Ooe);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(t).getReader(),n=Koe();n.readable.pipeTo(e.writable),this._writer=n.writable.getWriter();const s=()=>{r.read().then(({done:e,value:t})=>{e||(this.onPacket(t),s())}).catch(e=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;this._writer.write(r).then(()=>{n&&Zoe(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends hle{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=xle&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ple(gle,this.uri(),e)}}},wle=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Nle=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kle(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=wle.exec(e||""),a={},i=14;for(;i--;)a[Nle[i]]=s[i]||"";return-1!=r&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,a.path),a.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(e,t,n){t&&(r[t]=n)}),r}(0,a.query),a}const Sle="function"==typeof addEventListener&&"function"==typeof removeEventListener,Cle=[];Sle&&addEventListener("offline",()=>{Cle.forEach(e=>e())},!1);class Ale extends Qoe{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(t=e,e=null),e){const r=kle(e);t.hostname=r.host,t.secure="https"===r.protocol||"wss"===r.protocol,t.port=r.port,r.query&&(t.query=r.query)}else t.host&&(t.hostname=kle(t.host).host);sle(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),Sle&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Cle.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&Ale.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",e=>this._onClose("transport close",e))}onOpen(){this.readyState="open",Ale.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=ale(r)),t>0&&e>this._maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Zoe(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,r){return this._sendPacket("message",e,t,r),this}send(e,t,r){return this._sendPacket("message",e,t,r),this}_sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const s={type:e,data:t,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Ale.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Sle&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=Cle.indexOf(this._offlineEventListener);-1!==e&&Cle.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Ale.protocol=4;class Tle extends Ale{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),r=!1;Ale.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ale.priorWebsocketSuccess="websocket"===t.name,this.transport.pause(()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}}))};function s(){r||(r=!0,c(),t.close(),t=null)}const a=e=>{const r=new Error("probe error: "+e);r.transport=t.name,s(),this.emitReserved("upgradeError",r)};function i(){a("transport closed")}function o(){a("socket closed")}function l(e){t&&e.name!==t.name&&s()}const c=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",i),this.off("close",o),this.off("upgrading",l)};t.once("open",n),t.once("error",a),t.once("close",i),this.once("close",o),this.once("upgrading",l),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn(()=>{r||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}let Ele=class extends Tle{constructor(e,t={}){const r="object"==typeof e?e:t;(!r.transports||r.transports&&"string"==typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(e=>jle[e]).filter(e=>!!e)),super(e,r)}};const _le="function"==typeof ArrayBuffer,Ple=Object.prototype.toString,Dle="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Ple.call(Blob),Ole="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Ple.call(File);function Lle(e){return _le&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||Dle&&e instanceof Blob||Ole&&e instanceof File}function Mle(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(Mle(e[t]))return!0;return!1}if(Lle(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Mle(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Mle(e[r]))return!0;return!1}function Ile(e){const t=[],r=e.data,n=e;return n.data=Rle(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Rle(e,t){if(!e)return e;if(Lle(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Rle(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Rle(e[n],t));return r}return e}function zle(e,t){return e.data=Fle(e.data,t),delete e.attachments,e}function Fle(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Fle(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Fle(e[r],t));return e}const Ble=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var qle,$le;($le=qle||(qle={}))[$le.CONNECT=0]="CONNECT",$le[$le.DISCONNECT=1]="DISCONNECT",$le[$le.EVENT=2]="EVENT",$le[$le.ACK=3]="ACK",$le[$le.CONNECT_ERROR=4]="CONNECT_ERROR",$le[$le.BINARY_EVENT=5]="BINARY_EVENT",$le[$le.BINARY_ACK=6]="BINARY_ACK";function Ule(e){return"[object Object]"===Object.prototype.toString.call(e)}class Wle extends Qoe{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===qle.BINARY_EVENT;r||t.type===qle.BINARY_ACK?(t.type=r?qle.EVENT:qle.ACK,this.reconstructor=new Vle(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Lle(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===qle[r.type])throw new Error("unknown packet type "+r.type);if(r.type===qle.BINARY_EVENT||r.type===qle.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const s=e.substring(n,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(s)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!Wle.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(sde){return!1}}static isPayloadValid(e,t){switch(e){case qle.CONNECT:return Ule(t);case qle.DISCONNECT:return void 0===t;case qle.CONNECT_ERROR:return"string"==typeof t||Ule(t);case qle.EVENT:case qle.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Ble.indexOf(t[0]));case qle.ACK:case qle.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Vle{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=zle(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Hle=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Wle,Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==qle.EVENT&&e.type!==qle.ACK||!Mle(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===qle.EVENT?qle.BINARY_EVENT:qle.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==qle.BINARY_EVENT&&e.type!==qle.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Ile(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}},get PacketType(){return qle},protocol:5},Symbol.toStringTag,{value:"Module"}));function Gle(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Kle=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Yle extends Qoe{constructor(e,t,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Gle(e,"open",this.onopen.bind(this)),Gle(e,"packet",this.onpacket.bind(this)),Gle(e,"error",this.onerror.bind(this)),Gle(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var r,n,s;if(Kle.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:qle.EVENT,data:t,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),a.id=e}const i=null===(n=null===(r=this.io.engine)||void 0===r?void 0:r.transport)||void 0===n?void 0:n.writable,o=this.connected&&!(null===(s=this.io.engine)||void 0===s?void 0:s._hasPingExpired());return this.flags.volatile&&!i||(o?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var r;const n=null!==(r=this.flags.timeout)&&void 0!==r?r:this._opts.ackTimeout;if(void 0===n)return void(this.acks[e]=t);const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))},n),a=(...e)=>{this.io.clearTimeoutFn(s),t.apply(this,e)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((r,n)=>{const s=(e,t)=>e?n(e):r(t);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((e,...n)=>{if(r!==this._queue[0])return;return null!==e?r.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...n)),r.pending=!1,this._drainQueue()}),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:qle.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(t=>String(t.id)===e)){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case qle.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qle.EVENT:case qle.BINARY_EVENT:this.onevent(e);break;case qle.ACK:case qle.BINARY_ACK:this.onack(e);break;case qle.DISCONNECT:this.ondisconnect();break;case qle.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,t.packet({type:qle.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qle.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Xle(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xle.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+r:e-r}return 0|Math.min(e,this.max)},Xle.prototype.reset=function(){this.attempts=0},Xle.prototype.setMin=function(e){this.ms=e},Xle.prototype.setMax=function(e){this.max=e},Xle.prototype.setJitter=function(e){this.jitter=e};class Jle extends Qoe{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,sle(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Xle({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||Hle;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ele(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Gle(t,"open",function(){r.onopen(),e&&e()}),s=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},a=Gle(t,"error",s);if(!1!==this._timeout){const e=this._timeout,r=this.setTimeoutFn(()=>{n(),s(new Error("timeout")),t.close()},e);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Gle(e,"ping",this.onping.bind(this)),Gle(e,"data",this.ondata.bind(this)),Gle(e,"error",this.onerror.bind(this)),Gle(e,"close",this.onclose.bind(this)),Gle(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(sde){this.onclose("parse error",sde)}}ondecoded(e){Zoe(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Yle(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var r;this.cleanup(),null===(r=this.engine)||void 0===r||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()}))},t);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Qle={};function Zle(e,t){"object"==typeof e&&(t=e,e=void 0);const r=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=kle(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,s=r.id,a=r.path,i=Qle[s]&&a in Qle[s].nsps;let o;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?o=new Jle(n,t):(Qle[s]||(Qle[s]=new Jle(n,t)),o=Qle[s]),r.query&&!t.query&&(t.query=r.queryKey),o.socket(r.path,t)}Object.assign(Zle,{Manager:Jle,Socket:Yle,io:Zle,connect:Zle});const ece="http://localhost:4000/api",tce=async()=>{const e=localStorage.getItem("token"),t=await fetch(`${ece}/drivers`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch real drivers");return t.json()},rce=async()=>{const e=localStorage.getItem("token"),t=await fetch(`${ece}/drivers/statistics`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch real statistics");return t.json()},nce=async()=>{const e=localStorage.getItem("token"),t=await fetch(`${ece}/location-service/status`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to fetch service status");return t.json()},sce=async(e=2)=>{const t=localStorage.getItem("token"),r=await fetch(`${ece}/location-service/start`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({intervalMinutes:e})});if(!r.ok)throw new Error("Failed to start location service");return r.json()},ace=async()=>{const e=localStorage.getItem("token"),t=await fetch(`${ece}/location-service/stop`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to stop location service");return t.json()},ice=async()=>{const e=localStorage.getItem("token"),t=await fetch(`${ece}/location-service/trigger-update`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok)throw new Error("Failed to trigger location update");return t.json()},oce=({drivers:t,driverStats:r,onDriverSelect:n,isLoading:s,serviceStatus:a})=>{const i=qr.useRef(null),o=qr.useRef(null),l=qr.useRef([]),[c,d]=qr.useState(!1),{user:u}=An();return qr.useEffect(()=>{if(window.google&&window.google.maps)return void d(!0);const e=document.createElement("script");return e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwFFcggWvfKn3Rd12OvYCgZ_oOV7rWJUk&libraries=geometry,places",e.async=!0,e.defer=!0,e.onload=()=>{d(!0)},e.onerror=()=>{},document.head.appendChild(e),()=>{e.parentNode&&e.parentNode.removeChild(e)}},[]),qr.useEffect(()=>{if(!c||!i.current)return;const e=new window.google.maps.Map(i.current,{center:{lat:-13.2543,lng:34.3015},zoom:7,disableDefaultUI:!0,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#6B7280"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#F9FAFB"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"water",elementType:"all",stylers:[{color:"#3B82F6"},{visibility:"on"}]}]});o.current=e;const t=new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-17.129,32.67),new window.google.maps.LatLng(-9.368,35.918));return e.fitBounds(t),()=>{o.current&&(o.current=null)}},[c]),qr.useEffect(()=>{if(!c)return;navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{const t={lat:e.coords.latitude,lng:e.coords.longitude,accuracy:e.coords.accuracy,timestamp:new Date(e.timestamp)};o.current&&(o.current.setCenter({lat:t.lat,lng:t.lng}),o.current.setZoom(12))},e=>{o.current&&(o.current.setCenter({lat:-13.2543,lng:34.3015}),o.current.setZoom(7))},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},[c]),qr.useEffect(()=>{if(!o.current||!t.length)return;l.current.forEach(e=>e.setMap(null)),l.current=[];const e=e=>{const{status:t,isOnline:r,hasGPSEnabled:n,isMoving:s,speed:a}=e;let i="#9CA3AF",o="#6B7280",l=8;if(r)if(n)switch(t){case"available":i="#10B981",o="#059669";break;case"on-assignment":i="#3B82F6",o="#2563EB";break;case"off-duty":i="#9CA3AF",o="#6B7280";break;case"maintenance":i="#EF4444",o="#DC2626"}else i="#EF4444",o="#DC2626";else i="#9CA3AF",o="#6B7280";return s&&a>5&&(l=10,o="#F59E0B"),{path:window.google.maps.SymbolPath.CIRCLE,fillColor:i,fillOpacity:1,strokeColor:o,strokeWeight:n?3:2,scale:l}};function r(e){switch(e){case"available":return"text-emerald-600";case"on-assignment":return"text-blue-600";case"off-duty":default:return"text-gray-600";case"maintenance":return"text-red-600"}}t.forEach(t=>{if(!t.lat||!t.lng)return;const s=new window.google.maps.Marker({position:{lat:t.lat,lng:t.lng},map:o.current,icon:e(t),title:`${t.name} - ${t.vehicle}`}),a=t.lastUpdate?new Date(t.lastUpdate).toLocaleString():"Never",i=t.locationAccuracy?`${t.locationAccuracy}m`:"Unknown",c=t.speed?`${t.speed} km/h`:"Unknown",d=t.batteryLevel?`${t.batteryLevel}%`:"Unknown",u=t.heading?`${t.heading}`:"Unknown",m=new window.google.maps.InfoWindow({content:`\n          <div class="p-4 min-w-[280px]">\n            <div class="flex items-center gap-2 mb-3">\n              <h3 class="font-semibold text-gray-900 text-lg">${t.name}</h3>\n              ${t.isOnline?'<div class="w-3 h-3 bg-green-500 rounded-full"></div>':'<div class="w-3 h-3 bg-gray-400 rounded-full"></div>'}\n              ${t.isMoving?'<div class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded">MOVING</div>':""}\n            </div>\n            \n            <p class="text-sm text-gray-600 mb-2 font-medium">${t.vehicle}</p>\n            <p class="text-sm font-semibold ${r(t.status)} mb-3">${t.status.replace("-"," ").toUpperCase()}</p>\n            \n            <div class="grid grid-cols-2 gap-3 text-xs text-gray-600 mb-3">\n              <div>\n                <span class="font-medium text-gray-700">ID:</span><br>\n                <span>${t.empId}</span>\n              </div>\n              <div>\n                <span class="font-medium text-gray-700">Dept:</span><br>\n                <span>${t.department}</span>\n              </div>\n              <div>\n                <span class="font-medium text-gray-700">Speed:</span><br>\n                <span class="font-medium ${t.isMoving?"text-orange-600":"text-gray-500"}">${c}</span>\n              </div>\n              <div>\n                <span class="font-medium text-gray-700">Battery:</span><br>\n                <span class="font-medium ${t.batteryLevel<20?"text-red-600":"text-green-600"}">${d}</span>\n              </div>\n            </div>\n            \n            <div class="text-xs text-gray-500 space-y-1 border-t pt-2">\n              <p><span class="font-medium">Last Update:</span> ${a}</p>\n              <p><span class="font-medium">Accuracy:</span> ${i}</p>\n              <p><span class="font-medium">Heading:</span> ${u}</p>\n              <p><span class="font-medium">Source:</span> ${t.locationSource||"manual"}</p>\n            </div>\n          </div>\n        `});s.addListener("click",()=>{m.open(o.current,s),n&&n(t)}),l.current.push(s)})},[t,n]),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 h-full min-h-[600px]",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(Se,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Live Fleet Tracking"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:"Real-time GPS tracking"}),a?.isRunning&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Live"})]})]})]}),s&&e.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:["Available (",r.available,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:["Active (",r.onAssignment,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),e.jsxs("span",{className:"text-gray-600",children:["Moving (",r.moving||0,")"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{className:"text-gray-600",children:["Online (",r.online||0,")"]})]})]})]}),e.jsxs("div",{className:"relative flex-1",style:{height:"calc(100% - 80px)"},children:[e.jsx("div",{ref:i,className:"w-full h-full",children:!c&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading map..."})]})})}),e.jsx("div",{className:"absolute top-3 right-3 flex flex-col gap-2",children:e.jsx("button",{className:"w-8 h-8 bg-white hover:bg-gray-50 rounded-lg shadow-md flex items-center justify-center text-gray-600 border border-gray-200",onClick:()=>{if(o.current){const e=new window.google.maps.LatLngBounds(new window.google.maps.LatLng(-17.129,32.67),new window.google.maps.LatLng(-9.368,35.918));o.current.fitBounds(e)}},title:"Fit to Malawi",children:e.jsx(De,{size:14})})}),e.jsxs("div",{className:"absolute bottom-3 left-3 bg-white rounded-lg shadow-md border border-gray-200 p-3",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2",children:"Driver Status"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Available"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Off Duty"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Maintenance"})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-1",children:"Live Tracking"}),e.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"text-gray-600",children:"Moving (Larger marker)"})]})]})]})]})]})},lce=()=>{const[t,r]=qr.useState(null),[n,s]=qr.useState([]),[a,i]=qr.useState(!1),[l,c]=qr.useState([]),[u,m]=qr.useState({available:0,onAssignment:0,offDuty:0,maintenance:0,total:0,online:0,withGPS:0,moving:0}),[p,x]=qr.useState(!0),[g,b]=qr.useState(null),[y,v]=qr.useState(null),[w,N]=qr.useState(null),S=qr.useRef(null);qr.useEffect(()=>{const e=localStorage.getItem("token");if(!e)return void b("Authentication required");S.current=Zle("http://localhost:4000",{auth:{token:e}});const t=S.current;return t.on("connect",()=>{t.emit("request-current-locations"),t.emit("request-service-status")}),t.on("driver-location-update",e=>{c(t=>t.map(t=>t.empId===e.driverId?{...t,lat:e.location.latitude,lng:e.location.longitude,lastUpdate:e.timestamp,locationAccuracy:e.accuracy,locationSource:e.source||"gps",speed:e.speed,heading:e.heading,batteryLevel:e.batteryLevel,isMoving:e.speed>5}:t)),v(new Date)}),t.on("location-service-update",e=>{s(t=>[{id:Date.now(),type:"info",message:`Location updated for ${e.driversUpdated}/${e.driversTotal} drivers`,timestamp:e.timestamp},...t.slice(0,4)])}),t.on("service-status",e=>{e.success&&N(e.data)}),t.on("current-locations",e=>{e.success}),()=>{S.current&&S.current.disconnect()}},[]),qr.useEffect(()=>{(async()=>{x(!0);try{const[e,t,r]=await Promise.all([tce(),rce(),nce()]);e.success&&c(e.data),t.success&&m(t.data),r.success&&N(r.data),b(null)}catch(e){b(e.message)}finally{x(!1)}})()},[]);const C=async()=>{i(!0);try{const[e,t]=await Promise.all([tce(),rce()]);e.success&&c(e.data),t.success&&m(t.data),b(null),v(new Date)}catch(e){b(e.message)}finally{setTimeout(()=>i(!1),1e3)}},A=async e=>{try{let t;if(t="start"===e?await sce(2):await ace(),t.success){const e=await nce();e.success&&N(e.data),s(e=>[{id:Date.now(),type:"success",message:t.message,timestamp:new Date},...e.slice(0,4)])}}catch(t){s(t=>[{id:Date.now(),type:"error",message:`Failed to ${e} location service`,timestamp:new Date},...t.slice(0,4)])}},T={totalHours:u.totalHours||0,avgTransportTime:u.avgTransportTime||0,employeeSatisfaction:u.employeeSatisfaction||0,fuelEfficiency:u.fuelEfficiency||0,responseTime:u.responseTime||0,fleetUtilization:u.fleetUtilization||0,costSavings:u.costSavings||0},E=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l=""})=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+("text-blue-600"===s?"bg-blue-50":"text-emerald-600"===s?"bg-emerald-50":"text-purple-600"===s?"bg-purple-50":"bg-orange-50"),children:e.jsx(n,{size:20,className:s})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:14,className:"text-emerald-500"}):e.jsx(We,{size:14,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]});return p?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"Loading Fleet Dashboard..."})]})}):g?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center bg-white p-6 rounded-lg shadow-md border border-gray-200",children:[e.jsx(Ce,{className:"w-12 h-12 text-red-500 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-900 font-semibold mb-1",children:"Connection Error"}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:g}),e.jsx("button",{onClick:C,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Retry Connection"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Live Fleet Management"}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{children:["GPS tracking ",w?.isRunning?"active":"inactive"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Se,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{children:[l.filter(e=>e.hasGPSEnabled).length," GPS enabled"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pr,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{children:[l.filter(e=>e.isMoving).length," moving"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ft,{className:"w-4 h-4 text-green-500"}),e.jsxs("span",{children:[u.online||0," online"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-white rounded-lg border border-gray-200 p-1",children:[e.jsxs("button",{onClick:()=>A("start"),disabled:w?.isRunning,className:"flex items-center gap-1 px-2 py-1 text-xs bg-green-500 text-white rounded disabled:bg-gray-300",title:"Start Location Service",children:[e.jsx(fr,{size:12}),"Start"]}),e.jsxs("button",{onClick:()=>A("stop"),disabled:!w?.isRunning,className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-500 text-white rounded disabled:bg-gray-300",title:"Stop Location Service",children:[e.jsx(K,{size:12}),"Stop"]})]}),e.jsxs("button",{onClick:async()=>{try{i(!0);const e=await ice();e.success&&(s(t=>[{id:Date.now(),type:"success",message:`Live locations updated for ${e.data.driversUpdated} drivers`,timestamp:new Date},...t.slice(0,4)]),setTimeout(()=>{C()},2e3))}catch(e){s(e=>[{id:Date.now(),type:"error",message:"Failed to update live locations",timestamp:new Date},...e.slice(0,4)])}finally{i(!1)}},disabled:a,className:"flex items-center gap-2 px-3 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors disabled:opacity-50",title:"Fetch Live Locations Now",children:[e.jsx(h,{size:16,className:a?"animate-spin":""}),"Live Update"]}),e.jsxs("button",{onClick:C,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:a?"animate-spin":""}),a?"Refreshing...":"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(E,{title:"Active Drivers",value:u.active+u.onAssignment,icon:j,color:"text-blue-600",trend:8,subtitle:`${l.length} total`}),e.jsx(E,{title:"GPS Enabled",value:u.withGPS||l.filter(e=>e.hasGPSEnabled).length,icon:Se,color:"text-emerald-600",trend:12,subtitle:"Real-time tracking"}),e.jsx(E,{title:"Currently Moving",value:u.moving||l.filter(e=>e.isMoving).length,icon:pr,color:"text-orange-600",trend:5,subtitle:"Live movement"}),e.jsx(E,{title:"Fleet Utilization",value:T.fleetUtilization,suffix:"%",icon:f,color:"text-purple-600",trend:-2,subtitle:"Efficiency rate"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-4",children:[e.jsx("div",{className:"xl:col-span-3",children:e.jsx(oce,{drivers:l,driverStats:u,onDriverSelect:e=>{r(e)},isLoading:a,serviceStatus:w})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(hr,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Live Tracking"}),w?.isRunning&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Service Status:"}),e.jsx("span",{className:"font-medium "+(w?.isRunning?"text-green-600":"text-red-600"),children:w?.isRunning?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Last Update:"}),e.jsx("span",{className:"font-medium text-gray-700",children:w?.lastUpdateTime?new Date(w.lastUpdateTime).toLocaleTimeString():"Never"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"GPS Enabled:"}),e.jsx("span",{className:"font-medium text-blue-600",children:u.withGPS||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Moving Now:"}),e.jsx("span",{className:"font-medium text-orange-600",children:l.filter(e=>e.isMoving).length})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(k,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Driver Status"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-emerald-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Available"}),e.jsx("span",{className:"text-lg font-bold text-emerald-600",children:u.available})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Assignment"}),e.jsx("span",{className:"text-lg font-bold text-blue-600",children:u.onAssignment})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Off Duty"}),e.jsx("span",{className:"text-lg font-bold text-gray-600",children:u.offDuty})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-red-50 rounded",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Maintenance"}),e.jsx("span",{className:"text-lg font-bold text-red-600",children:u.maintenance})]})]})]}),n.length>0&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(o,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Activity"})]}),e.jsx("div",{className:"space-y-2",children:n.slice(0,3).map(t=>e.jsxs("div",{className:"p-2 rounded text-xs "+("error"===t.type?"bg-red-50 border-l-2 border-red-500":"success"===t.type?"bg-green-50 border-l-2 border-green-500":"bg-blue-50 border-l-2 border-blue-500"),children:[e.jsx("p",{className:"text-gray-800 font-medium leading-tight",children:t.message}),e.jsx("p",{className:"text-gray-500 mt-1",children:new Date(t.timestamp).toLocaleTimeString()})]},t.id))})]}),0===n.length&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(o,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Activity"})]}),e.jsxs("div",{className:"text-center py-4",children:[e.jsx(o,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-500",children:"No recent activity"}),e.jsx("p",{className:"text-xs text-gray-400",children:"Live tracking events will appear here"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-600"}),e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Driver Fleet (",l.length,")"]}),w?.isRunning&&e.jsxs("div",{className:"flex items-center gap-1 text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Live Tracking"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("span",{children:["Updated: ",y?y.toLocaleTimeString():"Never"]}),e.jsx("button",{className:"text-blue-600 hover:text-blue-700 font-medium",children:"Export"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:l.map(t=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-3 hover:shadow-sm transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center relative",children:[e.jsx("span",{className:"text-white text-xs font-bold",children:t.name.split(" ").map(e=>e[0]).join("")}),t.isMoving&&e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-orange-500 rounded-full animate-pulse"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsx("p",{className:"text-xs text-gray-500",children:t.empId})]})]}),e.jsxs("div",{className:"flex gap-1",children:[t.isOnline&&e.jsx(ft,{className:"w-3 h-3 text-green-500"}),t.hasGPSEnabled&&e.jsx(Se,{className:"w-3 h-3 text-blue-500"}),t.isMoving&&e.jsx(pr,{className:"w-3 h-3 text-orange-500"})]})]}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:"font-medium "+("available"===t.status?"text-emerald-600":"on-assignment"===t.status?"text-blue-600":"off-duty"===t.status?"text-gray-600":"text-red-600"),children:t.status.replace("-"," ").toUpperCase()})]}),null!==t.speed&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Speed:"}),e.jsxs("span",{className:"font-medium "+(t.isMoving?"text-orange-600":"text-gray-600"),children:[t.speed," km/h"]})]}),t.batteryLevel&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Battery:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xr,{className:"w-3 h-3 "+(t.batteryLevel<20?"text-red-500":"text-green-500")}),e.jsxs("span",{className:"font-medium "+(t.batteryLevel<20?"text-red-600":"text-green-600"),children:[t.batteryLevel,"%"]})]})]}),t.lastUpdate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Updated:"}),e.jsx("span",{className:"font-medium text-gray-700",children:new Date(t.lastUpdate).toLocaleTimeString()})]})]}),e.jsxs("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-100 text-xs text-gray-500",children:[e.jsxs("span",{children:["Trips: ",t.trips]}),e.jsxs("span",{children:["Hrs: ",t.hoursWorked]}),e.jsx("span",{className:"flex items-center gap-1 "+(t.isOnline?"text-green-600":"text-gray-400"),children:t.isOnline?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),"Online"]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),"Offline"]})})]})]},t.id))}),0===l.length&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ze,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No drivers found"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Add drivers to your fleet to see them here"})]})]})]})]})})},cce={totalTrips:156,totalDistance:4250,totalFuel:425,totalPassengers:486,totalRevenue:125600,avgTripDistance:27.2,avgFuelEfficiency:10,safetyScore:94},dce=[{month:"Jan",trips:45,distance:1200,fuel:120},{month:"Feb",trips:52,distance:1350,fuel:135},{month:"Mar",trips:48,distance:1280,fuel:128},{month:"Apr",trips:56,distance:1420,fuel:142},{month:"May",trips:61,distance:1580,fuel:158},{month:"Jun",trips:58,distance:1510,fuel:151}],uce=[{name:"Completed",value:142,color:"#10B981"},{name:"Cancelled",value:8,color:"#EF4444"},{name:"In Progress",value:6,color:"#3B82F6"}],mce=[{week:"Week 1",efficiency:9.8},{week:"Week 2",efficiency:10.2},{week:"Week 3",efficiency:9.9},{week:"Week 4",efficiency:10.1},{week:"Week 5",efficiency:10.3},{week:"Week 6",efficiency:9.7}],hce=[{route:"Lilongwe - Blantyre",trips:45,percentage:29},{route:"Blantyre - Zomba",trips:32,percentage:21},{route:"Mzuzu - Lilongwe",trips:28,percentage:18},{route:"Lilongwe - Kasungu",trips:24,percentage:15},{route:"Others",trips:27,percentage:17}],pce=[{hour:"6AM",trips:12},{hour:"7AM",trips:18},{hour:"8AM",trips:25},{hour:"9AM",trips:15},{hour:"12PM",trips:20},{hour:"1PM",trips:22},{hour:"5PM",trips:28},{hour:"6PM",trips:24},{hour:"7PM",trips:16}],fce=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:20,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(d,{size:14,className:a>0?"text-emerald-500":"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},xce=({title:t,children:r,action:n,size:s="normal"})=>{const a="large"===s?"col-span-2":"full"===s?"col-span-full":"";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t}),n&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:n})]}),r]})},gce=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n}),r.map((t,r)=>e.jsxs("p",{className:"text-sm",style:{color:t.color},children:[t.name,": ",t.value]},r))]}):null,bce=()=>{const[t,r]=qr.useState("month"),[n,s]=qr.useState(!1);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Trip Management"}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Active tracking"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Last 30 days"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:t,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 bg-white",children:[e.jsx("option",{value:"week",children:"Last Week"}),e.jsx("option",{value:"month",children:"Last Month"}),e.jsx("option",{value:"quarter",children:"Last Quarter"}),e.jsx("option",{value:"year",children:"Last Year"})]}),e.jsxs("button",{onClick:()=>{s(!0),setTimeout(()=>s(!1),1e3)},disabled:n,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:n?"animate-spin":""}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(fce,{title:"Total Trips",value:cce.totalTrips,icon:gr,color:"blue",trend:12,subtitle:"This month"}),e.jsx(fce,{title:"Distance Covered",value:cce.totalDistance.toLocaleString(),suffix:" km",icon:Se,color:"green",trend:8,subtitle:"Total kilometers"}),e.jsx(fce,{title:"Passengers Transported",value:cce.totalPassengers.toLocaleString(),icon:j,color:"purple",trend:15,subtitle:"Total passengers"}),e.jsx(fce,{title:"Fuel Consumed",value:cce.totalFuel,suffix:" L",icon:br,color:"orange",trend:-3,subtitle:"Total fuel"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(fce,{title:"Revenue Generated",value:cce.totalRevenue.toLocaleString(),prefix:"MWK ",icon:m,color:"green",trend:18}),e.jsx(fce,{title:"Avg Trip Distance",value:cce.avgTripDistance,suffix:" km",icon:pr,color:"blue",trend:5}),e.jsx(fce,{title:"Fuel Efficiency",value:cce.avgFuelEfficiency,suffix:" km/L",icon:f,color:"purple",trend:7}),e.jsx(fce,{title:"Safety Score",value:cce.safetyScore,suffix:"/100",icon:u,color:"green",trend:2})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(xce,{title:"Trip Status Distribution",children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:uce,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:uce.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(gce,{})})]})}),e.jsx("div",{className:"flex justify-center gap-4 mt-2",children:uce.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-xs text-gray-600",children:t.name})]},r))})]}),e.jsx(xce,{title:"Fuel Efficiency Trend",children:e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(MU,{data:mce,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"week",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(Lk,{content:e.jsx(gce,{})}),e.jsx(Aq,{type:"monotone",dataKey:"efficiency",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",r:4}})]})})}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(g,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Performance"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"On-Time Rate"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"w-14 h-2 bg-green-500 rounded-full"})}),e.jsx("span",{className:"text-sm font-medium",children:"87%"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Customer Rating"}),e.jsxs("div",{className:"flex items-center gap-1",children:[[...Array(5)].map((t,r)=>e.jsx(p,{size:12,className:r<4?"text-yellow-400 fill-current":"text-gray-300"},r)),e.jsx("span",{className:"text-sm font-medium ml-1",children:"4.6"})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Completion Rate"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"w-15 h-2 bg-blue-500 rounded-full"})}),e.jsx("span",{className:"text-sm font-medium",children:"94%"})]})]})]})]})})]}),e.jsx(xce,{title:"Monthly Trip Trends",size:"full",action:"View Details",children:e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(zU,{data:dce,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorTrips",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorDistance",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(gce,{})}),e.jsx(Uq,{type:"monotone",dataKey:"trips",stroke:"#3B82F6",fillOpacity:1,fill:"url(#colorTrips)"}),e.jsx(Uq,{type:"monotone",dataKey:"distance",stroke:"#10B981",fillOpacity:1,fill:"url(#colorDistance)"})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsx(xce,{title:"Popular Routes",children:e.jsx("div",{className:"space-y-3",children:hce.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t.route}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.trips," trips"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-20 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${t.percentage}%`}})}),e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[t.percentage,"%"]})]})]},r))})}),e.jsx(xce,{title:"Peak Hours Analysis",children:e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(IU,{data:pce,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"hour",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(Lk,{content:e.jsx(gce,{})}),e.jsx(sF,{dataKey:"trips",fill:"#3B82F6",radius:[8,8,8,8]})]})})})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(gr,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Trips"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"}),e.jsx(se,{size:16,className:"text-gray-400"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Route"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Distance"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Passengers"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Revenue"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:[{date:"2024-06-17",route:"Lilongwe  Blantyre",distance:"312 km",passengers:8,duration:"4h 15m",status:"completed",revenue:"MWK 12,400"},{date:"2024-06-17",route:"Blantyre  Zomba",distance:"67 km",passengers:5,duration:"1h 30m",status:"completed",revenue:"MWK 5,200"},{date:"2024-06-16",route:"Mzuzu  Lilongwe",distance:"278 km",passengers:6,duration:"3h 45m",status:"completed",revenue:"MWK 10,800"},{date:"2024-06-16",route:"Lilongwe  Kasungu",distance:"112 km",passengers:4,duration:"2h 10m",status:"completed",revenue:"MWK 6,400"},{date:"2024-06-15",route:"Blantyre  Lilongwe",distance:"312 km",passengers:7,duration:"4h 20m",status:"completed",revenue:"MWK 11,800"}].map((t,r)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:t.date}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:t.route}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.distance}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.passengers}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.duration}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full "+("completed"===t.status?"bg-green-100 text-green-800":"in-progress"===t.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:t.status})}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:t.revenue})]},r))})]})})]})]})})},yce={totalVehicles:3,activeVehicles:2,inMaintenance:1,totalMileage:245680,avgFuelEfficiency:9.8,maintenanceCosts:45600,nextServiceDue:"Toyota Hiace - 2 days",healthScore:87},vce=[{id:1,name:"Toyota Hiace",plateNumber:"MW-LL-1234",model:"2019 Toyota Hiace",mileage:89450,fuelLevel:75,healthScore:92,status:"active",lastService:"2024-05-15",nextService:"2024-06-20",servicesOverdue:0,fuelEfficiency:10.2,maintenanceCost:12400,batteryLevel:98,engineTemp:"Normal",tireCondition:"Good"},{id:2,name:"Nissan NV200",plateNumber:"MW-BT-5678",model:"2020 Nissan NV200",mileage:67230,fuelLevel:45,healthScore:78,status:"maintenance",lastService:"2024-06-10",nextService:"2024-06-25",servicesOverdue:1,fuelEfficiency:9.8,maintenanceCost:18200,batteryLevel:85,engineTemp:"High",tireCondition:"Fair"},{id:3,name:"Ford Transit",plateNumber:"MW-MZ-9012",model:"2018 Ford Transit",mileage:124500,fuelLevel:60,healthScore:85,status:"active",lastService:"2024-06-01",nextService:"2024-07-01",servicesOverdue:0,fuelEfficiency:9.5,maintenanceCost:15e3,batteryLevel:92,engineTemp:"Normal",tireCondition:"Good"}],jce=[{name:"Up to Date",value:2,color:"#10B981"},{name:"Due Soon",value:1,color:"#F59E0B"},{name:"Overdue",value:1,color:"#EF4444"}],wce=[{month:"Jan",consumption:450,cost:18e3},{month:"Feb",consumption:420,cost:16800},{month:"Mar",consumption:480,cost:19200},{month:"Apr",consumption:460,cost:18400},{month:"May",consumption:510,cost:20400},{month:"Jun",consumption:485,cost:19400}],Nce=[{month:"Jan",cost:8500},{month:"Feb",cost:12e3},{month:"Mar",cost:6800},{month:"Apr",cost:9200},{month:"May",cost:15600},{month:"Jun",cost:7400}],kce=[{id:1,vehicle:"Toyota Hiace",service:"Oil Change & Filter",date:"2024-06-15",cost:3200,status:"completed",nextDue:"2024-09-15",mileage:89200},{id:2,vehicle:"Nissan NV200",service:"Brake Inspection",date:"2024-06-10",cost:5600,status:"completed",nextDue:"2024-12-10",mileage:67100},{id:3,vehicle:"Ford Transit",service:"Tire Rotation",date:"2024-06-01",cost:2800,status:"completed",nextDue:"2024-09-01",mileage:124200},{id:4,vehicle:"Toyota Hiace",service:"Engine Diagnostic",date:"2024-05-20",cost:4500,status:"completed",nextDue:"2024-11-20",mileage:88800}],Sce=[{vehicle:"Toyota Hiace",service:"Engine Oil Change",dueDate:"2024-06-20",daysLeft:2,priority:"high",estimatedCost:3500},{vehicle:"Ford Transit",service:"Brake Pad Replacement",dueDate:"2024-06-25",daysLeft:7,priority:"medium",estimatedCost:8500},{vehicle:"Nissan NV200",service:"AC System Check",dueDate:"2024-07-01",daysLeft:14,priority:"low",estimatedCost:4200}],Cce=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:20,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:14,className:"text-emerald-500"}):e.jsx(We,{size:14,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},Ace=({title:t,children:r,action:n,size:s="normal"})=>{const a="large"===s?"col-span-2":"full"===s?"col-span-full":"";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t}),n&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:n})]}),r]})},Tce=({vehicle:t})=>{return e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Bt,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-500",children:t.plateNumber})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:t.mileage.toLocaleString()}),e.jsx("div",{className:"text-xs text-gray-500",children:"Mileage (km)"})]}),e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"text-lg font-bold "+(r=t.healthScore,r>=90?"text-green-600":r>=70?"text-yellow-600":"text-red-600"),children:[t.healthScore,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Health Score"})]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Fuel Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-16 h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:"h-2 rounded-full "+(t.fuelLevel>50?"bg-green-500":t.fuelLevel>25?"bg-yellow-500":"bg-red-500"),style:{width:`${t.fuelLevel}%`}})}),e.jsxs("span",{className:"text-xs font-medium",children:[t.fuelLevel,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Battery"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"w-3 h-3 text-gray-500"}),e.jsxs("span",{className:"text-xs font-medium",children:[t.batteryLevel,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Engine Temp"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"w-3 h-3 text-gray-500"}),e.jsx("span",{className:"text-xs font-medium "+("Normal"===t.engineTemp?"text-green-600":"text-red-600"),children:t.engineTemp})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-100",children:[e.jsxs("span",{className:"text-xs text-gray-500",children:["Next Service: ",t.nextService]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Qe,{size:14})})]})]})]});var r},Ece=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n}),r.map((t,r)=>e.jsxs("p",{className:"text-sm",style:{color:t.color},children:[t.name,": ",t.value]},r))]}):null,_ce=()=>{const[t,r]=qr.useState("all"),[s,a]=qr.useState(!1);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vehicle Management"}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Real-time monitoring"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(u,{className:"w-4 h-4 text-blue-500"}),e.jsxs("span",{children:["Fleet health: ",yce.healthScore,"%"]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:t,onChange:e=>r(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 bg-white",children:[e.jsx("option",{value:"all",children:"All Vehicles"}),vce.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))]}),e.jsxs("button",{onClick:()=>{a(!0),setTimeout(()=>a(!1),1e3)},disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:s?"animate-spin":""}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Cce,{title:"Total Vehicles",value:yce.totalVehicles,icon:Bt,color:"blue",subtitle:"In fleet"}),e.jsx(Cce,{title:"Active Vehicles",value:yce.activeVehicles,icon:n,color:"green",trend:5,subtitle:"Currently operational"}),e.jsx(Cce,{title:"In Maintenance",value:yce.inMaintenance,icon:yr,color:"orange",subtitle:"Under service"}),e.jsx(Cce,{title:"Fleet Health",value:yce.healthScore,suffix:"%",icon:u,color:"purple",trend:3,subtitle:"Overall condition"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Cce,{title:"Total Mileage",value:yce.totalMileage.toLocaleString(),suffix:" km",icon:gr,color:"blue",trend:12}),e.jsx(Cce,{title:"Avg Fuel Efficiency",value:yce.avgFuelEfficiency,suffix:" km/L",icon:br,color:"green",trend:-2}),e.jsx(Cce,{title:"Maintenance Costs",value:yce.maintenanceCosts.toLocaleString(),prefix:"MWK ",icon:m,color:"red",trend:-8}),e.jsx(Cce,{title:"Next Service Due",value:"2 days",icon:v,color:"orange",subtitle:yce.nextServiceDue})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Vehicle Fleet"})]}),e.jsxs("button",{className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-lg text-sm font-medium hover:bg-blue-600",children:[e.jsx(Le,{size:16}),"Add Vehicle"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:vce.map(t=>e.jsx(Tce,{vehicle:t},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(Ace,{title:"Maintenance Status",children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:jce,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"value",children:jce.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Ece,{})})]})}),e.jsx("div",{className:"flex justify-center gap-3 mt-2 text-xs",children:jce.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-600",children:t.name})]},r))})]}),e.jsx(Ace,{title:"Maintenance Costs",children:e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(zU,{data:Nce,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorCost",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(I$,{axisLine:!1,tickLine:!1,tick:{fontSize:12}}),e.jsx(Lk,{content:e.jsx(Ece,{})}),e.jsx(Uq,{type:"monotone",dataKey:"cost",stroke:"#EF4444",fillOpacity:1,fill:"url(#colorCost)"})]})})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(we,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Service Alerts"})]}),e.jsx("div",{className:"space-y-3",children:Sce.slice(0,3).map((t,r)=>e.jsxs("div",{className:"p-3 rounded-lg border-l-3 "+("high"===t.priority?"bg-red-50 border-red-500":"medium"===t.priority?"bg-yellow-50 border-yellow-500":"bg-blue-50 border-blue-500"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.vehicle}),e.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded "+("high"===t.priority?"bg-red-100 text-red-700":"medium"===t.priority?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"),children:[t.daysLeft," days"]})]}),e.jsx("p",{className:"text-xs text-gray-600 mb-2",children:t.service}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["Due: ",t.dueDate]}),e.jsxs("span",{children:["Est: MWK ",t.estimatedCost.toLocaleString()]})]})]},r))})]})]}),e.jsx(Ace,{title:"Fuel Consumption & Costs",size:"full",action:"View Details",children:e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(IU,{data:wce,children:[e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"left",axisLine:!1,tickLine:!1}),e.jsx(I$,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(Ece,{})}),e.jsx(sF,{yAxisId:"left",dataKey:"consumption",fill:"#3B82F6",name:"Consumption (L)",radius:[8,8,8,8]}),e.jsx(Aq,{yAxisId:"right",type:"monotone",dataKey:"cost",stroke:"#EF4444",strokeWidth:2,name:"Cost (MWK)"})]})})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(yr,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Service History"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"}),e.jsx(se,{size:16,className:"text-gray-400"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vehicle"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mileage"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cost"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Next Due"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:kce.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:t.vehicle}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:t.service}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.date}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-600",children:[t.mileage.toLocaleString()," km"]}),e.jsxs("td",{className:"py-3 px-4 text-sm text-gray-600",children:["MWK ",t.cost.toLocaleString()]}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:t.status})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.nextDue})]},t.id))})]})})]})]})})},Pce={totalAllowances:85600,totalExpenses:67800,pendingReimbursements:12400,currentBalance:5400,thisMonthExpenses:18600,thisMonthAllowances:28500,pendingApprovals:3,overdueClaims:1},Dce=[{type:"Travel Allowance",amount:45e3,percentage:52,color:"#3B82F6"},{type:"Meal Allowance",amount:25e3,percentage:29,color:"#10B981"},{type:"Fuel Allowance",amount:15600,percentage:19,color:"#F59E0B"}],Oce=[{category:"Fuel",amount:32e3,percentage:47,color:"#3B82F6"},{category:"Maintenance",amount:18500,percentage:27,color:"#EF4444"},{category:"Tolls & Parking",amount:8900,percentage:13,color:"#8B5CF6"},{category:"Meals",amount:5200,percentage:8,color:"#10B981"},{category:"Others",amount:3200,percentage:5,color:"#F59E0B"}],Lce=[{month:"Jan",allowances:28e3,expenses:22e3,balance:6e3},{month:"Feb",allowances:32e3,expenses:25e3,balance:7e3},{month:"Mar",allowances:29e3,expenses:28e3,balance:1e3},{month:"Apr",allowances:35e3,expenses:3e4,balance:5e3},{month:"May",allowances:31e3,expenses:26e3,balance:5e3},{month:"Jun",allowances:28500,expenses:24e3,balance:4500}],Mce=[{id:1,type:"allowance",category:"Travel Allowance",amount:12e3,date:"2024-06-17",status:"approved",reference:"TRV-2024-0617",description:"Weekly travel allowance"},{id:2,type:"expense",category:"Fuel",amount:-8500,date:"2024-06-16",status:"pending",reference:"EXP-2024-0616",description:"Fuel purchase - Puma Station"},{id:3,type:"expense",category:"Maintenance",amount:-4200,date:"2024-06-15",status:"approved",reference:"EXP-2024-0615",description:"Vehicle oil change"},{id:4,type:"allowance",category:"Meal Allowance",amount:5e3,date:"2024-06-15",status:"approved",reference:"MEAL-2024-0615",description:"Daily meal allowance"},{id:5,type:"expense",category:"Tolls",amount:-1200,date:"2024-06-14",status:"rejected",reference:"EXP-2024-0614",description:"Highway toll payment"}],Ice=[{id:1,type:"Fuel Reimbursement",amount:8500,submittedDate:"2024-06-16",expectedApproval:"2024-06-20",status:"under_review",receipts:1},{id:2,type:"Parking Fees",amount:2400,submittedDate:"2024-06-15",expectedApproval:"2024-06-19",status:"pending_documents",receipts:0},{id:3,type:"Emergency Repair",amount:15e3,submittedDate:"2024-06-10",expectedApproval:"2024-06-18",status:"approved",receipts:3}],Rce=({title:t,value:r,icon:n,color:s,trend:a,subtitle:i,prefix:o="",suffix:l="",size:c="normal"})=>{const u="large"===c?"col-span-2":"",m="large"===c?"text-4xl":"text-2xl";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-shadow ${u}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg "+("blue"===s?"bg-blue-50":"green"===s?"bg-emerald-50":"purple"===s?"bg-purple-50":"orange"===s?"bg-orange-50":"red"===s?"bg-red-50":"bg-gray-50"),children:e.jsx(n,{size:20,className:"blue"===s?"text-blue-600":"green"===s?"text-emerald-600":"purple"===s?"text-purple-600":"orange"===s?"text-orange-600":"red"===s?"text-red-600":"text-gray-600"})}),a&&e.jsxs("div",{className:"flex items-center gap-1",children:[a>0?e.jsx(d,{size:14,className:"text-emerald-500"}):e.jsx(We,{size:14,className:"text-red-500"}),e.jsxs("span",{className:"text-xs font-medium "+(a>0?"text-emerald-500":"text-red-500"),children:[a>0?"+":"",a,"%"]})]})]}),e.jsxs("div",{className:`${m} font-bold text-gray-900 mb-1`,children:[o,r,l]}),e.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:t}),i&&e.jsx("div",{className:"text-xs text-gray-400",children:i})]})},zce=({title:t,children:r,action:n,size:s="normal"})=>{const a="large"===s?"col-span-2":"full"===s?"col-span-full":"";return e.jsxs("div",{className:`bg-white rounded-lg border border-gray-200 p-4 ${a}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t}),n&&e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:n})]}),r]})},Fce=({transaction:t})=>{return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"py-3 px-4 text-sm text-gray-900",children:e.jsxs("div",{className:"flex items-center gap-2",children:["allowance"===t.type?e.jsx(jr,{className:"w-4 h-4 text-green-500"}):e.jsx(wr,{className:"w-4 h-4 text-red-500"}),t.date]})}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium text-gray-900",children:t.category}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.description}),e.jsx("td",{className:"py-3 px-4 text-sm font-medium",children:e.jsxs("span",{className:(r=t.amount,r>0?"text-green-600":"text-red-600"),children:["MWK ",Math.abs(t.amount).toLocaleString()]})}),e.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:t.reference}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-medium rounded-full ${(e=>{switch(e){case"approved":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";case"under_review":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}})(t.status)}`,children:t.status.replace("_"," ")})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(_,{size:14})}),e.jsx("button",{className:"p-1 text-gray-400 hover:text-blue-600",children:e.jsx(Qe,{size:14})})]})})]});var r},Bce=({active:t,payload:r,label:n})=>t&&r&&r.length?e.jsxs("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-md",children:[e.jsx("p",{className:"font-medium text-gray-900",children:n}),r.map((t,r)=>e.jsxs("p",{className:"text-sm",style:{color:t.color},children:[t.name,": MWK ",t.value?.toLocaleString()]},r))]}):null,qce=()=>{const[t,r]=qr.useState("overview"),[s,a]=qr.useState(!1),[i,d]=qr.useState(!1);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"p-4 space-y-4 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Financial Reconciliation"}),e.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Real-time tracking"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{children:"Current month"})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:[e.jsx(Le,{size:16}),"Submit Expense"]}),e.jsxs("button",{onClick:()=>{a(!0),setTimeout(()=>a(!1),1e3)},disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors disabled:opacity-50",children:[e.jsx(G,{size:16,className:s?"animate-spin":""}),"Refresh"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Rce,{title:"Total Allowances",value:Pce.totalAllowances.toLocaleString(),prefix:"MWK ",icon:Wt,color:"green",trend:15,subtitle:"This month"}),e.jsx(Rce,{title:"Total Expenses",value:Pce.totalExpenses.toLocaleString(),prefix:"MWK ",icon:N,color:"red",trend:-8,subtitle:"This month"}),e.jsx(Rce,{title:"Pending Reimbursements",value:Pce.pendingReimbursements.toLocaleString(),prefix:"MWK ",icon:l,color:"orange",subtitle:"Awaiting approval"}),e.jsx(Rce,{title:"Current Balance",value:Pce.currentBalance.toLocaleString(),prefix:"MWK ",icon:m,color:"blue",trend:12,subtitle:"Available funds"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(Rce,{title:"Month Allowances",value:Pce.thisMonthAllowances.toLocaleString(),prefix:"MWK ",icon:g,color:"green",trend:8}),e.jsx(Rce,{title:"Month Expenses",value:Pce.thisMonthExpenses.toLocaleString(),prefix:"MWK ",icon:Xe,color:"purple",trend:-3}),e.jsx(Rce,{title:"Pending Approvals",value:Pce.pendingApprovals,icon:n,color:"orange",subtitle:"Items to review"}),e.jsx(Rce,{title:"Overdue Claims",value:Pce.overdueClaims,icon:Ce,color:"red",subtitle:"Need attention"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs(zce,{title:"Allowance Breakdown",children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:Dce,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"amount",children:Dce.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Bce,{})})]})}),e.jsx("div",{className:"space-y-1 mt-2",children:Dce.map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-600",children:t.type})]}),e.jsxs("span",{className:"font-medium",children:["MWK ",t.amount.toLocaleString()]})]},r))})]}),e.jsxs(zce,{title:"Expense Categories",children:[e.jsx(Vk,{width:"100%",height:200,children:e.jsxs(RU,{children:[e.jsx(gR,{data:Oce,cx:"50%",cy:"50%",innerRadius:40,outerRadius:80,paddingAngle:5,dataKey:"amount",children:Oce.map((t,r)=>e.jsx(Hk,{fill:t.color},`cell-${r}`))}),e.jsx(Lk,{content:e.jsx(Bce,{})})]})}),e.jsx("div",{className:"space-y-1 mt-2",children:Oce.slice(0,3).map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-gray-600",children:t.category})]}),e.jsxs("span",{className:"font-medium",children:["MWK ",t.amount.toLocaleString()]})]},r))})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(c,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Pending Claims"})]}),e.jsx("div",{className:"space-y-3",children:Ice.map((t,r)=>e.jsxs("div",{className:"p-3 rounded-lg border-l-3 "+("approved"===t.status?"bg-green-50 border-green-500":"under_review"===t.status?"bg-blue-50 border-blue-500":"bg-yellow-50 border-yellow-500"),children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:t.type}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["MWK ",t.amount.toLocaleString()]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mb-2",children:["Submitted: ",t.submittedDate]}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsx("span",{className:"px-2 py-1 rounded font-medium "+("approved"===t.status?"bg-green-100 text-green-700":"under_review"===t.status?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"),children:t.status.replace("_"," ")}),e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(tt,{size:12}),e.jsxs("span",{children:[t.receipts," receipts"]})]})]})]},r))})]})]}),e.jsx(zce,{title:"Financial Trends",size:"full",action:"View Details",children:e.jsx(Vk,{width:"100%",height:300,children:e.jsxs(zU,{data:Lce,children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorAllowances",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorExpenses",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#EF4444",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#EF4444",stopOpacity:0})]})]}),e.jsx(dq,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),e.jsx(S$,{dataKey:"month",axisLine:!1,tickLine:!1}),e.jsx(I$,{axisLine:!1,tickLine:!1}),e.jsx(Lk,{content:e.jsx(Bce,{})}),e.jsx(Uq,{type:"monotone",dataKey:"allowances",stroke:"#10B981",fillOpacity:1,fill:"url(#colorAllowances)",name:"Allowances"}),e.jsx(Uq,{type:"monotone",dataKey:"expenses",stroke:"#EF4444",fillOpacity:1,fill:"url(#colorExpenses)",name:"Expenses"}),e.jsx(Aq,{type:"monotone",dataKey:"balance",stroke:"#3B82F6",strokeWidth:2,name:"Balance"})]})})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{className:"w-5 h-5 text-gray-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Recent Transactions"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"View All"}),e.jsx(se,{size:16,className:"text-gray-400"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:Mce.map(t=>e.jsx(Fce,{transaction:t},t.id))})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(Be,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Submit Expense"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Upload receipts and submit for approval"})]})]}),e.jsx("button",{className:"w-full py-2 px-4 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 transition-colors",children:"Submit New Expense"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-green-50 rounded-lg",children:e.jsx(Ie,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Download Reports"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Export financial summaries and statements"})]})]}),e.jsx("button",{className:"w-full py-2 px-4 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 transition-colors",children:"Download Report"})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 rounded-lg",children:e.jsx(c,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"View Statements"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Access detailed financial statements"})]})]}),e.jsx("button",{className:"w-full py-2 px-4 bg-purple-500 text-white rounded-lg font-medium hover:bg-purple-600 transition-colors",children:"View Statements"})]})]})]})})};function $ce(){const t=$r(),r=pe(),[n,s]=qr.useState({requisitions:{counts:{total:0,pending:0}},rfqs:{counts:{total:0,open:0}},purchaseOrders:{counts:{total:0,pending:0}},invoices:{counts:{total:0,pending:0}}}),[a,i]=qr.useState(null),[o,l]=qr.useState(!1),[c]=Vr(),[d,u]=qr.useState(()=>c.get("section")||"vendor-dash"),[m,h]=qr.useState(null),[p,f]=qr.useState([]),[x,g]=qr.useState([]),[b,y]=qr.useState(""),[v,j]=qr.useState({available:12,onTrip:5,offline:2,maintenance:1}),[w,N]=qr.useState(!1),{user:k,loading:S}=An(),C=k?{...k,name:k.firstName?`${k.firstName} ${k.lastName||""}`.trim():"Guest User",avatar:k.avatar||null,email:k.email||"",role:k.role||"guest",companyName:k.companyName||"NyasaSC"}:{name:"Guest User",avatar:null,email:"",role:"guest",companyName:"NyasaSC"};qr.useEffect(()=>{"geolocation"in navigator&&navigator.permissions.query({name:"geolocation"}).then(e=>{if("prompt"===e.state){window.confirm("For accurate fleet tracking, we need your location permission. This will help us provide better service and accurate tracking. Allow location access?")&&navigator.geolocation.getCurrentPosition(e=>{},e=>{})}})},[]),qr.useEffect(()=>{const e=c.get("section")||"vendor-dash";u(e)},[c]);const[A,T]=qr.useState(!0),[E,_]=qr.useState(0),P=e=>{u(e),t(`?section=${e}`,{replace:!0})};return qr.useEffect(()=>{const e=()=>{_(window.pageYOffset)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),qr.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&T(JSON.parse(e))},t=e=>{T(e.detail.open)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",t),e(),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",t)}},[]),e.jsxs(ae,{sx:{background:"linear-gradient(135deg,rgb(1, 4, 17) 0%,rgb(54, 79, 100) 100%)",display:"flex",height:"100vh",overflow:"hidden"},children:[e.jsx(Coe,{stats:n,activeSection:d,handleSectionChange:P,onSidebarToggle:T,user:C}),e.jsxs(ae,{component:"main",sx:{flexGrow:1,overflow:"auto",backgroundColor:r.palette.background.default,position:"relative"},children:[e.jsx(_oe,{user:C,onMobileMenuToggle:N,scrollPosition:E,handleSectionChange:P,sidebarOpen:A,sidebarWidth:256,collapsedSidebarWidth:70}),e.jsx(ae,{sx:{paddingTop:"80px",minHeight:"calc(100vh - 64px)",position:"relative",zIndex:1,padding:"80px 1.5rem 1.5rem"},children:"vendor-dash"===d?e.jsxs(ae,{sx:{maxWidth:"100%",margin:"0 auto"},children:[e.jsx(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexDirection:{xs:"column",sm:"row"},gap:{xs:1,sm:0},textAlign:{xs:"center",sm:"left"}},children:e.jsxs(ae,{children:[e.jsx(oe,{variant:"h5",component:"h1",gutterBottom:!0,sx:{fontWeight:700,color:"black"},children:"Drivers Dashboard"}),e.jsxs(oe,{variant:"body1",sx:{fontSize:"0.875rem",fontWeight:400,color:"black"},children:["Welcome back, ",C.firstName.charAt(0).toUpperCase()+C.firstName.slice(1),". Here's your current driving status."]})]})}),e.jsx(lce,{drivers:b?x:p,selectedDriver:m,onDriverSelect:h})]}):e.jsxs(ae,{children:["trip-management"===d&&e.jsx(bce,{}),"vehicle-management"===d&&e.jsx(_ce,{}),"driver-reconciliation"===d&&e.jsx(qce,{})]})})]}),e.jsx(Bm,{user:C})]})}function Uce(){const{id:t}=Gr(),r=$r(),{user:n}=An(),[s,a]=qr.useState(null),[i,u]=qr.useState(!0),[m,h]=qr.useState(null),[f,b]=qr.useState(!1),[j,w]=qr.useState({reportType:"comprehensive",dateRange:"6months",includePersonalInfo:!0,includeEmploymentInfo:!0,includePerformance:!0,includeGoals:!0,includeAchievements:!0,includeSkills:!0,includeReviews:!0,format:"pdf"}),[N,S]=qr.useState([{id:1,name:"Q2 2024 Performance Report",type:"Performance Review",createdDate:"2024-06-15",format:"PDF",status:"completed"},{id:2,name:"Annual Review Summary",type:"Annual Report",createdDate:"2024-01-15",format:"Excel",status:"completed"},{id:3,name:"Skills Assessment Report",type:"Skills Report",createdDate:"2024-05-20",format:"PDF",status:"completed"}]),C="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),r=await fetch(`${C}/api/auth/employees/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Employee not found");{const e=await r.json();a(e)}}catch(e){h("Failed to fetch employee details")}finally{u(!1)}})()},[t,C]);const A=(e,t)=>{w(r=>({...r,[e]:t}))};if(i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Employee Data"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the information..."})]})});if(m||!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:m||"Employee not found"})]})]})})});const E=[{id:"comprehensive",name:"Comprehensive Report",description:"Complete employee overview including all available data",icon:c,color:"blue"},{id:"performance",name:"Performance Report",description:"Focus on performance metrics, goals, and achievements",icon:d,color:"green"},{id:"skills",name:"Skills Assessment",description:"Detailed analysis of skills and competencies",icon:y,color:"purple"},{id:"review",name:"Review Summary",description:"Summary of performance reviews and feedback",icon:p,color:"yellow"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/employees/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl text-white",children:e.jsx(c,{size:32})}),"Generate Report"]}),e.jsxs("p",{className:"text-gray-500 text-lg mt-2",children:["Create detailed reports for ",`${s.firstName||""} ${s.lastName||""}`.trim()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(_,{size:16}),"Preview"]}),e.jsxs("button",{className:"px-4 py-2 bg-blue-100 text-blue-700 rounded-xl hover:bg-blue-200 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Nr,{size:16}),"Share"]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsx(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-purple-50/50 to-pink-50/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(x,{size:20}),"Report Templates"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a report template to get started"})]}),e.jsx("div",{className:"p-8",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E.map(t=>{const r=t.icon,n=j.reportType===t.id;return e.jsxs(Rm.div,{whileHover:{scale:1.02},onClick:()=>A("reportType",t.id),className:"p-6 rounded-xl border-2 cursor-pointer transition-all duration-200 "+(n?`border-${t.color}-500 bg-${t.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:`p-2 bg-${t.color}-100 rounded-lg`,children:e.jsx(r,{size:20,className:`text-${t.color}-600`})}),e.jsx("h3",{className:"font-semibold text-gray-900",children:t.name})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},t.id)})})})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsxs("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-blue-50/50 to-purple-50/30",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(at,{size:20}),"Configuration Options"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Customize what to include in your report"})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(v,{size:16,className:"inline mr-2"}),"Date Range"]}),e.jsxs("select",{value:j.dateRange,onChange:e=>A("dateRange",e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80",children:[e.jsx("option",{value:"1month",children:"Last Month"}),e.jsx("option",{value:"3months",children:"Last 3 Months"}),e.jsx("option",{value:"6months",children:"Last 6 Months"}),e.jsx("option",{value:"1year",children:"Last Year"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Include Sections"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[{key:"includePersonalInfo",label:"Personal Information",icon:O},{key:"includeEmploymentInfo",label:"Employment Details",icon:M},{key:"includePerformance",label:"Performance Metrics",icon:k},{key:"includeGoals",label:"Goals & Objectives",icon:g},{key:"includeAchievements",label:"Achievements",icon:y},{key:"includeSkills",label:"Skills & Competencies",icon:o},{key:"includeReviews",label:"Performance Reviews",icon:p}].map(t=>{const r=t.icon;return e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",checked:j[t.key],onChange:e=>A(t.key,e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx(r,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.label})]},t.key)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Output Format"}),e.jsx("div",{className:"flex gap-4",children:[{value:"pdf",label:"PDF",icon:c},{value:"excel",label:"Excel",icon:k},{value:"word",label:"Word",icon:c}].map(t=>{const r=t.icon;return e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"format",value:t.value,checked:j.format===t.value,onChange:e=>A("format",e.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500"}),e.jsx(r,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:t.label})]},t.value)})})]})]})]})]}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"px-6 py-6 border-b border-gray-200 bg-gradient-to-r from-green-50/50 to-blue-50/30",children:e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ie,{size:18}),"Generate Report"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Report Preview"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Employee:"})," ",`${s.firstName||""} ${s.lastName||""}`.trim()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",j.reportType.charAt(0).toUpperCase()+j.reportType.slice(1)," Report"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Period:"})," ",j.dateRange]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Format:"})," ",j.format.toUpperCase()]})]})]}),e.jsx("button",{onClick:async()=>{b(!0);try{await new Promise(e=>setTimeout(e,3e3));const e={id:N.length+1,name:`${j.reportType} Report - ${(new Date).toLocaleDateString()}`,type:j.reportType.charAt(0).toUpperCase()+j.reportType.slice(1),createdDate:(new Date).toISOString().split("T")[0],format:j.format.toUpperCase(),status:"completed"};S(t=>[e,...t]),alert(`Report generated successfully! ${e.name}`)}catch(e){alert("Failed to generate report. Please try again.")}finally{b(!1)}},disabled:f,className:"w-full px-6 py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:f?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Generating Report..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ie,{size:20}),"Generate & Download"]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center justify-center gap-2",children:[e.jsx(D,{size:16}),"Email"]}),e.jsxs("button",{className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center justify-center gap-2",children:[e.jsx(Fe,{size:16}),"Print"]})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50/50 to-blue-50/30",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(l,{size:18}),"Recent Reports"]}),e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(G,{size:16})})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:N.map(t=>e.jsxs("div",{className:"p-4 hover:bg-gray-50/50 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsx("span",{className:"text-xs text-gray-500",children:t.format})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-xs text-gray-600",children:[e.jsx("p",{children:t.type}),e.jsx("p",{children:new Date(t.createdDate).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>{return e=t.id,void alert(`Downloading report ${e}...`);var e},className:"p-1 hover:bg-blue-100 text-blue-600 rounded",children:e.jsx(Ie,{size:14})}),e.jsx("button",{onClick:()=>{return e=t.id,void S(t=>t.filter(t=>t.id!==e));var e},className:"p-1 hover:bg-red-100 text-red-600 rounded",children:e.jsx(Me,{size:14})})]})]})]},t.id))})]})]})]})})})]})}function Wce(){const{id:t}=Gr(),r=$r(),{user:a}=An(),[i,c]=qr.useState(null),[d,m]=qr.useState(!0),[h,p]=qr.useState(null),[f,x]=qr.useState("permissions"),[g,b]=qr.useState(!1),[y,v]=qr.useState(!1),[w,N]=qr.useState(""),[k,S]=qr.useState("success"),[C,A]=qr.useState({role:"employee",status:"active",lastLogin:"2024-06-10T14:30:00Z",accountCreated:"2024-01-15T09:00:00Z",permissions:{hrSystem:{read:!0,write:!1,admin:!1},payroll:{read:!0,write:!1,admin:!1},projects:{read:!0,write:!0,admin:!1},documents:{read:!0,write:!0,admin:!1},reports:{read:!0,write:!1,admin:!1},timeTracking:{read:!0,write:!0,admin:!1},calendar:{read:!0,write:!0,admin:!1},messaging:{read:!0,write:!0,admin:!1}},devices:[{id:1,name:"MacBook Pro",type:"laptop",lastAccess:"2024-06-10T14:30:00Z",status:"active"},{id:2,name:"iPhone 15",type:"mobile",lastAccess:"2024-06-10T16:45:00Z",status:"active"},{id:3,name:"iPad Air",type:"tablet",lastAccess:"2024-06-08T10:20:00Z",status:"inactive"}],accessLogs:[{id:1,action:"Login",timestamp:"2024-06-10T14:30:00Z",device:"MacBook Pro",location:"Office",success:!0},{id:2,action:"Document Access",timestamp:"2024-06-10T14:35:00Z",resource:"Q2 Reports",success:!0},{id:3,action:"Failed Login",timestamp:"2024-06-09T09:15:00Z",device:"iPhone 15",location:"Remote",success:!1},{id:4,action:"Password Change",timestamp:"2024-06-08T11:00:00Z",device:"MacBook Pro",location:"Office",success:!0}]}),E="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),r=await fetch(`${E}/api/auth/employees/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Employee not found");{const e=await r.json();c(e)}}catch(e){p("Failed to fetch employee details")}finally{m(!1)}})()},[t,E]);const P=(e,t="success")=>{N(e),S(t),v(!0),setTimeout(()=>v(!1),5e3)};if(d)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Access Data"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch the information..."})]})});if(h||!i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(T,{size:24}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Error"}),e.jsx("p",{children:h||"Employee not found"})]})]})})});const D=[{id:"permissions",label:"Permissions",icon:u},{id:"devices",label:"Devices & Sessions",icon:lt},{id:"activity",label:"Access Logs",icon:o},{id:"security",label:"Security Settings",icon:U}],L=e=>{switch(e?.toLowerCase()){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"suspended":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},I=[{value:"employee",label:"Employee",description:"Basic access to assigned resources",icon:O,color:"blue"},{value:"manager",label:"Manager",description:"Access to team resources and reports",icon:j,color:"green"},{value:"admin",label:"Administrator",description:"Full system access and control",icon:Te,color:"purple"},{value:"hr",label:"HR Specialist",description:"Access to HR systems and employee data",icon:M,color:"orange"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/employees/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-xl text-white",children:e.jsx(u,{size:32})}),"Manage Access"]}),e.jsxs("p",{className:"text-gray-500 text-lg mt-2",children:["Control permissions and access for ",`${i.firstName||""} ${i.lastName||""}`.trim()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:async()=>{b(!0);try{await new Promise(e=>setTimeout(e,2e3)),P("Access settings updated successfully!","success")}catch(e){P("Failed to update access settings","error")}finally{b(!1)}},disabled:g,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:20}),"Save Changes"]})}),e.jsx("button",{className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md",children:e.jsx(G,{size:20})})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:e.jsx(O,{size:24,className:"text-white"})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${L(C.role)}`,children:C.role})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Current Role"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 capitalize",children:C.role})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:e.jsx(n,{size:24,className:"text-white"})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${L(C.status)}`,children:C.status})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Account Status"}),e.jsx("p",{className:"text-xl font-bold text-gray-900 capitalize",children:C.status})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(lt,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:C.devices.filter(e=>"active"===e.status).length})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Active Devices"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["out of ",C.devices.length," total"]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:e.jsx(l,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-lg font-bold text-amber-600",children:new Date(C.lastLogin).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Last Login"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:new Date(C.lastLogin).toLocaleTimeString()})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl",children:[e.jsx("div",{className:"flex border-b border-gray-200/50 overflow-x-auto",children:D.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>x(t.id),className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 font-medium transition-all duration-200 whitespace-nowrap "+(f===t.id?"text-blue-600 border-b-2 border-blue-600 bg-blue-50/50":"text-gray-600 hover:text-blue-600 hover:bg-blue-50/30"),children:[e.jsx(r,{size:18}),t.label]},t.id)})}),e.jsxs("div",{className:"p-8",children:["permissions"===f&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Role Assignment"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:I.map(t=>{const r=t.icon,n=C.role===t.value;return e.jsxs(Rm.div,{whileHover:{scale:1.02},onClick:()=>{return e=t.value,void A(t=>({...t,role:e}));var e},className:"p-4 rounded-xl border-2 cursor-pointer transition-all duration-200 "+(n?`border-${t.color}-500 bg-${t.color}-50`:"border-gray-200 hover:border-gray-300 bg-white"),children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`p-2 bg-${t.color}-100 rounded-lg`,children:e.jsx(r,{size:20,className:`text-${t.color}-600`})}),e.jsx("h4",{className:"font-semibold text-gray-900",children:t.label})]}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},t.value)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"System Permissions"}),e.jsx("div",{className:"space-y-4",children:Object.entries(C.permissions).map(([t,r])=>e.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(mt,{size:20,className:"text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900 capitalize",children:t.replace(/([A-Z])/g," $1").trim()})]})}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:Object.entries(r).map(([r,n])=>e.jsxs("label",{className:"flex items-center gap-3 p-3 bg-white rounded-lg cursor-pointer hover:bg-gray-50 transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",checked:n,onChange:e=>((e,t,r)=>{A(n=>({...n,permissions:{...n.permissions,[e]:{...n.permissions[e],[t]:r}}}))})(t,r,e.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex items-center gap-2",children:["read"===r&&e.jsx(_,{size:16,className:"text-gray-600"}),"write"===r&&e.jsx(Qe,{size:16,className:"text-gray-600"}),"admin"===r&&e.jsx(Te,{size:16,className:"text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:r})]})]},r))})]},t))})]})]}),"devices"===f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Registered Devices"}),e.jsxs("button",{className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Qt,{size:16}),"Revoke All Access"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:C.devices.map(t=>{const r=(e=>{switch(e){case"laptop":default:return Sr;case"mobile":case"tablet":return lt}})(t.type);return e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(r,{size:24,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.name}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:t.type})]})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${L(t.status)}`,children:t.status})]}),e.jsx("div",{className:"space-y-2 mb-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(l,{size:14}),e.jsxs("span",{children:["Last access: ",new Date(t.lastAccess).toLocaleDateString()]})]})}),"active"===t.status&&e.jsxs("button",{onClick:()=>{return e=t.id,A(t=>({...t,devices:t.devices.map(t=>t.id===e?{...t,status:"revoked"}:t)})),void P("Device access revoked successfully","success");var e},className:"w-full px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors duration-200 font-medium flex items-center justify-center gap-2",children:[e.jsx(U,{size:16}),"Revoke Access"]})]},t.id)})})]}),"activity"===f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Access Activity Log"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("select",{className:"px-4 py-2 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[e.jsx("option",{children:"Last 7 days"}),e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 3 months"})]}),e.jsx("button",{className:"p-2 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:e.jsx(G,{size:18})})]})]}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-lg overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-100",children:C.accessLogs.map(t=>e.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors duration-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2 rounded-lg "+(t.success?"bg-green-100":"bg-red-100"),children:t.success?e.jsx(n,{size:20,className:"text-green-600"}):e.jsx(Ce,{size:20,className:"text-red-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.action}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsx("span",{children:t.device}),t.resource&&e.jsxs("span",{children:[" ",t.resource]}),t.location&&e.jsxs("span",{children:[" ",t.location]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-900",children:new Date(t.timestamp).toLocaleDateString()}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(t.timestamp).toLocaleTimeString()})]})]})},t.id))})})]}),"security"===f&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Account Security"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-6 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx(kr,{size:20,className:"text-white"})}),e.jsx("h4",{className:"font-semibold text-blue-900",children:"Password Security"})]}),e.jsx("p",{className:"text-blue-800 mb-4",children:"Last password change: 2 weeks ago"}),e.jsx("button",{className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Force Password Reset"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-xl p-6 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx(u,{size:20,className:"text-white"})}),e.jsx("h4",{className:"font-semibold text-green-900",children:"Two-Factor Authentication"})]}),e.jsx("p",{className:"text-green-800 mb-4",children:"Status: Enabled"}),e.jsx("button",{className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors duration-200 font-medium",children:"Manage 2FA"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Account Actions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900",children:"Suspend Account"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Temporarily disable access to all systems"})]}),e.jsx("button",{onClick:()=>{return e="suspended",void A(t=>({...t,status:e}));var e},className:"px-4 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors duration-200 font-medium",children:"Suspend"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-xl border border-red-200",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-900",children:"Deactivate Account"}),e.jsx("p",{className:"text-sm text-red-700",children:"Permanently disable account access"})]}),e.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors duration-200 font-medium",children:"Deactivate"})]})]})]})]})]})]})]})}),y&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===k?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===k?e.jsx(n,{size:20,className:"text-green-600"}):e.jsx(T,{size:20,className:"text-red-600"}),e.jsx("span",{className:"font-medium",children:w}),e.jsx("button",{onClick:()=>v(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function Vce(){const{id:t}=Gr(),r=$r(),{user:n}=An(),[s,a]=qr.useState(null),[i,l]=qr.useState(!0),[u,h]=qr.useState(null),[p,f]=qr.useState("overview"),b="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{if(!t)return h("No department ID provided"),void l(!1);try{const e=localStorage.getItem("token"),r=await fetch(`${b}/api/departments/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Department not found");{const e=await r.json();a(e)}}catch(e){h("Failed to fetch department details")}finally{l(!1)}})()},[t,b]);const w=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e);if(i)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Department"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch department information..."})]})});if(u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl max-w-md text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error"}),e.jsx("p",{children:u}),e.jsx("button",{onClick:()=>r("/dashboard/departments"),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Back to Departments"})]})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Department Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The requested department could not be found."}),e.jsx("button",{onClick:()=>r("/dashboard/departments"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Back to Departments"})]})});const N=[{id:"overview",name:"Overview",icon:C},{id:"employees",name:"Employees",icon:j},{id:"performance",name:"Performance",icon:d},{id:"projects",name:"Projects",icon:M},{id:"settings",name:"Settings",icon:x}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>r("/dashboard/departments"),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(C,{size:32})}),s.name]}),e.jsx("p",{className:"text-gray-500 text-lg mt-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{onClick:()=>r(`/dashboard/departments/${t}/edit`),className:"px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center gap-2",children:[e.jsx(Qe,{size:18}),"Edit Department"]}),e.jsx("button",{onClick:()=>{return e=t,void navigator.clipboard.writeText(e);var e},className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:e.jsx(X,{size:20})})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("nav",{className:"flex space-x-8",children:N.map(t=>{const r=t.icon;return e.jsxs("button",{onClick:()=>f(t.id),className:"py-4 px-1 border-b-2 font-medium text-sm transition-colors duration-200 flex items-center gap-2 "+(p===t.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.jsx(r,{size:18}),t.name]},t.id)})})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:["overview"===p&&e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:e.jsx(j,{size:24,className:"text-white"})}),e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:s.employeeCount||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Employees"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.employeeCount||0}),s.maxCapacity&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["of ",s.maxCapacity," capacity"]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:e.jsx(m,{size:24,className:"text-white"})}),e.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:w(s.budget||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Budget"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w(s.budget||0)}),s.actualSpending&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[w(s.actualSpending)," spent"]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(d,{size:24,className:"text-white"})}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium border "+(S=s.performance||0,S>=90?"text-green-700 bg-green-50 border-green-200":S>=80?"text-blue-700 bg-blue-50 border-blue-200":S>=70?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-red-700 bg-red-50 border-red-200"),children:[s.performance||0,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Performance"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[s.performance||0,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${s.performance||0}%`}})})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:e.jsx(M,{size:24,className:"text-white"})}),e.jsx("span",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:(s.activeProjects||0)+(s.completedProjects||0)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s.activeProjects||0)+(s.completedProjects||0)}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[s.activeProjects||0," active"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(C,{size:24}),"Department Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Te,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Department Head"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:s.departmentHead})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(D,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{className:"text-lg text-gray-900",children:s.headEmail})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(B,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-lg text-gray-900",children:s.headPhone})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(Se,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Location"}),e.jsx("p",{className:"text-lg text-gray-900",children:s.location})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(v,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Established"}),e.jsx("p",{className:"text-lg text-gray-900",children:s.establishedDate?new Date(s.establishedDate).toLocaleDateString():"N/A"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(o,{size:20,className:"text-blue-500 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium "+("active"===s.status?"bg-green-100 text-green-800":"restructuring"===s.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:s.status})]})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(g,{size:24}),"Goals & Objectives"]}),s.goals&&s.goals.length>0?e.jsx("div",{className:"space-y-3",children:s.goals.map((t,r)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-blue-50 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-gray-900 font-medium",children:t})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No goals defined yet"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(`/dashboard/departments/${t}/employees`),className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6 text-left hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:e.jsx(j,{size:24,className:"text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:s.employeeCount||0})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"View Employees"}),e.jsx("p",{className:"text-gray-600",children:"Manage department staff and assignments"})]}),e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>r(`/dashboard/departments/${t}/performance`),className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6 text-left hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:e.jsx(k,{size:24,className:"text-white"})}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[s.performance||0,"%"]})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Performance Analytics"}),e.jsx("p",{className:"text-gray-600",children:"View detailed performance metrics"})]}),e.jsxs(Rm.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6 text-left hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(c,{size:24,className:"text-white"})}),e.jsx(y,{size:24,className:"text-gray-400"})]}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Generate Report"}),e.jsx("p",{className:"text-gray-600",children:"Create comprehensive department reports"})]})]})]}),"overview"!==p&&e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-12 text-center",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:[N.find(e=>e.id===p)?.name," Tab"]}),e.jsx("p",{className:"text-gray-600 mb-6",children:"This tab is under development. Content will be available soon."}),e.jsx("button",{onClick:()=>f("overview"),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200",children:"Back to Overview"})]})]})]});var S}function Hce(){const{id:t}=Gr(),r=$r(),{user:n}=An(),[a,i]=qr.useState(null),[o,l]=qr.useState(!0),[c,d]=qr.useState(!1),[u,h]=qr.useState(null),[p,f]=qr.useState(!1),[x,b]=qr.useState(""),[y,v]=qr.useState("success"),[j,w]=qr.useState({name:"",description:"",departmentHead:"",headEmail:"",headPhone:"",location:"",floor:"",building:"",budget:"",status:"active",goals:[],establishedDate:"",maxCapacity:""}),N="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{if(!t)return h("No department ID provided"),void l(!1);try{const e=localStorage.getItem("token"),r=await fetch(`${N}/api/departments/${t}`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Department not found");{const e=await r.json();i(e),w({name:e.name||"",description:e.description||"",departmentHead:e.departmentHead||"",headEmail:e.headEmail||"",headPhone:e.headPhone||"",location:e.location||"",floor:e.floor||"",building:e.building||"",budget:e.budget||"",status:e.status||"active",goals:e.goals||[],establishedDate:e.establishedDate?new Date(e.establishedDate).toISOString().split("T")[0]:"",maxCapacity:e.maxCapacity||""})}}catch(e){h("Failed to fetch department details")}finally{l(!1)}})()},[t,N]);const k=e=>{const{name:t,value:r}=e.target;if("goals"===t){const r=Array.from(e.target.selectedOptions,e=>e.value);w(e=>({...e,[t]:r}))}else w(e=>({...e,[t]:r}))},S=(e,t="success")=>{b(e),v(t),f(!0),setTimeout(()=>f(!1),5e3)};return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Department"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch department information..."})]})}):u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl max-w-md text-center",children:[e.jsx(T,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error"}),e.jsx("p",{children:u}),e.jsx("button",{onClick:()=>r("/dashboard/departments"),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Back to Departments"})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/departments/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(C,{size:32})}),"Edit Department"]}),e.jsxs("p",{className:"text-gray-500 text-lg mt-1",children:["Update ",a?.name," information"]})]})]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-8",children:e.jsx(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:e.jsxs("form",{onSubmit:async e=>{e.preventDefault(),d(!0),h(null);try{const e=localStorage.getItem("token"),n=await fetch(`${N}/api/departments/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify(j)}),s=await n.json();if(!n.ok)throw new Error(s.message||"Failed to update department");S("Department updated successfully!","success"),setTimeout(()=>{r(`/dashboard/departments/${t}`)},1500)}catch(ode){S(ode.message||"Failed to update department","error")}finally{d(!1)}},className:"p-8 space-y-8",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(C,{size:24}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department Name *"}),e.jsx("input",{type:"text",name:"name",value:j.name,onChange:k,required:!0,placeholder:"e.g., Engineering",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status *"}),e.jsxs("select",{name:"status",value:j.status,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"restructuring",children:"Restructuring"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"merging",children:"Merging"}),e.jsx("option",{value:"dissolving",children:"Dissolving"})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{name:"description",value:j.description,onChange:k,required:!0,rows:3,placeholder:"Describe the department's purpose and responsibilities",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Te,{size:24}),"Department Head Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department Head *"}),e.jsx("input",{type:"text",name:"departmentHead",value:j.departmentHead,onChange:k,required:!0,placeholder:"e.g., John Smith",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Head Email *"}),e.jsx("input",{type:"email",name:"headEmail",value:j.headEmail,onChange:k,required:!0,placeholder:"john.smith@company.com",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Head Phone Number *"}),e.jsx("input",{type:"tel",name:"headPhone",value:j.headPhone,onChange:k,required:!0,placeholder:"+1 (555) 123-4567",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(Se,{size:24}),"Location Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),e.jsx("input",{type:"text",name:"location",value:j.location,onChange:k,required:!0,placeholder:"e.g., Building A, Floor 3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Building"}),e.jsx("input",{type:"text",name:"building",value:j.building,onChange:k,placeholder:"e.g., Building A",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Floor"}),e.jsx("input",{type:"text",name:"floor",value:j.floor,onChange:k,placeholder:"e.g., Floor 3",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(m,{size:24}),"Financial & Operational Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Budget *"}),e.jsx("input",{type:"number",name:"budget",value:j.budget,onChange:k,required:!0,placeholder:"e.g., 500000",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Capacity"}),e.jsx("input",{type:"number",name:"maxCapacity",value:j.maxCapacity,onChange:k,placeholder:"e.g., 50",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Established Date *"}),e.jsx("input",{type:"date",name:"establishedDate",value:j.establishedDate,onChange:k,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(g,{size:24}),"Department Goals"]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Goals"}),e.jsxs("select",{name:"goals",value:j.goals,onChange:k,multiple:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-h-[120px] transition-colors duration-200",children:[e.jsx("option",{value:"Product Development",children:"Product Development"}),e.jsx("option",{value:"Technical Innovation",children:"Technical Innovation"}),e.jsx("option",{value:"System Optimization",children:"System Optimization"}),e.jsx("option",{value:"Brand Growth",children:"Brand Growth"}),e.jsx("option",{value:"Lead Generation",children:"Lead Generation"}),e.jsx("option",{value:"Customer Engagement",children:"Customer Engagement"}),e.jsx("option",{value:"Revenue Growth",children:"Revenue Growth"}),e.jsx("option",{value:"Customer Retention",children:"Customer Retention"}),e.jsx("option",{value:"Market Expansion",children:"Market Expansion"}),e.jsx("option",{value:"Talent Acquisition",children:"Talent Acquisition"}),e.jsx("option",{value:"Employee Development",children:"Employee Development"}),e.jsx("option",{value:"Culture Building",children:"Culture Building"}),e.jsx("option",{value:"Financial Planning",children:"Financial Planning"}),e.jsx("option",{value:"Cost Optimization",children:"Cost Optimization"}),e.jsx("option",{value:"Compliance",children:"Compliance"}),e.jsx("option",{value:"Process Improvement",children:"Process Improvement"}),e.jsx("option",{value:"Efficiency",children:"Efficiency"}),e.jsx("option",{value:"Quality Control",children:"Quality Control"}),e.jsx("option",{value:"Digital Transformation",children:"Digital Transformation"}),e.jsx("option",{value:"Risk Management",children:"Risk Management"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Hold Ctrl/Cmd to select multiple goals"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>r(`/dashboard/departments/${t}`),className:"px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Pe,{size:20}),"Update Department"]})})]})]})})})}),p&&e.jsx(Rm.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:e.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border "+("success"===y?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:e.jsxs("div",{className:"flex items-center gap-3",children:["success"===y?e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}):e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsx("span",{className:"font-medium",children:x}),e.jsx("button",{onClick:()=>f(!1),className:"ml-4 text-gray-400 hover:text-gray-600",children:e.jsx(s,{size:18})})]})})})]})}function Gce(){const{id:t}=Gr(),r=$r(),{user:s}=An(),[a,i]=qr.useState(null),[c,u]=qr.useState(!0),[h,p]=qr.useState(null),[f,x]=qr.useState("monthly"),b="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{if(!t)return p("No department ID provided"),void u(!1);try{const e=localStorage.getItem("token"),r=await fetch(`${b}/api/departments/${t}/performance`,{headers:{Authorization:`Bearer ${e}`}});if(!r.ok)throw new Error("Failed to fetch performance data");{const e=await r.json();i(e)}}catch(e){p("Failed to fetch performance data")}finally{u(!1)}})()},[t,b]);const v=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),w=t=>{switch(t){case"completed":return e.jsx(n,{size:16,className:"text-green-500"});case"in-progress":return e.jsx(l,{size:16,className:"text-blue-500"});case"pending":return e.jsx(T,{size:16,className:"text-yellow-500"});case"cancelled":return e.jsx(T,{size:16,className:"text-red-500"});default:return e.jsx(T,{size:16,className:"text-gray-500"})}},N=e=>{switch(e){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}};if(c)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx(vf,{src:"loading.lottie",loop:!0,autoplay:!0}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Loading Performance Data"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we fetch performance analytics..."})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded-xl max-w-md text-center",children:[e.jsx(T,{size:48,className:"text-red-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Error"}),e.jsx("p",{children:h}),e.jsx("button",{onClick:()=>r(`/dashboard/departments/${t}`),className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200",children:"Back to Department"})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Performance Data"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Performance data is not available for this department."}),e.jsx("button",{onClick:()=>r(`/dashboard/departments/${t}`),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Back to Department"})]})});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[e.jsx("div",{className:"bg-white/80 backdrop-blur-lg border-b border-gray-200/50 px-6 py-4 sticky top-0 z-40",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>r(`/dashboard/departments/${t}`),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:e.jsx(F,{size:24})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl text-white",children:e.jsx(k,{size:32})}),a.department?.name," Performance"]}),e.jsx("p",{className:"text-gray-500 text-lg mt-1",children:"Detailed performance analytics and metrics"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("button",{className:"px-4 py-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 border border-gray-200 flex items-center gap-2",children:[e.jsx(Ie,{size:18}),"Export Report"]}),e.jsx("button",{onClick:()=>window.location.reload(),className:"p-3 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 border border-gray-200",children:e.jsx(G,{size:20})})]})]}),e.jsx("div",{className:"flex space-x-1 bg-gray-100 rounded-xl p-1",children:[{id:"weekly",name:"Weekly"},{id:"monthly",name:"Monthly"},{id:"quarterly",name:"Quarterly"},{id:"yearly",name:"Yearly"}].map(t=>e.jsx("button",{onClick:()=>x(t.id),className:"px-4 py-2 rounded-lg font-medium text-sm transition-all duration-200 "+(f===t.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:t.name},t.id))})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl",children:e.jsx(d,{size:24,className:"text-white"})}),e.jsxs("span",{className:"px-3 py-1 rounded-full text-sm font-medium border "+(S=a.department?.performance||0,S>=90?"text-green-700 bg-green-50 border-green-200":S>=80?"text-blue-700 bg-blue-50 border-blue-200":S>=70?"text-yellow-700 bg-yellow-50 border-yellow-200":"text-red-700 bg-red-50 border-red-200"),children:[a.department?.performance||0,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Overall Performance"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.department?.performance||0,"%"]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${a.department?.performance||0}%`}})})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-green-500 to-emerald-600 rounded-xl",children:e.jsx(m,{size:24,className:"text-white"})}),e.jsxs("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",children:[a.budget?.utilization||0,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Budget Utilization"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.budget?.utilization||0,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[v(a.budget?.spent||0)," of ",v(a.budget?.allocated||0)]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:e.jsx(j,{size:24,className:"text-white"})}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[a.employees?.utilization||0,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Team Utilization"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.employees?.utilization||0,"%"]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.employees?.total||0," team members"]})]})]}),e.jsxs(Rm.div,{whileHover:{y:-2,scale:1.02},className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-xl hover:shadow-2xl transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-amber-500 to-orange-600 rounded-xl",children:e.jsx(g,{size:24,className:"text-white"})}),e.jsx("span",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:a.projects?.total||0})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Projects"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.projects?.total||0}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.projects?.active||0," active, ",a.projects?.completed||0," completed"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(o,{size:24}),"Performance History"]}),a.performanceHistory&&a.performanceHistory.length>0?e.jsx("div",{className:"space-y-4",children:a.performanceHistory.slice(-6).map((t,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:t.period}),e.jsx("p",{className:"text-sm text-gray-500",children:t.recordedDate?new Date(t.recordedDate).toLocaleDateString():"N/A"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[t.metrics?.performance||0,"%"]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[r>0&&a.performanceHistory[r-1]?.metrics?.performance?t.metrics?.performance>a.performanceHistory[r-1].metrics.performance?e.jsx(d,{size:14,className:"text-green-500"}):e.jsx(We,{size:14,className:"text-red-500"}):null,e.jsxs("span",{className:"text-gray-500",children:[t.metrics?.employeeCount||0," employees"]})]})]})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(o,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No performance history available"})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(k,{size:24}),"Key Performance Indicators"]}),a.kpis&&a.kpis.length>0?e.jsx("div",{className:"space-y-4",children:a.kpis.map((t,r)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.name}),e.jsx("span",{className:"text-sm text-gray-500",children:t.period})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Target"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[t.target," ",t.unit]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Actual"}),e.jsxs("p",{className:"font-semibold text-gray-900",children:[t.actual," ",t.unit]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"px-3 py-1 rounded-full text-sm font-medium "+(t.actual>=t.target?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[t.target>0?Math.round(t.actual/t.target*100):0,"%"]})})]}),t.lastUpdated&&e.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Last updated: ",new Date(t.lastUpdated).toLocaleDateString()]})]},r))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No KPIs defined yet"}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Add KPIs"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(g,{size:24}),"Objectives & Goals"]}),a.objectives&&a.objectives.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.objectives.map((t,r)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]}),e.jsx("div",{className:"ml-4",children:w(t.status)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N(t.priority)}`,children:t.priority}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("completed"===t.status?"bg-green-100 text-green-800":"in-progress"===t.status?"bg-blue-100 text-blue-800":"pending"===t.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:t.status})]}),t.targetDate&&e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Target Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(t.targetDate).toLocaleDateString()})]})]})]},r))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{size:48,className:"text-gray-300 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Objectives Set"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Define objectives to track department progress and goals."}),e.jsxs("button",{className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center gap-2 mx-auto",children:[e.jsx(g,{size:20}),"Add Objectives"]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl p-6",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center gap-2",children:[e.jsx(m,{size:24}),"Budget Analysis"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center p-6 bg-green-50 rounded-xl",children:[e.jsx(m,{size:32,className:"text-green-600 mx-auto mb-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Allocated Budget"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:v(a.budget?.allocated||0)})]}),e.jsxs("div",{className:"text-center p-6 bg-blue-50 rounded-xl",children:[e.jsx(d,{size:32,className:"text-blue-600 mx-auto mb-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Spent"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:v(a.budget?.spent||0)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[a.budget?.utilization||0,"% utilized"]})]}),e.jsxs("div",{className:"text-center p-6 bg-purple-50 rounded-xl",children:[e.jsx(y,{size:32,className:"text-purple-600 mx-auto mb-3"}),e.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Remaining"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:v(a.budget?.remaining||0)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[100-(a.budget?.utilization||0),"% available"]})]})]})]})]})})]});var S}le(de)(({theme:e})=>({width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:e.palette.background.default,borderRight:`1px solid ${e.palette.divider}`,backgroundImage:"none",boxShadow:"none"}})),le(ce)(({theme:e,selected:t})=>({borderRadius:e.shape.borderRadius,margin:e.spacing(.25,1.5),padding:e.spacing(.75,1.5),minHeight:40,"&.Mui-selected":{backgroundColor:ie(e.palette.primary.main,.1),"&:hover":{backgroundColor:ie(e.palette.primary.main,.15)},"& .MuiListItemIcon-root":{color:e.palette.primary.main},"& .MuiListItemText-primary":{fontWeight:600,fontSize:"0.875rem"}},"&:hover":{backgroundColor:e.palette.action.hover},"& .MuiListItemIcon-root":{minWidth:36},"& .MuiListItemText-root":{marginTop:2,marginBottom:2}})),le("div")(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(2,1.5),...e.mixins.toolbar})),le(oe)(({theme:e})=>({padding:e.spacing(1.5,2,1),color:e.palette.text.secondary,fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"})),le(tr)(({theme:e})=>({height:"100%",borderRadius:1.5*e.shape.borderRadius,boxShadow:e.shadows[1],transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]},"& .MuiCardContent-root":{padding:e.spacing(2)}})),le(vt)(({theme:e})=>({padding:e.spacing(1.5),borderRadius:1.5*e.shape.borderRadius,border:`1px solid ${e.palette.divider}`,transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-1px)",boxShadow:e.shadows[1]}})),le(tr)(({theme:e})=>({borderRadius:2*e.shape.borderRadius,overflow:"hidden",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]}}));const Kce=()=>{const[s]=Vr(),[a,i]=qr.useState(null),[o,c]=qr.useState(!0),[d,m]=qr.useState({username:"",password:"",confirmPassword:""}),[h,p]=qr.useState(""),[f,x]=qr.useState(!1),[g,b]=qr.useState(!1),[y,v]=qr.useState(!1),[j,w]=qr.useState(!1),[N,k]=qr.useState({score:0,feedback:[]}),[S,C]=qr.useState(!1),A=$r(),P="https://backend.nexusmwi.com",I=s.get("token");s.get("email"),qr.useEffect(()=>{if(!I)return p("Invalid registration link. Missing token."),void c(!1);R(I)},[I]);const R=async e=>{try{const t=await hn.get(`${P}/api/auth/verify-registration/${e}`);t.data&&t.data.user?(i(t.data.user),C(!0)):p("Invalid or expired registration link.")}catch(ode){ode.response?.data?.expired?p("This registration link has expired. Please contact HR to resend the registration email."):ode.response?.data?.message?p(ode.response.data.message):p("Invalid registration link. Please contact HR for assistance.")}finally{c(!1)}},z=e=>{const{name:t,value:r}=e.target;m({...d,[t]:r}),"password"===t&&(e=>{const t={length:e.length>=8,uppercase:/[A-Z]/.test(e),lowercase:/[a-z]/.test(e),number:/\d/.test(e),special:/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\?]/.test(e)},r=Object.values(t).filter(Boolean).length,n=[];t.length||n.push("At least 8 characters"),t.uppercase||n.push("One uppercase letter"),t.lowercase||n.push("One lowercase letter"),t.number||n.push("One number"),t.special||n.push("One special character"),k({score:r,feedback:n})})(r),h&&p("")},F=()=>N.score<=2?"#dc3545":3===N.score?"#ffc107":4===N.score?"#fd7e14":(N.score,"#28a745");return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center",children:e.jsxs(Rm.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verifying Registration Link"}),e.jsx("p",{className:"text-gray-600",children:"Please wait while we verify your registration link..."})]})}):S?f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center p-4",children:e.jsxs(Rm.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-2xl max-w-md w-full p-8 text-center",children:[e.jsx(Rm.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx(n,{size:32,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Complete!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Welcome to the team",a?.firstName?`, ${a.firstName}`:"","! Your account has been successfully set up."]}),e.jsx("div",{className:"bg-green-50/50 rounded-xl p-4 border border-green-200/50 mb-6",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Username:"}),e.jsx("span",{className:"font-medium text-gray-900",children:d.username})]}),a?.email&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Email:"}),e.jsx("span",{className:"font-medium text-gray-900",children:a.email})]}),a?.position&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Position:"}),e.jsx("span",{className:"font-medium text-gray-900",children:a.position})]})]})}),e.jsx("div",{className:"bg-blue-50/50 rounded-xl p-4 border border-blue-200/50",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[e.jsx(l,{size:16}),e.jsx("span",{className:"text-sm font-medium",children:"Redirecting to login page in a few seconds..."})]})})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center p-4",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-2xl max-w-2xl w-full overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-8",children:e.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(q,{size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Complete Your Registration"}),e.jsx("p",{className:"text-blue-100",children:"Set up your account credentials"})]})]})}),a&&e.jsxs("div",{className:"bg-gradient-to-r from-gray-50/50 to-blue-50/30 border-b border-gray-100/50 p-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(L,{size:18,className:"text-blue-500"}),"Account Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(O,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Name"}),e.jsxs("p",{className:"font-medium text-gray-900",children:[a.firstName," ",a.lastName]})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(D,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.email})]})]}),a.position&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Position"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.position})]})]}),a.companyName&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(L,{size:16,className:"text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Company"}),e.jsx("p",{className:"font-medium text-gray-900",children:a.companyName})]})]})]})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),p(""),d.username.trim()?d.username.length<3?(p("Username must be at least 3 characters long"),0):/^[a-zA-Z0-9_]+$/.test(d.username)?d.password?N.score<5?(p("Password is too weak. Please follow all password requirements."),0):d.password===d.confirmPassword||(p("Passwords do not match"),0):(p("Password is required"),0):(p("Username can only contain letters, numbers, and underscores"),0):(p("Username is required"),0))try{b(!0);(await hn.post(`${P}/api/auth/complete-registration`,{token:I,username:d.username.trim(),password:d.password})).data.success&&(x(!0),setTimeout(()=>{A("/login",{state:{message:"Registration completed successfully! Please log in with your new credentials.",username:d.username}})},3e3))}catch(ode){p(ode.response?.data?.message||"Failed to complete registration. Please try again.")}finally{b(!1)}},className:"space-y-6",children:[h&&e.jsxs(Rm.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-xl flex items-center space-x-3",children:[e.jsx(T,{size:20}),e.jsx("span",{children:h})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(O,{size:16,className:"text-blue-500"}),"Choose a Username"]}),e.jsx("input",{type:"text",name:"username",value:d.username,onChange:z,placeholder:"Enter your username",required:!0,className:"w-full px-4 py-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 text-gray-900 placeholder-gray-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Username must be 3-30 characters long and contain only letters, numbers, and underscores."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(Cr,{size:16,className:"text-blue-500"}),"Create Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:y?"text":"password",name:"password",value:d.password,onChange:z,placeholder:"Enter your password",required:!0,className:"w-full px-4 py-4 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 text-gray-900 placeholder-gray-500"}),e.jsx("button",{type:"button",onClick:()=>v(!y),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:y?e.jsx(E,{size:20}):e.jsx(_,{size:20})})]}),d.password&&e.jsxs("div",{className:"mt-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full transition-all duration-300 rounded-full",style:{width:N.score/5*100+"%",backgroundColor:F()}})}),e.jsx("span",{className:"text-sm font-medium",style:{color:F()},children:N.score<=2?"Weak":3===N.score?"Fair":4===N.score?"Good":(N.score,"Strong")})]}),N.feedback.length>0&&e.jsxs("div",{className:"mt-3 bg-amber-50 border border-amber-200 rounded-xl p-3",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800 mb-2",children:"Password must include:"}),e.jsx("ul",{className:"text-sm text-amber-700 space-y-1",children:N.feedback.map((t,r)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),t]},r))})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[e.jsx(u,{size:16,className:"text-blue-500"}),"Confirm Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:j?"text":"password",name:"confirmPassword",value:d.confirmPassword,onChange:z,placeholder:"Confirm your password",required:!0,className:"w-full px-4 py-4 pr-12 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white/80 backdrop-blur-sm transition-all duration-200 text-gray-900 placeholder-gray-500"}),e.jsx("button",{type:"button",onClick:()=>w(!j),className:"absolute right-4 top-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:j?e.jsx(E,{size:20}):e.jsx(_,{size:20})})]})]}),e.jsx("div",{className:"pt-6",children:e.jsx("button",{type:"submit",disabled:g||N.score<5,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-4 px-6 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center space-x-3",children:g?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Completing Registration..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(r,{size:20}),e.jsx("span",{children:"Complete Registration"}),e.jsx(t,{size:20})]})})})]}),e.jsx("div",{className:"mt-8 bg-blue-50/50 border border-blue-200/50 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center space-x-3 text-blue-700",children:[e.jsx(u,{size:18}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Secure Registration"}),e.jsx("p",{className:"text-xs text-blue-600",children:"Your information is encrypted and secure. This link expires in 24 hours for security."})]})]})})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20 flex items-center justify-center p-4",children:e.jsxs(Rm.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-2xl max-w-md w-full p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-red-500 to-pink-600 rounded-2xl flex items-center justify-center mb-6 mx-auto",children:e.jsx(Jt,{size:32,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Registration Link Invalid"}),e.jsx("p",{className:"text-gray-600 mb-6",children:h}),e.jsxs("div",{className:"bg-blue-50/50 rounded-xl p-4 border border-blue-200/50",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"Need help?"}),e.jsx("p",{className:"text-blue-700 text-sm",children:"Contact your HR department or system administrator for assistance."})]})]})})},Yce=()=>{const[s,a]=qr.useState({firstName:"",lastName:"",email:"",company:"",role:"",useCase:"",industry:"",companySize:"11-50"}),[i,o]=qr.useState(!1),[c,m]=qr.useState(!1),[f,x]=qr.useState(""),[g,b]=qr.useState(null),[y,v]=qr.useState(null),w="https://backend.nexusmwi.com";qr.useEffect(()=>{(async()=>{try{const e=await fetch(`${w}/api/invitations/queue/status`);if(e.ok){const t=await e.json();v(t.data)}}catch(ide){}})()},[]);const N=e=>{a({...s,[e.target.name]:e.target.value}),f&&x("")},k=[{icon:h,title:"Lightning Fast Performance",description:"Experience procurement workflows that are 10x faster than traditional systems"},{icon:u,title:"Enterprise Security",description:"Bank-grade security with end-to-end encryption and compliance built-in"},{icon:d,title:"Advanced Analytics",description:"Real-time insights and predictive analytics to optimize your spending"},{icon:j,title:"Seamless Collaboration",description:"Streamlined approval workflows with real-time collaboration tools"}];return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"max-w-md w-full",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 text-center shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(n,{size:32,className:"text-emerald-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"You're on the list!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Welcome to our exclusive beta program. We'll notify you as soon as your early access is ready."}),g&&e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4 mb-6 border border-blue-200",children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-800 mb-2",children:["#",g.queuePosition]}),e.jsx("div",{className:"text-sm text-blue-700 mb-3",children:"Your position in the queue"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Priority"}),e.jsx("div",{className:"text-blue-600 capitalize",children:g.priority})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-700",children:"Est. Wait Time"}),e.jsx("div",{className:"text-blue-600",children:g.estimatedWaitTime})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-800 font-medium mb-2",children:[e.jsx(we,{size:16}),"What happens next?"]}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1 text-left",children:[e.jsx("li",{children:" You'll receive a welcome email within a few minutes"}),e.jsx("li",{children:" Our team will review your application"}),e.jsx("li",{children:" Beta access will be granted based on priority"}),e.jsx("li",{children:" You'll get an email with your beta access credentials"})]})]}),e.jsx("button",{onClick:()=>{o(!1),b(null),a({firstName:"",lastName:"",email:"",company:"",role:"",useCase:"",industry:"",companySize:"11-50"})},className:"text-blue-600 font-medium hover:text-blue-700 transition-colors",children:"Submit another application"})]})})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("section",{className:"relative pt-20 pb-16 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium mb-8",children:[e.jsx(r,{size:16}),"Now in Private Beta"]}),e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["The Future of",e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Procurement"})]}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Join forward-thinking companies using our AI-powered procurement platform. Get exclusive early access and help shape the future of business operations."}),e.jsxs("div",{className:"flex items-center justify-center gap-8 mb-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(t=>e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full border-2 border-white"},t))}),e.jsx("span",{className:"text-sm font-medium",children:y?`${y.queueLength}+ people waiting`:"500+ companies waiting"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(p,{className:"fill-yellow-400 text-yellow-400",size:16}),e.jsx("span",{className:"text-sm font-medium",children:y?`~${y.estimatedWaitTime} average wait`:"Early access program"})]})]})]})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 pb-20",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 shadow-xl",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Request Early Access"}),e.jsx("p",{className:"text-gray-600",children:"Join our exclusive beta program and be among the first to experience the future of procurement."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:N,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"John"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(O,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:N,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Doe"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Work Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(D,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:N,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"john@company.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",name:"company",value:s.company,onChange:N,required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Acme Corp"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),e.jsxs("select",{name:"role",value:s.role,onChange:N,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"",children:"Select your role"}),e.jsx("option",{value:"procurement",children:"Procurement Manager"}),e.jsx("option",{value:"finance",children:"Finance Manager"}),e.jsx("option",{value:"operations",children:"Operations Manager"}),e.jsx("option",{value:"cfo",children:"CFO"}),e.jsx("option",{value:"ceo",children:"CEO"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Size"}),e.jsxs("select",{name:"companySize",value:s.companySize,onChange:N,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[e.jsx("option",{value:"1-10",children:"1-10 employees"}),e.jsx("option",{value:"11-50",children:"11-50 employees"}),e.jsx("option",{value:"51-200",children:"51-200 employees"}),e.jsx("option",{value:"201-1000",children:"201-1000 employees"}),e.jsx("option",{value:"1000+",children:"1000+ employees"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),e.jsx("input",{type:"text",name:"industry",value:s.industry,onChange:N,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"e.g., Technology, Manufacturing, Healthcare"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What's your primary use case?"}),e.jsx("textarea",{name:"useCase",value:s.useCase,onChange:N,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Tell us how you plan to use our platform..."})]}),f&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-2",children:[e.jsx(Ce,{size:18,className:"text-red-600 flex-shrink-0"}),e.jsx("div",{className:"text-red-800 text-sm",children:f})]}),e.jsx("button",{onClick:async()=>{if(!(s.firstName&&s.lastName&&s.email&&s.company&&s.role))return void x("Please fill in all required fields");if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){m(!0),x("");try{const e=await fetch(`${w}/api/invitations`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({firstName:s.firstName.trim(),lastName:s.lastName.trim(),email:s.email.toLowerCase().trim(),company:s.company.trim(),role:s.role,useCase:s.useCase.trim(),industry:s.industry.trim(),companySize:s.companySize,source:"website",utmSource:new URLSearchParams(window.location.search).get("utm_source"),utmMedium:new URLSearchParams(window.location.search).get("utm_medium"),utmCampaign:new URLSearchParams(window.location.search).get("utm_campaign"),referralCode:new URLSearchParams(window.location.search).get("ref")})}),t=await e.json();if(!e.ok)throw new Error(t.message||"Failed to submit invitation");b(t.data),o(!0)}catch(ide){x(ide.message||"Failed to submit invitation. Please try again.")}finally{m(!1)}}else x("Please enter a valid email address")},disabled:c,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-700 hover:to-purple-700 transition-all transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:c?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:["Request Beta Access",e.jsx(t,{size:18})]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"By submitting, you agree to our privacy policy. No spam, ever."})]})]}),e.jsxs("div",{className:"space-y-8",children:[y&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(l,{size:20,className:"text-blue-600"}),"Current Queue Status"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.queueLength}),e.jsx("div",{className:"text-sm text-blue-700",children:"People in queue"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:y.estimatedWaitTime}),e.jsx("div",{className:"text-sm text-purple-700",children:"Average wait time"})]})]}),y.priorityBreakdown&&e.jsxs("div",{className:"mt-4 text-xs text-gray-600",children:["Queue breakdown: ",y.priorityBreakdown.high," high priority, ",y.priorityBreakdown.medium," medium priority, ",y.priorityBreakdown.low," low priority"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(U,{size:20,className:"text-blue-600"}),"Exclusive Beta Benefits"]}),e.jsx("ul",{className:"space-y-3",children:["Early access to cutting-edge features","Direct line to our product team","Influence the product roadmap","Premium support during beta","Lifetime discount when we launch"].map((t,r)=>e.jsxs("li",{className:"flex items-center gap-3 text-gray-700",children:[e.jsx(n,{size:16,className:"text-emerald-500 flex-shrink-0"}),t]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Why Beta Users Love Us"}),k.map((t,r)=>e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:e.jsx(t.icon,{size:18,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})},r))]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"What Beta Users Say"}),[{name:"Sarah Chen",role:"Procurement Director",company:"TechCorp",quote:"This platform has revolutionized how we handle procurement. The beta access gave us a competitive edge."},{name:"Michael Rodriguez",role:"Finance Manager",company:"Global Solutions",quote:"The analytics capabilities are incredible. We've reduced processing time by 70% already."}].map((t,r)=>e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-4 border border-blue-100",children:[e.jsxs("p",{className:"text-gray-700 mb-3 italic",children:['"',t.quote,'"']}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:t.name}),e.jsxs("div",{className:"text-xs text-gray-600",children:[t.role,", ",t.company]})]})]})]},r))]})]})]})}),e.jsx("footer",{className:"bg-white border-t border-gray-200 py-8",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:["Have questions about our beta program?",e.jsx("a",{href:"mailto:beta@company.com",className:"text-blue-600 hover:text-blue-700 ml-1",children:"Contact our team"})]})})})]})},Xce=()=>{const[t,r]=qr.useState(!1),[s,a]=qr.useState("overview"),[o,f]=qr.useState(null),[v,N]=qr.useState(new Set);qr.useRef(null);const S=[{id:"overview",title:"Platform Overview",icon:_},{id:"features",title:"Key Features",icon:b},{id:"workflow",title:"Workflow Guide",icon:Ar},{id:"navigation",title:"Navigation Tips",icon:Tr},{id:"getting-started",title:"Getting Started",icon:Er},{id:"faq",title:"FAQs",icon:Ne}],A=[{icon:c,title:"Requisition Management",description:"Create, track, and approve purchase requests with automated workflows",details:["Employee-friendly request forms with guided templates","Multi-level approval chains with conditional routing","Real-time status tracking and notifications","Budget validation and spending controls","Integration with accounting systems"],color:"blue"},{icon:j,title:"Vendor Management",description:"Maintain comprehensive vendor relationships and performance tracking",details:["Centralized vendor database with complete profiles","Performance scorecards and KPI tracking","Contract management and renewal alerts","Vendor onboarding and qualification processes","Risk assessment and compliance monitoring"],color:"emerald"},{icon:w,title:"Purchase Order System",description:"Generate professional POs with automated approval workflows",details:["One-click PO generation from approved requisitions","Customizable templates and branding","Electronic delivery to vendors","Change order management and tracking","Delivery confirmation and receipt matching"],color:"purple"},{icon:x,title:"Invoice Processing",description:"Streamline AP processes with AI-powered invoice matching",details:["3-way matching (PO, receipt, invoice)","OCR and automated data extraction","Exception handling and dispute resolution","Payment approval workflows","Integration with payment systems"],color:"orange"},{icon:k,title:"Analytics & Reporting",description:"Comprehensive insights into procurement performance",details:["Real-time dashboards and KPI monitoring","Spend analysis and category insights","Vendor performance reports","Compliance and audit trails","Custom report builder with scheduling"],color:"red"},{icon:u,title:"Compliance & Security",description:"Built-in controls to ensure policy adherence and data protection",details:["Role-based access controls and permissions","Audit trails for all transactions","Policy enforcement and exception alerts","SOC 2 Type II certified security","GDPR and data privacy compliance"],color:"indigo"}],T=[{step:1,title:"Set Up Your Organization",description:"Configure your company profile, departments, and basic settings",tasks:["Complete company profile information","Add departments and cost centers","Set up approval hierarchies","Configure notification preferences"],estimatedTime:"15 minutes"},{step:2,title:"Add Your Team Members",description:"Invite users and assign appropriate roles and permissions",tasks:["Invite team members via email","Assign roles (Admin, Manager, Employee, etc.)","Set department and manager relationships","Configure individual permissions"],estimatedTime:"20 minutes"},{step:3,title:"Configure Approval Workflows",description:"Set up automated approval chains based on amount thresholds",tasks:["Define approval limits by role and department","Create conditional approval rules","Set up escalation procedures","Test workflow with sample requisitions"],estimatedTime:"25 minutes"},{step:4,title:"Import Vendor Data",description:"Add your existing suppliers and their information",tasks:["Upload vendor list via CSV import","Complete vendor profiles and contracts","Set preferred vendors by category","Configure vendor performance metrics"],estimatedTime:"30 minutes"},{step:5,title:"Create Your First Requisition",description:"Walk through the complete procurement process",tasks:["Submit a test requisition request","Navigate the approval process","Generate purchase order","Process invoice and payment"],estimatedTime:"20 minutes"}],E=[{icon:g,title:"Dashboard Shortcuts",description:"Quick access to frequently used features",tips:["Use the search bar to quickly find any record","Bookmark important reports in your favorites","Customize dashboard widgets for your role","Set up automated alerts for urgent items"]},{icon:h,title:"Keyboard Shortcuts",description:"Speed up your workflow with hotkeys",tips:["Ctrl+N: Create new requisition","Ctrl+F: Global search","Ctrl+D: Go to dashboard","Ctrl+R: Refresh current view"]},{icon:l,title:"Time-Saving Features",description:"Work smarter, not harder",tips:["Use templates for recurring purchases","Set up favorite vendors for quick selection","Enable auto-approval for routine items","Use bulk actions for multiple records"]}],P=[{question:"How long does implementation typically take?",answer:"Most organizations are up and running within 2-4 weeks. Our implementation team provides guidance throughout the process, and we offer training sessions to ensure your team is comfortable with the platform."},{question:"Can I integrate with my existing ERP system?",answer:"Yes, we offer pre-built integrations with popular ERP systems like SAP, Oracle, QuickBooks, and NetSuite. We also provide APIs for custom integrations if needed."},{question:"What level of customization is available?",answer:"The platform is highly configurable. You can customize approval workflows, form fields, reporting templates, and user interfaces to match your organization's specific processes and branding."},{question:"How secure is my data?",answer:"We take security seriously with SOC 2 Type II certification, end-to-end encryption, regular security audits, and compliance with GDPR and other data privacy regulations."},{question:"What kind of support do you provide?",answer:"We offer multiple support channels including email, chat, phone support (for enterprise customers), extensive documentation, video tutorials, and regular webinar training sessions."},{question:"Can I try the platform before purchasing?",answer:"Absolutely! We offer a 14-day free trial with full access to all features. You can also request a personalized demo to see how the platform fits your specific needs."}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6",children:e.jsxs("div",{className:"flex items-center justify-between py-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>window.history.back(),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors",children:[e.jsx(F,{className:"w-4 h-4"}),"Back to Home"]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Platform Demo & Guide"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Free Trial"})})]})})}),e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 sticky top-24",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Navigation"}),e.jsx("nav",{className:"space-y-2",children:S.map(t=>e.jsxs("button",{onClick:()=>a(t.id),className:"w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors "+(s===t.id?"bg-blue-50 text-blue-600 border border-blue-200":"text-gray-700 hover:bg-gray-50"),children:[e.jsx(t.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:t.title})]},t.id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Progress"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Completed Steps"}),e.jsxs("span",{className:"font-medium",children:[v.size,"/5"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-emerald-500 h-2 rounded-full transition-all",style:{width:v.size/5*100+"%"}})})]})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:["overview"===s&&e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden mb-8",children:[e.jsx("div",{className:"relative aspect-video bg-gradient-to-br from-blue-600 to-purple-700",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-white",children:[e.jsx("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 cursor-pointer hover:bg-white/30 transition-colors",children:e.jsx(i,{className:"w-10 h-10"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Platform Demo Video"}),e.jsx("p",{className:"text-blue-100",children:"Watch our 5-minute overview of key features"})]})})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Complete Platform Walkthrough"}),e.jsx("p",{className:"text-sm text-gray-600",children:"5:30 minutes  Updated this week"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(_r,{className:"w-4 h-4"})}),e.jsx("button",{className:"p-2 text-gray-600 hover:text-gray-900 transition-colors",children:e.jsx(Pr,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:"Overview"}),e.jsx("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-700 rounded-full text-sm",children:"Features"}),e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm",children:"Workflow"})]})]})]}),(()=>{switch(s){case"overview":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-2xl p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Platform Overview"}),e.jsx("p",{className:"text-lg text-gray-700 mb-6 leading-relaxed",children:"NexusMWI is a comprehensive procurement management platform that transforms how organizations handle their purchasing processes. From requisition to payment, our solution provides end-to-end automation, compliance controls, and actionable insights."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(d,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"70% Faster"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Processing time reduction"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(m,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"30% Savings"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Average cost reduction"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(u,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"99.9% Uptime"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Reliability guarantee"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 text-center border border-gray-200",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(p,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"4.9/5 Rating"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Customer satisfaction"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl p-8 border border-gray-200",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Why Choose NexusMWI?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Lr,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Intelligent Automation"}),e.jsx("p",{className:"text-gray-600",children:"AI-powered workflows reduce manual tasks and eliminate bottlenecks in your procurement process."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(C,{className:"w-8 h-8 text-emerald-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Enterprise Ready"}),e.jsx("p",{className:"text-gray-600",children:"Built for scale with enterprise-grade security, compliance features, and unlimited user capacity."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Proven Results"}),e.jsx("p",{className:"text-gray-600",children:"Trusted by 500+ organizations worldwide with measurable ROI and process improvements."})]})]})]})]});case"features":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Comprehensive Feature Set"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Every tool you need to manage your procurement process efficiently, from request to payment."})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:A.map((t,r)=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl "+("blue"===t.color?"bg-blue-100":"emerald"===t.color?"bg-emerald-100":"purple"===t.color?"bg-purple-100":"orange"===t.color?"bg-orange-100":"red"===t.color?"bg-red-100":"bg-indigo-100"),children:e.jsx(t.icon,{className:"w-6 h-6 "+("blue"===t.color?"text-blue-600":"emerald"===t.color?"text-emerald-600":"purple"===t.color?"text-purple-600":"orange"===t.color?"text-orange-600":"red"===t.color?"text-red-600":"text-indigo-600")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 mb-4",children:t.description})]})]}),e.jsx("ul",{className:"space-y-2",children:t.details.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(n,{className:"w-4 h-4 text-emerald-500 flex-shrink-0 mt-1"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},r))})]},r))})]});case"workflow":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Complete Procurement Workflow"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Follow these steps to master the complete procurement process from request to payment."})]}),e.jsx("div",{className:"space-y-6",children:T.map((t,r)=>e.jsx("div",{className:"bg-white rounded-2xl border-2 p-8 transition-all cursor-pointer "+(v.has(t.step)?"border-emerald-500 bg-emerald-50":"border-gray-200 hover:border-gray-300"),onClick:()=>(e=>{const t=new Set(v);t.has(e)?t.delete(e):t.add(e),N(t)})(t.step),children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 "+(v.has(t.step)?"bg-emerald-500 text-white":"bg-blue-500 text-white"),children:v.has(t.step)?e.jsx(n,{className:"w-6 h-6"}):e.jsx("span",{className:"font-bold",children:t.step})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx(l,{className:"w-4 h-4"}),e.jsx("span",{children:t.estimatedTime})]})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:t.description}),e.jsx("div",{className:"space-y-2",children:t.tasks.map((t,r)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},r))})]})]})},t.step))}),e.jsxs("div",{className:"bg-blue-50 rounded-2xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(y,{className:"w-8 h-8 text-blue-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Completed All Steps?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"You're now ready to use the platform efficiently! Continue exploring advanced features and customization options."}),e.jsx("button",{className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Using Platform"})]})]});case"navigation":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Navigation Tips & Tricks"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Master these navigation techniques to work more efficiently and get the most out of the platform."})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:E.map((t,r)=>e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(t.icon,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),e.jsx("p",{className:"text-gray-600 text-sm",children:t.description})]})]}),e.jsx("ul",{className:"space-y-3",children:t.tips.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm text-gray-700",children:t})]},r))})]},r))}),e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Need More Help?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our support team is here to help you navigate any challenges and optimize your workflow."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(V,{className:"w-4 h-4"}),"Live Chat Support"]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(Or,{className:"w-4 h-4"}),"View Documentation"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Access Menu"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Create Requisition"}),e.jsx("span",{className:"text-blue-600 font-mono",children:"Ctrl+N"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Global Search"}),e.jsx("span",{className:"text-blue-600 font-mono",children:"Ctrl+F"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Dashboard"}),e.jsx("span",{className:"text-blue-600 font-mono",children:"Ctrl+D"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Refresh View"}),e.jsx("span",{className:"text-blue-600 font-mono",children:"Ctrl+R"})]})]})]})]})})]});case"getting-started":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Get Started?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Choose your preferred way to begin your procurement transformation journey."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-2xl p-8 text-center border border-blue-200",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Er,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Free Trial"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try all features for 14 days with no commitment. Perfect for exploring the platform."}),e.jsxs("ul",{className:"text-sm text-gray-700 mb-6 space-y-2",children:[e.jsx("li",{children:" Full feature access"}),e.jsx("li",{children:" No credit card required"}),e.jsx("li",{children:" Email support included"}),e.jsx("li",{children:" Sample data provided"})]}),e.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Start Free Trial"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-2xl p-8 text-center border border-emerald-200",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(j,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Guided Demo"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Schedule a personalized walkthrough with our product experts."}),e.jsxs("ul",{className:"text-sm text-gray-700 mb-6 space-y-2",children:[e.jsx("li",{children:" 30-minute session"}),e.jsx("li",{children:" Customized to your needs"}),e.jsx("li",{children:" Q&A with expert"}),e.jsx("li",{children:" Implementation guidance"})]}),e.jsx("button",{className:"w-full bg-emerald-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-emerald-700 transition-colors",children:"Schedule Demo"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-2xl p-8 text-center border border-purple-200",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ie,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Resource Kit"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Download our comprehensive implementation guide and best practices."}),e.jsxs("ul",{className:"text-sm text-gray-700 mb-6 space-y-2",children:[e.jsx("li",{children:" Implementation checklist"}),e.jsx("li",{children:" Best practices guide"}),e.jsx("li",{children:" Video tutorials"}),e.jsx("li",{children:" ROI calculator"})]}),e.jsx("button",{className:"w-full bg-purple-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-purple-700 transition-colors",children:"Download Kit"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Implementation Timeline"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-blue-600 font-bold",children:"1"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Week 1"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Setup & Configuration"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-emerald-600 font-bold",children:"2"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Week 2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"User Training & Onboarding"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-orange-600 font-bold",children:"3"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Week 3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Testing & Optimization"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx("span",{className:"text-purple-600 font-bold",children:"4"})}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Week 4"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Go Live & Support"})]})]})]})]});case"faq":return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Find answers to common questions about our platform and implementation process."})]}),e.jsx("div",{className:"space-y-4",children:P.map((t,r)=>e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>f(o===r?null:r),className:"w-full p-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsx("h3",{className:"font-semibold text-gray-900 pr-4",children:t.question}),o===r?e.jsx(Dr,{className:"w-5 h-5 text-gray-500 flex-shrink-0"}):e.jsx(je,{className:"w-5 h-5 text-gray-500 flex-shrink-0"})]}),o===r&&e.jsx("div",{className:"px-6 pb-6 border-t border-gray-100",children:e.jsx("p",{className:"text-gray-700 leading-relaxed pt-4",children:t.answer})})]},r))}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-2xl p-8 text-center",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Still Have Questions?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Our support team is here to help you with any additional questions or concerns."}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[e.jsxs("button",{className:"flex items-center justify-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:[e.jsx(V,{className:"w-4 h-4"}),"Contact Support"]}),e.jsxs("button",{className:"flex items-center justify-center gap-2 border border-gray-300 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-50 transition-colors",children:[e.jsx(Or,{className:"w-4 h-4"}),"View Documentation"]})]})]})]});default:return null}})()]})]})})]})},Jce=({onUpgrade:a})=>{const{user:i}=An(),[o,l]=qr.useState(!0),[c,m]=qr.useState(null),[h,f]=qr.useState(null),[x,g]=qr.useState(!1),[b,y]=qr.useState(null),[v,j]=qr.useState(null),[w,N]=qr.useState(null),k="https://backend.nexusmwi.com";qr.useEffect(()=>{S()},[]);const S=async()=>{try{N(null);const e=await fetch(`${k}/api/billing/subscription`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!e.ok)throw new Error("Failed to fetch subscription data");const t=await e.json();j(t)}catch(e){N(e.message)}},C=()=>v?.trial&&!v.trial.isActive,A={starter:{monthly:"price_1RmlIeP4bSIJGI9K6tRIpKf6",annual:"price_1RmlJZP4bSIJGI9K7RGjuHhX"},professional:{monthly:"price_1RmlKLP4bSIJGI9KmMX31rJ0",annual:"price_1RmlL2P4bSIJGI9Kqehrb2ws"}},T=[{id:"starter",name:"Starter",price:o?79:99,originalPrice:o?99:null,period:"per month",description:"Perfect for small businesses getting started with procurement automation",features:["Up to 50 purchase orders/month","Basic vendor management","Standard reporting dashboard","Email support (24h response)","Mobile app access","Basic integrations","User training resources"],limits:"Up to 5 users",recommended:!1,buttonText:C()?"Subscribe Now":"Start Free Trial",color:"gray",popular:!1,savings:o?"20%":null,stripePriceId:A.starter[o?"annual":"monthly"],allowTrial:!C()},{id:"professional",name:"Professional",price:o?239:299,originalPrice:o?299:null,period:"per month",description:"Ideal for growing companies with advanced procurement needs",features:["Unlimited purchase orders","Advanced vendor analytics","Custom approval workflows","Priority support (4h response)","API access & integrations","Advanced reporting & dashboards","Multi-location support","Dedicated onboarding"],limits:"Up to 25 users",recommended:!0,buttonText:C()?"Subscribe Now":"Start Free Trial",color:"blue",popular:!0,savings:o?"20%":null,stripePriceId:A.professional[o?"annual":"monthly"],allowTrial:!C()},{id:"enterprise",name:"Enterprise",price:"Custom",period:"contact us",description:"Comprehensive solution for large organizations with complex requirements",features:["Everything in Professional","Custom integrations & workflows","Dedicated account manager","On-premise deployment option","99.9% SLA guarantee","Advanced training & onboarding","24/7 phone support","Custom reporting & analytics"],limits:"Unlimited users",recommended:!1,buttonText:"Contact Sales",color:"purple",popular:!1,stripePriceId:null}],E=[{icon:e.jsx(d,{className:"w-8 h-8 text-blue-500"}),title:"Increase Efficiency",description:"Reduce procurement cycle times by up to 70% through intelligent automation and streamlined workflows.",metric:"70%",subtext:"faster processing"},{icon:e.jsx(n,{className:"w-8 h-8 text-green-500"}),title:"Improve Compliance",description:"Ensure all purchases adhere to organizational policies with automated compliance checks and audit trails.",metric:"99.9%",subtext:"compliance rate"},{icon:e.jsx(u,{className:"w-8 h-8 text-red-500"}),title:"Reduce Risk",description:"Minimize procurement risks with built-in compliance controls, vendor assessments, and fraud detection.",metric:"95%",subtext:"risk reduction"}],_=async e=>{if("Enterprise"!==e.name)if(e.allowTrial||!e.buttonText.includes("Trial")){g(!0),y(e.id),N(null);try{const t=localStorage.getItem("token");if(!t)throw new Error("No authentication token found");Boolean(i?.isEnterpriseAdmin||i?.company||i?.role?.includes("Enterprise"));const r={planName:e.name.toLowerCase(),priceId:e.stripePriceId,isAnnual:o,isTrial:e.allowTrial&&e.buttonText.includes("Trial"),isCompany:Boolean(i?.isEnterpriseAdmin||i?.company||i?.role?.includes("Enterprise"))},n=await fetch(`${k}/api/billing/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(r)});if(!n.ok){const e=await n.json();throw new Error(e.message||"Failed to create checkout session")}const{url:s}=await n.json();window.location.href=s}catch(t){N(t.message)}finally{g(!1),y(null)}}else alert("You have already used your free trial. Please choose a paid subscription.");else window.location.href="mailto:sales@nexusmwi.com?subject=Enterprise Plan Inquiry"},P=e=>v?.subscription?.plan===e.toLowerCase();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-purple-50",children:[w&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(s,{className:"h-5 w-5 text-red-400"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:"Error:"})," ",w]})})]})}),!!v?.trial?.isActive&&e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Trial Active:"})," ",v?.trial?.remainingDays||0," days remaining.",e.jsx("span",{className:"ml-2",children:"Upgrade now to continue enjoying our services!"})]})})}),e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600/10 via-purple-600/10 to-blue-600/10"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[C()&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4 mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(s,{className:"h-5 w-5 text-red-400"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-red-700",children:[e.jsx("strong",{children:"Your trial has ended."})," To continue using our services, please upgrade to a paid plan."]})})]})}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium",children:[e.jsx(r,{className:"w-4 h-4"}),e.jsx("span",{children:"Procurement Solutions Pricing"})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-gray-900 mb-6 leading-tight",children:["Streamline Your",e.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:" Purchase Orders"}),e.jsx("br",{}),"& Invoices"]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-4xl mx-auto mb-8 leading-relaxed",children:"Transform your procurement operations with our comprehensive cloud-based solution for requisitions, vendor management, purchase orders, and invoice processing."}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-medium mb-8",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:"Save 20% with annual billing"})]})]}),e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx("div",{className:"bg-white rounded-xl p-1 shadow-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>l(!1),className:"px-6 py-3 rounded-lg font-medium transition-all "+(o?"text-gray-600 hover:text-gray-900":"bg-blue-600 text-white shadow-md"),children:"Monthly"}),e.jsxs("button",{onClick:()=>l(!0),className:"px-6 py-3 rounded-lg font-medium transition-all relative "+(o?"bg-blue-600 text-white shadow-md":"text-gray-600 hover:text-gray-900"),children:["Annual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-green-500 text-white text-xs px-2 py-1 rounded-full",children:"Save 20%"})]})]})})})]})]}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:T.map((r,n)=>e.jsxs("div",{className:`relative bg-white rounded-2xl shadow-xl border-2 transition-all duration-300 hover:shadow-2xl hover:-translate-y-2 ${r.recommended?"border-blue-500 scale-105 z-10":"border-gray-200 hover:border-gray-300"} ${P(r.name)?"ring-2 ring-green-500":""}`,onMouseEnter:()=>f(n),onMouseLeave:()=>f(null),children:[P(r.name)&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded-full text-sm font-bold shadow-lg",children:"Current Plan"})}),r.popular&&!P(r.name)&&e.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg",children:[e.jsx(p,{className:"w-4 h-4 inline mr-1"}),"Most Popular"]})}),r.savings&&e.jsxs("div",{className:"absolute -top-2 -right-2 bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:["Save ",r.savings]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:r.name}),e.jsx("p",{className:"text-gray-600 mb-6",children:r.description}),e.jsx("div",{className:"mb-4",children:"number"==typeof r.price?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[r.originalPrice&&e.jsxs("span",{className:"text-2xl text-gray-400 line-through",children:["$",r.originalPrice]}),e.jsxs("span",{className:"text-5xl font-bold text-gray-900",children:["$",r.price]})]}),e.jsx("p",{className:"text-gray-600",children:r.period}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r.limits})]}):e.jsxs("div",{children:[e.jsx("span",{className:"text-5xl font-bold text-gray-900",children:r.price}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:r.limits})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx("ul",{className:"space-y-4",children:r.features.map((t,r)=>e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]},r))})}),e.jsx("button",{onClick:()=>_(r),disabled:x&&b===r.id||P(r.name)||!r.allowTrial&&r.buttonText.includes("Trial"),className:"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 group disabled:opacity-50 disabled:cursor-not-allowed "+(P(r.name)?"bg-green-100 text-green-800 border border-green-300":r.recommended?"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl":"bg-gray-100 text-gray-900 hover:bg-gray-200 border border-gray-300"),children:x&&b===r.id?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(Ye,{className:"w-5 h-5 animate-spin"}),e.jsx("span",{children:"Processing..."})]}):P(r.name)?"Current Plan":e.jsxs(e.Fragment,{children:[r.buttonText,e.jsx(t,{className:"w-5 h-5 inline ml-2 group-hover:translate-x-1 transition-transform"})]})})]})]},n))})}),e.jsx("div",{className:"bg-white py-20",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Procurement Performance Benefits"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"See measurable improvements in your procurement operations"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:E.map((t,r)=>e.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-white rounded-2xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1 border border-gray-100",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"bg-white rounded-full p-4 mb-6 shadow-lg",children:t.icon}),e.jsx("div",{className:"text-4xl font-bold text-gray-900 mb-2",children:t.metric}),e.jsx("div",{className:"text-sm text-gray-600 mb-4 font-medium",children:t.subtext}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:t.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.description})]})},r))})]})}),e.jsx("div",{className:"py-20 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Everything you need to know about our procurement platform"})]}),e.jsx("div",{className:"space-y-4",children:[{question:"How does PO automation work?",answer:"Our system automates purchase order creation, approval workflows, and distribution to vendors, reducing manual work by up to 80%."},{question:"Can I track invoice status?",answer:"Yes, our platform provides real-time tracking of invoice status from receipt through approval and payment."},{question:"What ERP systems do you integrate with?",answer:"We integrate with SAP, Oracle, Microsoft Dynamics, NetSuite, and other major ERP systems through our API."},{question:"How secure is vendor data?",answer:"We use bank-grade encryption and SOC 2 Type II certified data centers to protect all vendor and transaction data."},{question:"Can I customize approval workflows?",answer:"Yes, Professional and Enterprise plans allow full customization of approval chains based on amount, department, and category."},{question:"Do you support international vendors?",answer:"Yes, we support multi-currency transactions and international tax compliance for global procurement operations."}].map((t,r)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("button",{onClick:()=>(e=>{m(c===e?null:e)})(r),className:"w-full px-6 py-6 text-left flex items-center justify-between hover:bg-gray-50 transition-colors",children:[e.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:t.question}),c===r?e.jsx(Dr,{className:"w-5 h-5 text-gray-500"}):e.jsx(je,{className:"w-5 h-5 text-gray-500"})]}),c===r&&e.jsx("div",{className:"px-6 pb-6 text-gray-600 leading-relaxed",children:t.answer})]},r))})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 py-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Procurement Process?"}),e.jsx("p",{className:"text-xl text-blue-100 mb-8 leading-relaxed",children:"Start your 14-day free trial today and experience the power of automated purchase orders and invoice processing."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[C()?e.jsxs("button",{onClick:()=>_(T[1]),className:"bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-colors shadow-lg hover:shadow-xl",children:["Upgrade Now",e.jsx(t,{className:"w-5 h-5 inline ml-2 group-hover:translate-x-1 transition-transform"})]}):e.jsxs("button",{onClick:()=>_(T[1]),className:"flex items-center justify-center gap-2 bg-white text-blue-600 px-8 py-4 rounded-xl font-semibold text-lg hover:bg-gray-100 transition-colors shadow-lg hover:shadow-xl",children:["Start Free Trial",e.jsx(t,{className:"w-5 h-5 inline ml-2 group-hover:translate-x-1 transition-transform"})]}),e.jsx("button",{className:"border-2 border-white text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-white hover:text-blue-600 transition-colors",children:"Schedule Demo"})]}),e.jsx("p",{className:"text-blue-100 mt-6 text-sm",children:"No credit card required  14-day free trial  Cancel anytime"})]})})]})},Qce=({user:t})=>{const[r,n]=qr.useState(t.billing?.subscription||{}),[s,a]=qr.useState(!1),i="https://backend.nexusmwi.com",o=e=>e?new Date(e).toLocaleDateString():"N/A";return e.jsxs(ae,{sx:{p:4,maxWidth:800,mx:"auto"},children:[e.jsx(tr,{sx:{mb:4},children:e.jsxs(Mr,{children:[e.jsx(oe,{variant:"h5",gutterBottom:!0,children:"Subscription Management"}),e.jsxs(vt,{sx:{p:3,mb:3},children:[e.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[e.jsxs(oe,{variant:"h6",children:["Current Plan: ",r.plan?r.plan.charAt(0).toUpperCase()+r.plan.slice(1):"None"]}),e.jsxs(oe,{variant:"body1",color:"text.secondary",children:["Status: ",r.status]})]}),e.jsxs(ae,{sx:{mb:2},children:[e.jsx(oe,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Billing Period"}),e.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[e.jsx(oe,{variant:"body2",children:o(r.currentPeriodStart)}),e.jsx(oe,{variant:"body2",children:o(r.currentPeriodEnd)})]}),e.jsx(Ir,{variant:"determinate",value:(()=>{if(!r.currentPeriodStart||!r.currentPeriodEnd)return 0;const e=new Date(r.currentPeriodStart).getTime(),t=new Date(r.currentPeriodEnd).getTime();return((new Date).getTime()-e)/(t-e)*100})(),sx:{height:8,borderRadius:4}})]}),e.jsx(ge,{sx:{my:2}}),"active"===r.status&&e.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(oe,{variant:"body2",color:"text.secondary",children:r.cancelAtPeriodEnd?"Subscription will cancel at period end":"Subscription is active"}),e.jsx(bt,{variant:"outlined",color:r.cancelAtPeriodEnd?"primary":"error",startIcon:r.cancelAtPeriodEnd?e.jsx(_s,{}):e.jsx(ws,{}),onClick:r.cancelAtPeriodEnd?async()=>{a(!0);try{await(async()=>{const e=localStorage.getItem("token"),t=await fetch(`${i}/api/billing/reactivate`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});return await t.json()})(),n(e=>({...e,status:"active"}))}finally{a(!1)}}:async()=>{a(!0);try{await(async()=>{const e=localStorage.getItem("token"),t=await fetch(`${i}/api/billing/cancel`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});return await t.json()})(),n(e=>({...e,status:"canceled"}))}finally{a(!1)}},disabled:s,children:r.cancelAtPeriodEnd?"Reactivate":"Cancel"})]})]}),e.jsx(bt,{variant:"contained",fullWidth:!0,startIcon:e.jsx(Ss,{}),onClick:()=>window.location.href=`${i}/billing/portal`,children:"Manage Payment Methods"})]})}),e.jsx(tr,{children:e.jsxs(Mr,{children:[e.jsx(oe,{variant:"h6",gutterBottom:!0,children:"Billing History"}),t.billing?.invoices?.length>0?e.jsx(ae,{children:t.billing.invoices.map((r,n)=>e.jsxs(ae,{sx:{mb:2},children:[e.jsxs(ae,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(oe,{variant:"body1",children:new Date(r.createdAt).toLocaleDateString()}),e.jsxs(oe,{variant:"body1",fontWeight:"medium",children:["$",(r.amount/100).toFixed(2)," ",r.currency.toUpperCase()]})]}),e.jsxs(oe,{variant:"body2",color:"text.secondary",children:["Status: ",r.status]}),r.pdfUrl&&e.jsx(bt,{size:"small",onClick:()=>window.open(r.pdfUrl,"_blank"),children:"Download Invoice"}),n<t.billing.invoices.length-1&&e.jsx(ge,{sx:{my:1}})]},n))}):e.jsx(oe,{variant:"body2",color:"text.secondary",children:"No billing history available"})]})})]})},Zce=["Software Engineer","Senior Software Engineer","Lead Engineer","Product Manager","Senior Product Manager","Data Scientist","Data Analyst","UI/UX Designer","Senior Designer","DevOps Engineer","Quality Assurance Engineer","Business Analyst","Project Manager","Scrum Master","Sales Representative","Sales Manager","Marketing Specialist","Marketing Manager","HR Specialist","HR Manager","Finance Analyst","Accountant","Administrative Assistant","Office Manager","Customer Support Representative","Customer Success Manager"],ede=["Enterprise(CEO, CFO, etc.)","CEO","CFO","CTO","COO","Executive"],tde=({children:t})=>{const{user:r,loading:n}=An(),s=$r(),a=Wr(),[i,o]=qr.useState(!0),[l,c]=qr.useState(!1),[d,u]=qr.useState(null),[m,h]=qr.useState(!0);qr.useEffect(()=>{r&&p()},[r]);const p=async()=>{try{const e=localStorage.getItem("token");if(!e)return void h(!1);const t=await fetch("https://backend.nexusmwi.com/api/billing/subscription",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();u(e)}}catch(ide){}finally{h(!1)}};return qr.useEffect(()=>{if(n||m)return;if(!r)return s("/login",{replace:!0,state:{from:a.pathname}}),void o(!1);if("Vendor"===r.role||"Vendor"===r.position?(a.pathname.startsWith("/vendor-dash")||s("/vendor-dash",{replace:!0,state:{from:a.pathname}}),!0):ede.some(e=>r.role===e||r.position===e||r.position&&r.position.toLowerCase()===e.toLowerCase())?(a.pathname.startsWith("/dashboard")||s("/dashboard",{replace:!0,state:{from:a.pathname}}),!0):!!Zce.some(e=>r.role===e||r.position===e||r.position&&r.position.toLowerCase()===e.toLowerCase())&&(a.pathname.startsWith("/employee-dash")||s("/employee-dash",{replace:!0,state:{from:a.pathname}}),!0))return c(!0),void o(!1);const e=(()=>{if(!r||!d)return null;const e=d.subscription,t=d.trial;return e&&["active","trialing"].includes(e.status)&&"trial"!==e.plan?{type:"paid",hasAccess:!0}:t&&t.isActive&&t.remainingDays>0?{type:"trial",hasAccess:!0,remainingDays:t.remainingDays}:!e||"trial"!==e.plan||t&&t.isActive?{type:"free",hasAccess:!1}:{type:"expired",hasAccess:!1}})(),t=e?.hasAccess||!1;c(t),t?t&&a.pathname.startsWith("/billing")&&s("/dashboard",{replace:!0}):a.pathname.startsWith("/billing")||s("/billing",{replace:!0,state:{from:a.pathname,subscriptionExpired:!0}}),o(!1)},[r,n,m,s,a]),n||i||m?e.jsx(ae,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}}):l?e.jsx(Kr,{}):null};function rde({vendorId:t,onBack:r}){const{id:n}=Gr(),a=t||n,i=$r(),[o,l]=qr.useState(null),[d,u]=qr.useState(!0),[m,h]=qr.useState(!1),p="https://backend.nexusmwi.com";qr.useEffect(()=>{a?(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${p}/api/vendors/${a}`,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}}),r=await t.json();l(r)}catch(ode){}finally{u(!1)}})():u(!1)},[a,p]);const f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x=async e=>{h(!0);try{const t=localStorage.getItem("token"),n=await fetch(`${p}/api/vendors/${e}/${a}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}});if(n.ok)alert(`Vendor ${e} successfully`),r?r():i("/vendors");else{const e=await n.json();alert(`Action failed: ${e.message||"Unknown error"}`)}}catch(ode){alert("Action failed")}finally{h(!1)}};return d?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(Ue,{className:"animate-spin text-blue-600 w-8 h-8"})}):o?e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto bg-white rounded-2xl shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(L,{className:"w-6 h-6 text-blue-600"}),e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:o.businessName})]}),e.jsxs("button",{onClick:()=>i(-1),className:"flex items-center gap-2 text-sm text-gray-600 hover:text-blue-600",children:[e.jsx(s,{size:16})," Back"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(L,{size:16})," Business Information"]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Business Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:o.businessName})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Registration Number"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.registrationNumber})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"TIN"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.taxpayerIdentificationNumber})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Phone"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.phoneNumber})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Address"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.address})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(c,{size:16})," Registration Details"]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Country"}),e.jsx("p",{className:"text-sm text-gray-900",children:o.countryOfRegistration})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Submitted"}),e.jsx("p",{className:"text-sm text-gray-900",children:f(o.submissionDate)})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-xl",children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("p",{className:"capitalize text-sm font-medium text-gray-900",children:o.registrationStatus})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(tt,{size:16}),"Uploaded Documents"]}),e.jsx("div",{className:"space-y-2",children:o.documents&&Object.keys(o.documents).length>0?Object.entries(o.documents).map(([t,r],n)=>(Array.isArray(r)?r:r?[r]:[]).map((r,n)=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-3 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:t.replace(/([A-Z])/g," $1")}),e.jsxs("p",{className:"text-xs text-gray-500",children:[f(r.uploadedAt),"  ",r.fileName]})]}),e.jsxs("button",{onClick:()=>((e,t)=>{const r=document.createElement("a");r.href=`${p}/${e}`,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)})(r.filePath,r.fileName),className:"px-3 py-1 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 flex items-center gap-1",children:[e.jsx(Ie,{size:14})," Download"]})]},`${t}-${n}`))):e.jsx("p",{className:"text-gray-500 text-sm bg-gray-50 p-3 rounded-xl",children:"No documents uploaded"})})]}),"pending"===o.registrationStatus&&e.jsxs("div",{className:"flex justify-end mt-6 gap-3",children:[e.jsxs("button",{onClick:()=>x("reject"),disabled:m,className:"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600 flex items-center gap-2 text-sm",children:[e.jsx(Qt,{size:16}),"Reject Registration"]}),e.jsxs("button",{onClick:()=>x("approve"),disabled:m,className:"px-4 py-2 bg-green-500 text-white rounded-xl hover:bg-green-600 flex items-center gap-2 text-sm",children:[e.jsx(q,{size:16}),"Approve Registration"]})]})]})}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-gray-600",children:[e.jsx(c,{size:48,className:"mb-4"}),e.jsx("p",{children:"No vendor found."}),e.jsx("button",{onClick:()=>i("/vendors"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Back to List"})]})}function nde(){return e.jsx("div",{children:e.jsx(Cn,{children:e.jsx(Yr,{children:e.jsxs(Xr,{children:[e.jsx(Jr,{path:"/",element:e.jsx(Tn,{})}),e.jsx(Jr,{path:"/profile",element:e.jsx(KW,{})}),e.jsx(Jr,{path:"/login",element:e.jsx(On,{})}),e.jsx(Jr,{path:"/register",element:e.jsx(xs,{})}),e.jsx(Jr,{path:"/reset-password",element:e.jsx(Yie,{})}),e.jsx(Jr,{path:"/forgot-password",element:e.jsx(Xie,{})}),e.jsx(Jr,{path:"/terms-of-service",element:e.jsx(Jie,{})}),e.jsx(Jr,{path:"/privacy-policy",element:e.jsx(Qie,{})}),e.jsx(Jr,{path:"/beta",element:e.jsx(Yce,{})}),e.jsx(Jr,{path:"/demo",element:e.jsx(Xce,{})}),e.jsx(Jr,{path:"/billing",element:e.jsx(Jce,{})}),e.jsx(Jr,{path:"/billing/manage",element:e.jsx(Qce,{})}),e.jsx(Jr,{path:"/driver-dash",element:e.jsx($ce,{})}),e.jsx(Jr,{path:"/trip-management",element:e.jsx(bce,{})}),e.jsx(Jr,{path:"/vehicle-management",element:e.jsx(_ce,{})}),e.jsx(Jr,{path:"/driver-reconciliation",element:e.jsx(qce,{})}),e.jsx(Jr,{path:"/complete-registration",element:e.jsx(Kce,{})}),e.jsx(Jr,{path:"/bid-portal",element:e.jsx(Hae,{})}),e.jsxs(Jr,{element:e.jsx(tde,{}),children:[e.jsx(Jr,{path:"/vendors/:id",element:e.jsx(rde,{})}),e.jsx(Jr,{path:"/dash/new",element:e.jsx(Ise,{})}),e.jsx(Jr,{path:"/dashboard",element:e.jsx(Ise,{})}),e.jsx(Jr,{path:"/tenders",element:e.jsx(Ese,{})}),e.jsx(Jr,{path:"/purchase",element:e.jsx(oee,{})}),e.jsx(Jr,{path:"/rfqs/create",element:e.jsx(fte,{})}),e.jsx(Jr,{path:"/rfqs/view",element:e.jsx(jte,{})}),e.jsx(Jr,{path:"/vendors/add",element:e.jsx(wte,{})}),e.jsx(Jr,{path:"/vendors/select",element:e.jsx(Ate,{})}),e.jsx(Jr,{path:"/invoices",element:e.jsx(Mte,{})}),e.jsx(Jr,{path:"/invoices/pay",element:e.jsx(Ite,{})}),e.jsx(Jr,{path:"/invoices/manage",element:e.jsx(Mte,{})}),e.jsx(Jr,{path:"/travel/recon/finance/review",element:e.jsx(Z8,{})}),e.jsx(Jr,{path:"/travel/fleet/cordinator",element:e.jsx(ane,{})}),e.jsx(Jr,{path:"/travel/recon/finance/processing",element:e.jsx(Xte,{})}),e.jsx(Jr,{path:"/travel/manage",element:e.jsx(Bte,{})}),e.jsx(Jr,{path:"/travel/manage/final",element:e.jsx(Wte,{})}),e.jsx(Jr,{path:"/travel/manage/finance",element:e.jsx(Gie,{})}),e.jsx(Jr,{path:"/track-deliveries",element:e.jsx(Pte,{})}),e.jsx(Jr,{path:"/requisitions/manage",element:e.jsx(S3,{})}),e.jsx(Jr,{path:"/vendors",element:e.jsx(cne,{})}),e.jsx(Jr,{path:"/food",element:e.jsx(Kie,{})}),e.jsx(Jr,{path:"/budget",element:e.jsx(Pne,{})}),e.jsx(Jr,{path:"/budgeting",element:e.jsx(Ine,{})}),e.jsx(Jr,{path:"/budget-allocation",element:e.jsx(Wne,{})}),e.jsx(Jr,{path:"/invoice-payment",element:e.jsx(Yne,{})}),e.jsx(Jr,{path:"/analytics",element:e.jsx(pse,{})}),e.jsx(Jr,{path:"/reports",element:e.jsx(wse,{})}),e.jsx(Jr,{path:"/dashboard/employees",element:e.jsx(hne,{})}),e.jsx(Jr,{path:"/dashboard/employees/:id",element:e.jsx(wne,{})}),e.jsx(Jr,{path:"/dashboard/employees/:id/edit",element:e.jsx(kne,{})}),e.jsx(Jr,{path:"/dashboard/employees/:id/performance",element:e.jsx(Nne,{})}),e.jsx(Jr,{path:"/dashboard/employees/:id/report",element:e.jsx(Uce,{})}),e.jsx(Jr,{path:"/dashboard/employees/:id/access",element:e.jsx(Wce,{})}),e.jsx(Jr,{path:"/dashboard/departments/:id",element:e.jsx(Vce,{})}),e.jsx(Jr,{path:"/dashboard/departments/:id/edit",element:e.jsx(Hce,{})}),e.jsx(Jr,{path:"/dashboard/departments/:id/performance",element:e.jsx(Gce,{})}),e.jsx(Jr,{path:"/employee",element:e.jsx(hne,{})}),e.jsx(Jr,{path:"/employee-details",element:e.jsx(wne,{})}),e.jsx(Jr,{path:"/edit-employee",element:e.jsx(kne,{})}),e.jsx(Jr,{path:"/employee-performance",element:e.jsx(Nne,{})}),e.jsx(Jr,{path:"/employee-report",element:e.jsx(Uce,{})}),e.jsx(Jr,{path:"/employee-access",element:e.jsx(Wce,{})}),e.jsx(Jr,{path:"/departments",element:e.jsx(gne,{})}),e.jsx(Jr,{path:"/pending/registration",element:e.jsx(jne,{})}),e.jsx(Jr,{path:"/employee-dash",element:e.jsx(Wie,{})}),e.jsx(Jr,{path:"/requisitions",element:e.jsx(pte,{})}),e.jsx(Jr,{path:"/travel/manage/dash",element:e.jsx(Zre,{})}),e.jsx(Jr,{path:"/international-travel",element:e.jsx(ene,{})}),e.jsx(Jr,{path:"/travel/recon",element:e.jsx(kae,{})}),e.jsx(Jr,{path:"/travel/manage/recon",element:e.jsx(Eae,{})}),e.jsx(Jr,{path:"/local-travel",element:e.jsx(Vie,{})}),e.jsx(Jr,{path:"/requisition-management",element:e.jsx($ie,{})}),e.jsx(Jr,{path:"/vendor-dash",element:e.jsx(Qae,{})}),e.jsx(Jr,{path:"/vendors/qoutes",element:e.jsx(Cte,{})}),e.jsx(Jr,{path:"/vendors/qoutes/submit",element:e.jsx(Rse,{})}),e.jsx(Jr,{path:"/invoices/submit",element:e.jsx(_ae,{})}),e.jsx(Jr,{path:"/vendor-purchase-order",element:e.jsx(_te,{})}),e.jsx(Jr,{path:"/vendor-registration",element:e.jsx(Oae,{})}),e.jsx(Jr,{path:"/vendor-registration-management",element:e.jsx(zae,{})}),e.jsx(Jr,{path:"/tenders",element:e.jsx(qae,{})})]})]})})})})}kn.createRoot(document.getElementById("root")).render(e.jsx(Ur.StrictMode,{children:e.jsx(nde,{})}));
