import{I as n}from"./vendor-internmap-B8oPgqVZ.js";import{r as t,b as r,t as e,a as u,c as a,d as o,q as i,e as c}from"./vendor-d3-array-DHoEnWmX.js";import{t as f,u as l}from"./vendor-d3-time-format-DJbYLpR2.js";import{s,t as p,a as h,b as g,c as m,d,e as y,f as v,g as M,u as w,h as k,i as N,j as x,k as b,l as A,m as j,n as D}from"./vendor-d3-time-BKpkXaEW.js";import{i as q,a as I,b as O,p as E}from"./vendor-d3-interpolate-CJyiV-ZF.js";import{f as R,p as F,a as B,b as C,c as S,d as T}from"./vendor-d3-format-CtKB2kpq.js";function U(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function z(n,t){switch(arguments.length){case 0:break;case 1:"function"==typeof n?this.interpolator(n):this.range(n);break;default:this.domain(n),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const L=Symbol("implicit");function Y(){var t=new n,r=[],e=[],u=L;function a(n){let a=t.get(n);if(void 0===a){if(u!==L)return u;t.set(n,a=r.push(n)-1)}return e[a%e.length]}return a.domain=function(e){if(!arguments.length)return r.slice();r=[],t=new n;for(const n of e)t.has(n)||t.set(n,r.push(n)-1);return a},a.range=function(n){return arguments.length?(e=Array.from(n),a):e.slice()},a.unknown=function(n){return arguments.length?(u=n,a):u},a.copy=function(){return Y(r,e).unknown(u)},U.apply(a,arguments),a}function Z(){var n,r,e=Y().unknown(void 0),u=e.domain,a=e.range,o=0,i=1,c=!1,f=0,l=0,s=.5;function p(){var e=u().length,p=i<o,h=p?i:o,g=p?o:i;n=(g-h)/Math.max(1,e-f+2*l),c&&(n=Math.floor(n)),h+=(g-h-n*(e-f))*s,r=n*(1-f),c&&(h=Math.round(h),r=Math.round(r));var m=t(e).map(function(t){return h+n*t});return a(p?m.reverse():m)}return delete e.unknown,e.domain=function(n){return arguments.length?(u(n),p()):u()},e.range=function(n){return arguments.length?([o,i]=n,o=+o,i=+i,p()):[o,i]},e.rangeRound=function(n){return[o,i]=n,o=+o,i=+i,c=!0,p()},e.bandwidth=function(){return r},e.step=function(){return n},e.round=function(n){return arguments.length?(c=!!n,p()):c},e.padding=function(n){return arguments.length?(f=Math.min(1,l=+n),p()):f},e.paddingInner=function(n){return arguments.length?(f=Math.min(1,n),p()):f},e.paddingOuter=function(n){return arguments.length?(l=+n,p()):l},e.align=function(n){return arguments.length?(s=Math.max(0,Math.min(1,n)),p()):s},e.copy=function(){return Z(u(),[o,i]).round(c).paddingInner(f).paddingOuter(l).align(s)},U.apply(p(),arguments)}function $(n){var t=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return $(t())},n}function G(){return $(Z.apply(null,arguments).paddingInner(1))}function H(n){return+n}var J=[0,1];function K(n){return n}function P(n,t){return(t-=n=+n)?function(r){return(r-n)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function Q(n,t,r){var e=n[0],u=n[1],a=t[0],o=t[1];return u<e?(e=P(u,e),a=r(o,a)):(e=P(e,u),a=r(a,o)),function(n){return a(e(n))}}function V(n,t,e){var u=Math.min(n.length,t.length)-1,a=new Array(u),o=new Array(u),i=-1;for(n[u]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<u;)a[i]=P(n[i],n[i+1]),o[i]=e(t[i],t[i+1]);return function(t){var e=r(n,t,1,u)-1;return o[e](a[e](t))}}function W(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function X(){var n,t,r,e,u,a,o=J,i=J,c=I,f=K;function l(){var n,t,r,c=Math.min(o.length,i.length);return f!==K&&(n=o[0],t=o[c-1],n>t&&(r=n,n=t,t=r),f=function(r){return Math.max(n,Math.min(t,r))}),e=c>2?V:Q,u=a=null,s}function s(t){return null==t||isNaN(t=+t)?r:(u||(u=e(o.map(n),i,c)))(n(f(t)))}return s.invert=function(r){return f(t((a||(a=e(i,o.map(n),q)))(r)))},s.domain=function(n){return arguments.length?(o=Array.from(n,H),l()):o.slice()},s.range=function(n){return arguments.length?(i=Array.from(n),l()):i.slice()},s.rangeRound=function(n){return i=Array.from(n),c=O,l()},s.clamp=function(n){return arguments.length?(f=!!n||K,l()):f!==K},s.interpolate=function(n){return arguments.length?(c=n,l()):c},s.unknown=function(n){return arguments.length?(r=n,s):r},function(r,e){return n=r,t=e,l()}}function _(){return X()(K,K)}function nn(n,t,r,u){var a,o=e(n,t,r);switch((u=R(null==u?",f":u)).type){case"s":var i=Math.max(Math.abs(n),Math.abs(t));return null!=u.precision||isNaN(a=C(o,i))||(u.precision=a),S(u,i);case"":case"e":case"g":case"p":case"r":null!=u.precision||isNaN(a=B(o,Math.max(Math.abs(n),Math.abs(t))))||(u.precision=a-("e"===u.type));break;case"f":case"%":null!=u.precision||isNaN(a=F(o))||(u.precision=a-2*("%"===u.type))}return T(u)}function tn(n){var t=n.domain;return n.ticks=function(n){var r=t();return u(r[0],r[r.length-1],null==n?10:n)},n.tickFormat=function(n,r){var e=t();return nn(e[0],e[e.length-1],null==n?10:n,r)},n.nice=function(r){null==r&&(r=10);var e,u,o=t(),i=0,c=o.length-1,f=o[i],l=o[c],s=10;for(l<f&&(u=f,f=l,l=u,u=i,i=c,c=u);s-- >0;){if((u=a(f,l,r))===e)return o[i]=f,o[c]=l,t(o);if(u>0)f=Math.floor(f/u)*u,l=Math.ceil(l/u)*u;else{if(!(u<0))break;f=Math.ceil(f*u)/u,l=Math.floor(l*u)/u}e=u}return n},n}function rn(){var n=_();return n.copy=function(){return W(n,rn())},U.apply(n,arguments),tn(n)}function en(n){var t;function r(n){return null==n||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(n=Array.from(t,H),r):n.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return en(n).unknown(t)},n=arguments.length?Array.from(n,H):[0,1],tn(r)}function un(n,t){var r,e=0,u=(n=n.slice()).length-1,a=n[e],o=n[u];return o<a&&(r=e,e=u,u=r,r=a,a=o,o=r),n[e]=t.floor(a),n[u]=t.ceil(o),n}function an(n){return Math.log(n)}function on(n){return Math.exp(n)}function cn(n){return-Math.log(-n)}function fn(n){return-Math.exp(-n)}function ln(n){return isFinite(n)?+("1e"+n):n<0?0:n}function sn(n){return(t,r)=>-n(-t,r)}function pn(n){const t=n(an,on),r=t.domain;let e,a,o=10;function i(){return e=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),t=>Math.log(t)/n)}(o),a=function(n){return 10===n?ln:n===Math.E?Math.exp:t=>Math.pow(n,t)}(o),r()[0]<0?(e=sn(e),a=sn(a),n(cn,fn)):n(an,on),t}return t.base=function(n){return arguments.length?(o=+n,i()):o},t.domain=function(n){return arguments.length?(r(n),i()):r()},t.ticks=n=>{const t=r();let i=t[0],c=t[t.length-1];const f=c<i;f&&([i,c]=[c,i]);let l,s,p=e(i),h=e(c);const g=null==n?10:+n;let m=[];if(!(o%1)&&h-p<g){if(p=Math.floor(p),h=Math.ceil(h),i>0){for(;p<=h;++p)for(l=1;l<o;++l)if(s=p<0?l/a(-p):l*a(p),!(s<i)){if(s>c)break;m.push(s)}}else for(;p<=h;++p)for(l=o-1;l>=1;--l)if(s=p>0?l/a(-p):l*a(p),!(s<i)){if(s>c)break;m.push(s)}2*m.length<g&&(m=u(i,c,g))}else m=u(p,h,Math.min(h-p,g)).map(a);return f?m.reverse():m},t.tickFormat=(n,r)=>{if(null==n&&(n=10),null==r&&(r=10===o?"s":","),"function"!=typeof r&&(o%1||null!=(r=R(r)).precision||(r.trim=!0),r=T(r)),n===1/0)return r;const u=Math.max(1,o*n/t.ticks().length);return n=>{let t=n/a(Math.round(e(n)));return t*o<o-.5&&(t*=o),t<=u?r(n):""}},t.nice=()=>r(un(r(),{floor:n=>a(Math.floor(e(n))),ceil:n=>a(Math.ceil(e(n)))})),t}function hn(){const n=pn(X()).domain([1,10]);return n.copy=()=>W(n,hn()).base(n.base()),U.apply(n,arguments),n}function gn(n){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/n))}}function mn(n){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*n}}function dn(n){var t=1,r=n(gn(t),mn(t));return r.constant=function(r){return arguments.length?n(gn(t=+r),mn(t)):t},tn(r)}function yn(){var n=dn(X());return n.copy=function(){return W(n,yn()).constant(n.constant())},U.apply(n,arguments)}function vn(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function Mn(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function wn(n){return n<0?-n*n:n*n}function kn(n){var t=n(K,K),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?n(K,K):.5===r?n(Mn,wn):n(vn(r),vn(1/r)):r},tn(t)}function Nn(){var n=kn(X());return n.copy=function(){return W(n,Nn()).exponent(n.exponent())},U.apply(n,arguments),n}function xn(){return Nn.apply(null,arguments).exponent(.5)}function bn(n){return Math.sign(n)*n*n}function An(){var n,t=_(),r=[0,1],e=!1;function u(r){var u=function(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}(t(r));return isNaN(u)?n:e?Math.round(u):u}return u.invert=function(n){return t.invert(bn(n))},u.domain=function(n){return arguments.length?(t.domain(n),u):t.domain()},u.range=function(n){return arguments.length?(t.range((r=Array.from(n,H)).map(bn)),u):r.slice()},u.rangeRound=function(n){return u.range(n).round(!0)},u.round=function(n){return arguments.length?(e=!!n,u):e},u.clamp=function(n){return arguments.length?(t.clamp(n),u):t.clamp()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.copy=function(){return An(t.domain(),r).round(e).clamp(t.clamp()).unknown(n)},U.apply(u,arguments),tn(u)}function jn(){var n,t=[],e=[],u=[];function a(){var n=0,r=Math.max(1,e.length);for(u=new Array(r-1);++n<r;)u[n-1]=i(t,n/r);return c}function c(t){return null==t||isNaN(t=+t)?n:e[r(u,t)]}return c.invertExtent=function(n){var r=e.indexOf(n);return r<0?[NaN,NaN]:[r>0?u[r-1]:t[0],r<u.length?u[r]:t[t.length-1]]},c.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let r of n)null==r||isNaN(r=+r)||t.push(r);return t.sort(o),a()},c.range=function(n){return arguments.length?(e=Array.from(n),a()):e.slice()},c.unknown=function(t){return arguments.length?(n=t,c):n},c.quantiles=function(){return u.slice()},c.copy=function(){return jn().domain(t).range(e).unknown(n)},U.apply(c,arguments)}function Dn(){var n,t=0,e=1,u=1,a=[.5],o=[0,1];function i(t){return null!=t&&t<=t?o[r(a,t,0,u)]:n}function c(){var n=-1;for(a=new Array(u);++n<u;)a[n]=((n+1)*e-(n-u)*t)/(u+1);return i}return i.domain=function(n){return arguments.length?([t,e]=n,t=+t,e=+e,c()):[t,e]},i.range=function(n){return arguments.length?(u=(o=Array.from(n)).length-1,c()):o.slice()},i.invertExtent=function(n){var r=o.indexOf(n);return r<0?[NaN,NaN]:r<1?[t,a[0]]:r>=u?[a[u-1],e]:[a[r-1],a[r]]},i.unknown=function(t){return arguments.length?(n=t,i):i},i.thresholds=function(){return a.slice()},i.copy=function(){return Dn().domain([t,e]).range(o).unknown(n)},U.apply(tn(i),arguments)}function qn(){var n,t=[.5],e=[0,1],u=1;function a(a){return null!=a&&a<=a?e[r(t,a,0,u)]:n}return a.domain=function(n){return arguments.length?(t=Array.from(n),u=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(n){return arguments.length?(e=Array.from(n),u=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(n){var r=e.indexOf(n);return[t[r-1],t[r]]},a.unknown=function(t){return arguments.length?(n=t,a):n},a.copy=function(){return qn().domain(t).range(e).unknown(n)},U.apply(a,arguments)}function In(n){return new Date(n)}function On(n){return n instanceof Date?+n:+new Date(+n)}function En(n,t,r,e,u,a,o,i,c,f){var l=_(),s=l.invert,p=l.domain,h=f(".%L"),g=f(":%S"),m=f("%I:%M"),d=f("%I %p"),y=f("%a %d"),v=f("%b %d"),M=f("%B"),w=f("%Y");function k(n){return(c(n)<n?h:i(n)<n?g:o(n)<n?m:a(n)<n?d:e(n)<n?u(n)<n?y:v:r(n)<n?M:w)(n)}return l.invert=function(n){return new Date(s(n))},l.domain=function(n){return arguments.length?p(Array.from(n,On)):p().map(In)},l.ticks=function(t){var r=p();return n(r[0],r[r.length-1],null==t?10:t)},l.tickFormat=function(n,t){return null==t?k:f(t)},l.nice=function(n){var r=p();return n&&"function"==typeof n.range||(n=t(r[0],r[r.length-1],null==n?10:n)),n?p(un(r,n)):l},l.copy=function(){return W(l,En(n,t,r,e,u,a,o,i,c,f))},l}function Rn(){return U.apply(En(M,v,y,d,m,g,h,p,s,f).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fn(){return U.apply(En(D,j,A,b,x,N,k,w,s,l).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bn(){var n,t,r,e,u,a=0,o=1,i=K,c=!1;function f(t){return null==t||isNaN(t=+t)?u:i(0===r?.5:(t=(e(t)-n)*r,c?Math.max(0,Math.min(1,t)):t))}function l(n){return function(t){var r,e;return arguments.length?([r,e]=t,i=n(r,e),f):[i(0),i(1)]}}return f.domain=function(u){return arguments.length?([a,o]=u,n=e(a=+a),t=e(o=+o),r=n===t?0:1/(t-n),f):[a,o]},f.clamp=function(n){return arguments.length?(c=!!n,f):c},f.interpolator=function(n){return arguments.length?(i=n,f):i},f.range=l(I),f.rangeRound=l(O),f.unknown=function(n){return arguments.length?(u=n,f):u},function(u){return e=u,n=u(a),t=u(o),r=n===t?0:1/(t-n),f}}function Cn(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function Sn(){var n=tn(Bn()(K));return n.copy=function(){return Cn(n,Sn())},z.apply(n,arguments)}function Tn(){var n=pn(Bn()).domain([1,10]);return n.copy=function(){return Cn(n,Tn()).base(n.base())},z.apply(n,arguments)}function Un(){var n=dn(Bn());return n.copy=function(){return Cn(n,Un()).constant(n.constant())},z.apply(n,arguments)}function zn(){var n=kn(Bn());return n.copy=function(){return Cn(n,zn()).exponent(n.exponent())},z.apply(n,arguments)}function Ln(){return zn.apply(null,arguments).exponent(.5)}function Yn(){var n=[],t=K;function e(e){if(null!=e&&!isNaN(e=+e))return t((r(n,e,1)-1)/(n.length-1))}return e.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let r of t)null==r||isNaN(r=+r)||n.push(r);return n.sort(o),e},e.interpolator=function(n){return arguments.length?(t=n,e):t},e.range=function(){return n.map((r,e)=>t(e/(n.length-1)))},e.quantiles=function(t){return Array.from({length:t+1},(r,e)=>c(n,e/t))},e.copy=function(){return Yn(t).domain(n)},z.apply(e,arguments)}function Zn(){var n,t,r,e,u,a,o,i=0,c=.5,f=1,l=1,s=K,p=!1;function h(n){return isNaN(n=+n)?o:(n=.5+((n=+a(n))-t)*(l*n<l*t?e:u),s(p?Math.max(0,Math.min(1,n)):n))}function g(n){return function(t){var r,e,u;return arguments.length?([r,e,u]=t,s=E(n,[r,e,u]),h):[s(0),s(.5),s(1)]}}return h.domain=function(o){return arguments.length?([i,c,f]=o,n=a(i=+i),t=a(c=+c),r=a(f=+f),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),l=t<n?-1:1,h):[i,c,f]},h.clamp=function(n){return arguments.length?(p=!!n,h):p},h.interpolator=function(n){return arguments.length?(s=n,h):s},h.range=g(I),h.rangeRound=g(O),h.unknown=function(n){return arguments.length?(o=n,h):o},function(o){return a=o,n=o(i),t=o(c),r=o(f),e=n===t?0:.5/(t-n),u=t===r?0:.5/(r-t),l=t<n?-1:1,h}}function $n(){var n=tn(Zn()(K));return n.copy=function(){return Cn(n,$n())},z.apply(n,arguments)}function Gn(){var n=pn(Zn()).domain([.1,1,10]);return n.copy=function(){return Cn(n,Gn()).base(n.base())},z.apply(n,arguments)}function Hn(){var n=dn(Zn());return n.copy=function(){return Cn(n,Hn()).constant(n.constant())},z.apply(n,arguments)}function Jn(){var n=kn(Zn());return n.copy=function(){return Cn(n,Jn()).exponent(n.exponent())},z.apply(n,arguments)}function Kn(){return Jn.apply(null,arguments).exponent(.5)}export{Fn as A,nn as B,Gn as a,Z as b,Jn as c,$n as d,Kn as e,Hn as f,L as g,hn as h,en as i,Nn as j,Dn as k,rn as l,Tn as m,zn as n,Y as o,G as p,jn as q,An as r,Sn as s,Yn as t,Ln as u,Un as v,xn as w,yn as x,qn as y,Rn as z};
