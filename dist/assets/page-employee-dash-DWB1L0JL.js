import{u as e,a as t,r as s,j as r,a9 as a,aa as i,X as n,ab as l,a5 as o,V as d,ac as c,B as x,ad as m,Y as u,ae as p,U as g,af as h,m as b,ag as f,ah as j,p as v,v as y,ai as w,aj as N,y as k,ak as C,bj as S,J as z,a8 as D,A as T,q as M,bk as R,aR as q,bl as L,N as P,bm as A,Z as I,bn as E,g as F,H as O,aJ as $,bo as W,_ as B,am as H,t as V,o as J,a1 as U,av as _,D as Y,at as Q,M as K,aq as G,ar as Z,au as X,h as ee,l as te,a0 as se,i as re,f as ae,S as ie,aD as ne,a4 as le,bp as oe,ax as de,be as ce,bq as xe}from"./react-core-DKrnZdd7.js";import{u as me}from"./context-k3FZ8Vno.js";import{U as ue,u as pe}from"./page-User-iTIpKLVt.js";import{P as ge}from"./vendor-prop-types-C8aDgg8x.js";import{u as he,f as be,s as fe,B as je,e as ve,D as ye,g as we,i as Ne,j as ke,K as Ce,I as Se,h as ze,k as De,l as Te,T as Me,m as Re,C as qe,b as Le,P as Pe}from"./mui-material-9NDCc7EL.js";import{M as Ae,S as Ie,P as Ee,I as Fe,a as Oe,A as $e,b as We,c as Be}from"./mui-icons-Upi8wDss.js";import{i as He,a as Ve,b as Je,f as Ue}from"./date-fns-CUr-g5D8.js";import{m as _e,A as Ye}from"./vendor-framer-motion-DCU7qowG.js";import{A as Qe}from"./page-dashboard-BNM7eJ18.js";import{T as Ke,c as Ge}from"./page-requisitions-manage-D_nY_aOA.js";import{N as Ze,E as Xe}from"./page-requisitions-CHsVtKkw.js";const et="#141b2d",tt="rgba(145, 158, 171, 0.08)",st="rgba(85, 105, 255, 0.16)",rt="#5569ff",at="rgba(85, 105, 255, 0.24)",it="#e0e0e0",nt="rgba(224, 224, 224, 0.6)",lt="#90a0b7",ot="#5569ff",dt="rgba(145, 158, 171, 0.16)",ct=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("rect",{x:"3",y:"3",width:"7",height:"9",rx:"1"}),r.jsx("rect",{x:"14",y:"3",width:"7",height:"5",rx:"1"}),r.jsx("rect",{x:"14",y:"12",width:"7",height:"9",rx:"1"}),r.jsx("rect",{x:"3",y:"16",width:"7",height:"5",rx:"1"})]}),xt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),r.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),r.jsx("path",{d:"M16 10a4 4 0 0 1-8 0"})]}),mt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),r.jsx("path",{d:"M14 2v6h6"}),r.jsx("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),r.jsx("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),r.jsx("polyline",{points:"10 9 9 9 8 9"})]}),ut=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M15 11h.01M11 15h.01M16 16h.01M10 12h.01M3 7l2.5 3 4-5 2.5 3 3-4 2.5 3L20.5 5"}),r.jsx("path",{d:"M20 22h-2a2 2 0 0 1-2-2v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20h3a1 1 0 0 1 1 1v0a1 1 0 0 1-1 1ZM15.4 22H8.6c-.5 0-.9-.4-.9-.9V10.1c0-.5.4-.9.9-.9h6.8c.5 0 .9.4.9.9v10.9c0 .6-.4 1-.9 1Z"}),r.jsx("path",{d:"M4 22H2a1 1 0 0 1-1-1v0a1 1 0 0 1 1-1h3v-8.5a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5V20a2 2 0 0 1-2 2Z"})]}),pt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11"}),r.jsx("path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2"}),r.jsx("circle",{cx:"7",cy:"18",r:"2"}),r.jsx("path",{d:"M15 18H9"}),r.jsx("circle",{cx:"17",cy:"18",r:"2"})]}),gt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.5 10-10 10Z"}),r.jsx("path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"})]}),ht=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M3 3v18h18"}),r.jsx("path",{d:"M18 17V9"}),r.jsx("path",{d:"M13 17V5"}),r.jsx("path",{d:"M8 17v-3"})]}),bt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M12 2v4"}),r.jsx("path",{d:"M12 18v4"}),r.jsx("path",{d:"m4.93 10.93 2.83-2.83"}),r.jsx("path",{d:"M16.24 16.24 19.07 19.07"}),r.jsx("path",{d:"M2 12h4"}),r.jsx("path",{d:"M18 12h4"}),r.jsx("path",{d:"m10.93 4.93-2.83 2.83"}),r.jsx("path",{d:"M16.24 7.76 19.07 4.93"})]}),ft=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),r.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),jt=e=>r.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[r.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),r.jsx("polyline",{points:"16 17 21 12 16 7"}),r.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),vt=fe(De)(({theme:e})=>({color:it,margin:"2px 12px",padding:"10px 16px",borderRadius:"6px",transition:"all 0.15s ease-in-out","&.Mui-selected":{backgroundColor:st,color:rt,"&:hover":{backgroundColor:at},"& .MuiListItemIcon-root":{color:rt},"& .MuiTypography-root":{fontWeight:500}},"&:hover":{backgroundColor:tt}})),yt=fe(Me)(({theme:e,open:t})=>({color:nt,fontSize:"0.6875rem",fontWeight:500,textTransform:"uppercase",padding:t?"16px 28px 6px":"16px 0",letterSpacing:"0.6px",textAlign:t?"left":"center",opacity:t?1:0,height:t?"auto":0,marginBottom:t?"4px":0,transition:"opacity 0.2s ease, height 0.2s ease, margin 0.2s ease"})),wt=fe(ze,{shouldForwardProp:e=>"open"!==e&&"isMobile"!==e})(({theme:e,open:t,isMobile:s})=>({width:t?256:70,flexShrink:0,whiteSpace:"nowrap",boxSizing:"border-box",overflowX:"hidden","& .MuiDrawer-paper":{backgroundColor:et,borderRight:"none",width:t?256:s?0:70,overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.standard})}})),Nt=fe(Te)(({theme:e,selected:t})=>({minWidth:0,marginRight:16,justifyContent:"center",color:t?ot:lt,transition:"color 0.15s ease, transform 0.2s ease","&:hover":{transform:"scale(1.05)"}})),kt=fe(je)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 12px 10px",backgroundColor:"transparent"})),Ct=fe(je)(({theme:e,open:t})=>({width:"100%",display:"flex",alignItems:"center",justifyContent:t?"space-between":"center",transition:"all 0.3s ease"}));fe(je)(({theme:e})=>({display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,borderRadius:"8px",backgroundColor:"rgba(85, 105, 255, 0.8)",backgroundImage:"linear-gradient(135deg, #5569ff 0%, #6b8aff 100%)",boxShadow:"0 2px 10px rgba(85, 105, 255, 0.4)",color:"#ffffff",fontWeight:700,fontSize:"1.2rem",cursor:"pointer",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}}));const St=fe(Se)(({theme:e})=>({color:nt,"&:hover":{backgroundColor:"transparent"},transition:"all 0.15s ease",padding:0})),zt=fe(Re)(({theme:e})=>({"& .MuiBadge-badge":{right:-4,top:4,minWidth:18,height:18,fontSize:"0.625rem",fontWeight:600,padding:"0 4px",borderRadius:9,backgroundColor:"#ef4444",color:"white"}})),Dt=fe("span")(({theme:e})=>({position:"absolute",top:8,right:8,width:8,height:8,borderRadius:"50%",backgroundColor:"#ef4444","&::after":{content:'""',position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"pulse 2s infinite",backgroundColor:"rgba(239, 68, 68, 0.7)"},"@keyframes pulse":{"0%":{transform:"scale(1)",opacity:1},"70%":{transform:"scale(2)",opacity:0},"100%":{transform:"scale(2.5)",opacity:0}}})),Tt=({stats:i=Mt,activeSection:n,handleSectionChange:l,onSidebarToggle:o,user:d})=>{const c=he(),x=e();t();const m=be(c.breakpoints.down("md")),[u,p]=s.useState(!m),[g,h]=s.useState(!1),[b,f]=s.useState(""),[j,v]=s.useState(!1);s.useEffect(()=>{const e=localStorage.getItem("sidebarOpen");if(null!==e&&!m){const t=JSON.parse(e);p(t),o?.(t)}},[m,o]);const y=()=>{if(!j)if(v(!0),m)h(!g),setTimeout(()=>v(!1),300);else{const e=!u;p(e),localStorage.setItem("sidebarOpen",JSON.stringify(e)),o?.(e),window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{open:e}})),setTimeout(()=>v(!1),300)}},w=[{id:"main",label:"Main",items:[{id:"dashboard",label:"Dashboard",icon:r.jsx(ct,{}),badge:null},{id:"manage-requisitions",label:"Requisitions",icon:r.jsx(xt,{}),badge:i.requisitions?.counts?.pending||null},{id:"rfqs",label:"WorkSpace",icon:r.jsx(mt,{}),badge:i.rfqs?.counts?.open||null}]},{id:"travel",label:"Travel Management",items:[{id:"travel-requests",label:"Travel Requests",icon:r.jsx(ut,{}),badge:null},{id:"travel-execution",label:"Fleet Management",icon:r.jsx(pt,{}),badge:null}]},{id:"finance",label:"Finance Processing",items:[{id:"new-recon",label:"Reconciliation",icon:r.jsx(gt,{}),badge:null}]},{id:"reports",label:"Reports",items:[{id:"analytics",label:"Analytics",icon:r.jsx(ht,{}),badge:null},{id:"reports",label:"Reports",icon:r.jsx(bt,{}),badge:null}]}],N=[{id:"settings",label:"Settings",icon:r.jsx(ft,{}),onClick:()=>x("/settings")},{id:"logout",label:"Logout",icon:r.jsx(jt,{}),onClick:()=>{}}],k=(e,t)=>r.jsxs(a.Fragment,{children:[t>0&&u&&r.jsx(ye,{sx:{borderColor:dt,margin:"12px 24px 8px",opacity:.4}}),r.jsx(yt,{open:u,children:e.label}),r.jsx(we,{disablePadding:!0,sx:{mb:1},children:e.items.map(e=>(e=>{const t=n===e.id,s=b===e.id,i=r.jsxs(vt,{selected:t,onClick:()=>l(e.id),onMouseEnter:()=>f(e.id),onMouseLeave:()=>f(""),sx:{justifyContent:u?"initial":"center",px:2,py:1,minHeight:44,position:"relative",overflow:"hidden","&::after":t?{content:'""',position:"absolute",top:"50%",left:0,transform:"translateY(-50%)",width:"3px",height:"50%",backgroundColor:rt,borderRadius:"0 3px 3px 0"}:{}},children:[r.jsx(Nt,{selected:t,children:a.cloneElement(e.icon,{style:{transform:s&&!t?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),u&&r.jsxs(r.Fragment,{children:[r.jsx(Ne,{primary:e.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",fontWeight:t?500:400,color:"inherit",transition:"font-weight 0.15s ease",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:u?1:0,ml:.5}}),e.badge&&r.jsx(zt,{badgeContent:e.badge})]}),!u&&e.badge&&r.jsx(Dt,{})]},e.id);return u?i:r.jsx(ke,{title:e.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ve(et,.9),color:it,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ve(dt,.5)}`}},arrow:{sx:{color:ve(et,.9)}}},children:i},e.id)})(e))})]},e.id),C=r.jsxs(r.Fragment,{children:[r.jsx(kt,{children:r.jsx(Ct,{open:u,children:u?r.jsxs(r.Fragment,{children:[r.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",flexGrow:1},children:r.jsx("img",{src:"/hrms-logo11.png",alt:"Company Logo",style:{height:"22px",width:"22px",objectFit:"contain",marginLeft:"4px",transition:"transform 0.3s ease, opacity 0.3s ease"}})}),r.jsx(St,{onClick:y,disabled:j,"aria-label":"close drawer",sx:{"& img":{filter:"brightness(0) invert(1)"}},children:r.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})]}):r.jsx(St,{onClick:y,disabled:j,"aria-label":"open drawer",sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:44,borderRadius:"6px",marginBottom:"4px",padding:0,"& img":{filter:"brightness(0) invert(1)",marginLeft:"-6px"},"&:hover":{backgroundColor:tt}},children:r.jsx("img",{src:"/sidebar1.svg",alt:"Toggle sidebar",style:{width:"20px",height:"20px",objectFit:"contain",transform:"rotate(0deg)",transition:"transform 0.3s ease"}})})})}),r.jsxs(je,{sx:{overflowY:"auto",overflowX:"hidden",height:"calc(100vh - 64px)","&::-webkit-scrollbar":{width:4},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{backgroundColor:ve(nt,.3),borderRadius:2,"&:hover":{backgroundColor:ve(nt,.5)}},padding:"10px 0 0",mt:1},children:[w.map((e,t)=>k(e,t)),r.jsxs(je,{sx:{mt:"auto",mb:2,px:1},children:[u&&r.jsx(ye,{sx:{borderColor:dt,margin:"12px 24px 16px",opacity:.4}}),r.jsx(we,{disablePadding:!0,children:N.map(e=>{const t=b===e.id,s=r.jsxs(vt,{onClick:e.onClick,onMouseEnter:()=>f(e.id),onMouseLeave:()=>f(""),sx:{justifyContent:u?"initial":"center",px:2,py:1,minHeight:44},children:[r.jsx(Nt,{selected:!1,children:a.cloneElement(e.icon,{style:{transform:t?"scale(1.1)":"scale(1)",transition:"transform 0.2s ease"}})}),u&&r.jsx(Ne,{primary:e.label,primaryTypographyProps:{sx:{fontSize:"0.875rem",color:"inherit",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},sx:{opacity:u?1:0,ml:.5}})]},e.id);return u?s:r.jsx(ke,{title:e.label,placement:"right",arrow:!0,componentsProps:{tooltip:{sx:{backgroundColor:ve(et,.9),color:it,backdropFilter:"blur(8px)",fontSize:"0.75rem",padding:"6px 12px",borderRadius:"6px",marginLeft:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",border:`1px solid ${ve(dt,.5)}`}},arrow:{sx:{color:ve(et,.9)}}},children:s},e.id)})}),u&&r.jsx(je,{sx:{mt:3,mx:3,p:1.5,borderRadius:"10px",backgroundColor:ve(rt,.08),display:"flex",alignItems:"center",gap:1.5},children:r.jsx(Ce,{sx:{width:32,height:32,backgroundColor:ve(rt,.2),color:rt,fontSize:"0.75rem",fontWeight:600,boxShadow:`0 0 0 2px ${ve(rt,.1)}`},children:"A"})})]})]})]});return r.jsxs(r.Fragment,{children:[m&&r.jsx(Se,{color:"inherit","aria-label":"open drawer",onClick:y,edge:"start",disabled:j,sx:{position:"fixed",top:12,left:16,zIndex:1300,backgroundColor:ve(et,.8),backdropFilter:"blur(8px)",borderRadius:"6px",width:40,height:40,"&:hover":{backgroundColor:ve(et,.95)}},children:r.jsx(Ae,{})}),m?r.jsx(ze,{variant:"temporary",open:g,onClose:y,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{width:256,backgroundColor:et,borderRight:"none"}},children:C}):r.jsx(wt,{variant:"permanent",open:u,isMobile:m,children:C})]})},Mt={employees:{counts:{pending:0}},vendors:{counts:{open:0}},requisitions:{counts:{pending:0}},rfqs:{counts:{open:0}},purchaseOrders:{counts:{pending:0}},invoices:{counts:{pending:0}}};Tt.propTypes={stats:ge.shape({employees:ge.object,vendors:ge.object,requisitions:ge.object,rfqs:ge.object,purchaseOrders:ge.object,invoices:ge.object}),activeSection:ge.string.isRequired,handleSectionChange:ge.func.isRequired,onSidebarToggle:ge.func};const Rt=({user:t,notificationCount:a=3,onNotificationClick:k,onHelpClick:C,onAssistantClick:S,onPreferencesClick:z,onProfileClick:D,onSettingsClick:T,onSignOutClick:M,onMobileMenuToggle:R,scrollPosition:q=0,importantDates:L=[],sidebarOpen:P=!0,sidebarWidth:A=256,collapsedSidebarWidth:I=70})=>{const[E,F]=s.useState(!1),[O,$]=s.useState(!1),[W,B]=s.useState(!1),[H,V]=s.useState(new Date),[J,U]=s.useState(!1),[_,Y]=s.useState(null),[Q,K]=s.useState(new Date),[G,Z]=s.useState(null),[X,ee]=s.useState(!0),te=e(),[se]=i(),[re,ae]=s.useState(()=>se.get("section")||"dashboard");s.useEffect(()=>{ie()},[]);const ie=async()=>{try{const e=localStorage.getItem("token");if(!e)return void ee(!1);const t=await fetch("https://backend.nexusmwi.com/api/billing/subscription",{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();Z(e)}}catch(e){}finally{ee(!1)}},ne=(()=>{if(!t||!G)return null;const e=G.subscription,s=G.trial;return e&&["active","trialing"].includes(e.status)&&"trial"!==e.plan?{type:"paid",plan:e.plan,status:e.status}:s&&s.isActive&&s.remainingDays>0?{type:"trial",remainingDays:s.remainingDays,endDate:s.endDate}:!e||"trial"!==e.plan||s&&s.isActive?{type:"free",message:"Free plan"}:{type:"expired",message:"Trial expired"}})();s.useEffect(()=>{X||"expired"!==ne?.type||window.location.pathname.startsWith("/billing")||te("/billing",{state:{subscriptionExpired:!0,from:window.location.pathname}})},[ne,X,te]);const le=Math.min(q/100,.95),oe=Math.min(q/10,20),de=(L.length>0?L:[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for Q2 IT equipment",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Office supplies contract renewal",location:"Legal Department",priority:"medium"}]).filter(e=>He(e.date,new Date)&&Ve(e.date,Je(new Date,7))).sort((e,t)=>e.date-t.date);s.useEffect(()=>{const e=()=>{$(!1),B(!1),F(!1)};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const ce=e=>{switch(e){case"deadline":return"bg-red-100 text-red-700 border-red-200";case"meeting":return"bg-blue-100 text-blue-700 border-blue-200";case"contract":return"bg-purple-100 text-purple-700 border-purple-200";case"review":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"approval":return"bg-green-100 text-green-700 border-green-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},xe=e=>{switch(e){case"deadline":return r.jsx(w,{size:14});case"meeting":return r.jsx(c,{size:14});case"contract":return r.jsx(f,{size:14});case"review":return r.jsx(y,{size:14});case"approval":return r.jsx(v,{size:14});default:return r.jsx(o,{size:14})}};s.useEffect(()=>{const e=()=>{F(!1),$(!1),B(!1)},t=()=>{F(!1),$(!1),B(!1)};return window.addEventListener("resize",e),window.addEventListener("sidebarToggle",t),()=>{window.removeEventListener("resize",e),window.removeEventListener("sidebarToggle",t)}},[P]);return r.jsxs(r.Fragment,{children:[r.jsxs(_e.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},className:"fixed top-0 z-50 transition-all duration-300",style:{left:window.innerWidth<768?0:P?A:I,width:(()=>{if(window.innerWidth<768)return"100%";return`calc(100% - ${P?A:I}px)`})(),backgroundColor:`rgba(255, 255, 255, ${le})`,backdropFilter:`blur(${oe}px)`,borderBottom:le>.1?"1px solid rgba(229, 231, 235, 0.8)":"none"},children:[r.jsx("div",{className:"max-w-full mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex items-center justify-between h-16",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{F(!E),R?.(!E)},className:"md:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200",children:E?r.jsx(n,{size:20}):r.jsx(l,{size:20})}),r.jsxs("div",{className:"relative",children:[r.jsxs(_e.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e=>{e.stopPropagation(),B(!W)},className:"flex items-center gap-2 px-3 py-2 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-lg transition-all duration-200 border border-blue-200",children:[r.jsx(o,{size:16}),r.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:Ue(new Date,"MMM d, yyyy")}),r.jsx(d,{size:14,className:"transition-transform duration-200 "+(W?"rotate-180":"")})]}),r.jsx(Ye,{children:W&&r.jsxs(_e.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full left-0 mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"p-4 border-b border-gray-100 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-t-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[r.jsx(o,{size:18}),"Calendar"]}),r.jsx("span",{className:"text-sm bg-white/20 px-2 py-1 rounded-full",children:Ue(new Date,"MMMM yyyy")})]})}),r.jsxs("div",{className:"p-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-medium text-gray-900 flex items-center gap-2",children:[r.jsx(c,{size:16,className:"text-blue-600"}),"Upcoming Events"]}),r.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded-full",children:de.length})]}),r.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:de.length>0?de.map((e,t)=>r.jsxs(_e.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t},className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200 cursor-pointer",onClick:()=>{Y(e),U(!0),B(!1)},children:[r.jsx("div",{className:`p-1.5 rounded-lg ${ce(e.type)}`,children:xe(e.type)}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("h5",{className:"font-medium text-gray-900 text-sm truncate",children:e.title}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("span",{className:"text-xs text-gray-600",children:Ue(e.date,"MMM d")}),e.time&&r.jsxs(r.Fragment,{children:[r.jsx("span",{className:"text-gray-400",children:"•"}),r.jsx("span",{className:"text-xs text-gray-600",children:e.time})]})]})]}),r.jsx("span",{className:"text-xs px-2 py-1 rounded-full "+("high"===e.priority?"bg-red-100 text-red-700":"medium"===e.priority?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"),children:e.priority})]},t)):r.jsxs("div",{className:"text-center py-6 text-gray-500",children:[r.jsx(o,{size:24,className:"mx-auto mb-2 opacity-50"}),r.jsx("p",{className:"text-sm",children:"No upcoming events"})]})})]}),r.jsx("div",{className:"p-3 border-t border-gray-100 bg-gray-50 rounded-b-xl",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Deadline"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Meeting"})]})]}),r.jsx("button",{onClick:()=>B(!1),className:"text-sm text-gray-600 hover:text-gray-900 transition-colors duration-200",children:"Close"})]})})]})})]}),r.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:k,className:"relative p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",children:[r.jsx(x,{size:20}),a>0&&r.jsx(_e.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:a})]})]}),r.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2",children:(()=>{if(X)return r.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg animate-pulse",children:r.jsx("div",{className:"w-16 h-4 bg-gray-600 rounded"})});if(!ne)return null;switch(ne.type){case"paid":return r.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-green-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>te("/billing"),children:[r.jsx(N,{size:14,className:"text-yellow-400"}),r.jsxs(_e.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:[ne.plan.charAt(0).toUpperCase()+ne.plan.slice(1)," plan"]}),r.jsx("span",{className:"text-gray-500 mx-1",children:"•"}),r.jsx(_e.span,{className:"text-sm font-semibold text-green-400 group-hover:text-green-300 transition-all duration-200",whileHover:{scale:1.05},children:"Active"}),r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse ml-1"})]});case"trial":return r.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer relative",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>te("/billing"),children:[r.jsx(_e.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free trial"}),r.jsx("span",{className:"text-gray-500 mx-1",children:"•"}),r.jsx(_e.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"}),r.jsxs("div",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full font-medium",children:[ne.remainingDays," days left"]})]});case"expired":return r.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-red-600/90 backdrop-blur-sm rounded-lg border border-red-700 shadow-lg hover:shadow-xl hover:shadow-red-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(220, 38, 38, 0.95)"},whileTap:{scale:.98},onClick:()=>te("/billing"),children:[r.jsx(j,{size:14,className:"text-white"}),r.jsx(_e.span,{className:"text-sm font-medium text-white group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Trial expired"}),r.jsx("span",{className:"text-white/50 mx-1",children:"•"}),r.jsx(_e.span,{className:"text-sm font-semibold text-white group-hover:text-white transition-all duration-200",whileHover:{scale:1.05},children:"Renew now"})]});case"free":return r.jsxs(_e.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"free-plan-badge flex items-center gap-1 px-3 py-1.5 bg-gray-800/90 backdrop-blur-sm rounded-lg border border-gray-600/50 shadow-lg hover:shadow-xl hover:shadow-blue-500/20 transition-all duration-300 group cursor-pointer",whileHover:{scale:1.02,backgroundColor:"rgba(31, 41, 55, 0.95)"},whileTap:{scale:.98},onClick:()=>te("/billing"),children:[r.jsx(_e.span,{className:"text-sm font-medium text-gray-200 group-hover:text-white transition-colors duration-200",whileHover:{scale:1.02},children:"Free plan"}),r.jsx("span",{className:"text-gray-500 mx-1",children:"•"}),r.jsx(_e.span,{className:"text-sm font-semibold text-blue-400 group-hover:text-blue-300 transition-all duration-200",whileHover:{scale:1.05},children:"Upgrade"})]});default:return null}})()}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[r.jsx(_e.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:C,className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200",title:"Help Center",children:r.jsx(m,{size:18})}),r.jsx(_e.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:S,className:"p-2 text-gray-600 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-all duration-200",title:"AI Assistant",children:r.jsx(u,{size:18})}),r.jsx(_e.button,{whileHover:{scale:1.05,y:-1},whileTap:{scale:.95},onClick:z,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200",title:"Settings",children:r.jsx(p,{size:18})})]}),r.jsxs("div",{className:"relative",children:[r.jsxs(_e.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e=>{e.stopPropagation(),$(!O)},className:"flex items-center gap-2 p-1 hover:bg-gray-100 rounded-lg transition-all duration-200",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-sm",children:t?.firstName&&t?.lastName?`${t.firstName.charAt(0).toUpperCase()}${t.lastName.charAt(0).toUpperCase()}`:t?.firstName?t.firstName.charAt(0).toUpperCase():t?.lastName?t.lastName.charAt(0).toUpperCase():"G"}),r.jsx(d,{size:14,className:"transition-transform duration-200 "+(O?"rotate-180":"")})]}),r.jsx(Ye,{children:O&&r.jsx(_e.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.95},transition:{duration:.2},className:"absolute top-full right-0 mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50",onClick:e=>e.stopPropagation(),children:r.jsxs("div",{className:"p-2",children:[r.jsxs("button",{onClick:()=>{var e;D?.(),$(!1),ae(e="user-profile"),te(`?section=${e}`,{replace:!0})},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[r.jsx(g,{size:16}),r.jsx("span",{className:"text-sm",children:"Profile"})]}),r.jsxs("button",{onClick:()=>{T?.(),$(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[r.jsx(p,{size:16}),r.jsx("span",{className:"text-sm",children:"Settings"})]}),r.jsx("hr",{className:"my-2 border-gray-200"}),r.jsxs("button",{onClick:()=>{M?.(),$(!1)},className:"w-full flex items-center gap-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:[r.jsx(h,{size:16}),r.jsx("span",{className:"text-sm",children:"Sign Out"})]})]})})})]})]})]})}),r.jsx(Ye,{children:E&&r.jsx(_e.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"md:hidden border-t border-gray-200 bg-white/95 backdrop-blur-sm",children:r.jsxs("div",{className:"px-4 py-3 space-y-2",children:[r.jsxs("button",{onClick:C,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[r.jsx(m,{size:18}),r.jsx("span",{children:"Help Center"})]}),r.jsxs("button",{onClick:S,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[r.jsx(u,{size:18}),r.jsx("span",{children:"AI Assistant"})]}),r.jsxs("button",{onClick:z,className:"w-full flex items-center gap-3 px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:[r.jsx(p,{size:18}),r.jsx("span",{children:"Preferences"})]})]})})})]}),r.jsx(Ye,{children:J&&_&&r.jsx(_e.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>U(!1),children:r.jsxs(_e.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"p-6 text-white "+("deadline"===_.type?"bg-gradient-to-r from-red-600 to-red-700":"meeting"===_.type?"bg-gradient-to-r from-blue-600 to-blue-700":"contract"===_.type?"bg-gradient-to-r from-purple-600 to-purple-700":"review"===_.type?"bg-gradient-to-r from-yellow-600 to-yellow-700":"approval"===_.type?"bg-gradient-to-r from-green-600 to-green-700":"bg-gradient-to-r from-gray-600 to-gray-700"),children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("span",{className:"inline-block px-2 py-1 bg-white/20 rounded-full text-xs font-medium mb-2",children:_.type?.toUpperCase()}),r.jsx("h3",{className:"text-xl font-semibold mb-2",children:_.title}),r.jsxs("div",{className:"flex items-center gap-2 text-white/90",children:[r.jsx(o,{size:16}),r.jsxs("span",{className:"text-sm",children:[Ue(_.date,"EEEE, MMMM d, yyyy"),_.time&&` • ${_.time}`]})]})]}),r.jsx("button",{onClick:()=>U(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-colors duration-200",children:r.jsx(n,{size:20})})]})}),r.jsxs("div",{className:"p-6 space-y-4",children:[_.location&&r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(b,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Location"}),r.jsx("p",{className:"text-gray-600 text-sm",children:_.location})]})]}),r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(f,{size:18,className:"text-gray-500 mt-0.5 flex-shrink-0"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Description"}),r.jsx("p",{className:"text-gray-600 text-sm",children:_.description})]})]}),_.priority&&r.jsxs("div",{className:"flex items-center gap-2 p-3 rounded-lg "+("high"===_.priority?"bg-red-50 border border-red-200":"medium"===_.priority?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"),children:[r.jsx(j,{size:16,className:"high"===_.priority?"text-red-600":"medium"===_.priority?"text-yellow-600":"text-blue-600"}),r.jsx("span",{className:"text-sm font-medium "+("high"===_.priority?"text-red-700":"medium"===_.priority?"text-yellow-700":"text-blue-700"),children:"high"===_.priority?"High Priority":"medium"===_.priority?"Medium Priority":"Low Priority"})]})]}),r.jsxs("div",{className:"p-6 pt-0 flex items-center justify-end gap-3",children:[r.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors duration-200",children:"Close"}),r.jsx("button",{onClick:()=>U(!1),className:"px-4 py-2 text-white rounded-lg transition-all duration-200 "+("deadline"===_.type?"bg-red-600 hover:bg-red-700":"meeting"===_.type?"bg-blue-600 hover:bg-blue-700":"contract"===_.type?"bg-purple-600 hover:bg-purple-700":"review"===_.type?"bg-yellow-600 hover:bg-yellow-700":"approval"===_.type?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"),children:"View Details"})]})]})})})]})},qt=()=>r.jsx("style",{jsx:!0,global:!0,children:"\n    @keyframes pulse {\n      0%, 100% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      50% {\n        transform: scale(1.1);\n        opacity: 0.4;\n      }\n    }\n    \n    @keyframes ripple {\n      0% {\n        transform: scale(1);\n        opacity: 0.8;\n      }\n      100% {\n        transform: scale(1.3);\n        opacity: 0;\n      }\n    }\n\n    @keyframes fadeIn {\n      from {\n        opacity: 0;\n        transform: translateY(-10px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n\n    .animate-pulse-custom {\n      animation: pulse 2s infinite;\n    }\n\n    .animate-ripple {\n      animation: ripple 3s infinite;\n    }\n\n    .animate-fade-in {\n      animation: fadeIn 0.3s ease-out;\n    }\n\n    /* Custom scrollbar for dropdown menus */\n    .custom-scrollbar::-webkit-scrollbar {\n      width: 4px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-track {\n      background: #f1f5f9;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb {\n      background: #cbd5e1;\n      border-radius: 2px;\n    }\n\n    .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n      background: #94a3b8;\n    }\n\n    /* Smooth transitions for all interactive elements */\n    .transition-smooth {\n      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    /* Backdrop blur support */\n    .backdrop-blur-custom {\n      backdrop-filter: blur(12px) saturate(180%);\n      -webkit-backdrop-filter: blur(12px) saturate(180%);\n    }\n\n    /* Focus styles for accessibility */\n    .focus-ring:focus {\n      outline: 2px solid #3b82f6;\n      outline-offset: 2px;\n    }\n\n    /* Hover effects for buttons */\n    .btn-hover:hover {\n      transform: translateY(-1px);\n      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n    }\n\n    /* Loading spinner animation */\n    @keyframes spin {\n      from {\n        transform: rotate(0deg);\n      }\n      to {\n        transform: rotate(360deg);\n      }\n    }\n\n    .animate-spin-slow {\n      animation: spin 3s linear infinite;\n    }\n\n    /* Gradient animations */\n    @keyframes gradient-shift {\n      0%, 100% {\n        background-position: 0% 50%;\n      }\n      50% {\n        background-position: 100% 50%;\n      }\n    }\n\n    .gradient-animate {\n      background-size: 200% 200%;\n      animation: gradient-shift 6s ease infinite;\n    }\n\n    /* Text shimmer effect */\n    @keyframes shimmer {\n      0% {\n        background-position: -200px 0;\n      }\n      100% {\n        background-position: calc(200px + 100%) 0;\n      }\n    }\n\n    .text-shimmer {\n      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 37%, #f0f0f0 63%);\n      background-size: 400px 100%;\n      animation: shimmer 1.4s ease-in-out infinite;\n    }\n\n    /* Dark mode support */\n    @media (prefers-color-scheme: dark) {\n      .dark-mode-bg {\n        background-color: #1f2937;\n        color: #f9fafb;\n      }\n      \n      .dark-mode-border {\n        border-color: #374151;\n      }\n      \n      .dark-mode-text {\n        color: #d1d5db;\n      }\n    }\n\n    /* Mobile-specific styles */\n    @media (max-width: 768px) {\n      .mobile-optimized {\n        padding: 0.75rem;\n      }\n      \n      .mobile-text {\n        font-size: 0.875rem;\n      }\n      \n      .mobile-button {\n        min-height: 44px;\n        min-width: 44px;\n      }\n    }\n\n    /* High contrast mode support */\n    @media (prefers-contrast: high) {\n      .high-contrast {\n        border: 2px solid currentColor;\n      }\n      \n      .high-contrast-text {\n        font-weight: 600;\n      }\n    }\n\n    /* Reduced motion support */\n    @media (prefers-reduced-motion: reduce) {\n      * {\n        animation-duration: 0.01ms !important;\n        animation-iteration-count: 1 !important;\n        transition-duration: 0.01ms !important;\n      }\n    }\n\n    /* Print styles */\n    @media print {\n      .no-print {\n        display: none !important;\n      }\n      \n      .print-friendly {\n        background: white !important;\n        color: black !important;\n        box-shadow: none !important;\n      }\n    }\n  "}),Lt=({user:t,userProfile:a,onMobileMenuToggle:n,scrollPosition:l,sidebarOpen:o=!0,sidebarWidth:d=256,collapsedSidebarWidth:c=70})=>{const x=[{date:new Date(2025,4,15),title:"Vendor Proposal Deadline",type:"deadline",description:"Final date for vendors to submit proposals for the Q2 IT equipment procurement",location:"Procurement Portal",priority:"high"},{date:new Date(2025,4,17),title:"Procurement Meeting",type:"meeting",description:"Team meeting to review vendor proposals and make selections",location:"Conference Room A",time:"10:00 AM",priority:"medium"},{date:new Date(2025,4,20),title:"Contract Renewal",type:"contract",description:"Annual renewal of office supplies contract with OfficeMax",location:"Legal Department",priority:"medium"},{date:new Date(2025,4,24),title:"Quarterly Review",type:"review",description:"Financial review of procurement spending for Q1",location:"Executive Boardroom",time:"2:00 PM",priority:"high"},{date:new Date(2025,4,28),title:"Budget Approval",type:"approval",description:"Final approval for Q3 procurement budget",location:"Finance Department",priority:"high"},{date:new Date(2025,4,14),title:"Vendor Evaluation",type:"meeting",description:"Evaluate new potential suppliers for hardware components",location:"Meeting Room B",time:"11:30 AM",priority:"medium"},{date:new Date(2025,4,18),title:"Contract Draft Review",type:"contract",description:"Legal team review of new vendor contracts",location:"Legal Office",time:"9:00 AM",priority:"medium"},{date:new Date(2025,4,22),title:"Procurement Training",type:"meeting",description:"New system training for procurement team",location:"Training Center",time:"1:00 PM",priority:"low"}],[m,u]=s.useState(x),p=e(),[g]=i(),[h,b]=s.useState(()=>g.get("section")||"dashboard"),[f,j]=s.useState(3);return s.useEffect(()=>{(async()=>{})()},[]),r.jsxs(r.Fragment,{children:[r.jsx(qt,{}),r.jsx(Rt,{user:t,userProfile:a,notificationCount:f,onNotificationClick:()=>{},onHelpClick:()=>{},onAssistantClick:()=>{},onPreferencesClick:()=>{},onProfileClick:()=>{return b(e="user-profile"),void p(`?section=${e}`,{replace:!0});var e},onSettingsClick:()=>{},onSignOutClick:()=>{},onMobileMenuToggle:n,scrollPosition:l,importantDates:m,sidebarOpen:o,sidebarWidth:d,collapsedSidebarWidth:c})]})},Pt=({title:e,value:t,description:s,trend:i,trendDirection:n,icon:l,color:o="primary",emphasizeWithArrow:d=!1,testId:c})=>{const x={primary:{main:"#3366FF",light:"#EBF0FF",dark:"#1939B7",gradient:"linear-gradient(135deg, #3366FF 0%, #5B8DEF 100%)",soft:"rgba(51, 102, 255, 0.08)"},info:{main:"#00B8D9",light:"#E6FCFF",dark:"#006C9C",gradient:"linear-gradient(135deg, #00B8D9 0%, #36C5F0 100%)",soft:"rgba(0, 184, 217, 0.08)"},secondary:{main:"#6E56CF",light:"#F4F0FF",dark:"#4D399E",gradient:"linear-gradient(135deg, #6E56CF 0%, #9F85F0 100%)",soft:"rgba(110, 86, 207, 0.08)"},error:{main:"#E5484D",light:"#FEF0F0",dark:"#B42B2B",gradient:"linear-gradient(135deg, #E5484D 0%, #FF6A6A 100%)",soft:"rgba(229, 72, 77, 0.08)"},success:{main:"#30A46C",light:"#ECFDF3",dark:"#18794E",gradient:"linear-gradient(135deg, #30A46C 0%, #4CC38A 100%)",soft:"rgba(48, 164, 108, 0.08)"}},m=x[o]||x.primary;return r.jsxs(je,{sx:{position:"relative",height:70,background:"#FFFFFF",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.04), 0 0 0 1px rgba(0, 0, 0, 0.02)",borderRadius:5,p:2.5,pl:3.2,display:"flex",flexDirection:"column",justifyContent:"center",transition:"all 0.25s ease",overflow:"hidden","&:hover":{boxShadow:"0 4px 12px rgba(0, 0, 0, 0.05), 0 0 0 1px rgba(0, 0, 0, 0.02)",transform:"translateY(-2px)"},"&::before":{content:'""',position:"absolute",left:0,top:10,bottom:10,width:"4px",background:m.gradient,borderRadius:4,boxShadow:`0 0 8px ${ve(m.main,.2)}`,transition:"all 0.3s ease"},"&:hover::before":{top:6,bottom:6},"&::after":{content:'""',position:"absolute",right:0,bottom:0,width:"40%",height:"60%",background:`radial-gradient(circle at bottom right, ${ve(m.light,.7)}, transparent 70%)`,opacity:.5,zIndex:0,transition:"opacity 0.3s ease"},"&:hover::after":{opacity:.8}},"data-testid":c,children:[r.jsxs(je,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1,position:"relative",zIndex:1},children:[r.jsxs(je,{sx:{display:"flex",alignItems:"center"},children:[r.jsx(Me,{variant:"h6",component:"div",sx:{fontWeight:700,fontSize:"1.25rem",color:"#1A1A1A",letterSpacing:"-0.02em"},"data-testid":c?`${c}-value`:void 0,children:t}),(()=>{if(d)return r.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",ml:1,width:24,height:24,borderRadius:"50%",background:x.error.gradient,boxShadow:`0 2px 4px ${ve(x.error.main,.25)}`,transition:"all 0.2s ease","&:hover":{transform:"scale(1.05)",boxShadow:`0 3px 6px ${ve(x.error.main,.3)}`}},"data-testid":c?`${c}-arrow`:void 0,children:r.jsx($e,{sx:{fontSize:14,color:"#fff"}})});if(i){const e="up"===n?x.success:x.error;return r.jsxs(je,{sx:{display:"inline-flex",alignItems:"center",ml:1,px:.8,py:.3,borderRadius:1.5,background:e.soft,color:e.main,fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.01em"},"data-testid":c?`${c}-trend`:void 0,children:["up"===n?r.jsx(We,{sx:{fontSize:11,mr:.3}}):r.jsx(Be,{sx:{fontSize:11,mr:.3}}),i]})}return null})()]}),l&&r.jsx(je,{sx:{display:"flex",alignItems:"center",justifyContent:"center",background:m.soft,color:m.main,width:32,height:32,borderRadius:"50%",transition:"all 0.2s ease","&:hover":{background:ve(m.main,.12),transform:"scale(1.05)"}},"data-testid":c?`${c}-icon`:void 0,children:a.cloneElement(l,{sx:{fontSize:16}})})]}),r.jsx(Me,{variant:"body2",sx:{color:"#4B5563",fontSize:"0.8125rem",fontWeight:600,position:"relative",zIndex:1,letterSpacing:"-0.01em"},"data-testid":c?`${c}-title`:void 0,children:e}),s&&r.jsx(Me,{variant:"caption",sx:{color:"#6B7280",fontSize:"0.6875rem",display:"block",fontWeight:500,position:"relative",zIndex:1,mt:.3},"data-testid":c?`${c}-description`:void 0,children:s})]})},At=({stats:e,testId:t})=>r.jsxs(je,{sx:{display:"flex",gap:3.5,pt:0,pb:2,px:1.5,width:"100%",marginTop:-1,"& > div":{transition:"all 0.3s ease","&:hover":{transform:"translateZ(0)",zIndex:1}}},"data-testid":t||"stats-cards-grid",children:[r.jsx(je,{sx:{width:"25%",minWidth:130},children:r.jsx(Pt,{title:"Approved",value:e.requisitions.counts.total,color:"primary",icon:r.jsx(Ie,{}),testId:"approve-card"})}),r.jsx(je,{sx:{width:"25%",minWidth:130},children:r.jsx(Pt,{title:"Travel Requisitions",value:e.rfqs.counts.total,icon:r.jsx(Ee,{}),color:"info",testId:"po-requisitions-card"})}),r.jsx(je,{sx:{width:"25%",minWidth:130},children:r.jsx(Pt,{title:"Reconciliation",value:e.purchaseOrders.counts.total,icon:r.jsx(Fe,{}),color:"secondary",testId:"supplier-card"})}),r.jsx(je,{sx:{width:"25%",minWidth:130},children:r.jsx(Pt,{title:"To be paid",value:e.invoices.counts.total,icon:r.jsx(Oe,{}),color:"error",testId:"to-be-paid-card"})})]}),It=({handleSectionChange:e})=>{const[t,a]=s.useState("actions"),[i,n]=s.useState(""),[l,o]=s.useState(!1),[d,x]=s.useState(!1);s.useEffect(()=>(x(!0),()=>x(!1)),[]);const m=[{id:"requisitions",title:"Create New Requisition",description:"Request new items or services for your department",icon:r.jsx(M,{size:20}),color:"blue",badge:null,trend:"up"},{id:"travel-requests",title:"Submit Travel Request",description:"Plan your business trip with detailed itinerary",icon:r.jsx(R,{size:20}),color:"purple",badge:null,trend:"stable"},{id:"expense-reports",title:"Submit Expense Report",description:"Record and get reimbursed for business expenses",icon:r.jsx(q,{size:20}),color:"teal",badge:"New",trend:"up"},{id:"team-meeting",title:"Schedule Team Meeting",description:"Coordinate with your team members",icon:r.jsx(L,{size:20}),color:"amber",badge:null,trend:"up"}],u=[{id:"report-q1",title:"Q1 Financial Report",time:"2 hours ago",icon:r.jsx(f,{size:20}),color:"indigo",status:"completed"},{id:"travel-nyc",title:"NYC Conference Trip",time:"Yesterday",icon:r.jsx(R,{size:20}),color:"purple",status:"in-progress"},{id:"team-budget",title:"Team Budget Review",time:"2 days ago",icon:r.jsx(A,{size:20}),color:"green",status:"pending"}],g=[{id:"monthly-report",title:"Monthly Department Report",icon:r.jsx(f,{size:20}),color:"rose",usage:"87%"},{id:"team-dashboard",title:"Team Performance Dashboard",icon:r.jsx(A,{size:20}),color:"sky",usage:"92%"}],h=i?m.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())):m;return r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 w-full h-full flex flex-col",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 relative bg-white",children:[r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(k,{size:20,className:"text-blue-500"}),"Quick Actions"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Streamline your workflow with AI-powered assistance"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>o(!l),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:r.jsx(C,{size:18})}),r.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:r.jsx(p,{size:18})})]})]}),l&&r.jsxs("div",{className:"mt-4 flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 transition-all duration-300",children:[r.jsx(C,{size:18,className:"text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search actions...",value:i,onChange:e=>n(e.target.value),className:"bg-transparent border-none outline-none text-gray-800 w-full pl-2 placeholder-gray-400 text-sm"})]})]}),r.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:["actions","recent","favorites"].map(e=>r.jsxs("button",{onClick:()=>a(e),className:"flex-1 py-3 text-sm font-medium transition-all duration-200 relative "+(t===e?"text-blue-600":"text-gray-500 hover:text-gray-800"),children:["actions"===e&&r.jsx(S,{size:16,className:"inline mr-2"}),"recent"===e&&r.jsx(c,{size:16,className:"inline mr-2"}),"favorites"===e&&r.jsx(z,{size:16,className:"inline mr-2"}),e.charAt(0).toUpperCase()+e.slice(1),t===e&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},e))}),r.jsxs("div",{className:"max-h-96 overflow-y-auto custom-scrollbar",children:["actions"===t&&r.jsx("div",{className:"divide-y divide-gray-100",children:h.map(t=>{return r.jsxs("button",{onClick:()=>e(t.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsx("span",{className:`flex items-center justify-center w-12 h-12 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),r.jsxs("div",{className:"ml-4 text-left flex-grow",children:[r.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:t.title}),r.jsx("span",{className:"text-gray-500 text-sm block mt-0.5 group-hover:translate-x-1 transition-transform duration-200 delay-75",children:t.description}),t.trend&&(s=t.trend,"up"===s?r.jsxs("div",{className:"flex items-center text-emerald-600 text-xs",children:[r.jsx(P,{size:12,className:"rotate-[-45deg]"})," ",r.jsx("span",{className:"ml-0.5",children:"+12%"})]}):"down"===s?r.jsxs("div",{className:"flex items-center text-rose-600 text-xs",children:[r.jsx(P,{size:12,className:"rotate-45deg"})," ",r.jsx("span",{className:"ml-0.5",children:"-8%"})]}):null)]}),t.badge&&r.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-50 text-green-700 border border-green-100",children:t.badge}),r.jsx("div",{className:"ml-2 p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:r.jsx(D,{size:16})})]},t.id);var s})}),"recent"===t&&r.jsx("div",{className:"divide-y divide-gray-100",children:u.map(t=>{return r.jsxs("button",{onClick:()=>e(t.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),r.jsxs("div",{className:"ml-4 text-left flex-grow",children:[r.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:t.title}),r.jsxs("div",{className:"flex items-center mt-1 text-gray-500 group-hover:translate-x-1 transition-transform duration-200 delay-75",children:[r.jsx(c,{size:14,className:"text-gray-400"}),r.jsx("span",{className:"text-gray-500 text-xs ml-1",children:t.time})]})]}),r.jsx("div",{className:"mr-2",children:(s=t.status,"completed"===s?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Completed"}):"in-progress"===s?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:"In Progress"}):"pending"===s?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-100",children:"Pending"}):null)}),r.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:r.jsx(D,{size:16})})]},t.id);var s})}),"favorites"===t&&r.jsxs("div",{className:"divide-y divide-gray-100",children:[g.map(t=>r.jsxs("button",{onClick:()=>e(t.id),className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${t.color}-50 text-${t.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${t.color}-100`,children:t.icon}),r.jsx("span",{className:"ml-4 text-gray-800 font-medium flex-grow text-left group-hover:translate-x-1 transition-transform duration-200",children:t.title}),r.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:`h-full bg-gradient-to-r from-${t.color}-500 to-${t.color}-400`,style:{width:t.usage}})}),r.jsx(z,{size:16,className:"text-amber-400 mr-2",fill:"#fbbf24"}),r.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:r.jsx(D,{size:16})})]},t.id)),r.jsx("div",{className:"px-6 py-3 text-center",children:r.jsxs("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700 transition-colors duration-200 flex items-center justify-center mx-auto",children:[r.jsx(p,{size:14,className:"mr-1"}),"Manage Favorites"]})})]})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[r.jsx(T,{size:16,className:"mr-1"}),r.jsx("span",{children:"4 pending tasks"})]}),r.jsxs("button",{onClick:()=>e("all-actions"),className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All",r.jsx(D,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),r.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})},Et=({title:e,total:t,items:a,subtitle:i})=>{const[n,l]=s.useState(!1);s.useEffect(()=>{l(!0)},[]);const o=["bg-blue-600","bg-blue-500","bg-blue-400","bg-blue-300"];return r.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200 w-full h-full",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-gray-900 font-semibold text-lg flex items-center gap-2",children:[r.jsx(F,{size:20,className:"text-blue-500"}),e]}),i&&r.jsx("p",{className:"text-gray-500 text-sm mt-1",children:i})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs("span",{className:"bg-blue-50 text-blue-700 font-semibold py-1 px-3 rounded-full text-sm border border-blue-100",children:["Total: ",t]}),r.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:r.jsx(p,{size:16})})]})]}),r.jsx("div",{className:"relative h-48 flex items-end justify-between px-4 mt-8 pt-6 mb-3",children:a.map((e,s)=>{const a=Math.round(e.value/t*100),i=Math.max(30,1.5*a);return r.jsxs("div",{className:"flex flex-col items-center group",children:[r.jsxs("div",{className:"absolute -top-6 text-gray-800 font-semibold bg-gray-50 px-2 py-0.5 rounded shadow-sm border border-gray-100 transition-all duration-200 group-hover:bg-blue-50 group-hover:border-blue-100",children:[a,"%"]}),r.jsx("div",{className:"relative",style:{height:`${i}px`},children:r.jsx("div",{className:`w-12 ${o[s%o.length]} rounded-lg transition-all duration-300 group-hover:opacity-90 group-hover:shadow-md group-hover:scale-105`,style:{height:n?"100%":"0%",minHeight:"20px",transition:"height 0.8s ease-out"}})}),r.jsx("div",{className:"text-gray-600 font-medium text-sm mt-3 transition-all duration-200 group-hover:text-gray-900 group-hover:translate-y-[-2px]",children:e.label})]},s)})}),r.jsx("div",{className:"relative h-0.5 bg-gray-100 w-full mt-1 mb-1 rounded-full"})]})},Ft=({title:e,total:t,items:s,onAction:a,trend:i})=>{const n=e=>{switch(e){case"error":return"red";case"warning":return"amber";case"success":return"green";case"info":return"blue";default:return"gray"}};return r.jsxs("button",{onClick:a,className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden border-b border-gray-100 last:border-b-0",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsx("span",{className:`flex items-center justify-center w-12 h-12 rounded-lg bg-${n(s[0]?.color||"blue")}-50 text-${n(s[0]?.color||"blue")}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${n(s[0]?.color||"blue")}-100`,children:(e=>{switch(e){case"error":return r.jsx($,{size:16});case"warning":return r.jsx(O,{size:16});case"success":return r.jsx(v,{size:16});case"info":return r.jsx(c,{size:16});default:return r.jsx(T,{size:16})}})(s[0]?.color)}),r.jsxs("div",{className:"ml-4 text-left flex-grow",children:[r.jsx("span",{className:"text-gray-800 font-medium block group-hover:translate-x-1 transition-transform duration-200",children:e}),r.jsxs("div",{className:"flex items-center mt-0.5 space-x-2",children:[r.jsxs("span",{className:"text-gray-500 text-sm group-hover:translate-x-1 transition-transform duration-200 delay-75",children:[s.length," items • Total: ",t]}),i&&(l=i,"up"===l?r.jsxs("div",{className:"flex items-center text-emerald-600 text-xs",children:[r.jsx(P,{size:12,className:"rotate-[-45deg]"})," ",r.jsx("span",{className:"ml-0.5",children:"+12%"})]}):"down"===l?r.jsxs("div",{className:"flex items-center text-rose-600 text-xs",children:[r.jsx(P,{size:12,className:"rotate-45deg"})," ",r.jsx("span",{className:"ml-0.5",children:"-8%"})]}):null)]})]}),r.jsx("div",{className:"flex items-center space-x-2 mr-2",children:s.slice(0,3).map((e,t)=>r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium bg-${n(e.color)}-50 text-${n(e.color)}-700 border border-${n(e.color)}-100`,children:e.value},t))}),r.jsx("div",{className:"ml-2 p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:r.jsx(D,{size:16})})]});var l};function Ot(){const[e,t]=s.useState("charts"),[a,i]=s.useState(""),[n,l]=s.useState(!1),[o,d]=s.useState(!1);s.useEffect(()=>(d(!0),()=>d(!1)),[]);const c=[{id:"revenue",title:"Revenue Distribution",subtitle:"Annual breakdown by category",total:100,items:[{label:"Category 1",value:38},{label:"Category 2",value:27},{label:"Category 3",value:23},{label:"Category 4",value:12}],trend:"up"},{id:"resources",title:"Resource Allocation",subtitle:"Department distribution",total:100,items:[{label:"Engineering",value:45},{label:"Marketing",value:30},{label:"Operations",value:15},{label:"Support",value:10}],trend:"up"},{id:"expenses",title:"Expense Categories",subtitle:"Q2 breakdown",total:100,items:[{label:"Payroll",value:55},{label:"Facilities",value:20},{label:"Software",value:15},{label:"Travel",value:10}],trend:"stable"}],x=[{id:"requisitions",title:"Requisitions to Approve",total:8,items:[{label:"High Priority",value:3,color:"error"},{label:"Medium Priority",value:4,color:"warning"},{label:"Low Priority",value:1,color:"success"}],trend:"up"},{id:"pending-requests",title:"My Pending Requests",total:5,items:[{label:"Awaiting Approval",value:3,color:"warning"},{label:"In Progress",value:2,color:"info"}],trend:"stable"},{id:"travel-approvals",title:"Travel Approvals",total:4,items:[{label:"Pending",value:2,color:"warning"},{label:"Approved",value:1,color:"success"},{label:"Rejected",value:1,color:"error"}],trend:"down"},{id:"expense-reports",title:"Expense Reports",total:6,items:[{label:"Draft",value:2,color:"info"},{label:"Submitted",value:3,color:"warning"},{label:"Approved",value:1,color:"success"}],trend:"up"}],m=a?x.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())):x,u=a?c.filter(e=>e.title.toLowerCase().includes(a.toLowerCase())||e.subtitle.toLowerCase().includes(a.toLowerCase())):c;return r.jsxs("div",{className:"bg-white rounded-xl overflow-hidden border border-gray-200 w-full h-full flex flex-col",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 relative bg-white",children:[r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(I,{size:20,className:"text-purple-500"}),"My Tasks Dashboard"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your progress and activities with intelligent insights"})]}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>l(!n),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:r.jsx(C,{size:18})}),r.jsx("button",{className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600 transition-colors duration-200",children:r.jsx(p,{size:18})})]})]}),n&&r.jsxs("div",{className:"mt-4 flex items-center bg-gray-50 rounded-lg px-3 py-2 border border-gray-200 transition-all duration-300",children:[r.jsx(C,{size:18,className:"text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search tasks and charts...",value:a,onChange:e=>i(e.target.value),className:"bg-transparent border-none outline-none text-gray-800 w-full pl-2 placeholder-gray-400 text-sm"})]})]}),r.jsx("div",{className:"flex border-b border-gray-200 bg-white",children:["tasks","charts","favorites"].map(s=>r.jsxs("button",{onClick:()=>t(s),className:"flex-1 py-3 text-sm font-medium transition-all duration-200 relative "+(e===s?"text-blue-600":"text-gray-500 hover:text-gray-800"),children:["tasks"===s&&r.jsx(E,{size:16,className:"inline mr-2"}),"charts"===s&&r.jsx(F,{size:16,className:"inline mr-2"}),"favorites"===s&&r.jsx(z,{size:16,className:"inline mr-2"}),s.charAt(0).toUpperCase()+s.slice(1),e===s&&r.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-blue-500"})]},s))}),r.jsxs("div",{className:"max-h-96 overflow-y-auto custom-scrollbar",children:["charts"===e&&r.jsx("div",{className:"p-4 space-y-4",children:u.map((e,t)=>r.jsx(Et,{title:e.title,subtitle:e.subtitle,total:e.total,items:e.items},e.id))}),"tasks"===e&&r.jsx("div",{className:"divide-y divide-gray-100",children:m.map(e=>r.jsx(Ft,{title:e.title,total:e.total,items:e.items,trend:e.trend,onAction:()=>{}},e.id))}),"favorites"===e&&r.jsxs("div",{className:"divide-y divide-gray-100",children:[m.slice(0,2).map(e=>r.jsxs("button",{className:"w-full flex items-center px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsx("span",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-purple-50 text-purple-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-purple-100",children:r.jsx(z,{size:16})}),r.jsx("span",{className:"ml-4 text-gray-800 font-medium flex-grow text-left group-hover:translate-x-1 transition-transform duration-200",children:e.title}),r.jsx("div",{className:"w-16 h-2 bg-gray-100 rounded-full overflow-hidden mr-2",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-400",style:{width:40*Math.random()+60+"%"}})}),r.jsx(z,{size:16,className:"text-amber-400 mr-2",fill:"#fbbf24"}),r.jsx("div",{className:"p-2 rounded-full text-gray-400 group-hover:text-gray-600 group-hover:bg-gray-100 transition-all duration-200 ease-in-out transform group-hover:translate-x-1",children:r.jsx(D,{size:16})})]},e.id)),r.jsx("div",{className:"px-6 py-3 text-center",children:r.jsxs("button",{className:"text-sm text-blue-600 font-medium hover:text-blue-700 transition-colors duration-200 flex items-center justify-center mx-auto",children:[r.jsx(p,{size:14,className:"mr-1"}),"Manage Favorites"]})})]})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[r.jsx(T,{size:16,className:"mr-1"}),r.jsx("span",{children:"8 pending approvals"})]}),r.jsxs("button",{className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All Tasks",r.jsx(D,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),r.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})}const $t=()=>{const[e,t]=s.useState(!1);s.useEffect(()=>(t(!0),()=>t(!1)),[]);const a=[{id:1,title:"Requisition Approved",description:"Office supplies #REQ-2023-042 approved",time:"2 hours ago",icon:r.jsx(v,{size:18}),color:"emerald",status:"completed"},{id:2,title:"Travel Request Submitted",description:"Conference trip to New York submitted",time:"Yesterday",icon:r.jsx(W,{size:18}),color:"blue",status:"in-progress"},{id:3,title:"Expense Report Rejected",description:"Hotel expenses #EXP-2023-15 needs revision",time:"3 days ago",icon:r.jsx(O,{size:18}),color:"rose",status:"pending"}];return r.jsxs("div",{className:`bg-white rounded-xl overflow-hidden border border-gray-200 max-w-md shadow-lg ${e?"shadow-lg shadow-gray-200/50":""} transition-all duration-300`,children:[r.jsxs("div",{className:"px-6 py-5 border-b border-gray-100 relative",children:[r.jsx("div",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-2",children:[r.jsx(T,{size:20,className:"text-blue-500"}),"Activity Timeline"]}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Track your workflow progress"})]}),r.jsxs("div",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full text-xs font-medium border border-blue-100 flex items-center",children:[r.jsx(k,{size:14,className:"mr-1"}),"New Activity"]})]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-10 top-0 bottom-0 w-0.5 bg-gradient-to-b from-blue-100 via-purple-100 to-pink-100"}),r.jsx("ul",{className:"relative z-10",children:a.map(e=>{return r.jsxs("li",{className:"px-6 py-4 hover:bg-gray-50 transition-all duration-200 ease-in-out group relative overflow-hidden cursor-pointer",children:[r.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-50/0 via-blue-50/0 to-purple-50/0 opacity-0 group-hover:opacity-30 transition-opacity duration-200 pointer-events-none"}),r.jsxs("div",{className:"flex items-start",children:[r.jsx("span",{className:`flex items-center justify-center w-10 h-10 rounded-lg bg-${e.color}-50 text-${e.color}-600 group-hover:scale-105 transition-all duration-200 ease-in-out shadow-sm border border-${e.color}-100`,children:e.icon}),r.jsxs("div",{className:"ml-4 flex-1 group-hover:translate-x-1 transition-transform duration-200",children:[r.jsxs("div",{className:"flex items-center text-gray-500 text-xs mb-1",children:[r.jsx(c,{size:14,className:"mr-1"}),r.jsx("span",{children:e.time})]}),r.jsx("div",{className:"text-gray-800 text-base font-medium mb-1",children:e.title}),r.jsx("div",{className:"text-gray-600 text-sm",children:e.description})]}),r.jsx("div",{className:"ml-2",children:(t=e.status,"completed"===t?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-50 text-emerald-700 border border-emerald-100",children:"Completed"}):"in-progress"===t?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:"In Progress"}):"pending"===t?r.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-700 border border-amber-100",children:"Pending"}):null)})]})]},e.id);var t})})]}),r.jsx("div",{className:"relative",children:r.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100 relative",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center text-gray-500 text-sm",children:[r.jsx(T,{size:16,className:"mr-1"}),r.jsx("span",{children:"3 recent activities"})]}),r.jsxs("button",{className:"text-sm font-medium flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 shadow-sm hover:shadow group",children:["View All",r.jsx(D,{size:16,className:"ml-1 group-hover:translate-x-1 transition-transform duration-200"})]})]})})}),r.jsx("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: rgba(243, 244, 246, 0.5);\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: rgba(156, 163, 175, 0.5);\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: rgba(156, 163, 175, 0.7);\n        }\n      "})]})},Wt=({isVisible:e,message:t="Loading Requisitions..."})=>e?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl p-4 flex items-center gap-2",children:[r.jsx(Q,{className:"animate-spin w-5 h-5 text-blue-500"}),r.jsx("span",{className:"font-medium text-sm",children:t})]})}):null,Bt=({title:e,value:t,icon:s,color:a,trend:i,subtitle:n,prefix:l="",suffix:o="",size:d="normal"})=>{const c="large"===d?"col-span-2":"",x="large"===d?"text-3xl":"text-xl";return r.jsxs("div",{className:`bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-md transition-shadow ${c}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("div",{className:"p-2 rounded-xl "+("blue"===a?"bg-blue-50":"green"===a?"bg-emerald-50":"purple"===a?"bg-purple-50":"orange"===a?"bg-orange-50":"amber"===a?"bg-amber-50":"red"===a?"bg-red-50":"bg-gray-50"),children:r.jsx(s,{size:16,className:"blue"===a?"text-blue-600":"green"===a?"text-emerald-600":"purple"===a?"text-purple-600":"orange"===a?"text-orange-600":"amber"===a?"text-amber-600":"red"===a?"text-red-600":"text-gray-600"})}),i&&r.jsxs("div",{className:"flex items-center gap-1",children:[i>0?r.jsx(y,{size:12,className:"text-emerald-500"}):r.jsx(X,{size:12,className:"text-red-500"}),r.jsxs("span",{className:"text-xs font-medium "+(i>0?"text-emerald-500":"text-red-500"),children:[i>0?"+":"",i,"%"]})]})]}),r.jsxs("div",{className:`${x} font-bold text-gray-900 mb-1`,children:[l,t,o]}),r.jsx("div",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:e}),n&&r.jsx("div",{className:"text-xs text-gray-400",children:n})]})};function Ht(){const t=e(),[a,l]=s.useState([]),[d,x]=s.useState(!0),[m,u]=s.useState(null),[p,g]=s.useState("overview"),[h,b]=s.useState(!1),[j,y]=s.useState(""),[w,N]=s.useState("info"),[k,S]=s.useState(null),[z,D]=s.useState(""),[R,q]=s.useState(!1),[L,P]=s.useState("all"),[A]=i(),[I,E]=s.useState(()=>A.get("section")||"requisition-dash"),F="https://backend.nexusmwi.com";s.useEffect(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await fetch(`${F}/api/requisitions/my`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const s=(await t.json()).map(W);l(s)}catch(e){u("Failed to load requisition data")}finally{x(!1)}})()},[F]);const W=e=>{const t=new Date(e.createdAt),s=new Date,r=Math.floor((s-t)/864e5);return{id:e._id,itemName:e.itemName,quantity:e.quantity,status:e.status,budgetCode:e.budgetCode,urgency:e.urgency,preferredSupplier:e.preferredSupplier,reason:e.reason,category:e.category,estimatedCost:e.estimatedCost,deliveryDate:e.deliveryDate?new Date(e.deliveryDate).toLocaleDateString():null,department:e.department,environmentalImpact:e.environmentalImpact,submissionDate:t.toLocaleDateString(),submissionTime:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),daysInProcess:r,employee:e.employee,approver:e.approver,timeline:((e,t,s)=>{const r=[],a=new Date(t);r.push({status:"submitted",date:a.toLocaleDateString(),time:a.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Requisition submitted successfully",completed:!0});const i=new Date(a);if(i.setHours(i.getHours()+2),r.push({status:"under_review",date:i.toLocaleDateString(),time:i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Under review by department manager",completed:["approved","rejected","under_review"].includes(e),current:"pending"===e}),["approved","procurement","shipped","delivered"].includes(e)){const t=new Date(a);t.setDate(t.getDate()+1),r.push({status:"procurement",date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Approved - Procurement team sourcing items",completed:["procurement","shipped","delivered"].includes(e),current:"approved"===e})}if(["shipped","delivered"].includes(e)){const t=new Date(a);t.setDate(t.getDate()+3),r.push({status:"shipped",date:t.toLocaleDateString(),time:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Items shipped and in transit",completed:"delivered"===e,current:"shipped"===e})}if("delivered"===e){const e=new Date(a);e.setDate(e.getDate()+5),r.push({status:"delivered",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Items delivered successfully",completed:!0})}if("rejected"===e){const e=new Date(s||t);r.push({status:"rejected",date:e.toLocaleDateString(),time:e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),description:"Requisition was rejected - please review feedback",completed:!0,isRejection:!0})}return r})(e.status,e.createdAt,e.updatedAt),trackingId:`REQ-${new Date(e.createdAt).getFullYear()}-${e._id.slice(-6).toUpperCase()}`}},X=e=>{switch(e){case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"approved":return"text-blue-600 bg-blue-50 border-blue-200";case"rejected":return"text-red-600 bg-red-50 border-red-200";case"under_review":return"text-purple-600 bg-purple-50 border-purple-200";case"procurement":return"text-indigo-600 bg-indigo-50 border-indigo-200";case"shipped":return"text-orange-600 bg-orange-50 border-orange-200";case"delivered":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},ee=e=>{switch(e){case"pending":return r.jsx(c,{size:16});case"approved":case"delivered":return r.jsx(v,{size:16});case"rejected":return r.jsx($,{size:16});case"under_review":return r.jsx(Q,{size:16,className:"animate-spin"});case"procurement":return r.jsx(H,{size:16});case"shipped":return r.jsx(Z,{size:16});default:return r.jsx(O,{size:16})}},te=e=>{switch(e){case"pending":return"Pending Review";case"approved":return"Approved";case"rejected":return"Rejected";case"under_review":return"Under Review";case"procurement":return"In Procurement";case"shipped":return"Shipped";case"delivered":return"Delivered";default:return"Unknown"}},se=e=>{switch(e){case"high":return"text-red-600 bg-red-50 border-red-200";case"medium":return"text-amber-600 bg-amber-50 border-amber-200";case"low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},re=()=>{t(`?section=${"requisitions"}`,{replace:!0})},ae=e=>{navigator.clipboard.writeText(e),((e,t="info")=>{y(e),N(t),b(!0),setTimeout(()=>b(!1),4e3)})(`Tracking ID ${e} copied to clipboard!`,"success")},ie={total:a.length,pending:a.filter(e=>"pending"===e.status).length,approved:a.filter(e=>"approved"===e.status).length,rejected:a.filter(e=>"rejected"===e.status).length,delivered:a.filter(e=>"delivered"===e.status).length,totalValue:a.reduce((e,t)=>e+t.estimatedCost,0),averageProcessingTime:Math.round(a.reduce((e,t)=>e+t.daysInProcess,0)/(a.length||1))},ne=a.filter(e=>{const t=e.itemName.toLowerCase().includes(z.toLowerCase())||e.trackingId.toLowerCase().includes(z.toLowerCase())||e.department.toLowerCase().includes(z.toLowerCase()),s="all"===L||e.status===L;return t&&s});return d?r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx(Wt,{isVisible:d,message:"Loading requisitions..."})}):m?r.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:r.jsxs(_e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:r.jsx(O,{size:32,className:"text-red-600"})}),r.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error Loading Requisitions"}),r.jsx("p",{className:"text-gray-600 mb-6 text-sm",children:m}),r.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium text-sm",children:"Try Again"})]})}):r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("main",{className:"p-3 space-y-3 max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Requisitions"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(C,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search requisitions...",value:z,onChange:e=>D(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-200 rounded-xl text-sm bg-white"})]}),r.jsxs("select",{value:L,onChange:e=>P(e.target.value),className:"px-3 py-2 border border-gray-200 rounded-xl text-sm bg-white",children:[r.jsx("option",{value:"all",children:"All Status"}),r.jsx("option",{value:"pending",children:"Pending"}),r.jsx("option",{value:"approved",children:"Approved"}),r.jsx("option",{value:"rejected",children:"Rejected"}),r.jsx("option",{value:"delivered",children:"Delivered"})]}),r.jsxs("button",{onClick:()=>{x(!0),setTimeout(()=>x(!1),1e3),window.location.reload()},disabled:d,className:"flex items-center gap-2 px-3 py-2 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors disabled:opacity-50 text-sm",children:[r.jsx(B,{size:14,className:d?"animate-spin":""}),"Refresh"]}),r.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors text-sm",children:[r.jsx(M,{size:14}),"New Request"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[r.jsx(Bt,{title:"Total Requests",value:ie.total,icon:H,color:"blue",subtitle:"All requisitions"}),r.jsx(Bt,{title:"Pending Review",value:ie.pending,icon:c,color:"amber",subtitle:"Awaiting approval"}),r.jsx(Bt,{title:"Approved",value:ie.approved,icon:v,color:"green",trend:12,subtitle:"In procurement"}),r.jsx(Bt,{title:"Total Value",value:ie.totalValue.toLocaleString(),prefix:"$",icon:V,color:"purple",trend:8,subtitle:"Estimated cost"})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(H,{className:"w-4 h-4 text-gray-600"}),r.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:"Requisition Requests"})]}),r.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:r.jsxs("span",{children:[ne.length," of ",ie.total," requests"]})})]}),0===ne.length?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-3",children:r.jsx(H,{size:24,className:"text-gray-400"})}),r.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:z||"all"!==L?"No requisitions match your filters":"No Requisitions Found"}),r.jsx("p",{className:"text-gray-500 mb-3 text-xs",children:z||"all"!==L?"Try adjusting your search criteria or filters.":"You haven't created any requisitions yet. Start by creating your first request."}),r.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-3 py-2 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 mx-auto text-sm",children:[r.jsx(M,{size:14}),"Create New Request"]})]}):r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:ne.map(e=>r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3 hover:shadow-md transition-shadow",children:[r.jsx("div",{className:"flex items-start justify-between mb-3",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:e.itemName}),r.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[r.jsx("button",{onClick:()=>(e=>{S(e)})(e),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:r.jsx(J,{size:14})}),r.jsx("button",{onClick:()=>ae(e.trackingId),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-colors",children:r.jsx(U,{size:14})}),r.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-xl transition-colors",children:r.jsx(_,{size:14})})]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium border ${X(e.status)}`,children:[ee(e.status),r.jsx("span",{className:"ml-1",children:te(e.status)})]}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium ${se(e.urgency)}`,children:e.urgency.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-600 mb-3",children:[r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(f,{size:12}),e.trackingId]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(o,{size:12}),e.submissionDate]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(c,{size:12}),e.daysInProcess,"d"]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[r.jsxs("div",{className:"bg-blue-50 rounded-xl p-2",children:[r.jsx("span",{className:"text-blue-600 font-medium text-xs",children:"Quantity"}),r.jsx("p",{className:"font-bold text-blue-900 text-sm",children:e.quantity})]}),r.jsxs("div",{className:"bg-green-50 rounded-xl p-2",children:[r.jsx("span",{className:"text-green-600 font-medium text-xs",children:"Est. Cost"}),r.jsxs("p",{className:"font-bold text-green-900 text-sm",children:["$",e.estimatedCost.toLocaleString()]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3",children:[r.jsxs("div",{className:"bg-purple-50 rounded-xl p-2",children:[r.jsx("span",{className:"text-purple-600 font-medium text-xs",children:"Procurement Officer"}),r.jsx("p",{className:"font-bold text-purple-900 text-xs",children:e.approver.email})]}),r.jsxs("div",{className:"bg-amber-50 rounded-xl p-2",children:[r.jsx("span",{className:"text-amber-600 font-medium text-xs",children:"Budget Code"}),r.jsx("p",{className:"font-bold text-amber-900 text-xs",children:e.budgetCode})]})]})]})}),r.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:"Progress Timeline"}),r.jsxs("span",{className:"text-xs text-gray-500",children:[e.timeline.filter(e=>e.completed).length," of ",e.timeline.length," steps"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-2 top-0 bottom-0 w-0.5 bg-gray-200"}),r.jsx("div",{className:"absolute left-2 top-0 w-0.5 bg-blue-500 transition-all duration-500",style:{height:e.timeline.filter(e=>e.completed).length/e.timeline.length*100+"%"}}),r.jsxs("div",{className:"space-y-2",children:[e.timeline.slice(0,3).map((e,t)=>r.jsxs("div",{className:"relative flex items-center gap-3",children:[r.jsx("div",{className:"relative z-10 w-1.5 h-1.5 rounded-full "+(e.completed?"bg-green-500":e.current?"bg-blue-500 animate-pulse":"bg-gray-300")}),r.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[r.jsx("div",{children:r.jsx("p",{className:"text-xs font-medium "+(e.current?"text-blue-600":"text-gray-900"),children:e.description})}),r.jsx("div",{className:"text-xs text-gray-500",children:e.date})]})]},t)),e.timeline.length>3&&r.jsxs("div",{className:"text-xs text-gray-400 text-center",children:["+",e.timeline.length-3," more steps"]})]})]})]})]},e.id))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-xl",children:r.jsx(M,{className:"w-4 h-4 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"New Requisition"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Submit a new procurement request"})]})]}),r.jsx("button",{onClick:re,className:"w-full py-2 px-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-colors text-sm",children:"Create Request"})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"p-2 bg-green-50 rounded-xl",children:r.jsx(Y,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Export Report"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Download requisition summary"})]})]}),r.jsx("button",{className:"w-full py-2 px-3 bg-green-500 text-white rounded-xl font-medium hover:bg-green-600 transition-colors text-sm",children:"Download Report"})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-3",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"p-2 bg-purple-50 rounded-xl",children:r.jsx(T,{className:"w-4 h-4 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Track Status"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Monitor all active requests"})]})]}),r.jsx("button",{className:"w-full py-2 px-3 bg-purple-500 text-white rounded-xl font-medium hover:bg-purple-600 transition-colors text-sm",children:"View All"})]})]})]}),k&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(H,{size:20,className:"text-blue-600"}),"Requisition Details"]}),r.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Track the progress of your request"})]}),r.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors duration-200",children:r.jsx(n,{size:20})})]})}),r.jsx("div",{className:"p-6 max-h-[70vh] overflow-y-auto",children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-blue-50 rounded-2xl p-4 border border-blue-200",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:k.itemName}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium border ${X(k.status)}`,children:[ee(k.status),r.jsx("span",{className:"ml-1",children:te(k.status)})]}),r.jsxs("button",{onClick:()=>ae(k.trackingId),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-1",children:[r.jsx(U,{size:10}),k.trackingId]})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Submitted"}),r.jsx("p",{className:"font-bold text-blue-900 text-sm",children:k.submissionDate})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Quantity"}),r.jsx("p",{className:"font-bold text-blue-900 text-sm",children:k.quantity})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Est. Cost"}),r.jsxs("p",{className:"font-bold text-blue-900 text-sm",children:["$",k.estimatedCost.toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Days in Process"}),r.jsx("p",{className:"font-bold text-blue-900 text-sm",children:k.daysInProcess})]})]})]}),r.jsxs("div",{children:[r.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:[r.jsx(T,{size:16}),"Detailed Progress Timeline"]}),r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),r.jsx("div",{className:"absolute left-4 top-0 w-0.5 bg-blue-500 transition-all duration-1000",style:{height:k.timeline.filter(e=>e.completed).length/k.timeline.length*100+"%"}}),r.jsx("div",{className:"space-y-4",children:k.timeline.map((e,t)=>r.jsxs("div",{className:"relative flex items-start gap-4 "+(e.current?"bg-blue-50 border border-blue-200 rounded-2xl p-3 -ml-3":""),children:[r.jsx("div",{className:"relative z-10 w-3 h-3 rounded-full border-2 "+(e.completed?"bg-green-500 border-green-500":e.current?"bg-blue-500 border-blue-500 animate-pulse":"bg-white border-gray-300"),children:e.completed&&r.jsx(v,{size:10,className:"text-green-500 absolute -top-0.5 -left-0.5"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("h5",{className:"font-semibold text-sm "+(e.current?"text-blue-900":"text-gray-900"),children:e.description}),r.jsxs("span",{className:"text-xs "+(e.current?"text-blue-600":"text-gray-500"),children:[e.date," ",e.time&&`• ${e.time}`]})]}),e.current&&r.jsxs("div",{className:"flex items-center gap-1 text-blue-600 text-xs",children:[r.jsx(Q,{size:12,className:"animate-spin"}),r.jsx("span",{children:"Currently in progress..."})]})]})]},t))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-3",children:"Request Information"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Department"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.department})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Budget Code"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.budgetCode})]}),r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Priority Level"}),r.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-xl text-xs font-medium ${se(k.urgency)}`,children:k.urgency.toUpperCase()})]}),k.deliveryDate&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Required Delivery Date"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.deliveryDate})]}),k.preferredSupplier&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Preferred Supplier"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.preferredSupplier})]})]})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-sm font-bold text-gray-900 mb-3",children:"Additional Details"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-2",children:"Business Justification"}),r.jsx("p",{className:"text-gray-900 text-xs leading-relaxed",children:k.reason})]}),k.environmentalImpact&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Environmental Considerations"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.environmentalImpact})]}),k.category&&r.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Category"}),r.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k.category})]})]})]})]}),r.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("button",{className:"px-3 py-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors flex items-center gap-1 text-sm",children:[r.jsx(Y,{size:14}),"Export PDF"]}),r.jsxs("button",{className:"px-3 py-2 bg-gray-50 text-gray-600 rounded-xl hover:bg-gray-100 transition-colors flex items-center gap-1 text-sm",children:[r.jsx(K,{size:14}),"Email Updates"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:["rejected"===k.status&&r.jsxs("button",{className:"px-3 py-2 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors flex items-center gap-1 text-sm",children:[r.jsx(G,{size:14}),"Resubmit"]}),r.jsx("button",{onClick:()=>S(null),className:"px-3 py-2 bg-gray-200 text-gray-700 rounded-xl hover:bg-gray-300 transition-colors text-sm",children:"Close"})]})]})]})})]})}),h&&r.jsx(_e.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:r.jsx("div",{className:"px-4 py-3 rounded-2xl shadow-2xl border "+("success"===w?"bg-green-50 text-green-800 border-green-200":"error"===w?"bg-red-50 text-red-800 border-red-200":"bg-blue-50 text-blue-800 border-blue-200"),children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center "+("success"===w?"bg-green-500":"error"===w?"bg-red-500":"bg-blue-500"),children:r.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),r.jsx("span",{className:"font-medium text-sm",children:j}),r.jsx("button",{onClick:()=>b(!1),className:"ml-3 text-gray-400 hover:text-gray-600",children:r.jsx(n,{size:16})})]})})})]})}const Vt=Object.freeze(Object.defineProperty({__proto__:null,default:Ht},Symbol.toStringTag,{value:"Module"}));fe(ze)(({theme:e})=>({width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box",backgroundColor:e.palette.background.default,borderRight:`1px solid ${e.palette.divider}`,backgroundImage:"none",boxShadow:"none"}})),fe(De)(({theme:e,selected:t})=>({borderRadius:e.shape.borderRadius,margin:e.spacing(.25,1.5),padding:e.spacing(.75,1.5),minHeight:40,"&.Mui-selected":{backgroundColor:ve(e.palette.primary.main,.1),"&:hover":{backgroundColor:ve(e.palette.primary.main,.15)},"& .MuiListItemIcon-root":{color:e.palette.primary.main},"& .MuiListItemText-primary":{fontWeight:600,fontSize:"0.875rem"}},"&:hover":{backgroundColor:e.palette.action.hover},"& .MuiListItemIcon-root":{minWidth:36},"& .MuiListItemText-root":{marginTop:2,marginBottom:2}})),fe("div")(({theme:e})=>({display:"flex",alignItems:"center",padding:e.spacing(2,1.5),...e.mixins.toolbar})),fe(Me)(({theme:e})=>({padding:e.spacing(1.5,2,1),color:e.palette.text.secondary,fontSize:"0.75rem",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.5px"})),fe(Le)(({theme:e})=>({height:"100%",borderRadius:1.5*e.shape.borderRadius,boxShadow:e.shadows[1],transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]},"& .MuiCardContent-root":{padding:e.spacing(2)}})),fe(Pe)(({theme:e})=>({padding:e.spacing(1.5),borderRadius:1.5*e.shape.borderRadius,border:`1px solid ${e.palette.divider}`,transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-1px)",boxShadow:e.shadows[1]}})),fe(Le)(({theme:e})=>({borderRadius:2*e.shape.borderRadius,overflow:"hidden",transition:"transform 0.2s, box-shadow 0.2s","&:hover":{transform:"translateY(-2px)",boxShadow:e.shadows[3]}}));const Jt=({theme:e})=>r.jsx(je,{sx:{display:"flex",height:"100vh",alignItems:"center",justifyContent:"center",backgroundColor:e.palette.background.default},children:r.jsxs(je,{sx:{textAlign:"center"},children:[r.jsx(qe,{size:40,sx:{mb:2}}),r.jsx(Me,{variant:"h6",sx:{mb:2,color:e.palette.text.primary},children:"Loading Dashboard..."}),r.jsx(Me,{variant:"body2",color:"text.secondary",children:"Please wait while we load your information"})]})});const Ut=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const t=e(),a=he(),{user:n,loading:l,token:o}=me(),[d]=i(),[c,x]=s.useState({requisitions:{counts:{total:0,pending:0}},rfqs:{counts:{total:0,open:0}},purchaseOrders:{counts:{total:0,pending:0}},invoices:{counts:{total:0,pending:0}}}),[m,u]=s.useState(null),[p,g]=s.useState(null),[h,b]=s.useState(!0),[f,j]=s.useState(null),[v,y]=s.useState(!1),[w,N]=s.useState(!1),[k,C]=s.useState(()=>d.get("section")||"dashboard"),[S,z]=s.useState(!0),[D,T]=s.useState(0);if(s.useEffect(()=>{const e=()=>{T(window.pageYOffset)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),s.useEffect(()=>{const e=()=>{const e=localStorage.getItem("sidebarOpen");null!==e&&z(JSON.parse(e))},t=e=>{z(e.detail.open)};return window.addEventListener("storage",e),window.addEventListener("sidebarToggle",t),e(),()=>{window.removeEventListener("storage",e),window.removeEventListener("sidebarToggle",t)}},[]),s.useEffect(()=>{const e=d.get("section")||"dashboard";C(e)},[d]),s.useEffect(()=>{(async()=>{if(n&&o)try{b(!0);const[e,t]=await Promise.all([pe.getProfile().catch(e=>null),pe.getUserStats().catch(e=>null)]);e&&u(e),t&&(g(t),t.dashboardStats&&x(e=>({...e,...t.dashboardStats})))}catch(e){}finally{b(!1)}})()},[n,o]),s.useEffect(()=>{l||n&&o||t("/login")},[n,o,l,t]),l||h)return r.jsx(Jt,{theme:a});if(!n||!o)return r.jsx(Jt,{theme:a});const M=e=>{t(`?section=${e}`,{replace:!0})};return r.jsxs(je,{sx:{display:"flex",height:"100vh",overflow:"hidden",backgroundColor:a.palette.background.default},children:[r.jsx(Tt,{stats:c,activeSection:k,handleSectionChange:M,onSidebarToggle:z}),r.jsxs(je,{component:"main",sx:{flexGrow:1,overflow:"auto",backgroundColor:a.palette.background.default,position:"relative"},children:[r.jsx(Lt,{user:n,onMobileMenuToggle:N,scrollPosition:D,handleSectionChange:M,sidebarOpen:S,sidebarWidth:256,collapsedSidebarWidth:70}),r.jsx(je,{sx:{paddingTop:"80px",minHeight:"calc(100vh - 64px)",position:"relative",zIndex:1,padding:"80px 1.5rem 1.5rem"},children:"dashboard"===k?r.jsxs(je,{sx:{maxWidth:"100%",margin:"0 auto"},children:[r.jsx(At,{stats:c,userStats:p}),r.jsxs(je,{sx:{display:"flex",gap:2,mb:4,width:"100%",height:"100%"},children:[r.jsx(je,{sx:{flex:1,minWidth:0,height:"100%",display:"flex",flexDirection:"column"},children:r.jsx(Ot,{})}),r.jsx(je,{sx:{flex:1,minWidth:0,height:"100%",display:"flex",flexDirection:"column"},children:r.jsx(It,{handleSectionChange:M})})]}),r.jsxs(je,{sx:{width:"100%"},children:[r.jsxs(je,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[r.jsx(Me,{variant:"h6",sx:{fontWeight:600},children:"Recent Activity"}),m&&r.jsx(je,{sx:{display:"flex",alignItems:"center",gap:1,px:2,py:1,bgcolor:"grey.50",borderRadius:1},children:r.jsxs(Me,{variant:"body2",color:"text.secondary",children:["Member since: ",new Date((m.user||m).createdAt).toLocaleDateString()]})})]}),r.jsx($t,{userStats:p})]})]}):r.jsxs(je,{children:["requisitions"===k&&r.jsx(Ze,{}),"new-recon"===k&&r.jsx(Xe,{}),"travel-requests"===k&&r.jsx(Ke,{}),"travel-execution"===k&&r.jsx(Ge,{}),"manage-requisitions"===k&&r.jsx(Ht,{}),"user-profile"===k&&r.jsx(ue,{})]})})]}),r.jsx(Qe,{user:n})]})}},Symbol.toStringTag,{value:"Module"})),_t=Object.freeze(Object.defineProperty({__proto__:null,default:({onCancel:t,onSubmitSuccess:a})=>{const[i,l]=s.useState({purpose:"",departureDate:"",returnDate:"",location:"",fundingCodes:"",meansOfTravel:"",currency:"MWK",travelType:"local",estimatedCost:"",numberOfTravelers:1,accommodationNeeded:!1,emergencyContact:"",specialRequirements:"",businessJustification:"",department:""}),[d,c]=s.useState(!1),[x,m]=s.useState(!1),[u,p]=s.useState(!1),[g,h]=s.useState(!1),[f,j]=s.useState(""),[y,w]=s.useState({}),[N,C]=s.useState(0),[S,z]=s.useState(!1),T=e(),{token:R}=me(),q=[{id:0,title:"Travel Details",description:"Basic travel information and purpose",icon:r.jsx(b,{size:20})},{id:1,title:"Dates & Logistics",description:"Travel dates and transportation",icon:r.jsx(o,{size:20})},{id:2,title:"Budget & Approval",description:"Cost estimates and justification",icon:r.jsx(ae,{size:20})}],L=[{value:"own",label:"Own Vehicle",icon:r.jsx(ce,{size:16}),description:"Use personal vehicle"},{value:"company",label:"Company Vehicle",icon:r.jsx(te,{size:16}),description:"Use company fleet"},{value:"rental",label:"Rental Car",icon:r.jsx(ce,{size:16}),description:"Rent a vehicle"},{value:"flight",label:"Flight",icon:r.jsx(xe,{size:16}),description:"Air travel"},{value:"bus",label:"Bus/Coach",icon:r.jsx(ce,{size:16}),description:"Bus transportation"}];s.useEffect(()=>{z(!0);const e=setTimeout(()=>{Object.values(i).some(e=>""!==e&&1!==e&&!1!==e)&&(localStorage.setItem("travelRequestDraft",JSON.stringify(i)),m(!0),setTimeout(()=>m(!1),2e3))},3e3);return()=>clearTimeout(e)},[i]),s.useEffect(()=>{const e=localStorage.getItem("travelRequestDraft");e&&l(JSON.parse(e))},[]);const P=e=>{const{name:t,value:s,type:r,checked:a}=e.target;l(e=>({...e,[t]:"checkbox"===r?a:s})),y[t]&&w(e=>({...e,[t]:""}))},A=e=>{const t={};if(0===e&&(i.purpose.trim()||(t.purpose="Purpose of travel is required"),i.location.trim()||(t.location="Destination is required"),i.department||(t.department="Department is required"),i.purpose.length<10&&(t.purpose="Please provide more details about the purpose")),1===e&&(i.departureDate||(t.departureDate="Departure date is required"),i.returnDate||(t.returnDate="Return date is required"),i.meansOfTravel||(t.meansOfTravel="Transportation method is required"),i.departureDate&&i.returnDate)){const e=new Date(i.departureDate);e>=new Date(i.returnDate)&&(t.returnDate="Return date must be after departure date"),e<new Date&&(t.departureDate="Departure date cannot be in the past")}return 2===e&&(i.fundingCodes.trim()||(t.fundingCodes="Funding code is required"),i.businessJustification.trim()||(t.businessJustification="Business justification is required"),i.businessJustification.length<20&&(t.businessJustification="Please provide detailed justification (minimum 20 characters)")),w(t),0===Object.keys(t).length},I=()=>{if(i.departureDate&&i.returnDate){const e=new Date(i.departureDate),t=new Date(i.returnDate),s=Math.abs(t-e);return Math.ceil(s/864e5)}return 0};return r.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[r.jsx("div",{className:"p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl text-white",children:r.jsx(b,{size:24})}),"Local Travel Request"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Submit a request for domestic business travel"})]}),x&&r.jsxs("div",{className:"flex items-center text-green-600 text-sm bg-green-50 px-3 py-2 rounded-lg border border-green-200 animate-pulse",children:[r.jsx(ee,{size:16,className:"mr-2"}),"Draft saved"]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:"Progress"}),r.jsxs("span",{className:"text-sm text-gray-500",children:["Step ",N+1," of ",q.length]})]}),r.jsx("div",{className:"flex items-center justify-between",children:q.map((e,t)=>r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl border-2 transition-all duration-300 "+(t<=N?"bg-gradient-to-br from-blue-500 to-purple-600 border-transparent text-white shadow-lg":"bg-white border-gray-300 text-gray-400"),children:t<N?r.jsx(v,{size:20}):e.icon}),t<q.length-1&&r.jsx("div",{className:"w-16 h-1 mx-4 rounded-full transition-all duration-500 "+(t<N?"bg-gradient-to-r from-blue-500 to-purple-500":"bg-gray-300")})]},e.id))}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:q[N].title}),r.jsx("p",{className:"text-sm text-gray-600",children:q[N].description})]})]})]}),r.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden",children:[r.jsx("div",{className:"px-8 py-6 border-b border-gray-100 bg-gradient-to-r from-gray-50/50 to-blue-50/30",children:r.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[q[N].icon,q[N].title]})}),r.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),A(2)){c(!0);try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!t||!t._id)throw new Error("User not logged in or user ID not found");const s={employee:t._id,purpose:i.purpose,departureDate:i.departureDate?new Date(i.departureDate).toISOString():null,returnDate:i.returnDate?new Date(i.returnDate).toISOString():null,location:i.location,fundingCodes:i.fundingCodes,meansOfTravel:i.meansOfTravel,travelType:"local",currency:"MWK",estimatedCost:i.estimatedCost,numberOfTravelers:i.numberOfTravelers,accommodationNeeded:i.accommodationNeeded,emergencyContact:i.emergencyContact,specialRequirements:i.specialRequirements,businessJustification:i.businessJustification,department:i.department},r=await fetch("https://backend.nexusmwi.com/api/travel-requests",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(s)});if(r.ok){await r.json();p(!0),localStorage.removeItem("travelRequestDraft"),a?setTimeout(()=>{a()},2e3):setTimeout(()=>{T("/travel/manage/dash")},2e3)}else{const e=await r.json();j(e.message||"Failed to submit travel request"),h(!0)}}catch(t){j(t.message||"An error occurred while submitting the travel request"),h(!0)}finally{c(!1)}}},className:"p-8",children:[0===N&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Purpose of Travel *"}),r.jsx("textarea",{name:"purpose",value:i.purpose,onChange:P,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none "+(y.purpose?"border-red-300":"border-gray-300"),placeholder:"Provide detailed information about the purpose of your travel, meetings planned, objectives..."}),r.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[y.purpose?r.jsx("p",{className:"text-sm text-red-600",children:y.purpose}):r.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 10 characters required"}),r.jsxs("span",{className:"text-xs "+(i.purpose.length>=10?"text-green-600":"text-gray-400"),children:[i.purpose.length,"/10"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination *"}),r.jsxs("div",{className:"relative",children:[r.jsx(b,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"location",value:i.location,onChange:P,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(y.location?"border-red-300":"border-gray-300"),placeholder:"Enter destination city/location"})]}),y.location&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.location})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department *"}),r.jsxs("div",{className:"relative",children:[r.jsx(te,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsxs("select",{name:"department",value:i.department,onChange:P,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(y.department?"border-red-300":"border-gray-300"),children:[r.jsx("option",{value:"",children:"Select Department"}),["Information Technology","Human Resources","Finance & Accounting","Operations","Marketing & Communications","Research & Development","Customer Support"].map(e=>r.jsx("option",{value:e,children:e},e))]})]}),y.department&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.department})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Travelers"}),r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx("button",{type:"button",onClick:()=>l(e=>({...e,numberOfTravelers:Math.max(1,e.numberOfTravelers-1)})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:r.jsx(se,{size:16})}),r.jsx("span",{className:"text-lg font-medium text-gray-900 px-4",children:i.numberOfTravelers}),r.jsx("button",{type:"button",onClick:()=>l(e=>({...e,numberOfTravelers:e.numberOfTravelers+1})),className:"p-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors duration-200",children:r.jsx(M,{size:16})})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Emergency Contact"}),r.jsxs("div",{className:"relative",children:[r.jsx(re,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"emergencyContact",value:i.emergencyContact,onChange:P,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Name and phone number"})]})]})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"accommodationNeeded",name:"accommodationNeeded",checked:i.accommodationNeeded,onChange:P,className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"accommodationNeeded",className:"ml-3 text-sm font-medium text-gray-900",children:"Accommodation required for this trip"})]})]}),1===N&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departure Date *"}),r.jsxs("div",{className:"relative",children:[r.jsx(o,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"date",name:"departureDate",value:i.departureDate,onChange:P,min:(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(y.departureDate?"border-red-300":"border-gray-300")})]}),y.departureDate&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.departureDate})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Date *"}),r.jsxs("div",{className:"relative",children:[r.jsx(o,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"date",name:"returnDate",value:i.returnDate,onChange:P,min:i.departureDate||(new Date).toISOString().split("T")[0],className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(y.returnDate?"border-red-300":"border-gray-300")})]}),y.returnDate&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.returnDate})]})]}),i.departureDate&&i.returnDate&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-blue-900 font-medium",children:"Trip Duration"}),r.jsxs("span",{className:"text-blue-700 font-bold",children:[I()," ",1===I()?"day":"days"]})]})}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Transportation Method *"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:L.map(e=>r.jsxs("button",{type:"button",onClick:()=>l(t=>({...t,meansOfTravel:e.value})),className:"p-4 border-2 rounded-xl transition-all duration-200 text-left "+(i.meansOfTravel===e.value?"border-blue-500 bg-blue-50 shadow-lg scale-105":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"),children:[r.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[r.jsx("div",{className:"p-2 rounded-lg "+(i.meansOfTravel===e.value?"bg-blue-100":"bg-gray-100"),children:e.icon}),i.meansOfTravel===e.value&&r.jsx(v,{size:20,className:"text-blue-600"})]}),r.jsx("h4",{className:"font-medium text-gray-900",children:e.label}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]},e.value))}),y.meansOfTravel&&r.jsx("p",{className:"mt-2 text-sm text-red-600",children:y.meansOfTravel})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Special Requirements (Optional)"}),r.jsx("textarea",{name:"specialRequirements",value:i.specialRequirements,onChange:P,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Any special requirements, dietary restrictions, accessibility needs, etc."})]})]}),2===N&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Funding Code *"}),r.jsxs("div",{className:"relative",children:[r.jsx(ae,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"text",name:"fundingCodes",value:i.fundingCodes,onChange:P,className:"w-full pl-10 pr-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 "+(y.fundingCodes?"border-red-300":"border-gray-300"),placeholder:"e.g., PROJ-2024-001"})]}),y.fundingCodes&&r.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.fundingCodes})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Cost (Optional)"}),r.jsxs("div",{className:"relative",children:[r.jsx(V,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),r.jsx("input",{type:"number",name:"estimatedCost",value:i.estimatedCost,onChange:P,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0.00",min:"0",step:"0.01"})]}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Currency: Malawian Kwacha (MWK)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Justification *"}),r.jsx("textarea",{name:"businessJustification",value:i.businessJustification,onChange:P,rows:4,className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none "+(y.businessJustification?"border-red-300":"border-gray-300"),placeholder:"Explain the business necessity for this travel, expected outcomes, and how it aligns with organizational goals..."}),r.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[y.businessJustification?r.jsx("p",{className:"text-sm text-red-600",children:y.businessJustification}):r.jsx("p",{className:"text-xs text-gray-500",children:"Minimum 20 characters required"}),r.jsxs("span",{className:"text-xs "+(i.businessJustification.length>=20?"text-green-600":"text-gray-400"),children:[i.businessJustification.length,"/20"]})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-6",children:[r.jsxs("h4",{className:"font-bold text-blue-900 mb-4 flex items-center gap-2",children:[r.jsx(J,{size:20}),"Travel Request Summary"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Destination:"}),r.jsx("p",{className:"text-blue-900",children:i.location||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Department:"}),r.jsx("p",{className:"text-blue-900",children:i.department||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Travel Dates:"}),r.jsx("p",{className:"text-blue-900",children:i.departureDate&&i.returnDate?`${new Date(i.departureDate).toLocaleDateString()} - ${new Date(i.returnDate).toLocaleDateString()}`:"Not specified"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Transportation:"}),r.jsx("p",{className:"text-blue-900",children:L.find(e=>e.value===i.meansOfTravel)?.label||"Not specified"})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Travelers:"}),r.jsxs("p",{className:"text-blue-900",children:[i.numberOfTravelers," person(s)"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-blue-700 font-medium",children:"Estimated Cost:"}),r.jsx("p",{className:"text-blue-900",children:i.estimatedCost?`MWK ${parseFloat(i.estimatedCost).toLocaleString()}`:"Not specified"})]})]})]}),r.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-4",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ie,{size:20,className:"text-amber-600 mt-0.5"}),r.jsxs("div",{children:[r.jsx("h5",{className:"font-medium text-amber-900 mb-2",children:"Travel Policy Compliance"}),r.jsxs("ul",{className:"text-sm text-amber-800 space-y-1",children:[r.jsx("li",{children:"• All travel must be pre-approved by your department head"}),r.jsx("li",{children:"• Receipts are required for all expenses over MWK 5,000"}),r.jsx("li",{children:"• Travel must comply with company safety and security guidelines"}),r.jsx("li",{children:"• Changes to approved travel must be communicated immediately"})]})]})]})})]}),r.jsxs("div",{className:"flex justify-between items-center pt-8 border-t border-gray-200 mt-8",children:[r.jsxs("button",{type:"button",onClick:0===N?t:()=>{C(e=>e-1)},className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors duration-200 font-medium flex items-center gap-2",children:[r.jsx(ne,{size:16}),0===N?"Cancel":"Previous"]}),r.jsx("div",{className:"flex space-x-3",children:N<q.length-1?r.jsxs("button",{type:"button",onClick:()=>{A(N)&&C(e=>e+1)},className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:["Continue",r.jsx(D,{size:16})]}):r.jsx("button",{type:"submit",disabled:d,className:"px-8 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white rounded-xl hover:from-green-700 hover:to-blue-700 disabled:opacity-50 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:d?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):r.jsxs(r.Fragment,{children:[r.jsx(le,{size:16}),"Submit Request"]})})})]})]})]}),u&&r.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:r.jsx("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl",children:r.jsxs("div",{className:"p-8 text-center",children:[r.jsx("div",{className:"flex items-center justify-center w-20 h-20 mx-auto bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mb-6 shadow-lg animate-pulse",children:r.jsx(v,{size:32,className:"text-white"})}),r.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Request Submitted Successfully! 🎉"}),r.jsxs("div",{className:"text-gray-600 mb-6 space-y-2",children:[r.jsx("p",{children:"Your travel request has been submitted and is now pending approval."}),r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[r.jsxs("div",{className:"text-lg font-bold text-green-900 font-mono",children:["TR-",(new Date).getFullYear(),"-",String(Math.floor(1e3*Math.random())).padStart(3,"0")]}),r.jsx("div",{className:"text-sm text-green-700",children:"Reference Number"})]}),r.jsxs("div",{className:"text-sm space-y-1",children:[r.jsx("p",{children:"✅ Department manager will be notified"}),r.jsx("p",{children:"✅ HR will review for policy compliance"}),r.jsx("p",{children:"✅ You'll receive email updates on status"})]})]})]})})}),g&&r.jsx("div",{className:"fixed top-4 right-4 bg-red-50 border border-red-200 rounded-xl p-4 shadow-lg z-50 max-w-md",children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(O,{size:20,className:"text-red-600 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-red-900",children:"Submission Failed"}),r.jsx("p",{className:"text-sm text-red-700 mt-1",children:f})]}),r.jsx("button",{onClick:()=>h(!1),className:"text-red-400 hover:text-red-600 transition-colors duration-200",children:r.jsx(n,{size:16})})]})}),r.jsx("div",{className:"fixed right-6 bottom-6 z-40",children:r.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-blue-600 rounded-2xl p-4 text-white shadow-2xl max-w-xs",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h4",{className:"font-bold flex items-center gap-2",children:[r.jsx(k,{size:16}),"Need Help?"]}),r.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[r.jsx(oe,{size:14}),"Travel Policy Guide"]}),r.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[r.jsx(de,{size:14}),"Live Chat Support"]}),r.jsxs("button",{className:"w-full text-left p-2 bg-white/20 backdrop-blur-sm rounded-lg hover:bg-white/30 transition-all duration-200 flex items-center gap-2",children:[r.jsx(re,{size:14}),"Call Travel Team"]})]})]})}),r.jsx("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 md:hidden bg-white rounded-full px-4 py-2 shadow-lg border border-gray-200 z-40",children:r.jsx("div",{className:"flex items-center space-x-2",children:q.map((e,t)=>r.jsx("div",{className:"w-2 h-2 rounded-full transition-all duration-300 "+(t<=N?"bg-blue-500":"bg-gray-300")},t))})})]})}},Symbol.toStringTag,{value:"Module"}));export{Ut as e,Vt as r,_t as t};
