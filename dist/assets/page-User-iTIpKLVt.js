import{u as e,r as s,j as t,C as a,U as r,S as l,f as i,B as o,g as d,P as n,h as c,M as x,i as m,l as u,m as p,n as h,L as g,E as b,o as f,F as y,A as j,p as v,q as N,s as w,D as k,t as C,v as P,x as S,Z as z,y as E,z as F,X as D,H as A}from"./react-core-DKrnZdd7.js";import{u as T}from"./context-k3FZ8Vno.js";import{m as $,A as M}from"./vendor-framer-motion-DCU7qowG.js";const U="https://backend.nexusmwi.com",H=()=>{const e=localStorage.getItem("token");return{"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`}}},O=()=>{const e=localStorage.getItem("token");return{...e&&{Authorization:`Bearer ${e}`}}},J={getPaymentMethods:async()=>{const e=await fetch(`${U}/api/auth/payment-methods`,{method:"GET",headers:H()});if(!e.ok)throw new Error("Failed to fetch payment methods");return e.json()},addPaymentMethod:async e=>{const s=await fetch(`${U}/api/auth/payment-methods`,{method:"POST",headers:H(),body:JSON.stringify(e)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to add payment method")}return s.json()},updatePaymentMethod:async(e,s)=>{const t=await fetch(`${U}/api/auth/payment-methods/${e}`,{method:"PUT",headers:H(),body:JSON.stringify(s)});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to update payment method")}return t.json()},deletePaymentMethod:async e=>{const s=await fetch(`${U}/api/auth/payment-methods/${e}`,{method:"DELETE",headers:H()});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to delete payment method")}return s.json()},setDefaultPaymentMethod:async e=>{const s=await fetch(`${U}/api/auth/payment-methods/${e}/default`,{method:"PUT",headers:H()});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to set default payment method")}return s.json()},getProfile:async()=>{const e=await fetch(`${U}/api/auth/profile`,{method:"GET",headers:H()});if(!e.ok)throw new Error("Failed to fetch profile");return e.json()},updateProfile:async e=>{const s=await fetch(`${U}/api/auth/profile`,{method:"PUT",headers:H(),body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to update profile");return s.json()},updateSecuritySettings:async e=>{const s=await fetch(`${U}/api/auth/security`,{method:"PUT",headers:H(),body:JSON.stringify(e)});if(!s.ok)throw new Error("Failed to update security settings");return s.json()},changePassword:async e=>{const s=await fetch(`${U}/api/auth/change-password`,{method:"PUT",headers:H(),body:JSON.stringify(e)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to change password")}return s.json()},updateEmail:async e=>{const s=await fetch(`${U}/api/auth/update-email`,{method:"PUT",headers:H(),body:JSON.stringify(e)});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to update email")}return s.json()},getUserStats:async()=>{const e=await fetch(`${U}/api/auth/stats`,{method:"GET",headers:H()});if(!e.ok)throw new Error("Failed to fetch user statistics");return e.json()},uploadAvatar:async e=>{const s=new FormData;s.append("avatar",e);const t=await fetch(`${U}/api/auth/upload-avatar`,{method:"POST",headers:O(),body:s});if(!t.ok){const e=await t.json();throw new Error(e.message||"Failed to upload avatar")}return t.json()},uploadLogo:async(e,s)=>{const t=new FormData;t.append("logo",e),t.append("email",s);const a=await fetch(`${U}/api/auth/upload-logo`,{method:"POST",body:t});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to upload logo")}return a.json()},uploadSignature:async(e,s)=>{const t=new FormData;t.append("signature",e),t.append("email",s);const a=await fetch(`${U}/api/auth/upload-signature`,{method:"POST",body:t});if(!a.ok){const e=await a.json();throw new Error(e.message||"Failed to upload signature")}return a.json()},deleteAccount:async e=>{const s=await fetch(`${U}/api/auth/account`,{method:"DELETE",headers:H(),body:JSON.stringify({password:e,confirmDeletion:"DELETE"})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to delete account")}return s.json()}};function B(){const{user:U,logout:H}=T();e();const O=s.useRef(null),[B,G]=s.useState({firstName:U?.firstName||"",lastName:U?.lastName||"",email:U?.email||"",phone:U?.phone||"",address:U?.address||"",city:U?.city||"",state:U?.state||"",zipCode:U?.zipCode||"",country:U?.country||"",company:U?.company||"",jobTitle:U?.jobTitle||"",bio:U?.bio||"",website:U?.website||"",linkedin:U?.linkedin||"",twitter:U?.twitter||"",avatar:U?.avatar||null}),[L,Y]=s.useState({currentPassword:"",newPassword:"",confirmPassword:"",twoFactorEnabled:U?.twoFactorEnabled||!1,loginNotifications:U?.loginNotifications||!0,activityNotifications:U?.activityNotifications||!0}),[I,R]=s.useState([{id:1,type:"visa",lastFour:"4242",expiryMonth:"12",expiryYear:"2025",cardHolder:"John Banda",isDefault:!0,nickname:"Business Card"},{id:2,type:"mastercard",lastFour:"8888",expiryMonth:"06",expiryYear:"2026",cardHolder:"John Banda",isDefault:!1,nickname:"Personal Card"}]),[V,q]=s.useState("profile"),[_,W]=s.useState(!1),[Z,X]=s.useState(!1),[K,Q]=s.useState(!1),[ee,se]=s.useState(!1),[te,ae]=s.useState(!1),[re,le]=s.useState({show:!1,message:"",type:"success"}),[ie,oe]=s.useState(!1),[de,ne]=s.useState({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:""}),[ce,xe]=s.useState(!1),[me,ue]=s.useState({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:"",isDefault:!1}),[pe,he]=s.useState({totalTransactions:247,totalSpent:125420,averageTransactionValue:508,accountAge:18,completedProjects:32,successRate:98.5,currentStreak:45,achievementPoints:2840}),ge="https://backend.nexusmwi.com",be=(e,s="success")=>{le({show:!0,message:e,type:s}),setTimeout(()=>le({show:!1,message:"",type:"success"}),5e3)},fe=e=>{const{name:s,value:t}=e.target;ue(e=>({...e,[s]:t}))},ye=async(e,s)=>{try{const t={[e]:s};(await J.updateSecuritySettings(t)).success&&(Y(t=>({...t,[e]:s})),be("Settings updated successfully!"))}catch(t){be(t.message||"Failed to update settings","error")}},je=async()=>{try{const e=await J.getPaymentMethods();e.success&&R(e.paymentMethods)}catch(e){be("Failed to load payment methods","error")}};s.useEffect(()=>{(async()=>{try{const e=await J.getProfile();if(e.success){const s=e.user,t={firstName:s.firstName||"",lastName:s.lastName||"",email:s.email||"",phone:s.phone||s.phoneNumber||"",address:s.address||"",city:s.city||"",state:s.state||"",zipCode:s.zipCode||"",country:s.country||"",company:s.company||s.companyName||"",jobTitle:s.jobTitle||"",bio:s.bio||"",website:s.website||"",linkedin:s.linkedin||"",twitter:s.twitter||"",avatar:s.avatar?`${ge.replace("/api","")}${s.avatar}`:null};G(t),Y(e=>({...e,twoFactorEnabled:s.twoFactorEnabled||!1,loginNotifications:s.loginNotifications||!0,activityNotifications:s.activityNotifications||!0}))}}catch(e){be("Failed to load profile data","error")}})(),(async()=>{try{const e=await J.getUserStats();e.success&&he(e.stats)}catch(e){}})(),je()},[]),s.useEffect(()=>{},[]);const ve=[{id:"profile",label:"Profile",icon:r},{id:"security",label:"Security",icon:l},{id:"payments",label:"Payment Methods",icon:i},{id:"notifications",label:"Notifications",icon:o},{id:"analytics",label:"Analytics",icon:d}];return t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/30 to-purple-50/20",children:[t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[t.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[t.jsx("div",{className:"lg:col-span-1",children:t.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 p-6 shadow-xl sticky top-24",children:[t.jsxs("div",{className:"text-center mb-6",children:[t.jsxs("div",{className:"relative inline-block",children:[t.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg overflow-hidden",children:B.avatar&&!ie?t.jsx("img",{src:B.avatar,alt:"Avatar",className:"w-full h-full object-cover",onError:e=>{G(e=>({...e,avatar:null}))}}):t.jsx("span",{children:`${B.firstName?.[0]||"U"}${B.lastName?.[0]||"S"}`})}),_&&t.jsx("button",{onClick:()=>O.current?.click(),className:"absolute -bottom-1 -right-1 p-2 bg-white rounded-full shadow-lg border border-gray-200 hover:bg-gray-50 transition-colors duration-200",children:t.jsx(a,{size:14,className:"text-gray-600"})}),t.jsx("input",{ref:O,type:"file",accept:"image/*",className:"hidden",onChange:async e=>{const s=e.target.files[0];if(!s)return;if(s.size>2097152)return void be("File size must be less than 2MB","error");if(["image/jpeg","image/png","image/gif","image/webp"].includes(s.type))try{X(!0);const e=await J.uploadAvatar(s);if(e.success){const s=`${ge.replace("/api","")}${e.data.avatarUrl}`;G(e=>({...e,avatar:s})),oe(!1),be("Avatar uploaded successfully!")}}catch(t){be(t.message||"Failed to upload avatar","error")}finally{X(!1)}else be("Please upload a valid image file (JPEG, PNG, GIF, WebP)","error")}})]}),t.jsxs("h3",{className:"text-xl font-bold text-gray-900 mt-4",children:[B.firstName," ",B.lastName]})]}),t.jsx("div",{className:"mt-6 space-y-2",children:ve.map(e=>{const s=e.icon;return t.jsxs("button",{onClick:()=>q(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 "+(V===e.id?"bg-purple-50 text-purple-700 border border-purple-200":"text-gray-600 hover:bg-gray-50 border border-transparent"),children:[t.jsx(s,{size:18}),t.jsx("span",{className:"font-medium",children:e.label})]},e.id)})})]})}),t.jsx("div",{className:"lg:col-span-3",children:t.jsxs($.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white/80 backdrop-blur-sm rounded-2xl border border-gray-200/50 shadow-xl overflow-hidden",children:["profile"===V&&t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Personal Information"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Update your personal details and contact information"})]}),t.jsx("div",{className:"flex items-center space-x-3",children:t.jsxs("button",{onClick:()=>W(!_),className:"px-4 py-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[t.jsx(n,{size:16}),_?"Cancel":"Edit Profile"]})}),_&&t.jsx("button",{onClick:async()=>{X(!0);try{const e=await J.updateProfile(B);e.success&&(be("Profile updated successfully!"),W(!1),G(s=>({...s,...e.user})))}catch(e){be(e.message||"Failed to update profile","error")}finally{X(!1)}},disabled:Z,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:transform-none flex items-center gap-2",children:Z?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(c,{size:16}),"Save Changes"]})})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"First Name"}),t.jsx("input",{type:"text",value:B.firstName,onChange:e=>G(s=>({...s,firstName:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Last Name"}),t.jsx("input",{type:"text",value:B.lastName,onChange:e=>G(s=>({...s,lastName:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(x,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"email",value:B.email,onChange:e=>G(s=>({...s,email:e.target.value})),disabled:!_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),t.jsxs("div",{className:"relative",children:[t.jsx(m,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"tel",value:B.phone,onChange:e=>G(s=>({...s,phone:e.target.value})),disabled:!_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Job Title"}),t.jsx("input",{type:"text",value:B.jobTitle,onChange:e=>G(s=>({...s,jobTitle:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company"}),t.jsxs("div",{className:"relative",children:[t.jsx(u,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",value:B.company,onChange:e=>G(s=>({...s,company:e.target.value})),disabled:!_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Address"}),t.jsxs("div",{className:"relative",children:[t.jsx(p,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"text",value:B.address,onChange:e=>G(s=>({...s,address:e.target.value})),disabled:!_,className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"City"}),t.jsx("input",{type:"text",value:B.city,onChange:e=>G(s=>({...s,city:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"State"}),t.jsx("input",{type:"text",value:B.state,onChange:e=>G(s=>({...s,state:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"ZIP Code"}),t.jsx("input",{type:"text",value:B.zipCode,onChange:e=>G(s=>({...s,zipCode:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Country"}),t.jsx("input",{type:"text",value:B.country,onChange:e=>G(s=>({...s,country:e.target.value})),disabled:!_,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Website"}),t.jsxs("div",{className:"relative",children:[t.jsx(h,{size:18,className:"absolute left-4 top-3.5 text-gray-400"}),t.jsx("input",{type:"url",value:B.website,onChange:e=>G(s=>({...s,website:e.target.value})),disabled:!_,placeholder:"https://your-website.com",className:"w-full pl-12 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bio"}),t.jsx("textarea",{value:B.bio,onChange:e=>G(s=>({...s,bio:e.target.value})),disabled:!_,rows:4,placeholder:"Tell us about yourself...",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80 disabled:bg-gray-50 disabled:text-gray-500 resize-none"})]})]})]})]}),"security"===V&&t.jsxs("div",{className:"p-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your account security and privacy settings"})]})}),t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(g,{size:20}),"Password"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Last changed 3 months ago"})]}),t.jsx("button",{onClick:()=>Q(!K),className:"px-4 py-2 bg-purple-50 text-purple-700 rounded-xl hover:bg-purple-100 transition-colors duration-200 font-medium border border-purple-200",children:"Change Password"})]}),t.jsx(M,{children:K&&t.jsxs($.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"grid md:grid-cols-3 gap-4 mt-6 pt-6 border-t border-gray-100",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:te?"text":"password",value:L.currentPassword,onChange:e=>Y(s=>({...s,currentPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"}),t.jsx("button",{type:"button",onClick:()=>ae(!te),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:te?t.jsx(b,{size:18}):t.jsx(f,{size:18})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),t.jsx("input",{type:te?"text":"password",value:L.newPassword,onChange:e=>Y(s=>({...s,newPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm Password"}),t.jsx("input",{type:te?"text":"password",value:L.confirmPassword,onChange:e=>Y(s=>({...s,confirmPassword:e.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white/80"})]}),t.jsxs("div",{className:"md:col-span-3 flex justify-end gap-3 pt-4",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"}),t.jsx("button",{onClick:async()=>{if(L.newPassword===L.confirmPassword)if(L.newPassword.length<8)be("Password must be at least 8 characters long","error");else{X(!0);try{(await J.changePassword({currentPassword:L.currentPassword,newPassword:L.newPassword})).success&&(be("Password changed successfully!"),Q(!1),Y(e=>({...e,currentPassword:"",newPassword:"",confirmPassword:""})))}catch(e){be(e.message||"Failed to change password","error")}finally{X(!1)}}else be("Passwords don't match","error")},disabled:Z,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",children:Z?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Updating..."]}):"Update Password"})]})]})})]}),t.jsx("div",{className:"border border-gray-200 rounded-2xl p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[t.jsx(y,{size:20}),"Two-Factor Authentication"]}),t.jsx("p",{className:"text-gray-600 text-sm",children:"Add an extra layer of security to your account"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L.twoFactorEnabled,onChange:e=>{return s=e.target.checked,void ye("twoFactorEnabled",s);var s},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})}),t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2 mb-4",children:[t.jsx(j,{size:20}),"Active Sessions"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-xl border border-green-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(v,{size:20,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-green-900",children:"Current Session"}),t.jsx("div",{className:"text-sm text-green-700",children:"Chrome on MacOS • New York, US"})]})]}),t.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-2 py-1 rounded-full",children:"Active Now"})]}),t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl border border-gray-200",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gray-400 rounded-full flex items-center justify-center",children:t.jsx(m,{size:20,className:"text-white"})}),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:"Mobile App"}),t.jsx("div",{className:"text-sm text-gray-600",children:"iPhone • 2 hours ago"})]})]}),t.jsx("button",{className:"text-red-600 hover:text-red-800 text-sm font-medium",children:"Revoke"})]})]})]})]})]}),"payments"===V&&t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Methods"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your saved payment methods for quick checkout"})]}),t.jsxs("button",{onClick:()=>xe(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[t.jsx(N,{size:16}),"Add New Card"]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[I.map(e=>{return t.jsxs($.div,{whileHover:{y:-2,scale:1.02},className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-2xl p-6 text-white shadow-xl border border-gray-700",children:[e.isDefault&&t.jsx("div",{className:"absolute top-4 right-4",children:t.jsx("span",{className:"bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Default"})}),t.jsx("div",{className:"flex justify-between items-start mb-6",children:t.jsxs("div",{className:"flex items-center gap-3",children:[(s=e.type,{visa:t.jsx("div",{className:"text-blue-600 font-bold text-xs",children:"VISA"}),mastercard:t.jsx("div",{className:"text-red-600 font-bold text-xs",children:"MC"}),amex:t.jsx("div",{className:"text-green-600 font-bold text-xs",children:"AMEX"})}[s]||t.jsx(i,{size:16,className:"text-gray-400"})),t.jsxs("div",{children:[t.jsx("div",{className:"font-semibold",children:e.nickname}),t.jsx("div",{className:"text-gray-300 text-sm",children:e.type.toUpperCase()})]})]})}),t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"text-2xl font-mono tracking-wider mb-2",children:["•••• •••• •••• ",e.lastFour]}),t.jsx("div",{className:"text-gray-300 text-sm",children:e.cardHolder})]}),t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{className:"text-sm text-gray-300",children:["Expires ",e.expiryMonth,"/",e.expiryYear]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{className:"p-2 bg-white/10 rounded-lg hover:bg-white/20 transition-colors duration-200",children:t.jsx(n,{size:16})}),t.jsx("button",{onClick:()=>(async e=>{try{(await J.deletePaymentMethod(e)).success&&(await je(),be("Payment method deleted successfully!"))}catch(s){be(s.message||"Failed to delete payment method","error")}})(e.id),className:"p-2 bg-red-500/20 text-red-400 rounded-lg hover:bg-red-500/30 transition-colors duration-200",children:t.jsx(w,{size:16})})]})]})]},e.id);var s}),0===I.length&&t.jsxs("div",{className:"md:col-span-2 flex flex-col items-center justify-center py-16 text-gray-500",children:[t.jsx(i,{size:48,className:"mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 mb-2",children:"No payment methods yet"}),t.jsx("p",{className:"text-gray-500 text-center mb-6",children:"Add your first payment method to get started with quick and secure checkout"}),t.jsxs("button",{onClick:()=>se(!0),className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 flex items-center gap-2",children:[t.jsx(N,{size:16}),"Add Your First Card"]})]})]})]}),"notifications"===V&&t.jsxs("div",{className:"p-8",children:[t.jsx("div",{className:"flex items-center justify-between mb-8",children:t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notification Preferences"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Choose how you want to be notified about important events"})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security Notifications"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Login Notifications"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Get notified when someone logs into your account"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L.loginNotifications,onChange:e=>{return s=e.target.checked,void ye("loginNotifications",s);var s},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Account Activity"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Get notified about important account changes"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:L.activityNotifications,onChange:e=>{return s=e.target.checked,void ye("activityNotifications",s);var s},className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]}),t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Email Preferences"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Marketing Emails"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Receive updates about new features and promotions"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-gray-900",children:"Weekly Summary"}),t.jsx("div",{className:"text-sm text-gray-600",children:"Get a weekly summary of your account activity"})]}),t.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[t.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),t.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]})]})]})]})]}),"analytics"===V&&t.jsxs("div",{className:"p-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-8",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Analytics"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"View your account performance and usage statistics"})]}),t.jsxs("button",{className:"px-4 py-2 bg-white/80 text-gray-700 rounded-xl hover:bg-gray-50 transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md flex items-center gap-2",children:[t.jsx(k,{size:16}),"Export Report"]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsxs($.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(C,{size:24}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold",children:(Ne=pe.totalSpent,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(Ne))}),t.jsx("div",{className:"text-blue-100 text-sm",children:"Total Spent"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[t.jsx(P,{size:16}),t.jsx("span",{className:"text-sm",children:"+12.5% from last month"})]})]}),t.jsxs($.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(j,{size:24}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold",children:pe.totalTransactions}),t.jsx("div",{className:"text-green-100 text-sm",children:"Transactions"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-green-100",children:[t.jsx(P,{size:16}),t.jsx("span",{className:"text-sm",children:"+8.2% from last month"})]})]}),t.jsxs($.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(S,{size:24}),t.jsxs("div",{className:"text-right",children:[t.jsxs("div",{className:"text-2xl font-bold",children:[pe.successRate,"%"]}),t.jsx("div",{className:"text-purple-100 text-sm",children:"Success Rate"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-purple-100",children:[t.jsx(P,{size:16}),t.jsx("span",{className:"text-sm",children:"+2.1% from last month"})]})]}),t.jsxs($.div,{whileHover:{y:-2,scale:1.02},className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-6 text-white shadow-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx(z,{size:24}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold",children:pe.currentStreak}),t.jsx("div",{className:"text-orange-100 text-sm",children:"Day Streak"})]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-orange-100",children:[t.jsx(E,{size:16}),t.jsx("span",{className:"text-sm",children:"Personal best!"})]})]})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(F,{size:20}),"Spending by Category"]}),t.jsx("div",{className:"h-64 bg-gray-50 rounded-xl flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(d,{size:40,className:"mx-auto mb-2"}),t.jsx("p",{children:"Chart visualization would be here"})]})})]}),t.jsxs("div",{className:"border border-gray-200 rounded-2xl p-6",children:[t.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[t.jsx(j,{size:20}),"Monthly Activity"]}),t.jsx("div",{className:"h-64 bg-gray-50 rounded-xl flex items-center justify-center",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(P,{size:40,className:"mx-auto mb-2"}),t.jsx("p",{children:"Activity chart would be here"})]})})]})]})]})]},V)})]}),t.jsx(M,{children:ce&&t.jsx($.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>xe(!1),children:t.jsxs($.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},className:"bg-white rounded-2xl p-6 w-full max-w-md",onClick:e=>e.stopPropagation(),children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Add Payment Method"}),t.jsx("button",{onClick:()=>xe(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx(D,{size:20})})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),t.jsx("input",{type:"text",name:"cardNumber",value:me.cardNumber,onChange:e=>{const{value:s}=e.target,t=s.replace(/\D/g,"").replace(/(\d{4})/g,"$1 ").trim().substring(0,19);ue(e=>({...e,cardNumber:t}))},placeholder:"1234 5678 9012 3456",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),t.jsx("input",{type:"text",name:"expiryDate",value:me.expiryDate,onChange:e=>{const{value:s}=e.target,t=s.replace(/\D/g,"").replace(/^(\d{2})/,"$1/").substring(0,5);ue(e=>({...e,expiryDate:t}))},placeholder:"MM/YY",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),t.jsx("input",{type:"text",name:"cvv",value:me.cvv,onChange:fe,placeholder:"123",maxLength:"4",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),t.jsx("input",{type:"text",name:"cardHolder",value:me.cardHolder,onChange:fe,placeholder:"JOHN BANDA",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500 uppercase"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Nickname"}),t.jsx("input",{type:"text",name:"nickname",value:me.nickname,onChange:fe,placeholder:"Personal Card",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),t.jsxs("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"defaultCard",name:"isDefault",checked:me.isDefault,onChange:e=>ue(s=>({...s,isDefault:e.target.checked})),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),t.jsx("label",{htmlFor:"defaultCard",className:"ml-2 block text-sm text-gray-700",children:"Set as default payment method"})]})]}),t.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>xe(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"}),t.jsx("button",{onClick:async()=>{try{if(!(me.cardNumber&&me.expiryDate&&me.cvv&&me.cardHolder))return void be("Please fill in all required fields","error");if(!/^\d{2}\/\d{2}$/.test(me.expiryDate))return void be("Please enter a valid expiry date (MM/YY)","error");X(!0);const e=me.cardNumber.replace(/\s/g,"").slice(-4),[s,t]=me.expiryDate.split("/"),a=(e=>{const s=e.replace(/\s/g,"");return/^4/.test(s)?"visa":/^5[1-5]/.test(s)?"mastercard":/^3[47]/.test(s)?"amex":"visa"})(me.cardNumber),r={cardNumber:me.cardNumber.replace(/\s/g,""),expiryDate:me.expiryDate,cvv:me.cvv,cardHolder:me.cardHolder,nickname:me.nickname||`${a} ending in ${e}`,isDefault:me.isDefault};(await J.addPaymentMethod(r)).success&&(be("Payment method added successfully!"),xe(!1),ue({cardNumber:"",expiryDate:"",cvv:"",cardHolder:"",nickname:"",isDefault:!1}),await je())}catch(e){be(e.message||"Failed to add payment method","error")}finally{X(!1)}},disabled:Z,className:"px-6 py-2 bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-xl hover:from-purple-600 hover:to-purple-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl disabled:opacity-50 flex items-center gap-2",children:Z?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Adding..."]}):"Add Card"})]})]})})})]}),t.jsx(M,{children:re.show&&t.jsx($.div,{initial:{opacity:0,y:50,scale:.3},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.5},className:"fixed bottom-4 right-4 z-50",children:t.jsx("div",{className:"px-6 py-4 rounded-xl shadow-2xl border backdrop-blur-sm "+("success"===re.type?"bg-green-50/90 text-green-800 border-green-200":"bg-red-50/90 text-red-800 border-red-200"),children:t.jsxs("div",{className:"flex items-center gap-3",children:["success"===re.type?t.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:t.jsx(v,{size:16,className:"text-white"})}):t.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:t.jsx(A,{size:16,className:"text-white"})}),t.jsx("span",{className:"font-medium",children:re.message}),t.jsx("button",{onClick:()=>le({show:!1,message:"",type:"success"}),className:"ml-4 text-gray-400 hover:text-gray-600 transition-colors duration-200",children:t.jsx(D,{size:18})})]})})})})]});var Ne}const G=Object.freeze(Object.defineProperty({__proto__:null,default:B},Symbol.toStringTag,{value:"Module"}));export{B as U,G as a,J as u};
