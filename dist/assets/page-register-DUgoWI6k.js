import{a as e,r as s,u as t,bt as a,M as r,U as l,l as n,aG as i,j as o,H as c,bu as d,p as u,bv as m,bw as x,bx as h,aD as g,i as p,aI as b,a5 as f,L as j,E as y,o as v}from"./react-core-DKrnZdd7.js";import{u as N}from"./context-k3FZ8Vno.js";import"./lodash-BC2fgbp_.js";import"./vendor-vite-plugin-node-polyfills-BcdDH6qu.js";import"./vendor-scheduler-6ULW7vKx.js";import"./emotion-CPxGt_VH.js";import"./vendor-stylis-h7b_IEWc.js";import"./vendor-@babel-B7ZdkCnT.js";import"./vendor-clsx-BeLtu-UY.js";import"./vendor-prop-types-C8aDgg8x.js";import"./vendor-fast-equals-CDIYsFId.js";import"./vendor-file-selector-PolBDpjR.js";import"./vendor-tslib-hK--_phs.js";import"./vendor-attr-accept-CiyT7qSw.js";function w(){const w=e().state,[C,S]=s.useState(0),k=t(),[z,P]=s.useState(w?.email||""),[F,L]=s.useState(w?.firstName||""),[A,O]=s.useState(w?.lastName||""),[R,D]=s.useState(""),[E,U]=s.useState(w?.googleSignup?(()=>{const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?";let s="";for(let t=0;t<32;t++){s+=e[Math.floor(88*Math.random())]}return s})():""),[T,q]=s.useState(w?.googleSignup||!1),[M,$]=s.useState(!1),[B,I]=s.useState(""),[V,G]=s.useState(""),[J,Y]=s.useState(""),[W,H]=s.useState(!1),[Z,K]=s.useState(""),[Q,X]=s.useState(0),[_,ee]=s.useState(!1),[se,te]=s.useState(""),[ae,re]=s.useState(!1),[le,ne]=s.useState(!1),[ie,oe]=s.useState(null),[ce,de]=s.useState(null),[ue,me]=s.useState(!1),[xe,he]=s.useState(0),{register:ge,backendUrl:pe}=N(),[be,fe]=s.useState(null),[je,ye]=s.useState(null),[ve,Ne]=s.useState(""),[we,Ce]=s.useState("");s.useEffect(()=>{pe&&"undefined"!==pe||a.error("Configuration error: Unable to connect to server")},[pe]);const Se=["Email","Personal","Company","Review"],ke=[{icon:r,title:"Quick Onboarding",description:"Secure registration process"},{icon:l,title:"Team Management",description:"Manage team with custom roles"},{icon:n,title:"Company Setup",description:"Customize for your organization"},{icon:i,title:"Workflow Design",description:"Create approval workflows"}];s.useEffect(()=>{const e=setInterval(()=>{X(e=>(e+1)%ke.length)},4e3);return()=>clearInterval(e)},[]);const ze=["Technology","Finance","Healthcare","Education","Manufacturing","Retail","Hospitality","Other"],Pe=["Enterprise(CEO, CFO, etc.)","Vendor","Other"],Fe=async()=>{ne(!0),K("");try{if(!pe||"undefined"===pe)throw new Error("Backend URL is not configured properly");if(!(await fetch(`${pe}/api/auth/resend`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({phoneNumber:J})})).ok)throw new Error("Failed to resend verification code");a.success("Verification code resent successfully")}catch(e){a.error(e.message)}finally{ne(!1)}},Le=e=>{const s=e.target.files[0];s&&s.type.match("image.*")?(oe(s),a.success("Logo uploaded successfully")):a.error("Please upload a valid image file")},Ae=e=>{const s=e.target.files[0];s&&s.type.match("image.*")?(de(s),a.success("Signature uploaded successfully")):a.error("Please upload a valid image file")},Oe=async()=>{if(se&&6===se.length)if(pe&&"undefined"!==pe){H(!0),K("");try{const e=await fetch(`${pe}/api/auth/email/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:z,code:se})});if(!e.ok){const s=await e.json();throw new Error(s.message||"Verification failed")}a.success("Email verified successfully!"),ee(!0)}catch(e){a.error(e.message)}finally{H(!1)}}else a.error("Configuration error: Unable to connect to server");else a.error("Please enter a valid 6-digit code")};if(!pe||"undefined"===pe)return o.jsx("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center",children:[o.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-red-100 text-red-600 rounded-full",children:o.jsx(c,{size:24})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Configuration Error"}),o.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Unable to connect to server. Please check your internet connection and try again."}),o.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Page"})]})});if(ae)return _?o.jsxs("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:[o.jsx(d,{}),o.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-xl p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-green-100 text-green-600 rounded-full",children:o.jsx(u,{size:24})}),o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:[0===xe&&"Brand Your Account",1===xe&&"Add Your Signature",2===xe&&"Quick Platform Tour"]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[0===xe&&"Upload your company logo to brand all your forms",1===xe&&"Add your signature for approvals",2===xe&&"Watch a quick overview of our platform"]})]}),be&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[o.jsxs("p",{className:"text-sm text-blue-800",children:["Welcome, ",be.firstName||F," ",be.lastName||A,"!"]}),o.jsxs("p",{className:"text-xs text-blue-600",children:["Role: ",be.role||V," | Company: ",be.companyName||R]})]}),o.jsxs("div",{className:"space-y-6",children:[0===xe&&o.jsx("div",{className:"flex flex-col items-center justify-center py-8 border-2 border-dashed border-gray-200 rounded-lg",children:ie?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-3 p-2 bg-gray-100 rounded-lg",children:o.jsx("img",{src:URL.createObjectURL(ie)||"/placeholder.svg",alt:"Company Logo Preview",className:"h-24 object-contain"})}),o.jsx("button",{onClick:()=>oe(null),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Change Logo"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-3",children:o.jsx(m,{size:24,className:"text-blue-600"})}),o.jsx("label",{className:"cursor-pointer",children:o.jsxs("span",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Upload Logo",o.jsx("input",{type:"file",accept:"image/*",onChange:Le,className:"hidden"})]})}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG, JPG or SVG (Max. 5MB)"})]})}),1===xe&&o.jsx("div",{className:"flex flex-col items-center justify-center py-8 border-2 border-dashed border-gray-200 rounded-lg",children:ce?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-3 p-2 bg-gray-100 rounded-lg",children:o.jsx("img",{src:URL.createObjectURL(ce)||"/placeholder.svg",alt:"Signature Preview",className:"h-24 object-contain"})}),o.jsx("button",{onClick:()=>de(null),className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"Change Signature"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-purple-100 p-3 rounded-full mb-3",children:o.jsx(x,{size:24,className:"text-purple-600"})}),o.jsx("label",{className:"cursor-pointer",children:o.jsxs("span",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:["Upload Signature",o.jsx("input",{type:"file",accept:"image/*",onChange:Ae,className:"hidden"})]})}),o.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"PNG or JPG (Max. 2MB)"})]})}),2===xe&&o.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden aspect-video",children:o.jsx("div",{className:"h-full flex items-center justify-center bg-black",children:o.jsxs("div",{className:"text-center p-6",children:[o.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-red-100 text-red-600 rounded-full",children:o.jsx(h,{size:24})}),o.jsx("h3",{className:"text-lg font-medium text-white mb-1",children:"Platform Walkthrough"}),o.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Watch this 2-minute video to get started"}),o.jsxs("button",{className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 flex items-center mx-auto",children:[o.jsx(h,{size:16,className:"mr-2"}),"Play Video"]})]})})}),o.jsxs("div",{className:"flex justify-between items-center",children:[xe>0&&o.jsxs("button",{onClick:()=>he(xe-1),className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-all duration-200",children:[o.jsx(g,{size:16,className:"mr-2"}),"Back"]}),o.jsx("button",{onClick:()=>{xe<2?he(xe+1):(async()=>{if(pe&&"undefined"!==pe){H(!0),K("");try{if(ie){const e=new FormData;e.append("logo",ie),e.append("email",z.trim().toLowerCase());const s=await fetch(`${pe}/api/auth/onboarding/logo`,{method:"PUT",body:e,headers:{Authorization:`Bearer ${je}`}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to upload logo")}}if(ce){const e=new FormData;e.append("signature",ce),e.append("email",z.trim().toLowerCase());const s=await fetch(`${pe}/api/auth/onboarding/signature`,{method:"PUT",body:e,headers:{Authorization:`Bearer ${je}`}});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to upload signature")}}if(!be)throw new Error("User data not available. Please try logging in again.");me(!0),H(!1),a.success("Account setup complete! Redirecting to login page...",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{k("/login")},3e3)}catch(e){a.error(e.message||"An error occurred while completing onboarding",{position:"top-center",autoClose:5e3}),H(!1)}}else a.error("Configuration error: Unable to connect to server")})()},disabled:0===xe&&!ie||1===xe&&!ce||W,className:"ml-auto flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 "+(0===xe&&!ie||1===xe&&!ce||W?"opacity-50 cursor-not-allowed":""),children:W?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Saving..."]}):xe<2?"Continue":"Go to Dashboard"})]})]})]})]}):o.jsxs("div",{className:"h-screen bg-white flex items-center justify-center p-4",children:[o.jsx(d,{}),o.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"mx-auto mb-4 flex items-center justify-center w-12 h-12 bg-blue-100 text-blue-600 rounded-full",children:o.jsx(p,{size:24})}),o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Verify Your email"}),o.jsxs("p",{className:"text-sm text-gray-600",children:["We've sent a 6-digit code to ",o.jsx("span",{className:"font-medium",children:z})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),o.jsx("input",{id:"verificationCode",type:"text",value:se,onChange:e=>{const s=e.target.value.replace(/\D/g,"").slice(0,6);te(s)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 text-center text-lg tracking-widest",placeholder:"123456",maxLength:6,required:!0}),o.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Didn't receive a code?"," ",o.jsx("button",{onClick:Fe,className:"text-blue-600 hover:underline ml-1",disabled:le,children:"Resend"})]})]}),o.jsx("button",{onClick:Oe,disabled:W,className:"w-full flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 "+(W?"opacity-80 cursor-not-allowed":""),children:W?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Verifying..."]}):"Verify and Continue"})]})]})]});return o.jsxs(o.Fragment,{children:[o.jsx(d,{position:"top-center",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,style:{zIndex:9999}}),o.jsxs("div",{className:"flex h-screen overflow-hidden bg-white",children:[o.jsx("div",{className:"w-full lg:w-1/2 flex flex-col",children:o.jsx("div",{className:"flex-1 flex items-center justify-center p-4 overflow-y-auto",children:o.jsxs("div",{className:"w-full max-w-md space-y-6",children:[o.jsx("div",{className:"text-center flex-shrink-0",children:o.jsx("div",{className:"inline-flex items-center",children:o.jsx("img",{src:"/hrms-logo.png",className:"h-32 w-auto mx-auto",alt:"Company Logo"})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex justify-between items-center",children:Se.map((e,s)=>o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"w-8 h-8 flex items-center justify-center rounded-full text-xs font-medium transition-all duration-300\n                        "+(s<C?"bg-blue-600 text-white":s===C?"bg-blue-600 text-white ring-4 ring-blue-100":"bg-gray-100 text-gray-500"),children:s<C?o.jsx(u,{size:14}):s+1}),o.jsx("span",{className:"text-xs mt-1 "+(s===C?"text-gray-900 font-medium":"text-gray-500"),children:e})]},s))}),o.jsx("div",{className:"relative h-1 bg-gray-100 rounded-full",children:o.jsx("div",{className:"absolute top-0 left-0 h-full bg-blue-600 rounded-full transition-all duration-500 ease-out",style:{width:C/(Se.length-1)*100+"%"}})})]}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900",children:0===C?"Create your account":1===C?"Tell us about yourself":2===C?"Company information":"Review your details"}),o.jsx("p",{className:"text-sm text-gray-500",children:0===C?"Start your 14-day free trial":1===C?"We'll personalize your experience":2===C?"Tell us about your organization":"Make sure everything looks correct"})]}),o.jsx("div",{className:"space-y-4",children:(e=>{switch(e){case 0:return o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(r,{size:16})}),o.jsx("input",{id:"email",type:"email",value:z,onChange:e=>P(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"you@company.com",required:!0})]})]})});case 1:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(l,{size:16})}),o.jsx("input",{id:"firstName",type:"text",value:F,onChange:e=>{const s=e.target.value.replace(/[^a-zA-Z\-' ]/g,"");L(s)},className:`w-full pl-9 px-3 py-2 border ${0===F.length?"border-gray-200":"border-green-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"John",required:!0,minLength:2,maxLength:50})]}),F.length>0&&F.length<2&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:"First name must be at least 2 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(l,{size:16})}),o.jsx("input",{id:"lastName",type:"text",value:A,onChange:e=>{const s=e.target.value.replace(/[^a-zA-Z\-' ]/g,"");O(s)},className:`w-full pl-9 px-3 py-2 border ${0===A.length?"border-gray-200":"border-green-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"Doe",required:!0,minLength:2,maxLength:50})]}),A.length>0&&A.length<2&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Last name must be at least 2 characters"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"dob",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(f,{size:16})}),o.jsx("input",{id:"dob",type:"date",value:ve,onChange:e=>{const s=new Date(e.target.value),t=new Date;s<=new Date(t.getFullYear()-18,t.getMonth(),t.getDate())?(Ne(e.target.value),Ce("")):Ce("You must be at least 18 years old")},className:`w-full pl-9 px-3 py-2 border ${ve&&!we?"border-green-200":we?"border-red-200":"border-gray-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,max:(new Date).toISOString().split("T")[0],required:!0})]}),we&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:we})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(p,{size:16})}),o.jsx("input",{id:"phone",type:"tel",value:J,onChange:e=>{const s=e.target.value.replace(/[^0-9+]/g,"");Y(s)},className:`w-full pl-9 px-3 py-2 border ${0===J.length?"border-gray-200":J.length>=10?"border-green-200":"border-red-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"+265 123 456 789",required:!0})]}),J.length>0&&J.length<10&&o.jsx("p",{className:"mt-1 text-xs text-red-500",children:"Phone number must be at least 10 digits"})]}),!w?.googleSignup&&o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(j,{size:16})}),o.jsx("input",{id:"password",type:M?"text":"password",value:E,onChange:e=>U(e.target.value),className:`w-full pl-9 px-3 py-2 border ${0===E.length?"border-gray-200":E.length>=8?"border-green-200":"border-red-200"} rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200`,placeholder:"••••••••",required:!0,minLength:8}),o.jsx("button",{type:"button",onClick:()=>$(!M),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":M?"Hide password":"Show password",children:M?o.jsx(y,{size:16}):o.jsx(v,{size:16})})]}),o.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[E.length>0&&o.jsxs("div",{className:"space-y-1",children:[o.jsxs("p",{className:E.length>=8?"text-green-500":"text-red-500",children:["• ",E.length>=8?"✓":"✗"," At least 8 characters"]}),o.jsxs("p",{className:/[A-Z]/.test(E)?"text-green-500":"text-red-500",children:["• ",/[A-Z]/.test(E)?"✓":"✗"," At least one uppercase letter"]}),o.jsxs("p",{className:/[0-9]/.test(E)?"text-green-500":"text-red-500",children:["• ",/[0-9]/.test(E)?"✓":"✗"," At least one number"]}),o.jsxs("p",{className:/[^A-Za-z0-9]/.test(E)?"text-green-500":"text-red-500",children:["• ",/[^A-Za-z0-9]/.test(E)?"✓":"✗"," At least one special character"]})]}),0===E.length&&o.jsx("p",{children:"Password must be at least 8 characters"})]})]}),w?.googleSignup&&o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(u,{className:"text-blue-600 mr-2",size:16}),o.jsx("p",{className:"text-sm text-blue-800",children:"Your account is secured with Google authentication. A strong password has been auto-generated for your account."})]})})]});case 2:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(n,{size:16})}),o.jsx("input",{id:"companyName",type:"text",value:R,onChange:e=>D(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"Acme Inc.",required:!0})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"industry",className:"block text-sm font-medium text-gray-700 mb-1",children:"Industry"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(i,{size:16})}),o.jsxs("select",{id:"industry",value:B,onChange:e=>I(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none bg-white",required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Select your industry"}),ze.map(e=>o.jsx("option",{value:e,children:e},e))]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Role"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(b,{size:16})}),o.jsxs("select",{id:"role",value:V,onChange:e=>G(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 appearance-none bg-white",required:!0,children:[o.jsx("option",{value:"",disabled:!0,children:"Select your role"}),Pe.map(e=>o.jsx("option",{value:e,children:e},e))]}),o.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:o.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]})]});case 3:return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[o.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Review Your Information"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Email:"}),o.jsx("span",{className:"font-medium",children:z})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Name:"}),o.jsxs("span",{className:"font-medium",children:[F," ",A]})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Company:"}),o.jsx("span",{className:"font-medium",children:R})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Industry:"}),o.jsx("span",{className:"font-medium",children:B})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-600",children:"Role:"}),o.jsx("span",{className:"font-medium",children:V})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-400",children:o.jsx(r,{size:16})}),o.jsx("input",{id:"email",type:"email",value:z,onChange:e=>P(e.target.value),className:"w-full pl-9 px-3 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200",placeholder:"+265 (999) 000-000",required:!0})]}),o.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"We'll send a verification code to this email"})]})]});default:return null}})(C)}),o.jsxs("div",{className:"flex space-x-3",children:[C>0&&o.jsxs("button",{onClick:()=>{K(""),S(C-1)},className:"flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 bg-white rounded-lg hover:bg-gray-50 transition-all duration-200 flex-1",children:[o.jsx(g,{size:16,className:"mr-2"}),"Back"]}),o.jsx("button",{onClick:C===Se.length-1?async()=>{if(T||J)if(!T&&!w?.googleSignup&&E.length<8)a.error("Password must be at least 8 characters");else if(pe&&"undefined"!==pe){H(!0),K("");try{const e=await ge(F,A,z,E,R,B,V,J);if(fe(e.user),ye(e.token),T)return a.success("Account created with Google!"),void k("/dashboard");ne(!0);const s=await fetch(`${pe}/api/auth/email/send`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",mode:"cors",body:JSON.stringify({email:z})});if(!s.ok){const e=await s.json();throw new Error(e.message||"Failed to send verification code")}a.success("Verification code sent to your email"),re(!0)}catch(e){a.error(e.message)}finally{H(!1),ne(!1)}}else a.error("Configuration error: Unable to connect to server");else a.error("Please enter your phone number")}:()=>{K(""),0!==C||z?1!==C||F&&A&&(w?.googleSignup||E)?2!==C||R&&B&&V?S(C+1):a.error("Please complete all company details"):a.error("Please fill all required fields"):a.error("Please enter your email address")},disabled:W,className:`flex items-center justify-center px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-all duration-200 ${0===C?"w-full":"flex-1"} ${W?"opacity-80 cursor-not-allowed":""}`,children:W?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-3"}),"Processing..."]}):C===Se.length-1?"Complete Registration":"Continue"})]}),0===C&&o.jsxs("div",{className:"text-center space-y-3",children:[o.jsxs("div",{className:"relative flex items-center justify-center",children:[o.jsx("div",{className:"border-t border-gray-200 absolute w-full"}),o.jsx("div",{className:"bg-white px-4 relative text-xs text-gray-500",children:"or"})]}),o.jsxs("p",{className:"text-gray-500 text-xs",children:["Already have an account?"," ",o.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-800 hover:underline font-medium",children:"Sign in"})]})]})]})})}),o.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-600 to-indigo-700 text-white relative overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsx("div",{className:"absolute w-96 h-96 bg-white/5 rounded-full -top-20 -right-20 animate-pulse"}),o.jsx("div",{className:"absolute w-96 h-96 bg-white/5 rounded-full bottom-10 -left-20 animate-pulse",style:{animationDelay:"1s",animationDuration:"10s"}}),o.jsx("div",{className:"absolute w-64 h-64 bg-white/5 rounded-full bottom-1/4 right-1/3 animate-pulse",style:{animationDelay:"0.5s",animationDuration:"7s"}})]}),o.jsxs("div",{className:"flex flex-col justify-center max-w-md z-10 p-12 space-y-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Streamline Your Procurement"}),o.jsx("p",{className:"text-lg opacity-90",children:"Join thousands of companies managing their procurement process efficiently with our platform."})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"relative h-64",children:ke.map((e,s)=>{const t=e.icon;return o.jsx("div",{className:"absolute w-full transition-all duration-700 transform "+(s===Q?"opacity-100 translate-y-0":s<Q?"opacity-0 -translate-y-full":"opacity-0 translate-y-full"),children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"p-3 bg-white/20 rounded-full mr-3",children:o.jsx(t,{size:24})}),o.jsx("h3",{className:"text-lg font-bold",children:e.title})]}),o.jsx("p",{className:"text-sm text-white/90 mb-4",children:e.description}),o.jsx("div",{className:"bg-white/10 rounded-lg p-4",children:o.jsxs("div",{className:"animate-pulse space-y-2",children:[o.jsx("div",{className:"h-3 bg-white/30 rounded w-3/4"}),o.jsx("div",{className:"h-3 bg-white/30 rounded"}),o.jsx("div",{className:"h-3 bg-white/30 rounded w-5/6"})]})})]})},s)})}),o.jsx("div",{className:"flex justify-center space-x-2",children:ke.map((e,s)=>o.jsx("div",{className:"h-1 rounded-full transition-all duration-500 "+(s===Q?"w-6 bg-white":"w-1 bg-white/40")},s))})]}),o.jsxs("div",{className:"bg-white/10 p-6 rounded-xl backdrop-blur-sm border border-white/20",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsxs("div",{className:"flex -space-x-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"JD"}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"AR"}),o.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-400 border-2 border-white flex items-center justify-center text-xs font-medium",children:"TK"})]}),o.jsx("div",{className:"ml-3 text-xs",children:"Join 5,000+ companies using our platform"})]}),o.jsx("p",{className:"italic text-sm",children:'"Implementation was seamless and we saw immediate improvements in our procurement process efficiency."'}),o.jsx("p",{className:"mt-3 font-semibold text-sm",children:"— Michael Kaunda, Director of Operations"})]})]})]})]})]})}export{w as default};
