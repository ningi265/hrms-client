import{E as t}from"./vendor-jspdf-CCnS5Eue.js";import{a as e}from"./vendor-jspdf-autotable-Dge4SOWT.js";const a=a=>{try{const l=new t;l.setFontSize(18),l.setTextColor(40,40,40),l.text("Travel Reconciliation Approval Report",15,20),l.setFontSize(12),l.text(`Approved on: ${n(new Date)}`,15,30),l.text(`Reconciliation ID: ${a.id}`,15,40),l.setFontSize(14),l.text("Employee Information",15,55),l.setFontSize(12),l.text(`Name: ${a.employeeName}`,15,65),l.text(`Department: ${a.department}`,15,75),l.text(`Employee ID: ${a.employeeId}`,15,85),l.setFontSize(14),l.text("Trip Details",15,100),l.setFontSize(12),l.text(`Purpose: ${a.purpose}`,15,110),l.text(`Destination: ${a.city}, ${a.country}`,15,120),l.text(`Dates: ${n(a.departureDate)} - ${n(a.returnDate)}`,15,130),l.setFontSize(14),l.text("Financial Summary",15,145);const o=[["Per Diem Allowance",i(a.perDiemAmount,a.currency)],["Total Expenses",i(a.totalExpenses,a.currency)],["Remaining Balance",i(a.remainingBalance,a.currency)]];if(e(l,{startY:155,head:[["Item","Amount"]],body:o,theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{cellPadding:5}}),a.expenses&&a.expenses.length>0){l.setFontSize(14),l.text("Expense Details",15,l.lastAutoTable.finalY+20);const t=a.expenses.map(t=>[n(t.date),t.category,t.description,i(t.amount,a.currency),t.status]);e(l,{startY:l.lastAutoTable.finalY+30,head:[["Date","Category","Description","Amount","Status"]],body:t,theme:"grid",headStyles:{fillColor:[34,139,34]},styles:{cellPadding:3,fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:60},3:{cellWidth:25},4:{cellWidth:20}}})}if(a.reconciliation?.notes){l.setFontSize(14),l.text("Approval Notes",15,l.lastAutoTable?l.lastAutoTable.finalY+20:180),l.setFontSize(12);const t=l.splitTextToSize(a.reconciliation.notes,180);l.text(t,15,l.lastAutoTable?l.lastAutoTable.finalY+30:190)}a.remainingBalance<0&&a.bankDetails&&(l.setFontSize(14),l.text("Reimbursement Details",15,l.lastAutoTable?l.lastAutoTable.finalY+50:220),l.setFontSize(12),l.text(`Account Name: ${a.bankDetails.accountName}`,15,l.lastAutoTable?l.lastAutoTable.finalY+60:230),l.text(`Account Number: ${a.bankDetails.accountNumber}`,15,l.lastAutoTable?l.lastAutoTable.finalY+70:240),l.text(`Bank: ${a.bankDetails.bankName}`,15,l.lastAutoTable?l.lastAutoTable.finalY+80:250)),l.setFontSize(10),l.setTextColor(150),l.text("Generated by HRMS Travel System",15,l.internal.pageSize.height-10),l.save(`Reconciliation_Approval_${a.id}.pdf`)}catch(l){throw l}},n=t=>{if(!t)return"N/A";return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},i=(t,e)=>isNaN(t)?"N/A":new Intl.NumberFormat("en-US",{style:"currency",currency:e||"USD",minimumFractionDigits:0,maximumFractionDigits:2}).format(t),l=a=>{try{const l=new t;l.setFontSize(18),l.setTextColor(40,40,40),l.text("Travel Reconciliation Report",15,20),l.setFontSize(12),l.text(`Trip ID: ${a.id}`,15,30),l.text(`Status: ${a.status.charAt(0).toUpperCase()+a.status.slice(1)}`,15,40),l.setFontSize(14),l.text("Employee Information",15,55),l.setFontSize(12),l.text(`Name: ${a.employeeName}`,15,65),l.text(`Department: ${a.department}`,15,75),l.setFontSize(14),l.text("Trip Details",15,90),l.setFontSize(12),l.text(`Purpose: ${a.purpose}`,15,100),l.text(`Destination: ${a.city}, ${a.country}`,15,110),l.text(`Travel Period: ${n(a.departureDate)} - ${n(a.returnDate)}`,15,120),l.setFontSize(14),l.text("Financial Summary",15,135);const r=a.expenses.reduce((t,e)=>t+(e.amount||0),0),s=a.perDiemAmount-r,c=[["Per Diem Allowance",i(a.perDiemAmount,a.currency)],["Total Expenses",i(r,a.currency)],["Remaining Balance",i(s,a.currency)]];if(e(l,{startY:145,head:[["Item","Amount"]],body:c,theme:"grid",headStyles:{fillColor:[33,150,243]},styles:{cellPadding:5}}),l.setFontSize(14),l.text("Payment Card",15,l.lastAutoTable.finalY+20),l.setFontSize(12),l.text(`Card Type: ${a.cardDetails?.type||"N/A"}`,15,l.lastAutoTable.finalY+30),l.text(`Card Number: **** ${a.cardDetails?.lastFour||"0000"}`,15,l.lastAutoTable.finalY+40),l.text(`Card Holder: ${a.cardDetails?.holder||"N/A"}`,15,l.lastAutoTable.finalY+50),a.expenses&&a.expenses.length>0){l.setFontSize(14),l.text("Expense Details",15,l.lastAutoTable.finalY+70);const t=a.expenses.map(t=>[n(t.date),t.category,t.description,i(t.amount,a.currency),t.receipt?"Yes":"No"]);e(l,{startY:l.lastAutoTable.finalY+80,head:[["Date","Category","Description","Amount","Receipt"]],body:t,theme:"grid",headStyles:{fillColor:[33,150,243]},styles:{cellPadding:3,fontSize:9},columnStyles:{0:{cellWidth:25},1:{cellWidth:30},2:{cellWidth:60},3:{cellWidth:25},4:{cellWidth:20}}})}if(l.setFontSize(14),l.text("Travel Arrangements",15,l.lastAutoTable.finalY+20),l.setFontSize(12),l.text(`Outbound Flight: ${a.travelArrangements?.flight?.outbound?.airline||"N/A"} ${a.travelArrangements?.flight?.outbound?.flightNumber||""}`,15,l.lastAutoTable.finalY+30),l.text(`Departure: ${o(a.travelArrangements?.flight?.outbound?.departureTime)}`,15,l.lastAutoTable.finalY+40),l.text(`Return Flight: ${a.travelArrangements?.flight?.return?.airline||"N/A"} ${a.travelArrangements?.flight?.return?.flightNumber||""}`,15,l.lastAutoTable.finalY+50),l.text(`Departure: ${o(a.travelArrangements?.flight?.return?.departureTime)}`,15,l.lastAutoTable.finalY+60),l.setFontSize(14),l.text("Accommodation",15,l.lastAutoTable.finalY+80),l.setFontSize(12),l.text(`${a.travelArrangements?.accommodation?.name||"N/A"}`,15,l.lastAutoTable.finalY+90),l.text(`Check-in: ${n(a.travelArrangements?.accommodation?.checkIn)}`,15,l.lastAutoTable.finalY+100),l.text(`Check-out: ${n(a.travelArrangements?.accommodation?.checkOut)}`,15,l.lastAutoTable.finalY+110),a.reconciliation&&(l.setFontSize(14),l.text("Reconciliation Details",15,l.lastAutoTable.finalY+130),l.setFontSize(12),l.text(`Status: ${a.reconciliation.status.charAt(0).toUpperCase()+a.reconciliation.status.slice(1)}`,15,l.lastAutoTable.finalY+140),l.text(`Submitted: ${o(a.reconciliation.submittedDate)}`,15,l.lastAutoTable.finalY+150),a.reconciliation.approvedDate&&l.text(`Approved: ${o(a.reconciliation.approvedDate)}`,15,l.lastAutoTable.finalY+160),a.reconciliation.notes)){const t=l.splitTextToSize(a.reconciliation.notes,180);l.text("Notes:",15,l.lastAutoTable.finalY+170),l.text(t,20,l.lastAutoTable.finalY+180)}l.setFontSize(10),l.setTextColor(150),l.text(`Generated by SoftEra Travel System - ${o(new Date)}`,15,l.internal.pageSize.height-10),l.save(`Travel_Reconciliation_${a.id}.pdf`)}catch(l){throw l}},o=t=>{if(!t)return"N/A";return new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};export{l as a,a as g};
